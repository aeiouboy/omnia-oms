{
  "success": true,
  "permalink": "archive-purge-process",
  "title": "Archive Purge Process",
  "content": "\r\n\r\n\r\n<div class=\"hiq-page-wrap\">\r\n<div class=\"hiq-t-wrap\">\r\n\t\t\r\n  \t  <div class=\"hiq-t \">\r\n\t\t\t\t<ul class=\"breadcrumbs\"><li><a class=\"breadcrumb-links\" hqid=\"1788908\"  href=\"/home\">Home</a></li> <li><span>&rsaquo;&rsaquo;</span><a hqid=\"3500940\" href=\"/omni\" class=\"breadcrumb-links\">Manhattan Active® Omni</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"3426481\" href=\"/store-3\" class=\"breadcrumb-links\">Store</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158412\" href=\"/process-configuration-guides-3\" class=\"breadcrumb-links\">Process & Configuration Guides</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158410\" href=\"/store\" class=\"breadcrumb-links\">Store Inventory & Fulfillment</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158852\" href=\"/store-fulfillment\" class=\"breadcrumb-links\">Store Order Fulfillment</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158792\" href=\"/fulfillment-archive/purge\" class=\"breadcrumb-links\">Fulfillment Archive/Purge</a></li><li> <span>››</span>Archive Purge Process</li></ul>  \t\r\n\t\t<h2>Archive/Purging Process</h2>\r\n\r\n<p></p>\r\n\r\n<div class=\"info\"><ul><li><a href=\"/archive-purge-process$archiving\">Archiving</a></li><li><a href=\"/archive-purge-process$purging\">Purging</a></li><li><a href=\"/archive-purge-process$services\">Services</a></li></ul></div>\r\n\r\n<p>When a fulfillment is completed, it can be archived or purged based on configuration. The Archiving/Purging process helps to maintain system performance at its peak. Archiving a fulfillment&nbsp;removes it&nbsp;from the active fulfillment database and adds it to the&nbsp;elastic search database. If&nbsp;needed, archived fulfillment&nbsp;can be looked up in the future using backend search APIs. Purging a&nbsp;fulfillment&nbsp;permanently removes it from the active fulfillment database. Purged fulfillments cannot be searched or restored.</p>\r\n\r\n<p>Note that a fulfillment can either be archived or purged.</p>\r\n\r\n<div class=\"tip\"><strong>Note:</strong> It is recommended to Archive/Purge based on regular intervals depending on the volume of fulfillments. This helps maintain the system&#39;s health and performance, especially during peak season.</div>\r\n\r\n<h4><a name=\"archiving\" id=\"archiving\"></a>Archiving</h4>\r\n\r\n<p>If the fulfillment parameter is configured to&nbsp;&quot;Archive&quot; eligible fulfillments, then the following process is used to archive the fulfillment:</p>\r\n\r\n<p>Once fulfillments are shipped, picked up,&nbsp;or cancelled, the fulfillments are archived based on the configured time period. When a fulfillment is archived, it is moved from the active database schema to the archive index. Steps to achieve a fulfillment&nbsp;include:</p>\r\n\r\n<ul>\r\n\t<li>Once fulfillment is eligible to archive, the Fulfillment component sends a message to the Search component to archive it.</li>\r\n\t<li>The search component picks up the&nbsp;message and reaches out to the Fulfillment&nbsp;Component to get the latest copy of the fulfillment and index it.</li>\r\n\t<li>After indexing successfully, the search component sends an acknowledgement message for Fulfillment component to delete the fulfillment.</li>\r\n\t<li>The fulfillment component deletes the associated tasks and also deletes the documents from Document&nbsp;Management. Packages are archived with the fulfillment.</li>\r\n\t<li>The fulfillment is finally marked as archived in the Search component.</li>\r\n</ul>\r\n\r\n<div class=\"tip\"><strong>Note</strong>: Documents include shipping labels, return labels and collates maintained in Document Management.</div>\r\n\r\n<h5>Implications of archiving&nbsp;fulfillments</h5>\r\n\r\n<ul>\r\n\t<li>Archived fulfillment cannot be looked up from the Store UI.</li>\r\n\t<li>Once archived, fulfillment is not available for SCI for reporting purposes.</li>\r\n\t<li>Documents and tasks/task details associated with archived fulfillment cannot be restored.</li>\r\n\t<li>Fulfillment audit information is also archived.&nbsp;</li>\r\n</ul>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>Search component APIs are&nbsp;available to get the list of archived fulfillments&nbsp;for a specific month/year (based on the fulfillment&#39;s last updated date). Using the API, it is also possible to fetch a specific list of archived fulfillments based on the queries.&nbsp;<span style=\"font-family: &quot;Open Sans&quot;, arial, sans-serif;\">The API&nbsp;will get the entire fulfillment object from the archived database.</span></p>\r\n\r\n<p><span style=\"font-family: &quot;Open Sans&quot;, arial, sans-serif;\">&nbsp;Additionally, an API&nbsp;is also available to get the fulfillment index (fulfillment template with a few key attributes) from the archived database.&nbsp;</span></p>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 500px;\">\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td><strong>API</strong></td>\r\n\t\t\t<td><strong>Payload</strong></td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>\r\n\t\t\t<p>/searchv2/api/searchv2/searchv2/archivefulfillment:{{organization}}:{{year}}:{{month}}/fulfillment</p>\r\n\r\n\t\t\t<p>where organization, year and month can be specific as per your needs</p>\r\n\r\n\t\t\t<p>&nbsp;</p>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<pre>\r\n<code>{\r\n  &quot;_source&quot;: [ {{Field1}}, {{Field2}}, ... ],\r\n  &quot;query&quot;: {\r\n    &quot;ids&quot; : {\r\n      &quot;type&quot; : &quot;fulfillment&quot;,\r\n      &quot;values&quot; : [&quot;{{fulfillmentId}}&quot;, &quot;{{fulfillmentId}}&quot;]\r\n    }\r\n  }\r\n}</code></pre>\r\n\r\n\t\t\t<p>&nbsp;</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<div class=\"warning\"><span style=\"font-family: &quot;Open Sans&quot;, arial, sans-serif;\">The </span>archived fulfillment&nbsp;indices are deleted from the elastic search after 31 days. Once the index is deleted, those fulfillments are permanently deleted and can no longer be searched or restored.</div>\r\n\r\n<h4><a name=\"purging\" id=\"purging\"></a>Purging</h4>\r\n\r\n<p>If the fulfillment parameter is configured to&nbsp;&quot;Purge&quot; eligible fulfillments, then the following process is used to purge the fulfillment:</p>\r\n\r\n<p>Once fulfillments are&nbsp;Shipped,&nbsp;Picked Up, or Canceled, the fulfillments are purged after&nbsp;the configured time period.&nbsp;</p>\r\n\r\n<p>Steps to purge a fulfillment&nbsp;include:</p>\r\n\r\n<ul>\r\n\t<li>Once fulfillment is eligible to purge, the Fulfillment component sends a message to the Search component to purge the fulfillment index.</li>\r\n\t<li>The search component picks up the&nbsp;message and permanently deletes the fulfillment index.</li>\r\n\t<li>Fulfillment component permanently deletes the fulfillment, associated tasks and also deletes the documents from Document Management.</li>\r\n</ul>\r\n\r\n<div class=\"tip\"><strong>Note</strong>: Documents include Shipping labels, Return labels and Collate maintained in Document Management.</div>\r\n\r\n<p><span style=\"font-size: 1.12em; background-color: rgb(255, 255, 255);\">Implications of purging&nbsp;</span>fulfillments</p>\r\n\r\n<ul>\r\n\t<li>Purged fulfillment&nbsp;cannot be looked up or restored from the Store UI or backend.&nbsp;</li>\r\n\t<li>Once purged, fulfillment is not available for SCI for reporting purposes.</li>\r\n\t<li>Documents and tasks/task details associated with purged fulfillment&nbsp;cannot be restored.</li>\r\n</ul>\r\n\r\n<h4><a name=\"services\" id=\"services\"></a>Services</h4>\r\n\r\n<p>The&nbsp;APIs listed in the following table are referenced in this document. Refer to the API documentation for additional details on&nbsp;each service.</p>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 1000px;\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"col\">Service</th>\r\n\t\t\t<th scope=\"col\">Component</th>\r\n\t\t\t<th scope=\"col\">Group&nbsp;</th>\r\n\t\t\t<th scope=\"col\">Service Endpoint</th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td>Search data</td>\r\n\t\t\t<td>Search</td>\r\n\t\t\t<td>\r\n\t\t\t<p>search-control</p>\r\n\t\t\t</td>\r\n\t\t\t<td>/search/api/search/search/{indexName}/{indexType}</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n\t  </div>\r\n </div>\r\n <div id=\"ui-page-fb-wrap\"></div>\r\n <div class=\"hiq-footer-wrap\">\r\n    \r\n                \r\n  </div>\r\n\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n",
  "content_length": 7990,
  "scraped_at": "2025-08-09T22:36:05.987580"
}