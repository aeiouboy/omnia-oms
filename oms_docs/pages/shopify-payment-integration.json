{
  "id": "3424119",
  "permalink": "shopify-payment-integration",
  "title": "Payment Integration with Shopify",
  "type": "topic",
  "level": 5,
  "path": "Manhattan Active® Omni/Order Management/Process & Configuration Guides/Order Processing/Shopify Integration/Payment Integration with Shopify",
  "raw_item": {
    "id": "3424119",
    "text": "Payment Integration with Shopify",
    "title": "Payment Integration with Shopify",
    "permalink": "shopify-payment-integration",
    "leaf": false,
    "droppable": true,
    "expanded": true,
    "closed": true,
    "visible": true,
    "editable": true,
    "type": "topic",
    "topicType": "0",
    "status": "1",
    "iconCls": "icon-topic",
    "cls": "",
    "folder_id": "t;3424098",
    "parent": "3424098",
    "created_date": "1718290025",
    "modified_date": "1745230367",
    "instructor_id": null,
    "loaded": true,
    "haschildren": false,
    "callout": "0",
    "order": "4"
  },
  "success": true,
  "content": "\r\n\r\n\r\n<div class=\"hiq-page-wrap\">\r\n<div class=\"hiq-t-wrap\">\r\n\t\t\r\n  \t  <div class=\"hiq-t \">\r\n\t\t\t\t<ul class=\"breadcrumbs\"><li><a class=\"breadcrumb-links\" hqid=\"1788908\"  href=\"/home\">Home</a></li> <li><span>&rsaquo;&rsaquo;</span><a hqid=\"3500940\" href=\"/omni\" class=\"breadcrumb-links\">Manhattan Active® Omni</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158393\" href=\"/order-management\" class=\"breadcrumb-links\">Order Management</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158394\" href=\"/process-configuration-guides\" class=\"breadcrumb-links\">Process & Configuration Guides</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158718\" href=\"/order-processing-2\" class=\"breadcrumb-links\">Order Processing</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"3424098\" href=\"/shopify-integration\" class=\"breadcrumb-links\">Shopify Integration</a></li><li> <span>››</span>Payment Integration with Shopify</li></ul>  \t\r\n\t\t<h2>How to Integrate with Shopify Payments</h2>\r\n\r\n<p></p>\r\n\r\n<a href=\"/shopify-order-integration\" hqid=\"3424103\">Previous</a>&nbsp;I&nbsp;<a href=\"/shopify-shop-pay-only-stores\" hqid=\"3590067\">Next</a>\r\n<p>&nbsp;</p>\r\n\r\n<div class=\"info\"><ul><li><a href=\"/shopify-payment-integration$overview\">Overview</a></li><li><a href=\"/shopify-payment-integration$follow-on-settlement\">Follow-on Settlement</a></li><li><a href=\"/shopify-payment-integration$follow-on-refund\">Follow-on Refund</a></li><li><a href=\"/shopify-payment-integration$shop-pay-commerce-component\">Shop Pay Commerce Component</a></li><li><a href=\"/shopify-payment-integration$shopify-webhooks-and-apis\">Shopify Webhooks and APIs</a><ul><li><a href=\"/shopify-payment-integration$transaction-create-webhook\">Transaction Create Webhook</a></li><li><a href=\"/shopify-payment-integration$refund-create-webhook\">Refund Create Webhook</a></li><li><a href=\"/shopify-payment-integration$shopify-apis-called\">Shopify APIs Called</a><ul><li><a href=\"/shopify-payment-integration$ordercapture-mutation\">orderCapture Mutation</a></li><li><a href=\"/shopify-payment-integration$refundcreate-mutation\">refundCreate Mutation</a></li></ul></li></ul></li><li><a href=\"/shopify-payment-integration$configuration\">Configuration</a><ul><li><a href=\"/shopify-payment-integration$shopify-configuration-manual-payment-capture\">Shopify Configuration - Manual Payment Capture</a></li><li><a href=\"/shopify-payment-integration$payment-gateway-configuration-nbsp\">Payment Gateway Configuration&nbsp;</a></li><li><a href=\"/shopify-payment-integration$shopify-connectivity-configuration\">Shopify Connectivity Configuration</a></li></ul></li><li><a href=\"/shopify-payment-integration$error-handling-and-troubleshooting\">Error Handling and Troubleshooting</a><ul><li><a href=\"/shopify-payment-integration$troubleshoot-out-of-the-box-translation\">Troubleshoot Out of the Box Translation</a></li><li><a href=\"/shopify-payment-integration$failed-messages\">Failed Messages</a></li></ul></li><li><a href=\"/shopify-payment-integration$related-articles\">Related Articles</a></li></ul></div>\r\n\r\n<h3><a name=\"overview\" id=\"overview\"></a>Overview</h3>\r\n\r\n<p>For orders authorized in Shopify, the follow-on settlements and refunds&nbsp;are also sent to Shopify for processing. For the purpose of this payments integration,&nbsp;Shopify&nbsp;is considered as a payment gateway such from the standpoint of Manhattan&nbsp;Active® Omni. From there, Shopify may integrate to the merchant's payment gateway for transaction processing.&nbsp;</p>\r\n\r\n<p>When orders are captured or modified in channels outside of Shopify, the associated new payment methods are not sent to Shopify. These payments&nbsp;are processed using another&nbsp;payment gateway. See <a href=\"https://omni.helpdocsonline.com/payment-gateway-integration\">Payment Gateway integration</a> page for more information.</p>\r\n\r\n<p>Out of the box, the payment gateway \"ShopifyPayments\" is used for all orders that are created in Shopify.&nbsp;</p>\r\n\r\n<h3><a name=\"follow-on-settlement\" id=\"follow-on-settlement\"></a>Follow-on Settlement</h3>\r\n\r\n<p>Once an order is created in Shopify, the corresponding authorization transaction is sent to Manhattan&nbsp;Active® Omni, and a payment header, payment method and payment transactions are created. See <a href=\"https://omni.helpdocsonline.com/shopify-order-integration$create-payments\">create payment</a> page for more information.&nbsp;Once the payment method is authorized, when the order is shipped, an invoice is created that leads to a follow-on settlement transaction being added to the payment method. This process is described in more detail in the <a href=\"https://omni.helpdocsonline.com/settlement\">settlement</a> page.</p>\r\n\r\n<p>Regarding the Shopify integration, once the settlement transaction is created for a payment method that has \"ShopifyPayments\" as a payment gateway, it is sent to Shopify using the<a href=\"https://omni.helpdocsonline.com/shopify-payment-integration$ordercapture-mutation\">&nbsp;orderCapture mutation in Shopify GraphQL Admin AP</a>I. Once the transaction is processed, a <a href=\"https://omni.helpdocsonline.com/shopify-payment-integration$transaction-create-webhook\">transaction create webhook</a> is returned with the result of the settlement (success or failure).&nbsp;</p>\r\n\r\n<h3><a name=\"follow-on-refund\" id=\"follow-on-refund\"></a>Follow-on Refund</h3>\r\n\r\n<p>Once an order is settled, it can be refunded.&nbsp;See the <a href=\"https://omni.helpdocsonline.com/refunds\">refund</a> page for more information on refund transactions.</p>\r\n\r\n<p>An order created in Shopify and settled in Shopify can also be refunded using ShopifyPayments as a payment gateway. In the case of a refund on the parent order or a return order, when a refund payment transaction is created, the <a href=\"https://omni.helpdocsonline.com/shopify-payment-integration$refundcreate-mutation\">refundCreate mutation in Shopify GrapQL Admin API</a> is called to trigger the refund process. Once the refund process is complete, a <a href=\"https://omni.helpdocsonline.com/shopify-payment-integration$refund-create-webhook\">refund create webhook</a> is returned with the result of the refund (success or failure).</p>\r\n\r\n<h3><a name=\"shop-pay-commerce-component\" id=\"shop-pay-commerce-component\"></a>Shop Pay Commerce Component</h3>\r\n\r\n<p>Shop Pay Commerce Component (aka Shop Pay only stores) enables merchants to use Shop Pay as a payment method on e-commerce websites hosted by a provider other than Shopify.&nbsp;</p>\r\n\r\n<p>See <a href=\"https://omni.helpdocsonline.com/shopify-shoppay-only-stores\">Payment integration with Shop Pay only stores</a> for more information.&nbsp;</p>\r\n\r\n<h3><a name=\"shopify-webhooks-and-apis\" id=\"shopify-webhooks-and-apis\"></a>Shopify Webhooks and APIs</h3>\r\n\r\n<h4><a name=\"transaction-create-webhook\" id=\"transaction-create-webhook\"></a>Transaction Create Webhook</h4>\r\n\r\n<p>The transaction create webhook is received both for authorization and settlement transaction creation. The content of this webhook is translated by the out of the box integration into a payment response to the payment component.&nbsp;</p>\r\n\r\n<h4><a name=\"refund-create-webhook\" id=\"refund-create-webhook\"></a>Refund Create Webhook</h4>\r\n\r\n<p>The refund create webhook is received when a refund transaction is processed in Shopify. The content of the webhook is translated by the out of the box integration into a payment response for the payment component.</p>\r\n\r\n<h4><a name=\"shopify-apis-called\" id=\"shopify-apis-called\"></a>Shopify APIs Called</h4>\r\n\r\n<h5><a name=\"ordercapture-mutation\" id=\"ordercapture-mutation\"></a>orderCapture Mutation</h5>\r\n\r\n<p>When a settlement payment transaction is processed, the orderCapture mutation is called to trigger the capture of funds for the merchant.&nbsp;</p>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"col\">Graph QL mutation</th>\r\n\t\t\t<th scope=\"col\">Inputs</th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td>\r\n\t\t\t<div class=\"computer_code\">mutation orderCapture($input: OrderCaptureInput!) {<br>\r\n\t\t\t&nbsp; orderCapture(input: $input) {<br>\r\n\t\t\t&nbsp; &nbsp; transaction {<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; id<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; kind<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; status<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; errorCode<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; gateway<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; createdAt<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; paymentId<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; accountNumber<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; paymentDetails {<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; ... on CardPaymentDetails {<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; company<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cvvResultCode<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; expirationMonth<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; expirationYear<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; name<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; number<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; paymentMethodName<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; }<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; }<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; amountSet {<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; presentmentMoney {<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; amount<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; }<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; }<br>\r\n\t\t\t&nbsp; &nbsp; }<br>\r\n\t\t\t&nbsp; &nbsp; userErrors {<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; field<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; message<br>\r\n\t\t\t&nbsp; &nbsp; }<br>\r\n\t\t\t&nbsp; }<br>\r\n\t\t\t}</div>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<div class=\"computer_code\">{<br>\r\n\t\t\t\"id\":\"&lt;transactionId&gt;\",<br>\r\n\t\t\t\"amount\":\"&lt;amount to capture&gt;\",<br>\r\n\t\t\t\"parentTransactionId\":\"gid://shopify/OrderTransaction/&lt;auth transaction id&gt;\"<br>\r\n\t\t\t}</div>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<p>If there are no errors, the transaction status is updated to in progress while waiting for the corresponding webhook.&nbsp;</p>\r\n\r\n<h5><a name=\"refundcreate-mutation\" id=\"refundcreate-mutation\"></a>refundCreate Mutation</h5>\r\n\r\n<p>When a refund payment transaction is processed, the refundCreate mutation is called to trigger the refund&nbsp;of funds to the customer.</p>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"col\">Graph QL mutation</th>\r\n\t\t\t<th scope=\"col\">Inputs</th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td>\r\n\t\t\t<div class=\"computer_code\">mutation refundCreate($input: RefundInput!) {<br>\r\n\t\t\t&nbsp; refundCreate(input: $input) {<br>\r\n\t\t\t&nbsp; &nbsp; order {<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; id<br>\r\n\t\t\t&nbsp; &nbsp; }<br>\r\n\t\t\t&nbsp; &nbsp; refund {<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; id<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; transactions(first: 100) {<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; nodes {<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; id<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kind<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; status<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; }<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; }<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; createdAt<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; totalRefundedSet {<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; presentmentMoney {<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; amount<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; }<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; }<br>\r\n\t\t\t&nbsp; &nbsp; }<br>\r\n\t\t\t&nbsp; &nbsp; userErrors {<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; field<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; message<br>\r\n\t\t\t&nbsp; &nbsp; }<br>\r\n\t\t\t&nbsp; }<br>\r\n\t\t\t}</div>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<div class=\"computer_code\">{<br>\r\n\t\t\t&nbsp; &nbsp; \"kind\": \"REFUND\",<br>\r\n\t\t\t&nbsp; &nbsp; \"orderId\": \"&lt;parent order id&gt;\",<br>\r\n\t\t\t&nbsp; &nbsp; \"amount\": \"&lt;amount to refund&gt;\",<br>\r\n\t\t\t&nbsp; &nbsp; \"parentId\": \"gid://shopify/OrderTransaction/&lt;settlement transaction ID&gt;\"<br>\r\n\t\t\t}</div>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<p>If there are no errors, the transaction status is updated to in progress while waiting for the corresponding webhook.&nbsp;</p>\r\n\r\n<h3><a name=\"configuration\" id=\"configuration\"></a>Configuration</h3>\r\n\r\n<h4><a name=\"shopify-configuration-manual-payment-capture\" id=\"shopify-configuration-manual-payment-capture\"></a>Shopify Configuration - Manual Payment Capture</h4>\r\n\r\n<p>Shopify has the ability to decide what amount needs to be captured based on the order status. However, in the out-of-the-box integration, Manhattan&nbsp;Active® Omni is the payment orchestration system that decides how much to settle and refund for each payment method. To support this, Shopify payment capture must be configured to \"Manual Capture\".</p>\r\n\r\n<p>In Settings &gt; Payments&gt; Payment capture method:&nbsp;</p>\r\n\r\n<p><img src=\"https://dzf8vqv24eqhg.cloudfront.net/userfiles/4665/7671/ckfinder/images/qu/4514/image.png?Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly9kemY4dnF2MjRlcWhnLmNsb3VkZnJvbnQubmV0L3VzZXJmaWxlcy80NjY1Lzc2NzEvY2tmaW5kZXIvaW1hZ2VzL3F1LzQ1MTQvaW1hZ2UucG5nIiwiQ29uZGl0aW9uIjp7IkRhdGVMZXNzVGhhbiI6eyJBV1M6RXBvY2hUaW1lIjoxNzU0NzUxNzk3fX19XX0_&Signature=QM-zB-BBKAoT3r-Y9IfcTJICLo2ootX0LDTaTMWkT~2s8~fxsbWb-qZoUJVlGYXNv5Y4b8NCEcXyFgT57PRBICLLva~IvlGu4p~3wxtIJHc3q~p34vdFhh-AIk8YPVT-ADm7y-xg8UL9zPl-GXDdwb25qlVaiC9fvd1cJ8AMyFHe-n9t19vwCZbq2epHGNAzL15tiA4GorPsUjeoH1TdwBcP0k67VluXPBRkp5Urp-VOugofx42tCXBCFrfE0z~A0HKXUUqbkkkUqw1ge7HLsm2lL0Dtu2HpBmszsEuN1qlLN0L4ts-815z6cezFBturYLy-5kEA0o5InF-ESnZQDA__&Key-Pair-Id=K2TK3EG287XSFC\" style=\"border-style: solid; width: 600px; height: 258px;\"></p>\r\n\r\n<h4><a name=\"payment-gateway-configuration-nbsp\" id=\"payment-gateway-configuration-nbsp\"></a>Payment Gateway Configuration&nbsp;</h4>\r\n\r\n<p>If you installed the Manhattan&nbsp;Active® Omni App on the Shopify store, the payment gateway 'ShopifyPayments\" should already be configured. The attributes below are the mandatory attributes. They are listed here for information purposes.&nbsp;</p>\r\n\r\n<ul>\r\n\t<li>Account Attributes\r\n\t<ul>\r\n\t\t<li>APIVersion -&nbsp;\"2024-07\"</li>\r\n\t\t<li>ShopifyDomain - the shopify store domain. Example: \"my-store.myshopify.com\"</li>\r\n\t</ul>\r\n\t</li>\r\n\t<li>Account encrypted attributes:&nbsp;\r\n\t<ul>\r\n\t\t<li>Access Token given by the app</li>\r\n\t</ul>\r\n\t</li>\r\n</ul>\r\n\r\n<p><div class=\"toggle_outerdiv\"><p class=\"toggle_div\"><a href=\"#tg-1\" class=\"toggle-content\"><span class=\"toggle-title\">ShopifyPayment payment gateway</span></a></p><div id=\"tg-1\"><p>POST&nbsp;{{url}}/payment/api/payment/gateway/save</p>\n\n<div class=\"computer_code\">{<br />\n&nbsp; &nbsp; &quot;PerformsStandaloneRefunds&quot;: true,<br />\n&nbsp; &nbsp; &quot;Account&quot;: [<br />\n&nbsp; &nbsp; &nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;AccountAttribute&quot;: [<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Value&quot;: &quot;2024-07&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Name&quot;: &quot;ApiVersion&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Value&quot;: &quot;https://&lt;yourstore&gt;.myshopify.com/&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Name&quot;: &quot;ShopifyDomain&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ],<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;UpdatedTimestamp&quot;: &quot;2024-05-16T16:31:04.831&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;AccountId&quot;: &quot;Shopify&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;AccountEncryptedAttribute&quot;: [<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Name&quot;: &quot;AccessToken&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Value&quot;: &quot;your app access token&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ]<br />\n&nbsp; &nbsp; &nbsp; &nbsp; }<br />\n&nbsp; &nbsp; ],<br />\n&nbsp; &nbsp; &quot;GatewayId&quot;: &quot;ShopifyPayments&quot;,<br />\n&nbsp; &nbsp; &quot;IsBase&quot;: true,<br />\n&nbsp; &nbsp; &quot;ProcessStuckTransaction&quot;: true<br />\n}</div>\n</div></div></p>\r\n\r\n<h4><a name=\"shopify-connectivity-configuration\" id=\"shopify-connectivity-configuration\"></a>Shopify Connectivity Configuration</h4>\r\n\r\n<p>See the&nbsp;<a href=\"https://omni.helpdocsonline.com/shopify-technical-integration$configuration\">configuration page</a>&nbsp;for more information on connecting a Shopify store to a&nbsp;Manhattan&nbsp;Active® Omni organization.&nbsp;</p>\r\n\r\n<h3><a name=\"error-handling-and-troubleshooting\" id=\"error-handling-and-troubleshooting\"></a>Error Handling and Troubleshooting</h3>\r\n\r\n<h4><a name=\"troubleshoot-out-of-the-box-translation\" id=\"troubleshoot-out-of-the-box-translation\"></a>Troubleshoot Out of the Box Translation</h4>\r\n\r\n<p>An API is available to invoke the out-of-the-box translation logic using the content of a Shopify webhook as an input.&nbsp;</p>\r\n\r\n<div class=\"computer_code\">POST&nbsp;{{url}}/marketplace/api/shopify/fieldMapping</div>\r\n\r\n<p>It has two inputs:&nbsp;</p>\r\n\r\n<ul>\r\n\t<li>The&nbsp;webhookFunction - can be \"Order\" or \"Payment\"</li>\r\n\t<li>The&nbsp;webhookDocument - the actual content of the webhook coming from Shopify</li>\r\n</ul>\r\n\r\n<p>The response of the API will contain the translated order or payment.&nbsp;</p>\r\n\r\n<p><div class=\"toggle_outerdiv\"><p class=\"toggle_div\"><a href=\"#tg-2\" class=\"toggle-content\"><span class=\"toggle-title\">Example of input for translation API - Payment</span></a></p><div id=\"tg-2\"><div class=\"computer_code\">{<br />\n&nbsp; &nbsp; &quot;webhookFunction&quot;: &quot;Payment&quot;,<br />\n&nbsp; &nbsp; &quot;webhookDocument&quot;: {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;id&quot;: 7049124577592,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;order_id&quot;: 5767690486072,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;kind&quot;: &quot;capture&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;gateway&quot;: &quot;shopify_payments&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;status&quot;: &quot;success&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;message&quot;: &quot;Transaction approved&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;created_at&quot;: &quot;2024-03-04T21:47:02-05:00&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;test&quot;: true,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;authorization&quot;: &quot;pi_3Oqo1vR5TdXGiMG90EDxPHxL&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;location_id&quot;: null,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;user_id&quot;: null,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;parent_id&quot;: 7049124446520,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;processed_at&quot;: &quot;2024-03-04T21:47:03-05:00&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;device_id&quot;: null,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;error_code&quot;: null,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;source_name&quot;: &quot;web&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;payment_details&quot;: {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;credit_card_bin&quot;: &quot;424242&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;avs_result_code&quot;: &quot;Y&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;cvv_result_code&quot;: &quot;M&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;credit_card_number&quot;: &quot;&bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull; 4242&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;credit_card_company&quot;: &quot;Visa&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;buyer_action_info&quot;: null,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;credit_card_name&quot;: &quot;FirstName lastName&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;credit_card_wallet&quot;: null,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;credit_card_expiration_month&quot;: 12,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;credit_card_expiration_year&quot;: 2024,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;payment_method_name&quot;: &quot;visa&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;receipt&quot;: {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;id&quot;: &quot;pi_3Oqo1vR5TdXGiMG90EDxPHxL&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;object&quot;: &quot;payment_intent&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;amount&quot;: 262995,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;amount_capturable&quot;: 0,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;amount_received&quot;: 262995,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;canceled_at&quot;: null,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;cancellation_reason&quot;: null,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;capture_method&quot;: &quot;manual&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;charges&quot;: {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;object&quot;: &quot;list&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;data&quot;: [<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;id&quot;: &quot;ch_3Oqo1vR5TdXGiMG90Gdy8kri&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;object&quot;: &quot;charge&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;amount&quot;: 262995,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;application_fee&quot;: &quot;fee_1Oqo1zR5TdXGiMG90EQcIG4r&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;balance_transaction&quot;: {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;id&quot;: &quot;txn_3Oqo1vR5TdXGiMG900267c4V&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;object&quot;: &quot;balance_transaction&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;exchange_rate&quot;: null<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;captured&quot;: true,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;created&quot;: 1709606819,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;currency&quot;: &quot;usd&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;failure_code&quot;: null,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;failure_message&quot;: null,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;fraud_details&quot;: {},<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;livemode&quot;: false,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;metadata&quot;: {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;email&quot;: &quot;lastName@manh.com&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;manual_entry&quot;: &quot;false&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;order_id&quot;: &quot;rG2Btrmx0RRiLtO6MzEwaPvSp&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;order_transaction_id&quot;: &quot;7049124446520&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;payments_charge_id&quot;: &quot;2677898019128&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;shop_id&quot;: &quot;85567275320&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;shop_name&quot;: &quot;Test_manh_test&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;outcome&quot;: {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;network_status&quot;: &quot;approved_by_network&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;reason&quot;: null,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;risk_level&quot;: &quot;normal&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;risk_score&quot;: 48,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;seller_message&quot;: &quot;Payment complete.&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;type&quot;: &quot;authorized&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;paid&quot;: true,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;payment_intent&quot;: &quot;pi_3Oqo1vR5TdXGiMG90EDxPHxL&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;payment_method&quot;: &quot;pm_1Oqo1vR5TdXGiMG9idmzviPZ&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;payment_method_details&quot;: {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;card&quot;: {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;amount_authorized&quot;: 262995,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;brand&quot;: &quot;visa&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;capture_before&quot;: 1712026019,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;checks&quot;: {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;address_line1_check&quot;: &quot;pass&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;address_postal_code_check&quot;: &quot;pass&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;cvc_check&quot;: &quot;pass&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;country&quot;: &quot;US&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;description&quot;: &quot;Visa Classic&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;ds_transaction_id&quot;: null,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;exp_month&quot;: 12,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;exp_year&quot;: 2024,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;extended_authorization&quot;: {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;status&quot;: &quot;enabled&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;fingerprint&quot;: &quot;2M23dVRniScqT7K2&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;funding&quot;: &quot;credit&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;iin&quot;: &quot;424242&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;incremental_authorization&quot;: {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;status&quot;: &quot;unavailable&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;installments&quot;: null,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;issuer&quot;: &quot;Stripe Payments UK Limited&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;last4&quot;: &quot;4242&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;mandate&quot;: null,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;moto&quot;: null,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;multicapture&quot;: {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;status&quot;: &quot;unavailable&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;network&quot;: &quot;visa&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;network_token&quot;: {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;used&quot;: false<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;network_transaction_id&quot;: &quot;987489114841006&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;overcapture&quot;: {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;maximum_amount_capturable&quot;: 302444,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;status&quot;: &quot;available&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;overcapture_supported&quot;: true,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;payment_account_reference&quot;: &quot;xR4eIL3CZCjH9hMkhqeysHPkE5Zxs&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;three_d_secure&quot;: null,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;wallet&quot;: null<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;type&quot;: &quot;card&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;refunded&quot;: false,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;source&quot;: null,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;status&quot;: &quot;succeeded&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;mit_params&quot;: {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;network_transaction_id&quot;: &quot;987489114841006&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ],<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;has_more&quot;: false,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;total_count&quot;: 1,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;url&quot;: &quot;\\/v1\\/charges?payment_intent=pi_3Oqo1vR5TdXGiMG90EDxPHxL&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;confirmation_method&quot;: &quot;manual&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;created&quot;: 1709606819,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;currency&quot;: &quot;usd&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;last_payment_error&quot;: null,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;livemode&quot;: false,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;metadata&quot;: {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;email&quot;: &quot;clastName@manh.com&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;manual_entry&quot;: &quot;false&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;order_id&quot;: &quot;rG2Btrmx0RRiLtO6MzEwaPvSp&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;order_transaction_id&quot;: &quot;7049124446520&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;payments_charge_id&quot;: &quot;2677898019128&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;shop_id&quot;: &quot;85567275320&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;shop_name&quot;: &quot;Test_manh_test&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;next_action&quot;: null,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;payment_method&quot;: &quot;pm_1Oqo1vR5TdXGiMG9idmzviPZ&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;payment_method_types&quot;: [<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;card&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ],<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;source&quot;: null,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;status&quot;: &quot;succeeded&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;amount&quot;: &quot;2629.95&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;currency&quot;: &quot;USD&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;payment_id&quot;: &quot;#1008.2&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;total_unsettled_set&quot;: {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;presentment_money&quot;: {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;amount&quot;: &quot;0.0&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;currency&quot;: &quot;USD&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;shop_money&quot;: {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;amount&quot;: &quot;0.0&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;currency&quot;: &quot;USD&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />\n&nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;manual_payment_gateway&quot;: false,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;admin_graphql_api_id&quot;: &quot;gid:\\/\\/shopify\\/OrderTransaction\\/7049124577592&quot;<br />\n&nbsp; &nbsp; }<br />\n}</div>\n</div></div></p>\r\n\r\n<h4><a name=\"failed-messages\" id=\"failed-messages\"></a>Failed Messages</h4>\r\n\r\n<p>If an order or a payment fails to be created for any reason, it will be posted to failed messages for future re-processing.&nbsp;</p>\r\n\r\n<h3><a name=\"related-articles\" id=\"related-articles\"></a>Related Articles</h3>\r\n\r\n<div class=\"info\"><ul class=\"related-articles\"><li><a href=\"/shopify-order-integration\" hqid=\"3424103\">Order Integration with Shopify</a></li><li><a href=\"/shopify-shop-pay-only-stores\" hqid=\"3590067\">Shop Pay Integration</a></li><li><a href=\"/shopify-technical-integration\" hqid=\"3424099\">Shopify Technical Integration</a></li><li><a href=\"/shopify-inventory-integration\" hqid=\"3424101\">Inventory Integration with Shopify</a></li></ul></div>\r\n\r\n<p>&nbsp;</p>\r\n\r\n\t  </div>\r\n </div>\r\n <div id=\"ui-page-fb-wrap\"></div>\r\n <div class=\"hiq-footer-wrap\">\r\n    \r\n                \r\n  </div>\r\n\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n",
  "content_length": 38898,
  "scraped_at": "2025-08-09T21:58:17.228709",
  "content_clean": "Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Order Processing››Shopify Integration ››Payment Integration with Shopify How to Integrate with Shopify Payments Previous I Next OverviewFollow-on SettlementFollow-on RefundShop Pay Commerce ComponentShopify Webhooks and APIsTransaction Create WebhookRefund Create WebhookShopify APIs CalledorderCapture MutationrefundCreate MutationConfigurationShopify Configuration - Manual Payment CapturePayment Gateway Configuration Shopify Connectivity ConfigurationError Handling and TroubleshootingTroubleshoot Out of the Box TranslationFailed MessagesRelated Articles Overview For orders authorized in Shopify, the follow-on settlements and refunds are also sent to Shopify for processing. For the purpose of this payments integration, Shopify is considered as a payment gateway such from the standpoint of Manhattan Active® Omni. From there, Shopify may integrate to the merchant's payment gateway for transaction processing. When orders are captured or modified in channels outside of Shopify, the associated new payment methods are not sent to Shopify. These payments are processed using another payment gateway. See Payment Gateway integration page for more information. Out of the box, the payment gateway \"ShopifyPayments\" is used for all orders that are created in Shopify. Follow-on Settlement Once an order is created in Shopify, the corresponding authorization transaction is sent to Manhattan Active® Omni, and a payment header, payment method and payment transactions are created. See create payment page for more information. Once the payment method is authorized, when the order is shipped, an invoice is created that leads to a follow-on settlement transaction being added to the payment method. This process is described in more detail in the settlement page. Regarding the Shopify integration, once the settlement transaction is created for a payment method that has \"ShopifyPayments\" as a payment gateway, it is sent to Shopify using the orderCapture mutation in Shopify GraphQL Admin API. Once the transaction is processed, a transaction create webhook is returned with the result of the settlement (success or failure). Follow-on Refund Once an order is settled, it can be refunded. See the refund page for more information on refund transactions. An order created in Shopify and settled in Shopify can also be refunded using ShopifyPayments as a payment gateway. In the case of a refund on the parent order or a return order, when a refund payment transaction is created, the refundCreate mutation in Shopify GrapQL Admin API is called to trigger the refund process. Once the refund process is complete, a refund create webhook is returned with the result of the refund (success or failure). Shop Pay Commerce Component Shop Pay Commerce Component (aka Shop Pay only stores) enables merchants to use Shop Pay as a payment method on e-commerce websites hosted by a provider other than Shopify. See Payment integration with Shop Pay only stores for more information. Shopify Webhooks and APIs Transaction Create Webhook The transaction create webhook is received both for authorization and settlement transaction creation. The content of this webhook is translated by the out of the box integration into a payment response to the payment component. Refund Create Webhook The refund create webhook is received when a refund transaction is processed in Shopify. The content of the webhook is translated by the out of the box integration into a payment response for the payment component. Shopify APIs Called orderCapture Mutation When a settlement payment transaction is processed, the orderCapture mutation is called to trigger the capture of funds for the merchant. Graph QL mutation Inputs mutation orderCapture($input: OrderCaptureInput!) { orderCapture(input: $input) { transaction { id kind status errorCode gateway createdAt paymentId accountNumber paymentDetails { ... on CardPaymentDetails { company cvvResultCode expirationMonth expirationYear name number paymentMethodName } } amountSet { presentmentMoney { amount } } } userErrors { field message } } } { \"id\":\"<transactionId>\", \"amount\":\"<amount to capture>\", \"parentTransactionId\":\"gid://shopify/OrderTransaction/<auth transaction id>\" } If there are no errors, the transaction status is updated to in progress while waiting for the corresponding webhook. refundCreate Mutation When a refund payment transaction is processed, the refundCreate mutation is called to trigger the refund of funds to the customer. Graph QL mutation Inputs mutation refundCreate($input: RefundInput!) { refundCreate(input: $input) { order { id } refund { id transactions(first: 100) { nodes { id kind status } } createdAt totalRefundedSet { presentmentMoney { amount } } } userErrors { field message } } } { \"kind\": \"REFUND\", \"orderId\": \"<parent order id>\", \"amount\": \"<amount to refund>\", \"parentId\": \"gid://shopify/OrderTransaction/<settlement transaction ID>\" } If there are no errors, the transaction status is updated to in progress while waiting for the corresponding webhook. Configuration Shopify Configuration - Manual Payment Capture Shopify has the ability to decide what amount needs to be captured based on the order status. However, in the out-of-the-box integration, Manhattan Active® Omni is the payment orchestration system that decides how much to settle and refund for each payment method. To support this, Shopify payment capture must be configured to \"Manual Capture\". In Settings > Payments> Payment capture method: Payment Gateway Configuration If you installed the Manhattan Active® Omni App on the Shopify store, the payment gateway 'ShopifyPayments\" should already be configured. The attributes below are the mandatory attributes. They are listed here for information purposes. Account Attributes APIVersion - \"2024-07\" ShopifyDomain - the shopify store domain. Example: \"my-store.myshopify.com\" Account encrypted attributes: Access Token given by the app ShopifyPayment payment gatewayPOST {{url}}/payment/api/payment/gateway/save { \"PerformsStandaloneRefunds\": true, \"Account\": [ { \"AccountAttribute\": [ { \"Value\": \"2024-07\", \"Name\": \"ApiVersion\" }, { \"Value\": \"https://<yourstore>.myshopify.com/\", \"Name\": \"ShopifyDomain\" } ], \"UpdatedTimestamp\": \"2024-05-16T16:31:04.831\", \"AccountId\": \"Shopify\", \"AccountEncryptedAttribute\": [ { \"Name\": \"AccessToken\", \"Value\": \"your app access token\" } ] } ], \"GatewayId\": \"ShopifyPayments\", \"IsBase\": true, \"ProcessStuckTransaction\": true } Shopify Connectivity Configuration See the configuration page for more information on connecting a Shopify store to a Manhattan Active® Omni organization. Error Handling and Troubleshooting Troubleshoot Out of the Box Translation An API is available to invoke the out-of-the-box translation logic using the content of a Shopify webhook as an input. POST {{url}}/marketplace/api/shopify/fieldMapping It has two inputs: The webhookFunction - can be \"Order\" or \"Payment\" The webhookDocument - the actual content of the webhook coming from Shopify The response of the API will contain the translated order or payment. Example of input for translation API - Payment{ \"webhookFunction\": \"Payment\", \"webhookDocument\": { \"id\": 7049124577592, \"order_id\": 5767690486072, \"kind\": \"capture\", \"gateway\": \"shopify_payments\", \"status\": \"success\", \"message\": \"Transaction approved\", \"created_at\": \"2024-03-04T21:47:02-05:00\", \"test\": true, \"authorization\": \"pi_3Oqo1vR5TdXGiMG90EDxPHxL\", \"location_id\": null, \"user_id\": null, \"parent_id\": 7049124446520, \"processed_at\": \"2024-03-04T21:47:03-05:00\", \"device_id\": null, \"error_code\": null, \"source_name\": \"web\", \"payment_details\": { \"credit_card_bin\": \"424242\", \"avs_result_code\": \"Y\", \"cvv_result_code\": \"M\", \"credit_card_number\": \"•••• •••• •••• 4242\", \"credit_card_company\": \"Visa\", \"buyer_action_info\": null, \"credit_card_name\": \"FirstName lastName\", \"credit_card_wallet\": null, \"credit_card_expiration_month\": 12, \"credit_card_expiration_year\": 2024, \"payment_method_name\": \"visa\" }, \"receipt\": { \"id\": \"pi_3Oqo1vR5TdXGiMG90EDxPHxL\", \"object\": \"payment_intent\", \"amount\": 262995, \"amount_capturable\": 0, \"amount_received\": 262995, \"canceled_at\": null, \"cancellation_reason\": null, \"capture_method\": \"manual\", \"charges\": { \"object\": \"list\", \"data\": [ { \"id\": \"ch_3Oqo1vR5TdXGiMG90Gdy8kri\", \"object\": \"charge\", \"amount\": 262995, \"application_fee\": \"fee_1Oqo1zR5TdXGiMG90EQcIG4r\", \"balance_transaction\": { \"id\": \"txn_3Oqo1vR5TdXGiMG900267c4V\", \"object\": \"balance_transaction\", \"exchange_rate\": null }, \"captured\": true, \"created\": 1709606819, \"currency\": \"usd\", \"failure_code\": null, \"failure_message\": null, \"fraud_details\": {}, \"livemode\": false, \"metadata\": { \"email\": \"lastName@manh.com\", \"manual_entry\": \"false\", \"order_id\": \"rG2Btrmx0RRiLtO6MzEwaPvSp\", \"order_transaction_id\": \"7049124446520\", \"payments_charge_id\": \"2677898019128\", \"shop_id\": \"85567275320\", \"shop_name\": \"Test_manh_test\" }, \"outcome\": { \"network_status\": \"approved_by_network\", \"reason\": null, \"risk_level\": \"normal\", \"risk_score\": 48, \"seller_message\": \"Payment complete.\", \"type\": \"authorized\" }, \"paid\": true, \"payment_intent\": \"pi_3Oqo1vR5TdXGiMG90EDxPHxL\", \"payment_method\": \"pm_1Oqo1vR5TdXGiMG9idmzviPZ\", \"payment_method_details\": { \"card\": { \"amount_authorized\": 262995, \"brand\": \"visa\", \"capture_before\": 1712026019, \"checks\": { \"address_line1_check\": \"pass\", \"address_postal_code_check\": \"pass\", \"cvc_check\": \"pass\" }, \"country\": \"US\", \"description\": \"Visa Classic\", \"ds_transaction_id\": null, \"exp_month\": 12, \"exp_year\": 2024, \"extended_authorization\": { \"status\": \"enabled\" }, \"fingerprint\": \"2M23dVRniScqT7K2\", \"funding\": \"credit\", \"iin\": \"424242\", \"incremental_authorization\": { \"status\": \"unavailable\" }, \"installments\": null, \"issuer\": \"Stripe Payments UK Limited\", \"last4\": \"4242\", \"mandate\": null, \"moto\": null, \"multicapture\": { \"status\": \"unavailable\" }, \"network\": \"visa\", \"network_token\": { \"used\": false }, \"network_transaction_id\": \"987489114841006\", \"overcapture\": { \"maximum_amount_capturable\": 302444, \"status\": \"available\" }, \"overcapture_supported\": true, \"payment_account_reference\": \"xR4eIL3CZCjH9hMkhqeysHPkE5Zxs\", \"three_d_secure\": null, \"wallet\": null }, \"type\": \"card\" }, \"refunded\": false, \"source\": null, \"status\": \"succeeded\", \"mit_params\": { \"network_transaction_id\": \"987489114841006\" } } ], \"has_more\": false, \"total_count\": 1, \"url\": \"\\/v1\\/charges?payment_intent=pi_3Oqo1vR5TdXGiMG90EDxPHxL\" }, \"confirmation_method\": \"manual\", \"created\": 1709606819, \"currency\": \"usd\", \"last_payment_error\": null, \"livemode\": false, \"metadata\": { \"email\": \"clastName@manh.com\", \"manual_entry\": \"false\", \"order_id\": \"rG2Btrmx0RRiLtO6MzEwaPvSp\", \"order_transaction_id\": \"7049124446520\", \"payments_charge_id\": \"2677898019128\", \"shop_id\": \"85567275320\", \"shop_name\": \"Test_manh_test\" }, \"next_action\": null, \"payment_method\": \"pm_1Oqo1vR5TdXGiMG9idmzviPZ\", \"payment_method_types\": [ \"card\" ], \"source\": null, \"status\": \"succeeded\" }, \"amount\": \"2629.95\", \"currency\": \"USD\", \"payment_id\": \"#1008.2\", \"total_unsettled_set\": { \"presentment_money\": { \"amount\": \"0.0\", \"currency\": \"USD\" }, \"shop_money\": { \"amount\": \"0.0\", \"currency\": \"USD\" } }, \"manual_payment_gateway\": false, \"admin_graphql_api_id\": \"gid:\\/\\/shopify\\/OrderTransaction\\/7049124577592\" } } Failed Messages If an order or a payment fails to be created for any reason, it will be posted to failed messages for future re-processing. Related Articles Order Integration with ShopifyShop Pay IntegrationShopify Technical IntegrationInventory Integration with Shopify"
}