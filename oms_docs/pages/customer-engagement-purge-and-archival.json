{
  "success": true,
  "permalink": "customer-engagement-purge-and-archival",
  "title": "Customer Engagement Purge and Archival ",
  "content": "\r\n\r\n\r\n<div class=\"hiq-page-wrap\">\r\n<div class=\"hiq-t-wrap\">\r\n\t\t\r\n  \t  <div class=\"hiq-t \">\r\n\t\t\t\t<ul class=\"breadcrumbs\"><li><a class=\"breadcrumb-links\" hqid=\"1788908\"  href=\"/home\">Home</a></li> <li><span>&rsaquo;&rsaquo;</span><a hqid=\"3500940\" href=\"/omni\" class=\"breadcrumb-links\">Manhattan Active® Omni</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158742\" href=\"/customer-engagement-3\" class=\"breadcrumb-links\">Customer Engagement</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158395\" href=\"/process-configuration-guides-2\" class=\"breadcrumb-links\">Process & Configuration Guides</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2789789\" href=\"/archive-and-purge\" class=\"breadcrumb-links\">Archive and Purge</a></li><li> <span>››</span>Customer Engagement Purge and Archival </li></ul>  \t\r\n\t\t<h2><a name=\"customer-engagement-purge-and-archival\" id=\"customer-engagement-purge-and-archival\"></a>Customer Engagement Purge and Archival</h2>\r\n\r\n<p></p>\r\n\r\n<div class=\"info\"><ul><li><a href=\"/customer-engagement-purge-and-archival$customer-engagement-purge-and-archival\">Customer Engagement Purge and Archival</a><ul><li><a href=\"/customer-engagement-purge-and-archival$archiving-cases-interactions\">Archiving Cases, Interactions</a><ul><li><a href=\"/customer-engagement-purge-and-archival$archive-configuration\">Archive Configuration</a></li><li><a href=\"/customer-engagement-purge-and-archival$scheduler\">Scheduler</a></li></ul></li><li><a href=\"/customer-engagement-purge-and-archival$purging-nbsp-cases-independent-interactions-and-nbsp-social-data\">Purging&nbsp;Cases, Independent Interactions and&nbsp;Social Data</a><ul><li><a href=\"/customer-engagement-purge-and-archival$purge-configuration\">Purge Configuration</a></li><li><a href=\"/customer-engagement-purge-and-archival$importing-or-updating-independent-interactions-social-or-email-data\">Importing or Updating Independent Interactions, Social, or Email Data</a></li></ul></li><li><a href=\"/customer-engagement-purge-and-archival$archived-and-purged-entities\">Archived and Purged Entities</a></li><li><a href=\"/customer-engagement-purge-and-archival$services\">Services</a></li><li><a href=\"/customer-engagement-purge-and-archival$troubleshooting\">Troubleshooting</a></li></ul></li></ul></div>\r\n\r\n<h3><a name=\"archiving-cases-interactions\" id=\"archiving-cases-interactions\"></a>Archiving Cases, Interactions</h3>\r\n\r\n<p>All&nbsp;data related to a closed case and its related interactions are archived after a configurable period of time. Archiving is a mandatory process to ensure&nbsp;the system performs well.&nbsp;Archiving a case removes it&nbsp;from the active database table and moves it to archived storage.&nbsp;<span style=\"font-size:12px;\">Please refer to the <u><a href=\"/customer-engagement-purge-and-archival$Component table\">table below</a></u>&nbsp;for a list of entities that are archived or purged.</span></p>\r\n\r\n<p>Archived cases and interactions can only be looked up on the Case List UI and not on the Customer Dashboard or any other UI. Once archived, data is not available for SCI for reporting purposes.</p>\r\n\r\n<p>The below process flow illustrates the archiving process.</p>\r\n\r\n<p><img height=\"268\" src=\"https://dzf8vqv24eqhg.cloudfront.net/userfiles/4665/7671/ckfinder/images/qu/image(74).png?Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly9kemY4dnF2MjRlcWhnLmNsb3VkZnJvbnQubmV0L3VzZXJmaWxlcy80NjY1Lzc2NzEvY2tmaW5kZXIvaW1hZ2VzL3F1L2ltYWdlKDc0KS5wbmciLCJDb25kaXRpb24iOnsiRGF0ZUxlc3NUaGFuIjp7IkFXUzpFcG9jaFRpbWUiOjE3NTQ3NTQwMDd9fX1dfQ__&Signature=XEq-B59B57H0ClkfAGRANpUmxmD4Avx7GqKwsOOI6~D5Ul~C~GrJ6awmqF~zOD6AWdy7IF4KrWyt64SScrhPVAeoZqRgO1yiLU9z-RYiNOFfjsTToFxS2FgJLWsZpzBRiiroAlvLgPQpwGD1EfdC5PZBxjHcWl2evuyHW3GenFpJit4viZBftLAhxVd3VrPn0Iv3Rg5FKB2t40L9HjA467rCSl0D1xJsDYNT9MOWlTtLR05j613gu1XO0lBynC2C~QHUA2aHn1rwQhgjMbqDet083lT4NfvxM7NxuwfW-QdIj1z3ik-7qjZZn5wdobBGedZsI2YIgxKnCkzY5tZTjA__&Key-Pair-Id=K2TK3EG287XSFC\" style=\"width: 1109px; height: 228.984px;\" width=\"1297\" /></p>\r\n\r\n<h5><a name=\"archive-configuration\" id=\"archive-configuration\"></a>Archive Configuration</h5>\r\n\r\n<p>Case archive configuration is located in the <a href=\"https://omni.helpdocsonline.com/customer_engagement_configurations$case-archive-configuration\">Case Archive Configuration UI</a>. The Number of Days parameter controls when a closed (resolved)&nbsp; case and related interactions are archived. 365 days is the default and maximum. You can set the number of days to 365 or a number less than 365 which means, the data will be available in the system for those number of days before it is archived. The number of days cannot be more than 365 and if no configuration is added, then the retention period is assumed to be 365 days.</p>\r\n\r\n<p>For example, if the number of&nbsp;days is set to 30, and a case is closed, the case and its interactions are&nbsp;archived&nbsp;30&nbsp;days after its&nbsp;resolution or closure. The data is archived when the&nbsp;scheduler is run and finds a case with the archive date in the past.</p>\r\n\r\n<h5><a name=\"scheduler\" id=\"scheduler\"></a>Scheduler</h5>\r\n\r\n<p>The <b>component-scheduler</b> is responsible for maintaining the job schedules and triggering the jobs.</p>\r\n\r\n<p>Once a&nbsp;case is closed, if archive is enabled, then a&nbsp;message is posted&nbsp;into the payload table and stamps it with a NEXT_DELIVERY_TIME. An associated job schedule, delayedPayloadPublisherSchedule, has been created which will continuously wake up and check this table for any eligible records. If the NEXT_DELIVERY_TIME has elapsed, the message will be sent into the queue (message type- <b>cases-cases-ArchiveCases</b>).&nbsp;</p>\r\n\r\n<p>A Listener(<b>casesArchiveListener</b>) will pick those consolidated messages and archive all cases associated in that message.</p>\r\n\r\n<p>The AWPF&nbsp;framework scheduler (delayedPayloadPublisherSchedule) is a generic scheduler is used for this process and cannot be triggered manually. This scheduler will run every 30 mins.&nbsp;</p>\r\n\r\n<p>Importing or Updating Cases</p>\r\n\r\n<p>When closed cases are created or updated without an archive date, the archive date is populated as&nbsp;CurrentTime +Number of days in the case archive config.</p>\r\n\r\n<p>When closed cases are imported&nbsp;or updated with an archive date:</p>\r\n\r\n<ul>\r\n\t<li>If the archive date is in the past, the case and its interactions will be archived when&nbsp;the next scheduler runs.</li>\r\n\t<li>If the archive date is between&nbsp;the current date and 365 days from then,&nbsp;the archive date will be honored.</li>\r\n\t<li>If the archive date in the future, after 365 days, then the archive date will be populated as CurrentTime + 365 days.&nbsp;</li>\r\n\t<li>If a case is imported with no resolution date and the &quot;IsImport&quot; attribute is set to true, the archiveDate = current Date + 90 days</li>\r\n</ul>\r\n\r\n<div class=\"tip\">\r\n<p>Note:</p>\r\n\r\n<p>1. The case archive config is&nbsp;part of the seed data and will available by default with the number of days set to 365 and can be edited as per business requirements. These configs&nbsp;cannot be created from the UI. To get the seed data for your organization a&nbsp;profile sync from the base profile has to be done.&nbsp;</p>\r\n\r\n<p>2. It is advisable to use the default config already available. Creating multiple configurations using the backend API&nbsp;could lead to the wrong config being considered for archive.</p>\r\n</div>\r\n\r\n<h3><a name=\"purging-nbsp-cases-independent-interactions-and-nbsp-social-data\" id=\"purging-nbsp-cases-independent-interactions-and-nbsp-social-data\"></a>Purging&nbsp;Cases, Independent Interactions and&nbsp;Social Data</h3>\r\n\r\n<p>Purge refers to the permanent deletion of data from the system. Purge&nbsp;is a mandatory process to ensure&nbsp;the system performs well.&nbsp;<span style=\"font-size:12px;\">Please refer to the <u><a href=\"/customer-engagement-purge-and-archival$Component table\">table below</a></u>&nbsp;for a list of entities that are archived or purged.&nbsp;</span>Purge is done on the following components:&nbsp;</p>\r\n\r\n<ul>\r\n\t<li value=\"1\">Independent Interactions (interactions not linked to a case, where CaseId is null)</li>\r\n\t<li>Social</li>\r\n\t<li>Email (email log and To address log)&nbsp;</li>\r\n</ul>\r\n\r\n<p>The purge process is illustrated in the below diagram.</p>\r\n\r\n<p><img height=\"375\" src=\"https://dzf8vqv24eqhg.cloudfront.net/userfiles/4665/7671/ckfinder/images/qu/image(76).png?Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly9kemY4dnF2MjRlcWhnLmNsb3VkZnJvbnQubmV0L3VzZXJmaWxlcy80NjY1Lzc2NzEvY2tmaW5kZXIvaW1hZ2VzL3F1L2ltYWdlKDc2KS5wbmciLCJDb25kaXRpb24iOnsiRGF0ZUxlc3NUaGFuIjp7IkFXUzpFcG9jaFRpbWUiOjE3NTQ3NTQwMDd9fX1dfQ__&Signature=kKRaLpMKyCDRpXnWk6pt8rx6h5636AQ8QPRIbemtAQ4LKAwakFDuPf2fJ8UMbUN7ygKTDq6RU4O0DzOjM1QUdKcNvTROtMHpKmSW-5fRBXDSMGxLVBzC~NEMlj92i6Seb8MYB6JtaYJn3a~qArR7ppK3eQjkehEv7eu0cP0tq1C8YflSdwjndBHK~Ie2tw3RkxW5NtbTkyK5JExGcOHRUjyBSZo6eY8-91us7W0e97nYw2S0YmP-uNVyxCx4pR2CjOEJbKYjQ-KsOyrik91MUvyKtWj9xXbZiBJkWPyUxOKgPqk-5UoMHAGrMRmK-y43aVZDXZVXCQYheeObitbkow__&Key-Pair-Id=K2TK3EG287XSFC\" style=\"width: 1081.99px; height: 241.992px;\" width=\"1677\" /></p>\r\n\r\n<h5><a name=\"purge-configuration\" id=\"purge-configuration\"></a>Purge Configuration</h5>\r\n\r\n<p>The Number of Days parameter controls when an object is purged and is based on the number of days after an object is created.</p>\r\n\r\n<p>The config sync component will run a scheduled job and purge the data when the purge date is in the past.&nbsp;</p>\r\n\r\n<p>365 days is the default and maximum. you can set the number of days to 365 or a number less than 365 which means, the data will be available in the system for those number of days from creation until&nbsp;it is completely purged. The number of days cannot be more than 365 and if no configuration is added, then the retention period is assumed to be 365 days.</p>\r\n\r\n<p>Purge configuration is located in the following UIs:</p>\r\n\r\n<ul>\r\n\t<li><a href=\"https://omni.helpdocsonline.com/customer_engagement_configurations$interaction-retention-configuration\">Interaction Retention Config</a></li>\r\n\t<li><a href=\"https://omni.helpdocsonline.com/customer_engagement_configurations$social-retention-configuration\">Social Retention Config</a></li>\r\n\t<li><a href=\"https://omni.helpdocsonline.com/customer_engagement_configurations$email-log-retention-configuration\">Email Log Retention Config</a></li>\r\n</ul>\r\n\r\n<div class=\"tip\">\r\n<p>Note:</p>\r\n\r\n<p>1. Purge and Archive configs are part of seed data and these 4 configs will be available by default with the number of days set to 365 and can be edited as per business requirement. These configs&nbsp;cannot be created from the UI. To get the seed data for your organization a&nbsp;profile sync from the base profile has to be done.&nbsp;</p>\r\n\r\n<p>2. It is advisable to use the default config already available. Creating multiple configurations using the backend api could lead to the wrong config being considered for archive or purge.</p>\r\n</div>\r\n\r\n<h5><a name=\"importing-or-updating-independent-interactions-social-or-email-data\" id=\"importing-or-updating-independent-interactions-social-or-email-data\"></a>Importing or Updating Independent Interactions, Social, or Email Data</h5>\r\n\r\n<p>When independent interactions, social, or email log data&nbsp;are Imported&nbsp;or updated without a purge date, the purge&nbsp;date is populated as&nbsp;CurrentTime + Number of days in the purge config.</p>\r\n\r\n<p>When independent interactions, social, or email data&nbsp;are created or updated with&nbsp;a purge date:</p>\r\n\r\n<ul>\r\n\t<li>If the purge date is in the past, the object will be purged when&nbsp;the next scheduler runs.</li>\r\n\t<li>If the purge date is between&nbsp;the current date and 365 days, then the purge&nbsp;date will be honored.</li>\r\n\t<li>If purge date is in the future, after 365 days, then purge date is populated as CurrentTime + 365 days.</li>\r\n</ul>\r\n\r\n<h3><a name=\"archived-and-purged-entities\" id=\"archived-and-purged-entities\"></a><a id=\"Component table\" name=\"Component table\"></a>Archived and Purged Entities</h3>\r\n\r\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 735px;\" summary=\"\" title=\"\" valign=\"top\">\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td>\r\n\t\t\t<p><strong>Component&nbsp;</strong></p>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<p><strong>Is data&nbsp;archived or purged?</strong></p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 293px;\">\r\n\t\t\t<p><strong>Related Entities</strong></p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>\r\n\t\t\t<p>Case</p>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<p>Archive</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 293px;\">\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Cases&nbsp;</li>\r\n\t\t\t\t<li>Customer address</li>\r\n\t\t\t\t<li>Activity</li>\r\n\t\t\t\t<li>Case Solution</li>\r\n\t\t\t\t<li>Case Note</li>\r\n\t\t\t\t<li>&nbsp;Interaction Routing Details</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>\r\n\t\t\t<p>Interaction</p>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<p>Archive - For interactions that are attached to a case</p>\r\n\r\n\t\t\t<p>Purge - For independent interactions&nbsp;(not attached to a case)</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 293px;\">\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Social</li>\r\n\t\t\t\t<li>Social Reason</li>\r\n\t\t\t\t<li>Phone</li>\r\n\t\t\t\t<li>Call Reason</li>\r\n\t\t\t\t<li>Chat</li>\r\n\t\t\t\t<li>Chat Reason</li>\r\n\t\t\t\t<li>Virtual Assistant</li>\r\n\t\t\t\t<li>Email</li>\r\n\t\t\t\t<li>Email Reason</li>\r\n\t\t\t\t<li>Email Attachment</li>\r\n\t\t\t\t<li>Email Additional Info</li>\r\n\t\t\t\t<li>Feed Attachment</li>\r\n\t\t\t\t<li>Store Interaction</li>\r\n\t\t\t\t<li>Interaction</li>\r\n\t\t\t\t<li>Appointment</li>\r\n\t\t\t\t<li>Text</li>\r\n\t\t\t\t<li>Text Message</li>\r\n\t\t\t\t<li>Text Additional Info</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>\r\n\t\t\t<p>Email</p>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<p>Purge</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 293px;\">\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Email Log</li>\r\n\t\t\t\t<li>ToAddressLog</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>\r\n\t\t\t<p>Social</p>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<p>Purge</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 293px;\">\r\n\t\t\t<ul>\r\n\t\t\t\t<li>SocialFeed</li>\r\n\t\t\t\t<li>Feed Attachment</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<h3><a name=\"services\" id=\"services\"></a>Services</h3>\r\n\r\n<p>The&nbsp;APIs listed in the following table are referenced in this document. Refer to the API documentation for additional details on&nbsp;each service.</p>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"col\"><strong><font face=\"Open Sans, Arial, Helvetica, sans-serif\">Service</font></strong></th>\r\n\t\t\t<th scope=\"col\"><strong>Component</strong></th>\r\n\t\t\t<th scope=\"col\"><strong>Group</strong></th>\r\n\t\t\t<th scope=\"col\"><strong><font face=\"Open Sans, Arial, Helvetica, sans-serif\">Service Endpoint</font></strong></th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td>Case Archive Config&nbsp;</td>\r\n\t\t\t<td>Cases&nbsp;</td>\r\n\t\t\t<td><br />\r\n\t\t\tCaseArchiveConfig Services</td>\r\n\t\t\t<td>POST /api/cases/caseArchiveConfig<br />\r\n\t\t\t<br />\r\n\t\t\t&nbsp;</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>Interaction Retention Config&nbsp;</td>\r\n\t\t\t<td>CustomerInteraction</td>\r\n\t\t\t<td>RetentionConfig Services</td>\r\n\t\t\t<td>POST /api/customerinteraction/retentionConfig<br />\r\n\t\t\t&nbsp;</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>Email Log Retention Config&nbsp;</td>\r\n\t\t\t<td>Email</td>\r\n\t\t\t<td>EmailLogRetentionConfig Services</td>\r\n\t\t\t<td>POST /api/email/emailLogRetentionConfig</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>Socia Retention Config&nbsp;</td>\r\n\t\t\t<td>Social</td>\r\n\t\t\t<td>SocialRetentionConfig Services</td>\r\n\t\t\t<td>POST /api/social/socialRetentionConfig</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<h3><a name=\"troubleshooting\" id=\"troubleshooting\"></a>Troubleshooting</h3>\r\n\r\n<p>Locate your issue in the below list and follow the troubleshooting steps.</p>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"col\">Issue</th>\r\n\t\t\t<th scope=\"col\">Troubleshooting Tip</th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td>What will happen if the number of days in the configs is set to 0 mean in a purge or archive configuration?&nbsp;</td>\r\n\t\t\t<td>\r\n\t\t\t<p>Zero days means archive/purge date will be calculated as&nbsp; Current date and time + (0 days)</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>How do I retrieve archived data?</td>\r\n\t\t\t<td>You can view archived data in the case list UI by switching the &#39;state&#39; filter from Active to Archive, selecting at least one other filter criteria, and clicking&nbsp;APPLY in the Case List UI.</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>How do I delete archived data?</td>\r\n\t\t\t<td>Archived data cannot be deleted in the current scope of the application.&nbsp;</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>How do I retrieve purged data?</td>\r\n\t\t\t<td>Data once purged can never be retrieved. Purge will always true delete the data from the system.&nbsp;</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<div id=\"\" style=\"left: 15px; top: 512.005px;\">&nbsp;</div>\r\n\r\n\t  </div>\r\n </div>\r\n <div id=\"ui-page-fb-wrap\"></div>\r\n <div class=\"hiq-footer-wrap\">\r\n    \r\n                \r\n  </div>\r\n\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n",
  "content_length": 16829,
  "scraped_at": "2025-08-09T22:35:07.279287"
}