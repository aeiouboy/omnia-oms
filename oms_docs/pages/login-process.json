{
  "success": true,
  "permalink": "login-process",
  "title": "Alternate Login Process",
  "content": "\r\n\r\n\r\n<div class=\"hiq-page-wrap\">\r\n<div class=\"hiq-t-wrap\">\r\n\t\t\r\n  \t  <div class=\"hiq-t \">\r\n\t\t\t\t<ul class=\"breadcrumbs\"><li><a class=\"breadcrumb-links\" hqid=\"1788908\"  href=\"/home\">Home</a></li> <li><span>&rsaquo;&rsaquo;</span><a hqid=\"3500940\" href=\"/omni\" class=\"breadcrumb-links\">Manhattan Active® Omni</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"3426481\" href=\"/store-3\" class=\"breadcrumb-links\">Store</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158412\" href=\"/process-configuration-guides-3\" class=\"breadcrumb-links\">Process & Configuration Guides</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2164553\" href=\"/store-common\" class=\"breadcrumb-links\">Store Common</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2439827\" href=\"/application-login\" class=\"breadcrumb-links\">Alternate Login</a></li><li> <span>››</span>Alternate Login Process</li></ul>  \t\r\n\t\t<h2 data-pm-slice=\"1 1 []\">Alternate Login Process</h2>\r\n\r\n<p></p>\r\n\r\n<p>Currently, the login page which is displayed to the user to enter their credentials is provided by the auth server or by the 3rd party AD. In the Online mode the page is displayed with the Username and Password fields while in Offline mode the page displays the Username and PIN field.</p>\r\n\r\n<p>The new Alternate Login process provides an option to launch a customized page which has a common way of authentication i.e. Username and Password across different modes i.e. Online or Offline.</p>\r\n\r\n<div class=\"info\"><ul><li><a href=\"/login-process$process\">Process</a></li><li><a href=\"/login-process$manager-override-functionality\">Manager Override Functionality</a></li><li><a href=\"/login-process$user-data-sync-from-online-to-offline\">User Data Sync from Online to Offline</a></li><li><a href=\"/login-process$user-exit\">User Exit</a></li><li><a href=\"/login-process$services-nbsp\">Services&nbsp;</a></li></ul></div>\r\n\r\n<h4><a name=\"process\" id=\"process\"></a>Process</h4>\r\n\r\n<p>Retailers can decide if they want to follow the existing auth server login process or opt for the new Alternate Login process. This login process can be opted at the time of the app build.</p>\r\n\r\n<p>The Alternate Login process is controlled by a UI business flag which is passed as a build parameter in Jenkins. When this UI business flag is enabled a new Alternate Login Page is displayed with the Username and Password for both Online and Offline mode.</p>\r\n\r\n<p>The below UI process diagram details how the Alternate Login process is switched from the existing auth server login process.</p>\r\n\r\n<p><img alt=\"\" src=\"https://dzf8vqv24eqhg.cloudfront.net/userfiles/4665/7671/ckfinder/images/UI%20Process%20Flow.png?Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly9kemY4dnF2MjRlcWhnLmNsb3VkZnJvbnQubmV0L3VzZXJmaWxlcy80NjY1Lzc2NzEvY2tmaW5kZXIvaW1hZ2VzL1VJJTIwUHJvY2VzcyUyMEZsb3cucG5nIiwiQ29uZGl0aW9uIjp7IkRhdGVMZXNzVGhhbiI6eyJBV1M6RXBvY2hUaW1lIjoxNzU0NzU0MDkxfX19XX0_&Signature=WF-8UxU4pzxzIJ6oYEOt7FNuOvs~q71-GHoZhM1jS8DPDLgX2VPusHtM-9hkofTABBgXtZKmnLUnBSeMpq-X6K5J~9lshbxh58iIPDU8hJD6-uISV~lc7HH8VE7BtbXCLUbna1zyx4s1ah3-nG0QiJsQjGKsKK7yyeg0z4kd6AfwunQVtZPWKHouBE6ssn9JCfu8ecnWXBILij7av-LGcGp8tYfy9xGiQe~YrZpQDQl4mku3n6ssAzh0EuzDuBvPF0iZbVn28okD4b5-FOmEYI~2tDYXEQPxQfS65Bkkxo~YUB0LZ07RFqhrSz~T~8PZgGbHzgCFj5wC4~SLrBocEA__&Key-Pair-Id=K2TK3EG287XSFC\" style=\"border-style: solid; width: 808.993px; height: 502.986px;\" /></p>\r\n\r\n<p>As&nbsp;per the new Alternate Login flow when the user enters the login credentials there is a new auth server call from the UI for validation. The auth server checks for the online and offline mode and based on the login identity type being external makes a third party call for authenticating the user. If the user authentication passed based on the third party response then the system&nbsp;hashes the password in PIN&nbsp;field and provides the auth token to proceed with the login. These passwords are also imported to the edge server by a scheduled job detailed later in the document.</p>\r\n\r\n<p><strong>Alternate Login - Process Flow Diagram : </strong>This flow details the auth server authentication process for the&nbsp;new Alternate Login flow.</p>\r\n\r\n<p><img alt=\"\" src=\"https://dzf8vqv24eqhg.cloudfront.net/userfiles/4665/7671/ckfinder/images/Alternate%20Login%20-%20Process%20Flow.png?Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly9kemY4dnF2MjRlcWhnLmNsb3VkZnJvbnQubmV0L3VzZXJmaWxlcy80NjY1Lzc2NzEvY2tmaW5kZXIvaW1hZ2VzL0FsdGVybmF0ZSUyMExvZ2luJTIwLSUyMFByb2Nlc3MlMjBGbG93LnBuZyIsIkNvbmRpdGlvbiI6eyJEYXRlTGVzc1RoYW4iOnsiQVdTOkVwb2NoVGltZSI6MTc1NDc1NDA5MX19fV19&Signature=VRLnMAuO71UoMxTU20QZNzRnr4iebByDH-J8tCfWJireSrzgZT1rlj3atjlV2J7h0wqRhv71du7dTD8Kzr9HkPGlybdjDhbkkuVzOLHe~iduyu-OvUN1QBeuCmq0UTIU7hSDI98DlJgUQvI0i6oxtPSdte2zwc1aY8nM1AM9fSrIMV~5lJwDXe0-fTU~GCQeKU9O-KE7HahCmMTRIapk2c827hgzNbWXqNsMHM742pjci9rmQSf3ZD8C~X3AlbONAbjMG1CR8yrV7HWjMN1pDkkIrOiylzK35ctX7rlGm5mfcqwLLGh-oBPDwJeQ~~HETDGVj1AdNi9QQI0lslV1Vw__&Key-Pair-Id=K2TK3EG287XSFC\" style=\"border-style: solid; width: 810.995px; height: 485.984px;\" /></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<div class=\"warning\">&nbsp;This feature is not supported for&nbsp;SAML login mode.&nbsp;</div>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>A Toggle Button (Alternate Login) is added at the General Settings screen which enables the user to switch between the existing auth sever login process and the new Alternate Login process. This can be accessed once the user logs in to the app. However, access to this Toggle Button is limited and controlled by means of Grants.&nbsp;</p>\r\n\r\n<p>Users with Grant &quot;<strong>ui::store::login::custom</strong>&quot; can view the new Alternate Login toggle button in the General Settings Screen.</p>\r\n\r\n<p>Once the user with the Grants changes the Toggle Button value and clicks on the Save button, the application logs out the user and takes them to the Login page based on the toggle button value. If the Toggle Button value is set to Yes the app opens the new Alternate Login screen else the current login page from the auth server is displayed.</p>\r\n\r\n<p>The initial value of the toggle button is set based on the UI business flag &ldquo;<strong>Alternate_Login</strong>&rdquo; which is passed as the Jenkins build parameter.</p>\r\n\r\n<p>The <strong>Manage PIN</strong> option is removed from the POS tab of the General Settings Screen when the &ldquo;<strong>Alternate_Login</strong>&rdquo; is set to True during the build process.</p>\r\n\r\n<p>When the Alternate Login is selected a common username and password is used to login to both Online and Offline app.</p>\r\n\r\n<h4><a name=\"manager-override-functionality\" id=\"manager-override-functionality\"></a>Manager Override Functionality</h4>\r\n\r\n<p>In the new process when the Alternate Login is selected, the Manager override functionality is modified to authenticate using username and password instead of PIN.</p>\r\n\r\n<p>Manager Override functionality requires the user with manager grants to enter the pin to authenticate the transaction. This authentication option can show up in different scenarios like Void functionality (Item, transaction), Override (Price, Shipping, Tax, Tax Exempt), Suspend/ Resume Transaction, Returns/Exchange, Gift Receipt etc. All these options depend on the specific Grants tied to the customer. If the user does not have access to the grants they cannot perform the required function and the manager override screen pops up. User with the available grants can then enter their credentials and approve the required override.</p>\r\n\r\n<p>Currently, in the Manager Override functionality the user authentication happens from the organizational database. With the new Alternate Login flow the authentication process is routed via the auth server. An API call is made to get the auth token from the authserver which is then passed to Check Only Or Check and Forward API for validation.</p>\r\n\r\n<p>The below flowchart details the process flow for the Manager Override functionality.</p>\r\n\r\n<p><img alt=\"\" src=\"https://dzf8vqv24eqhg.cloudfront.net/userfiles/4665/7671/ckfinder/images/Manager%20Override(1).png?Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly9kemY4dnF2MjRlcWhnLmNsb3VkZnJvbnQubmV0L3VzZXJmaWxlcy80NjY1Lzc2NzEvY2tmaW5kZXIvaW1hZ2VzL01hbmFnZXIlMjBPdmVycmlkZSgxKS5wbmciLCJDb25kaXRpb24iOnsiRGF0ZUxlc3NUaGFuIjp7IkFXUzpFcG9jaFRpbWUiOjE3NTQ3NTQwOTF9fX1dfQ__&Signature=jbmyCfF5unG0PIZ9oH6oYHLIUV94vw05rW4TjCoB-uoqWNRg064wdMHnsgSozg12Ql7Q0a28oDc9htVbD38x2rgq4YjL-CXrAngd62HLgusyUWs5CYbrwRTQnExXtkpMckwTn~bim24XASC4S8Wp2mHQmRUfcOTO0ypCi2bVfqIUTkXg0NYNmFTsF8gGrE2njEYdx5ikryIUu16m1iV7PDa8OTDMqH5ADrhpz5q5Fo6c1ELFUhFysvXwQWx-ZXqaoUhtK~u7j8pImGnAQ95dOcLsiz2A3l1KV2jDbQYi7G7CxzBwN5YYfGPRbIvvyzitvtnrNt~CRzqR~JN0JNdtOg__&Key-Pair-Id=K2TK3EG287XSFC\" style=\"border-style: solid; width: 807.998px; height: 623.993px;\" /></p>\r\n\r\n<h4><a name=\"user-data-sync-from-online-to-offline\" id=\"user-data-sync-from-online-to-offline\"></a>User Data Sync from Online to Offline</h4>\r\n\r\n<p>In the new Alternate Login process a&nbsp;common Username and Password is maintained for an individual user which is used to login to both Online and Offline application.</p>\r\n\r\n<p>Both Online and Offline app has to be in sync with the user credentials to work seamlessly. To achieve this a new scheduler job &ldquo;<strong>inboundSyncUser&rdquo;</strong> is created which syncs the location specific user data from the Online to Offline server. This job is scheduled to execute every 4 hour.&nbsp;</p>\r\n\r\n<h4><a name=\"user-exit\" id=\"user-exit\"></a>User Exit</h4>\r\n\r\n<p>A User Exit is included at the Login button from the UI. This is to provide the capability to maintain the Xref functionality for the username. This can be used to customize the app further and use short name to access the application instead of entering the complete name with the domain id.</p>\r\n\r\n<h4><a name=\"services-nbsp\" id=\"services-nbsp\"></a>Services&nbsp;</h4>\r\n\r\n<p>The API services listed below are related to Alternate Login.&nbsp;Refer to API documentation for additional details on&nbsp;each service.</p>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width:500px;\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"col\" style=\"width: 141px; white-space: nowrap;\">Service</th>\r\n\t\t\t<th scope=\"col\" style=\"width: 23px; white-space: nowrap;\">Component</th>\r\n\t\t\t<th scope=\"col\" style=\"width: 121px; white-space: nowrap;\">Group</th>\r\n\t\t\t<th scope=\"col\" style=\"width: 356px; white-space: nowrap;\">Service Endpoint</th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 139px; white-space: nowrap;\">Login &amp; Manager Override Login</td>\r\n\t\t\t<td style=\"width: 20px; white-space: nowrap;\">Authserver</td>\r\n\t\t\t<td style=\"width: 118px; white-space: nowrap;\">Alternate Login</td>\r\n\t\t\t<td style=\"width: 353px; white-space: nowrap;\">https://{clientid}:{clientsecret}@{authUrl}/oauth/token</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 139px; white-space: nowrap;\">Check And Forward(Existing)</td>\r\n\t\t\t<td style=\"width: 20px; white-space: nowrap;\">POSService</td>\r\n\t\t\t<td style=\"width: 118px; white-space: nowrap;\">Manager Override</td>\r\n\t\t\t<td style=\"width: 353px; white-space: nowrap;\">storefacade/api/storefacade/posservice/override/command/{command}</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 139px; white-space: nowrap;\">Check Only&nbsp;(Existing)</td>\r\n\t\t\t<td style=\"width: 20px; white-space: nowrap;\">POSService</td>\r\n\t\t\t<td style=\"width: 118px; white-space: nowrap;\">Manager Override</td>\r\n\t\t\t<td style=\"width: 353px; white-space: nowrap;\">storefacade/api/storefacade/posservice/override/command/{command}</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 139px; white-space: nowrap;\">Validate Auth Token For User</td>\r\n\t\t\t<td style=\"width: 20px; white-space: nowrap;\">AuthServer</td>\r\n\t\t\t<td style=\"width: 118px; white-space: nowrap;\">Manager Override - Login</td>\r\n\t\t\t<td style=\"width: 353px; white-space: nowrap;\">authserver/api/authserver/user</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 139px; white-space: nowrap;\">User Search</td>\r\n\t\t\t<td style=\"width: 20px; white-space: nowrap;\">Organization</td>\r\n\t\t\t<td style=\"width: 118px; white-space: nowrap;\">User Data Sync Scheduler</td>\r\n\t\t\t<td style=\"width: 353px; white-space: nowrap;\">organization/api/organization/user/search</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 139px; white-space: nowrap;\">User Save</td>\r\n\t\t\t<td style=\"width: 20px; white-space: nowrap;\">Organization</td>\r\n\t\t\t<td style=\"width: 118px; white-space: nowrap;\">User Data Sync Scheduler</td>\r\n\t\t\t<td style=\"width: 353px; white-space: nowrap;\">organization/api/organization/user/save</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<div class=\"tip\"><strong>Note:</strong> Below is the API Details for Login &amp; Manager Override which is not available on the API documentation page.&nbsp;<br />\r\n<br />\r\nURL:&nbsp;https://{clientid}:{clientsecret}@{authUrl}/oauth/token<br />\r\n<br />\r\nRequest:&nbsp;<br />\r\n{<br />\r\n&quot;grant_type&quot;:&quot;password&quot;<br />\r\n&quot;username&quot;: {Username}<br />\r\n&quot;password&quot;: {Password}<br />\r\n}</div>\r\n\r\n\t  </div>\r\n </div>\r\n <div id=\"ui-page-fb-wrap\"></div>\r\n <div class=\"hiq-footer-wrap\">\r\n    \r\n                \r\n  </div>\r\n\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n",
  "content_length": 13097,
  "scraped_at": "2025-08-09T22:36:32.084819"
}