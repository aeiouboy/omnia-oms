{
  "success": true,
  "permalink": "shopify-inventory-integration",
  "title": "Inventory Integration with Shopify",
  "content": "\r\n\r\n\r\n<div class=\"hiq-page-wrap\">\r\n<div class=\"hiq-t-wrap\">\r\n\t\t\r\n  \t  <div class=\"hiq-t \">\r\n\t\t\t\t<ul class=\"breadcrumbs\"><li><a class=\"breadcrumb-links\" hqid=\"1788908\"  href=\"/home\">Home</a></li> <li><span>&rsaquo;&rsaquo;</span><a hqid=\"3500940\" href=\"/omni\" class=\"breadcrumb-links\">Manhattan Active® Omni</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158393\" href=\"/order-management\" class=\"breadcrumb-links\">Order Management</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158394\" href=\"/process-configuration-guides\" class=\"breadcrumb-links\">Process & Configuration Guides</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158718\" href=\"/order-processing-2\" class=\"breadcrumb-links\">Order Processing</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"3424098\" href=\"/shopify-integration\" class=\"breadcrumb-links\">Shopify Integration</a></li><li> <span>››</span>Inventory Integration with Shopify</li></ul>  \t\r\n\t\t<h2>How to Integrate with Shopify Inventory</h2>\r\n\r\n<p></p>\r\n\r\n<a href=\"/shopify-technical-integration\" hqid=\"3424099\">Previous</a>&nbsp;I&nbsp;<a href=\"/shopify-order-integration\" hqid=\"3424103\">Next</a>\r\n<div class=\"info\"><ul><li><a href=\"/shopify-inventory-integration$overview\">Overview</a></li><li><a href=\"/shopify-inventory-integration$publish-availability-nbsp-alerts\">Publish Availability&nbsp;Alerts</a></li><li><a href=\"/shopify-inventory-integration$publish-availability-sync\">Publish Availability Sync</a></li><li><a href=\"/shopify-inventory-integration$shopify-apis-called\">Shopify APIs Called</a><ul><li><a href=\"/shopify-inventory-integration$query-inventory-item\">Query Inventory Item</a></li><li><a href=\"/shopify-inventory-integration$inventorysetquanties-mutation\">inventorySetQuanties Mutation</a></li></ul></li><li><a href=\"/shopify-inventory-integration$configuration\">Configuration</a><ul><li><a href=\"/shopify-inventory-integration$shopify-location-configuration\">Shopify Location Configuration</a></li><li><a href=\"/shopify-inventory-integration$view-configuration\">View Configuration</a></li><li><a href=\"/shopify-inventory-integration$shopify-connectivity-configuration\">Shopify Connectivity Configuration</a></li></ul></li><li><a href=\"/shopify-inventory-integration$error-handling\">Error Handling</a></li><li><a href=\"/shopify-inventory-integration$implementation-flavors\">Implementation flavors</a><ul><li><a href=\"/shopify-inventory-integration$how-can-shopify-be-notified-of-the-intraday-inventory-updates-if-no-availability-alert-is-published\">How can Shopify be notified of the intraday inventory updates if no availability alert is published?</a></li></ul></li><li><a href=\"/shopify-inventory-integration$related-articles\">Related Articles</a></li></ul></div>\r\n\r\n<h3><a name=\"overview\" id=\"overview\"></a>Overview</h3>\r\n\r\n<p>The out-of-the-box integration with Shopify covers synchronization of the inventory available to sell on the e-commerce platform. Manhattan Active®&nbsp;Order Management computes and owns the availability of inventory for each selling channel. See <a href=\"https://omni.helpdocsonline.com/how-is-availability-computed\">Available to commerce</a> for more information on how the availability is computed.&nbsp;</p>\r\n\r\n<p>Once the availability number is computed, it is communicated to e-commerce using Availability Syncs and Availability Alerts. See <a href=\"https://omni.helpdocsonline.com/publish-availability\">Publish Availability</a> for more information on syncs and alerts. The out-of-the-box integration then calls&nbsp;Shopify's inventorySetQuantities mutation on the Admin Graph QL Shopify API to set available quantities of each item on Shopify.&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><a name=\"publish-availability-nbsp-alerts\" id=\"publish-availability-nbsp-alerts\"></a>Publish Availability&nbsp;Alerts</h3>\r\n\r\n<p>When available inventory is updated so that it crosses an availability threshold, an alert is published by the view to update Shopify's available inventory.&nbsp;</p>\r\n\r\n<p><img src=\"https://dzf8vqv24eqhg.cloudfront.net/userfiles/4665/7671/ckfinder/images/qu/5485/image.png?Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly9kemY4dnF2MjRlcWhnLmNsb3VkZnJvbnQubmV0L3VzZXJmaWxlcy80NjY1Lzc2NzEvY2tmaW5kZXIvaW1hZ2VzL3F1LzU0ODUvaW1hZ2UucG5nIiwiQ29uZGl0aW9uIjp7IkRhdGVMZXNzVGhhbiI6eyJBV1M6RXBvY2hUaW1lIjoxNzU0NzUzOTYxfX19XX0_&Signature=TmYN2SfLjotZN-TO-n3uwCuK7deROjhJ7OSEevoJRsOdjkhRYWLJHtHgl2-zvLcfVfWYZlyAehPI-N-Rr9VtxW5yn1Be33PoXe2z8Y1NuHqopomY2iT98-zphu13fe-2yadB9Nmkq26zYD-aOsxQZUfjP7BPPXj5XsimsmXsWpTE3X7EeT0IXpRgAhELKjIqPMf9yrL8Q1EchQLduYZi0t~Z3I1659Mcfavj9vecqnDQuOtz6gB6ISe7EaMRiIAHaiB~euGTUPhaSn3QtEzKcRhDQPKWQTiWNtwXgcfLfPRrv-3Jw1UGzV7hmfeuQwhKibuEoX-KSU7bT1KQeKuBZA__&Key-Pair-Id=K2TK3EG287XSFC\" style=\"border-style: solid; width: 600px; height: 911px;\"></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><a name=\"publish-availability-sync\" id=\"publish-availability-sync\"></a>Publish Availability Sync</h3>\r\n\r\n<p>When a network view is configured to publish an availability sync, either on demand or via a scheduled process, available quantities are updated in Shopify for all items present in the sync.&nbsp;</p>\r\n\r\n<p><img height=\"1311\" src=\"https://dzf8vqv24eqhg.cloudfront.net/userfiles/4665/7671/ckfinder/images/qu/2025/image(176).png?Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly9kemY4dnF2MjRlcWhnLmNsb3VkZnJvbnQubmV0L3VzZXJmaWxlcy80NjY1Lzc2NzEvY2tmaW5kZXIvaW1hZ2VzL3F1LzIwMjUvaW1hZ2UoMTc2KS5wbmciLCJDb25kaXRpb24iOnsiRGF0ZUxlc3NUaGFuIjp7IkFXUzpFcG9jaFRpbWUiOjE3NTQ3NTM5NjF9fX1dfQ__&Signature=CW8Vu3newChKLEwxatK6hqRwOzT~UOsx7KO8JxP8qrY9euC6WpbvBo9G7FiZedDpeU~~Z-J5hISwnl8fNujNcyQQXMOiW0ZBMxWETGVEXezUYVc8XMmjyvcsmaYS26jgjd2wy7BM4Wy-vHXnlcfN25-Y35NbLWvopuuZkKVeiQbZuP9EEs6yUF~meUGEebBi-9IG1yj~5NRR~NUEh6l8ZcgGeeqjfDibQaB8ft1HyYInN8wI3KDZzlStT1p3szfesbQj7k5fvoQgCttc7BQ0KB~K77w1YFLYU-c4~Z~iJcTcj7ekubIeuUxRdKMa7gtQVqf45DSiOXA-qqJn6G-UmA__&Key-Pair-Id=K2TK3EG287XSFC\" width=\"1058\"></p>\r\n\r\n<h3><a name=\"shopify-apis-called\" id=\"shopify-apis-called\"></a>Shopify APIs Called</h3>\r\n\r\n<h4><a name=\"query-inventory-item\" id=\"query-inventory-item\"></a>Query Inventory Item</h4>\r\n\r\n<p>To get the Shopify inventory items, the Admin Graph QL Shopify API is called with the query below.&nbsp;</p>\r\n\r\n<div class=\"computer_code\">{<br>\r\n&nbsp; inventoryItems(first: 1, query: \"(sku:&lt;item ID&gt;)\") {<br>\r\n&nbsp; &nbsp; edges {<br>\r\n&nbsp; &nbsp; &nbsp; node {<br>\r\n&nbsp; &nbsp; &nbsp; &nbsp; id<br>\r\n&nbsp; &nbsp; &nbsp; &nbsp; sku<br>\r\n&nbsp; &nbsp; &nbsp; }<br>\r\n&nbsp; &nbsp; }<br>\r\n&nbsp; }<br>\r\n}</div>\r\n\r\n<p>Shopify API responds with the Shopify inventory item ID. This Shopify inventory item ID is then used to update available quantities.&nbsp;</p>\r\n\r\n<div class=\"computer_code\">{<br>\r\n&nbsp; \"data\": {<br>\r\n&nbsp; &nbsp; \"inventoryItems\": {<br>\r\n&nbsp; &nbsp; &nbsp; \"edges\": [<br>\r\n&nbsp; &nbsp; &nbsp; &nbsp; {<br>\r\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \"node\": {<br>\r\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \"id\": \"gid://shopify/InventoryItem/45454635892780\",<br>\r\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \"sku\": \"&lt;item ID&gt;\"<br>\r\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>\r\n&nbsp; &nbsp; &nbsp; &nbsp; }<br>\r\n&nbsp; &nbsp; &nbsp; ]<br>\r\n&nbsp; &nbsp; }<br>\r\n&nbsp; }<br>\r\n}</div>\r\n\r\n<h4><a name=\"inventorysetquanties-mutation\" id=\"inventorysetquanties-mutation\"></a>inventorySetQuanties Mutation</h4>\r\n\r\n<p>To update available quantities on the Shopify platform, the Admin Graph QL API is called with the bellow mutation.&nbsp;</p>\r\n\r\n<div class=\"tip\">This mutation is available in the 2024-07 Shopify API version.</div>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"col\">Graph QL mutation</th>\r\n\t\t\t<th scope=\"col\">Inputs</th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td>\r\n\t\t\t<div class=\"computer_code\">mutation inventorySetQuantities($input: InventorySetQuantitiesInput!) {<br>\r\n\t\t\t&nbsp; inventorySetQuantities(input: $input) {<br>\r\n\t\t\t&nbsp; &nbsp; userErrors {<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; field<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; message<br>\r\n\t\t\t&nbsp; &nbsp; }<br>\r\n\t\t\t&nbsp; &nbsp; inventoryAdjustmentGroup {<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; createdAt<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; reason<br>\r\n\t\t\t&nbsp; &nbsp; }<br>\r\n\t\t\t&nbsp; }<br>\r\n\t\t\t}</div>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<div class=\"computer_code\">{<br>\r\n\t\t\t&nbsp; \"input\": {<br>\r\n\t\t\t&nbsp; &nbsp; \"name\": \"available\",<br>\r\n\t\t\t&nbsp; &nbsp; \"reason\": \"other\",<br>\r\n\t\t\t&nbsp; &nbsp; \"ignoreCompareQuantity\": true,<br>\r\n\t\t\t&nbsp; &nbsp; \"quantities\": [<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; {<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; \"inventoryItemId\": \"gid://shopify/InventoryItem/45478057443372\",<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; \"locationId\": \"gid://shopify/Location/69192777772\",<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; \"quantity\": 13<br>\r\n\t\t\t&nbsp; &nbsp; &nbsp; }<br>\r\n\t\t\t&nbsp; &nbsp; ]<br>\r\n\t\t\t&nbsp; }<br>\r\n\t\t\t}</div>\r\n\r\n\t\t\t<p>In this input, use the Shopify inventory item ID and the Shopify inventory location ID.</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<p>If there are no errors, the available quantities are updated on Shopify.</p>\r\n\r\n<h3><a name=\"configuration\" id=\"configuration\"></a>Configuration</h3>\r\n\r\n<h4><a name=\"shopify-location-configuration\" id=\"shopify-location-configuration\"></a>Shopify Location Configuration</h4>\r\n\r\n<p>Shopify's available inventory has to be associated with a Shopify location. Implementations are expected to create a dummy location on Shopify's site that represents the network availability view associated with that e-commerce site.&nbsp;</p>\r\n\r\n<p>All items must be activated in that location. Item Activation is a Shopify concept that mandates linking of the inventory item to the location. It is important to note that&nbsp;when an item is created on Shopify, it is automatically activated in the Shopify store's default location.&nbsp;</p>\r\n\r\n<h4><a name=\"view-configuration\" id=\"view-configuration\"></a>View Configuration</h4>\r\n\r\n<p>The configurations below are mandatory in the View:&nbsp;</p>\r\n\r\n<ul>\r\n\t<li>It must be a network view.</li>\r\n\t<li>\"Publish notifications on inventory status change\" and \"Publish Quantity\" must be set to true in the Publish availability section of the view.</li>\r\n\t<li>The Inventory Status thresholds must be configured in the Publish Availability section of the view.</li>\r\n\t<li>In Publish Availability &gt; Additional settings, \"Publish To Shopify\" must be set to true.</li>\r\n</ul>\r\n\r\n<h4><a name=\"shopify-connectivity-configuration\" id=\"shopify-connectivity-configuration\"></a>Shopify Connectivity Configuration</h4>\r\n\r\n<div class=\"tip\">Prerequisites: All the steps of the connectivity configuration must be done. See <a href=\"https://omni.helpdocsonline.com/shopify-technical-integration$configuration\">How to Connect to Shopify</a> for more information.&nbsp;</div>\r\n\r\n<p>In the Shopify Configuration UI, to be able to send availability information to the Shopify store, it is required to enter the below values:&nbsp;</p>\r\n\r\n<ul>\r\n\t<li><strong>View Name</strong> - The network view containing availability to publish to Shopify. See <a href=\"https://omni.helpdocsonline.com/shopify-inventory-integration$view-configuration\">View configuration</a> for more details.&nbsp;</li>\r\n\t<li><strong>Location ID</strong> - This is the Shopify location used to maintain inventory. See <a href=\"http://omni.helpdocsonline.com/shopify-inventory-integration$shopify-location-configuration\">Shopify location configuration</a> for more details.&nbsp;\r\n\t<ul>\r\n\t\t<li>Here, the location ID is required, not the location name. The Location ID can be accessed by calling the Shopify Admin Graphql API in query mode. An example of location ID is: \"gid://shopify/Location/69192777773\".</li>\r\n\t</ul>\r\n\t</li>\r\n\t<li><strong>Publish availability when Shopify inventory falls below</strong> -&nbsp;Manhattan&nbsp;Active® Omni triggers availability publishing&nbsp;when:\r\n\t<ul>\r\n\t\t<li>The Shopify inventory for a given item falls below the threshold.</li>\r\n\t\t<li>And the view availability is above the threshold.&nbsp;</li>\r\n\t</ul>\r\n\t</li>\r\n</ul>\r\n\r\n<div class=\"tip\"><strong>Note</strong>: If the view availability is also below the threshold, then no availability message is published. It is assumed that the limited stock or the out-of-stock alert would be used to correct any discrepancies.&nbsp;</div>\r\n\r\n<h3><a name=\"error-handling\" id=\"error-handling\"></a>Error Handling</h3>\r\n\r\n<p>In cases where an availability update fails&nbsp;in Shopify, a failed message is published for future reprocessing. A list of possible reasons for failure is detailed below:&nbsp;</p>\r\n\r\n<ul>\r\n\t<li>If the Location ID is not configured properly in the Shopify configuration</li>\r\n\t<li>If the item is not activated in the Shopify location</li>\r\n\t<li>If there is an error in the response of Shopify APIs</li>\r\n\t<li>If any Shopify endpoint does not return what is expected</li>\r\n</ul>\r\n\r\n<p>If the root cause is or configuration related, fix the root cause and reprocess the failed message.&nbsp;</p>\r\n\r\n<div class=\"warning\">In the case of a sync message, if there is one item update that is failing, availability will not be updated for that item&nbsp;in the message.&nbsp; However, no failed message will be persisted. The failed item is available in the logs only.&nbsp;</div>\r\n\r\n<h3><a name=\"implementation-flavors\" id=\"implementation-flavors\"></a>Implementation flavors</h3>\r\n\r\n<h4><a name=\"how-can-shopify-be-notified-of-the-intraday-inventory-updates-if-no-availability-alert-is-published\" id=\"how-can-shopify-be-notified-of-the-intraday-inventory-updates-if-no-availability-alert-is-published\"></a>How can Shopify be notified of the intraday inventory updates if no availability alert is published?</h4>\r\n\r\n<p>It is possible that availability changes in Manhattan Active® Omni without Shopify being notified. That happens between availability sync if the availability change does not cross a view threshold. See example below.&nbsp;</p>\r\n\r\n<p><div class=\"toggle_outerdiv\"><p class=\"toggle_div\"><a href=\"#tg-1\" class=\"toggle-content\"><span class=\"toggle-title\">Example - Intra day movement and Shopify availability</span></a></p><div id=\"tg-1\"><p>Let&#39;s assume the Network view is configured so that: In Stock &lt; 50 &lt; Limited Stock &lt; 5 &lt; Out of stock.&nbsp;</p>\n\n<p>At time t0, the sync runs:&nbsp;<br />\n&nbsp; &nbsp;Manhattan Active&reg; Omni Availability = 100, Status In stock<br />\n&nbsp; &nbsp;Shopify visible inventory = 100</p>\n\n<p>At time t1, MA Omni receives 500 units:&nbsp;<br />\n&nbsp; &nbsp;MA Omni availability = 600, Status In stock, no alert is published<br />\n&nbsp; &nbsp;Shopify visible inventory = 100</p>\n\n<p>At time t2, Shopify sold 100 units:&nbsp;<br />\n&nbsp; &nbsp;&nbsp;MA Omni Availability = 500, Status In Stock, no alert is published<br />\n&nbsp; &nbsp;Shopify visible inventory = 0</p>\n\n<p>In this case, Shopify is not able to sell until the availabiltiy sync runs or an alert is published.&nbsp;</p>\n</div></div></p>\r\n\r\n<p>In that case, to avoid Shopify being too out of sync and missing sales before the availability sync runs again, it is possible to configure an additional threshold in the Shopify Configuration. See the same example above but with a threshold configured.&nbsp;</p>\r\n\r\n<p><div class=\"toggle_outerdiv\"><p class=\"toggle_div\"><a href=\"#tg-2\" class=\"toggle-content\"><span class=\"toggle-title\">Example - Intra day movement and Shopify availability with threshold</span></a></p><div id=\"tg-2\"><p>Let&#39;s assume the Network view is configured so that: In Stock &lt; 50 &lt; Limited Stock &lt; 5 &lt; Out of stock. Let&#39;s also assume that the Shopify Configuration is configured to publish availability to Shopify when the Shopify inventory hits 5 units.</p>\n\n<p>At time t0, the sync runs:&nbsp;<br />\n&nbsp; &nbsp;Manhattan Active&reg; Omni Availability = 100, Status In stock<br />\n&nbsp; &nbsp;Shopify visible inventory = 100</p>\n\n<p>At time t1, MA Omni receives 500 units:&nbsp;<br />\n&nbsp; &nbsp;MA Omni availability = 600, Status In stock, no alert is published<br />\n&nbsp; &nbsp;Shopify visible inventory = 100</p>\n\n<p>At time t2, Shopify sold 95 units:&nbsp;<br />\n&nbsp; &nbsp;MA Omni Availability = 505, Status In Stock, no alert is published<br />\n&nbsp; &nbsp;Shopify visible inventory = 5. Shopify triggers an inventory check in MA Omni</p>\n\n<p>At time t2bis, MA Omni publishes the current availability back to Shopify:<br />\n&nbsp; &nbsp;MA Omni availability = 505, Status In Stock<br />\n&nbsp; &nbsp;Shopify visible inventory = 505</p>\n\n<p>In this case Shopify is now up to date on the availability again.&nbsp;</p>\n</div></div></p>\r\n\r\n<h3><a name=\"related-articles\" id=\"related-articles\"></a>Related Articles</h3>\r\n\r\n<div class=\"info\"><ul class=\"related-articles\"><li><a href=\"/shopify-payment-integration\" hqid=\"3424119\">Payment Integration with Shopify</a></li><li><a href=\"/shopify-technical-integration\" hqid=\"3424099\">Shopify Technical Integration</a></li><li><a href=\"/shopify-shop-pay-only-stores\" hqid=\"3590067\">Shop Pay Integration</a></li><li><a href=\"/shopify-order-integration\" hqid=\"3424103\">Order Integration with Shopify</a></li></ul></div>\r\n\r\n<p>&nbsp;</p>\r\n\r\n\t  </div>\r\n </div>\r\n <div id=\"ui-page-fb-wrap\"></div>\r\n <div class=\"hiq-footer-wrap\">\r\n    \r\n                \r\n  </div>\r\n\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n",
  "content_length": 17237,
  "scraped_at": "2025-08-09T22:34:21.466756"
}