{
  "id": "3328004",
  "permalink": "product-recommendations",
  "title": "Product Recommendations",
  "type": "topic",
  "level": 5,
  "path": "Manhattan Active® Omni/Order Management/Process & Configuration Guides/Customer Service/Marketplace and Recommendations/Product Recommendations",
  "raw_item": {
    "id": "3328004",
    "text": "Product Recommendations",
    "title": "Product Recommendations",
    "permalink": "product-recommendations",
    "leaf": false,
    "droppable": true,
    "expanded": true,
    "closed": true,
    "visible": true,
    "editable": true,
    "type": "topic",
    "topicType": "0",
    "status": "1",
    "iconCls": "icon-topic",
    "cls": "",
    "folder_id": "413750",
    "parent": "f;413750",
    "created_date": "1699991406",
    "modified_date": "1726125319",
    "instructor_id": null,
    "loaded": true,
    "haschildren": false,
    "callout": "0",
    "order": "2"
  },
  "success": true,
  "content": "\r\n\r\n\r\n<div class=\"hiq-page-wrap\">\r\n<div class=\"hiq-t-wrap\">\r\n\t\t\r\n  \t  <div class=\"hiq-t \">\r\n\t\t\t\t<ul class=\"breadcrumbs\"><li><a class=\"breadcrumb-links\" hqid=\"1788908\"  href=\"/home\">Home</a></li> <li><span>&rsaquo;&rsaquo;</span><a hqid=\"3500940\" href=\"/omni\" class=\"breadcrumb-links\">Manhattan Active® Omni</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158393\" href=\"/order-management\" class=\"breadcrumb-links\">Order Management</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158394\" href=\"/process-configuration-guides\" class=\"breadcrumb-links\">Process & Configuration Guides</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158820\" href=\"/customer-service\" class=\"breadcrumb-links\">Customer Service</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"3341521\" href=\"/new-folder-2\" class=\"breadcrumb-links\">Marketplace and Recommendations</a></li><li> <span>››</span>Product Recommendations</li></ul>  \t\r\n\t\t<h2><a name=\"product-recommendations\" id=\"product-recommendations\"></a>Product Recommendations</h2>\r\n\r\n<p></p>\r\n\r\n<div class=\"info\"><ul><li><a href=\"/product-recommendations$product-recommendations\">Product Recommendations</a><ul><li><a href=\"/product-recommendations$overview\">Overview</a></li><li><a href=\"/product-recommendations$recommendations-in-nbsp-manhattan-active-reg-omni\">Recommendations In&nbsp;Manhattan Active&reg; Omni</a></li><li><a href=\"/product-recommendations$recommendation-type\">Recommendation Type</a></li><li><a href=\"/product-recommendations$recommendation-request\">Recommendation Request</a></li><li><a href=\"/product-recommendations$recommendation-response\">Recommendation Response</a><ul><li><a href=\"/product-recommendations$recommended-products-and-filtered-products\">Recommended Products and Filtered Products</a></li><li><a href=\"/product-recommendations$remove-network-out-of-stock\">Remove Network Out of Stock</a></li></ul></li><li><a href=\"/product-recommendations$recommendation-engine-integration\">Recommendation Engine Integration</a><ul><li><a href=\"/product-recommendations$product-recommendation-user-exit\">Product Recommendation User Exit</a></li><li><a href=\"/product-recommendations$recommendation-engine-response\">Recommendation Engine Response</a></li></ul></li><li><a href=\"/product-recommendations$annotations\">Annotations</a><ul><li><a href=\"/product-recommendations$location-availability\">Location Availability</a></li><li><a href=\"/product-recommendations$ships-with-cart\">Ships With Cart</a></li><li><a href=\"/product-recommendations$product-deal-name\">Product Deal Name</a></li><li><a href=\"/product-recommendations$refresh-annotations\">Refresh Annotations</a></li></ul></li><li><a href=\"/product-recommendations$extensibility\">Extensibility</a><ul><li><a href=\"/product-recommendations$edit-product-recommendation-request-user-exit\">Edit Product Recommendation Request User Exit</a></li></ul></li><li><a href=\"/product-recommendations$configuration\">Configuration</a><ul><li><a href=\"/product-recommendations$product-recommendations-configuration-ui\">Product Recommendations Configuration UI</a></li><li><a href=\"/product-recommendations$recommendation-nbsp-configuration\">Recommendation&nbsp;Configuration</a></li><li><a href=\"/product-recommendations$annotation-nbsp-configuration\">Annotation&nbsp;Configuration</a></li></ul></li><li><a href=\"/product-recommendations$related-articles\">Related Articles</a></li></ul></li></ul></div>\r\n\r\n<h3><a name=\"overview\" id=\"overview\"></a>Overview</h3>\r\n\r\n<p>Manhattan Active&reg; Omni provides the ability&nbsp;to integrate with a third-party product recommendation engine to display a list of recommended products on certain user interfaces. The product recommendation API is leveraged for this and serves as a standard request and response layer to request and receive product information from an external recommendation service.&nbsp;The product recommendation API can be called with a variety of inputs to support multiple types of third-party product recommendation models, and multiple types of calling system. The recommendation API requires a third-party recommendation engine integration to be setup that is not provided out of the box.</p>\r\n\r\n<p>The following table provides a summary of each function&nbsp;of the recommendation API.</p>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"col\"><strong>Recommendation API Function</strong></th>\r\n\t\t\t<th scope=\"col\"><strong>Description</strong></th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td>General API request</td>\r\n\t\t\t<td>\r\n\t\t\t<p>Calling the recommendation API to trigger an external call to the applicable recommendation service via extension point. The API request includes, at a bare minimum, the selling channel of the calling system. The contents of the request may vary depending on where the request is coming from. As a result, certain functions of the recommendation API may be limited depending on the channel.</p>\r\n\r\n\t\t\t<p>Refer to&nbsp;<a href=\"https://omni.helpdocsonline.com/product-recommendations$recommendation-request\">Recommendation Request</a>&nbsp;and&nbsp;<a href=\"https://omni.helpdocsonline.com/product-recommendations$product-recommendation-user-exit\">Recommendation User Exit</a>&nbsp;for more details.</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>General API response</td>\r\n\t\t\t<td>\r\n\t\t\t<p>Receiving the response from the recommendation engine (via user exit) and enriching the API response to include the description, image, and price of the product that the respective&nbsp;user interface will display.&nbsp;</p>\r\n\r\n\t\t\t<p>Refer to&nbsp;<a href=\"https://omni.helpdocsonline.com/product-recommendations$recommendation-response\">Recommendation Response</a> and <a href=\"https://omni.helpdocsonline.com/product-recommendations$recommendation-engine-response\">Recommendation Engine Response</a>&nbsp;for more details.</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>Remove network out of stock</td>\r\n\t\t\t<td>\r\n\t\t\t<p>Upon receiving a list of products from the recommendation engine, an availability check for each recommended product&nbsp;within the inventory network is performed;&nbsp;products that are not available in the network&nbsp;are removed from the response.</p>\r\n\r\n\t\t\t<p>Refer to&nbsp;<a href=\"https://omni.helpdocsonline.com/product-recommendations$remove-network-out-of-stock\">Remove Network Out of Stock</a>&nbsp;for more details.</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>Filtering by annotation</td>\r\n\t\t\t<td>\r\n\t\t\t<p>Within each annotation type, a configurable filter is available to determine how each recommended product should be returned within&nbsp;the recommendation API response. When enabled, if an annotation cannot be applied to a product, for example, if the product is out of stock at the selected store, this product is returned to a separate list in the response, which serves as a way of ranking products to display those which have been annotated first.</p>\r\n\r\n\t\t\t<p>Refer to <a href=\"https://omni.helpdocsonline.com/product-recommendations$recommended-products-and-filtered-products\">Recommended and Filtered Products</a> for more details.</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>Location availability annotation</td>\r\n\t\t\t<td>\r\n\t\t\t<p>Upon receiving a list of products from the recommendation engine, an availability check for each recommended product at the specified location is performed; and the recommendation response includes a message to indicate that the product is available at the specified location.</p>\r\n\r\n\t\t\t<p>Refer to&nbsp;<a href=\"https://omni.helpdocsonline.com/product-recommendations$location-availability\">Location Availability</a>&nbsp;for more details.</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>Ships with cart annotation</td>\r\n\t\t\t<td>\r\n\t\t\t<p>Upon receiving a list of products from the recommendation engine, an availability check for each recommended product is performed at the allocated or estimated ship from location of the cart. This annotation is used to indicate whether each recommended product can likely&nbsp;ship from the same location as the existing items in the customers&#39; cart, allowing products with a lower probability of creating a split shipment to display first on the recommended products list.</p>\r\n\r\n\t\t\t<p>Refer to <a href=\"https://omni.helpdocsonline.com/product-recommendations$ships-with-cart\">Ships With Cart </a>for more details.</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>Product deal name annotation</td>\r\n\t\t\t<td>\r\n\t\t\t<p>Upon receiving a list of products from the recommendation engine, a check for eligible deals for each recommended product is performed by the promotion service. The eligible deals are displayed in the API response and is used to indicate to the user which items are eligible for promotions if they are added to the order.</p>\r\n\r\n\t\t\t<p>Refer to <a href=\"https://omni.helpdocsonline.com/product-recommendations$product-deal-name\">Product Deal Names</a> for more details.</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<h3><a name=\"recommendations-in-nbsp-manhattan-active-reg-omni\" id=\"recommendations-in-nbsp-manhattan-active-reg-omni\"></a>Recommendations In&nbsp;Manhattan Active&reg; Omni</h3>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"col\"><strong>Component</strong></th>\r\n\t\t\t<th scope=\"col\"><strong>Recommendation Supported In&nbsp;</strong></th>\r\n\t\t\t<th scope=\"col\"><strong>Supported Functions</strong></th>\r\n\t\t\t<th scope=\"col\"><strong>Request Attributes</strong></th>\r\n\t\t\t<th scope=\"col\"><strong>Configuration</strong></th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td>Customer Service</td>\r\n\t\t\t<td>Item Search\r\n\t\t\t<ul>\r\n\t\t\t\t<li>The &#39;Recommended&#39; section in Item Search&nbsp;will be displayed in the Item Details section on the bottom right side of the screen with a list of items from the&nbsp;recommendation engine.</li>\r\n\t\t\t\t<li>Recommendations are fetched&nbsp;when an item is selected.</li>\r\n\t\t\t\t<li>Recommendations are refreshed when a new item is selected.</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>General API request</li>\r\n\t\t\t\t<li>General API response</li>\r\n\t\t\t</ul>\r\n\r\n\t\t\t<p>Refer&nbsp;<a href=\"https://omni.helpdocsonline.com/product-recommendations$recommendation-request\">here&nbsp;</a>for more details on recommendation API functions.</p>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Selling Channel</li>\r\n\t\t\t\t<li>Viewed Items</li>\r\n\t\t\t</ul>\r\n\r\n\t\t\t<p>Refer to the&nbsp;<a href=\"https://omni.helpdocsonline.com/product-recommendations$recommendation-request\">Recommendation&nbsp;Request</a>&nbsp;section for attribute details.</p>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li><a href=\"http://omni.helpdocsonline.com/product-recommendations$recommendation-nbsp-configuration\">General Recommendation Configuration</a>&nbsp;for the &#39;CallCenter&#39; selling channel</li>\r\n\t\t\t\t<li><a href=\"https://omni.helpdocsonline.com/product-recommendations$product-recommendation-user-exit\">Product Recommendation User Exit</a></li>\r\n\t\t\t</ul>\r\n\r\n\t\t\t<p>&nbsp;</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td colspan=\"1\" rowspan=\"3\">DSS</td>\r\n\t\t\t<td>Returns and Exchanges&nbsp;\r\n\t\t\t<ul>\r\n\t\t\t\t<li>The &#39;Recommended&#39; section in Returns and Exchanges&nbsp;will be displayed on the Return Confirmation Page.</li>\r\n\t\t\t\t<li>Recommendations are shown when the Return Confirmation page is loaded.</li>\r\n\t\t\t\t<li>The&nbsp;Product Recommendations will have an item image, a short description and the cost of the item. When the item&nbsp;image is clicked,&nbsp;the user will be redirected to the detail page of that item on the retailer&#39;s e-commerce website.</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>General API request</li>\r\n\t\t\t\t<li>General API response</li>\r\n\t\t\t</ul>\r\n\r\n\t\t\t<p>Refer&nbsp;<a href=\"https://omni.helpdocsonline.com/product-recommendations$recommendation-request\">here&nbsp;</a>for more details on recommendation API functions.</p>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Selling Channel</li>\r\n\t\t\t\t<li>Customer</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Configure the<a href=\"https://omni.helpdocsonline.com/product-recommendations$recommendation-nbsp-configuration\">&nbsp;Recommendation Configuration&nbsp;for Digital Self Service</a>&nbsp;i.e&nbsp;&#39;SelfServe&#39; selling channel.</li>\r\n\t\t\t\t<li>Contact the services team to perform the set-up&nbsp;for&nbsp;<a href=\"https://omni.helpdocsonline.com/product-recommendations$product-recommendation-user-exit\">Product Recommendation User Exit</a>&nbsp;</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t<p>To enable Product Recommendations in DSS, enable the configuration &#39;Enable Product Recommendations in Self Service Pages&#39; in the<a href=\"https://omni.helpdocsonline.com/digital-self-service-configuration$product-recommendations-in-self-service-pages\">&nbsp;Digital Self Service Configuration UI</a>.</p>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>Shipment Tracking\r\n\t\t\t<ul>\r\n\t\t\t\t<li>The &#39;Recommended&#39; section in Shipment Tracking&nbsp;will be displayed on the Shipment Tracking page below the Delivery Information panel and the Shipment Information panel.</li>\r\n\t\t\t\t<li>Recommendations are shown when the Shipment Tracking page is loaded.</li>\r\n\t\t\t\t<li>The&nbsp;Product Recommendations will have an item image, a short description and the cost of the item. When the item&nbsp;image is clicked,&nbsp;the user will be redirected to the detail page of that item on the retailer&#39;s e-commerce website.</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>General API request</li>\r\n\t\t\t\t<li>General API response</li>\r\n\t\t\t</ul>\r\n\r\n\t\t\t<p>Refer&nbsp;<a href=\"https://omni.helpdocsonline.com/product-recommendations$recommendation-request\">here&nbsp;</a>for more details on recommendation API functions.</p>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Selling Channel</li>\r\n\t\t\t\t<li>CartItems</li>\r\n\t\t\t\t<li>Customer</li>\r\n\t\t\t</ul>\r\n\r\n\t\t\t<p>Note: CartItems are the items from the original order.</p>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Configure the<a href=\"https://omni.helpdocsonline.com/product-recommendations$recommendation-nbsp-configuration\">&nbsp;Recommendation Configuration&nbsp;for Digital Self Service</a>&nbsp;i.e&nbsp;&#39;SelfServe&#39; selling channel.&nbsp;</li>\r\n\t\t\t\t<li>Contact the services team to perform the set-up&nbsp;for&nbsp;<a href=\"https://omni.helpdocsonline.com/product-recommendations$product-recommendation-user-exit\">Product Recommendation User Exit</a>&nbsp;</li>\r\n\t\t\t\t<li>To enable Product Recommendations in DSS, enable the configuration &#39;Enable Product Recommendations in Self Service Pages&#39; in the<a href=\"https://omni.helpdocsonline.com/digital-self-service-configuration$product-recommendations-in-self-service-pages\">&nbsp;Digital Self Service Configuration UI</a>.</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>Return Tracking\r\n\t\t\t<ul>\r\n\t\t\t\t<li>The &#39;Recommended&#39; section in Shipment Tracking&nbsp;will be displayed on the Return Tracking page.</li>\r\n\t\t\t\t<li>Recommendations are shown when&nbsp;Return Tracking page is loaded.</li>\r\n\t\t\t\t<li>The&nbsp;Product Recommendations will have an item image, a short description and the cost of the item. When the item&nbsp;image is clicked,&nbsp;the user will be redirected to the detail page of that item on the retailer&#39;s e-commerce website.</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>General API request</li>\r\n\t\t\t\t<li>General API response</li>\r\n\t\t\t</ul>\r\n\r\n\t\t\t<p>Refer&nbsp;<a href=\"https://omni.helpdocsonline.com/product-recommendations$recommendation-request\">here&nbsp;</a>for more details on recommendation API functions.</p>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Selling Channel</li>\r\n\t\t\t\t<li>Customer</li>\r\n\t\t\t</ul>\r\n\r\n\t\t\t<p>&nbsp;</p>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Configure the<a href=\"https://omni.helpdocsonline.com/product-recommendations$recommendation-nbsp-configuration\">&nbsp;Recommendation Configuration&nbsp;for Digital Self Service</a>&nbsp;i.e&nbsp;&#39;SelfServe&#39; selling channel.</li>\r\n\t\t\t\t<li>Contact the services team to perform the set-up&nbsp;for&nbsp;<a href=\"https://omni.helpdocsonline.com/product-recommendations$product-recommendation-user-exit\">Product Recommendation User Exit</a>&nbsp;</li>\r\n\t\t\t\t<li>To enable Product Recommendations in DSS, enable the configuration &#39;Enable Product Recommendations in Self Service Pages&#39; in the&nbsp;<a href=\"https://omni.helpdocsonline.com/digital-self-service-configuration$product-recommendations-in-self-service-pages\">Digital Self Service Configuration UI</a>.</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<h3><a name=\"recommendation-type\" id=\"recommendation-type\"></a>Recommendation Type</h3>\r\n\r\n<p>Depending on the recommendation engine being used, or the specific recommendation model used by the recommendation engine, different recommendation types can be configured to validate specific fields in the API request prior to sending the data to the recommendation engine. Any supported request attributes can always be passed in the request optionally even if the API is not explicitly validating them before or after the recommendation engine is called.</p>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"col\"><strong>&nbsp;Recommendation Type</strong></th>\r\n\t\t\t<th scope=\"col\"><strong>&nbsp;Description</strong></th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td>Item</td>\r\n\t\t\t<td>\r\n\t\t\t<p>Item-based recommendations are for recommendations specific to the items selected on a product list/details page or items present in a cart. For example, if the input to the recommendation engine is a pair of jeans, the output may be a belt.</p>\r\n\r\n\t\t\t<p>When &quot;Item&quot; is the configured recommendation type, the API will validate that at least 1 item ID is present before sending the request to the recommendation engine.&nbsp;Customer&nbsp;and other request attributes can still be optionally included.</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>Customer</td>\r\n\t\t\t<td>\r\n\t\t\t<p>Customer-based recommendations are for recommendations specific to the customer that is active in the calling system. For example, if the input to the recommendation engine is a customer, the output may be items based on that customer&#39;s known purchase history.</p>\r\n\r\n\t\t\t<p>When &quot;Customer&quot; is the configured recommendation type, the API will validate that a customer Id is present before sending the request to the recommendation engine. Items and other request attributes can still be optionally included.</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>None</td>\r\n\t\t\t<td>If the configured recommendation type is &quot;None&quot;, the only required attribute in the request is the selling channel.</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<h3><a name=\"recommendation-request\" id=\"recommendation-request\"></a>Recommendation Request</h3>\r\n\r\n<p>The recommendation API can be called with different inputs depending on the calling system, the recommendation engine, and which annotations are required to be done. Refer to the following table for supported request attributes. Note that some attributes may not be explicitly required by the recommendation API, but may be required by the specific&nbsp;third-party recommendation engine.</p>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"col\"><strong>Attribute Name</strong></th>\r\n\t\t\t<th scope=\"col\"><strong>Description</strong></th>\r\n\t\t\t<th scope=\"col\"><strong>Required</strong></th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td>SellingChannel</td>\r\n\t\t\t<td>The selling channel of the calling system. This is used to identify which recommendation configuration to use.&nbsp;</td>\r\n\t\t\t<td>Yes</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>ChannelSource</td>\r\n\t\t\t<td>The source within a particular selling channel. This may refer to the name of a particular screen when a selling channel calls the recommendation API from multiple menus. This is used to identify which recommendation configuration to use in a more granular manner than only the selling channel.</td>\r\n\t\t\t<td>No</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>DefaultOrderType</td>\r\n\t\t\t<td>The default order type used by the source channel to create orders. In other words, if a recommended item is added to a new order, this is the order type that order would contain. This is sent to the promotion engine if the &#39;ProductDealName&#39; annotation is enabled.</td>\r\n\t\t\t<td>No</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>ViewedItems</td>\r\n\t\t\t<td>\r\n\t\t\t<p>List of items selected or shown on the screen that the recommendation API is called from, that have not been added to the cart yet. Any item specific attribute can be included in this object. Additionally, this can also include the item base and selling price as part of the same item object.</p>\r\n\r\n\t\t\t<p>This list is intended for recommendations shown on the product details or product list page.</p>\r\n\t\t\t</td>\r\n\t\t\t<td>No</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>CartItems</td>\r\n\t\t\t<td>\r\n\t\t\t<p>List of items present in the cart/order.&nbsp;Any item specific attribute can be included in this object. Additionally, this can also include the item base and selling price as part of the same item object.</p>\r\n\r\n\t\t\t<p>This list is intended for recommendations shown on any screen where a cart may be present. Including but not limited to a product list page, product details page, or customer dashboard.</p>\r\n\t\t\t</td>\r\n\t\t\t<td>No</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>AnnotationsOnly</td>\r\n\t\t\t<td>Flag to include in use cases where recommendations have already been received in a previous recommendation request, but the origin system has additional information about the transaction and wants to re-annotate the recommended products list without making an additional call to the recommendation service. If this flag is included in the API request, no call to the extension point will be made.&nbsp;&nbsp; &nbsp;</td>\r\n\t\t\t<td>No</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>RecommendedProducts</td>\r\n\t\t\t<td>List of recommended products that have already been retrieved from the recommendation service. This list can be passed in conjunction with the &lsquo;AnnotationsOnly&rsquo; flag, if there is a need to refresh the recommendation annotations without making an additional external recommendation call.</td>\r\n\t\t\t<td>No</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>Customer</td>\r\n\t\t\t<td>The active customer on the calling system. Any customer specific attribute can be included in this object.</td>\r\n\t\t\t<td>No</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>Location</td>\r\n\t\t\t<td>The location specified from the calling system (for example, the recommendation API is called from the customer dashboard in Point of Sale). Any location specific attribute can be included in this object.</td>\r\n\t\t\t<td>No</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>Availability</td>\r\n\t\t\t<td>The ATC (Available to Commerce) view used by the calling system. This is used to optionally remove recommended items from the response that are out of stock in the network or location.</td>\r\n\t\t\t<td>No</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>Order</td>\r\n\t\t\t<td>The order that is present as part of the transaction, this attribute can include the Order Id by itself, as well as any additional attributes present as part of the order object.</td>\r\n\t\t\t<td>No</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<div class=\"tip\"><strong>Note: </strong>If any of the above optional attributes cannot be sent by the calling system, but are required by the recommendation engine, the &quot;EditProductRecommendationRequest&quot; can be implemented to retrieve additional information before the request is sent.</div>\r\n\r\n<h3><a name=\"recommendation-response\" id=\"recommendation-response\"></a>Recommendation Response</h3>\r\n\r\n<p>The recommendation API response consists of a list of products shown as a &quot;RecommendedProducts&quot; list. This list consists of a set of item and price level attributes to display in the calling user interface, in addition to any annotation data returned by the API after the recommendation engine has provided&nbsp;a list of products. The Recommended Products list&nbsp;includes:</p>\r\n\r\n<ul>\r\n\t<li>Item Id</li>\r\n\t<li>Item Short Description</li>\r\n\t<li>Web URL</li>\r\n\t<li>Small Image URI</li>\r\n\t<li>Style</li>\r\n\t<li>Base Price</li>\r\n\t<li>Selling Price</li>\r\n\t<li>Currency Code</li>\r\n</ul>\r\n\r\n<h4><a name=\"recommended-products-and-filtered-products\" id=\"recommended-products-and-filtered-products\"></a>Recommended Products and Filtered Products</h4>\r\n\r\n<p>When an annotation is configured within the recommendation configuration for a particular selling channel or screen, and the Filter Recommendations option is enabled for that annotation type, (see <a href=\"https://omni.helpdocsonline.com/product-recommendations$annotation-nbsp-configuration\">Annotation Configuration</a>), the recommended products are split into two lists&nbsp;based on the pre-defined logic using the response of each annotation. This pre-defined logic varies by annotation type, but ultimately indicates the annotation was evaluated and was able to enrich the recommendation response with additional information about the product.</p>\r\n\r\n<div class=\"info\"><strong>Note: </strong>If the Filter Recommendations option is disabled for all annotations, no annotations are configured at all, the recommendation API response will only contain the &quot;Recommended Products&quot; list.</div>\r\n\r\n<h5>Recommended Products List</h5>\r\n\r\n<p>The recommended products list includes products that were evaluated for at least one annotation, and the value of that annotation adds additional helpful information about the recommended product for the user to make a more informed decision when adding the product to the cart. For example, if a product is available at a selected location as part of the location availability annotation, the product is added to the recommended products list because the value for that annotation is &quot;Available&quot;.&nbsp;</p>\r\n\r\n<p>If multiple annotations are configured with the filter recommendations option, products will be included on the recommended products list as long as at least one annotation returns a positive value (example,&nbsp;LocationAvailability = Available),&nbsp;even if other annotations did not return a positive result (example,&nbsp;LocationAvailability = OutOfStock) for the annotation value.</p>\r\n\r\n<h5>Filtered Products List</h5>\r\n\r\n<p>The filtered&nbsp;products list includes products that were evaluated for at least one annotation, and the value of that annotation does not add additional helpful information about the product prior to being added&nbsp;to the cart. For example, if a product is not available at a selected location as part of the location availability annotation, the product is added to the filtered&nbsp;products list because the value for that annotation is &quot;OutOfStock&quot;.&nbsp;</p>\r\n\r\n<h4><a name=\"remove-network-out-of-stock\" id=\"remove-network-out-of-stock\"></a>Remove Network Out of Stock</h4>\r\n\r\n<p>Within each recommendation configuration, the removal of recommended products that are not in stock in the network can be optionally configured. This process works as follows:</p>\r\n\r\n<ul>\r\n\t<li>Remove network out of stock is enabled in the respective recommendation configuration.</li>\r\n\t<li>A network level ATC view is included in the recommendation request</li>\r\n</ul>\r\n\r\n<p>This configuration can be used in conjunction with&nbsp;the filter option of the <a href=\"https://omni.helpdocsonline.com/product-recommendations$location-availability\">Location Availability Annotation</a>, however, if both network and location level inventory filtering are being done, the location level filter will take precedence over the network level filter. For example, if a recommended product is available at a specified location, but not in the network level ATC view, the product will still be included in the response indicating that it is available at that location.</p>\r\n\r\n<p>Network&nbsp;availability filtering&nbsp;is&nbsp;done using the <a href=\"https://omni.helpdocsonline.com/publish-availability$get-availability-services\">product availability service</a>. Additional <a href=\"https://omni.helpdocsonline.com/publish-availability$publish-availability-configuration\">configuration</a> within the ATC view may be required to support this process.</p>\r\n\r\n<h3><a name=\"recommendation-engine-integration\" id=\"recommendation-engine-integration\"></a>Recommendation Engine Integration</h3>\r\n\r\n<h4><a name=\"product-recommendation-user-exit\" id=\"product-recommendation-user-exit\"></a>Product Recommendation User Exit</h4>\r\n\r\n<div class=\"info\"><strong>Note: </strong>This user exit is required when using the recommendation API</div>\r\n\r\n<p>When the recommendation API is called, the API input is passed to a user exit, which must be&nbsp;used to convert the request to a different format, and make a call to a third-party recommendation engine.<strong>&nbsp;</strong>If there is no extension point setup to make a recommendation call, the API will return a successful HTTP&nbsp;response with the following error code.</p>\r\n\r\n<div class=\"computer_code\">{<br />\r\n&nbsp; &nbsp; &quot;Type&quot;: &quot;ERROR&quot;,<br />\r\n&nbsp; &nbsp; &quot;Code&quot;: &quot;mkp::10013&quot;,<br />\r\n&nbsp; &nbsp; &quot;Description&quot;: &quot;ProductRecommendation User Exit is not configured.&quot;,<br />\r\n&nbsp; &nbsp; &quot;ErrorCode&quot;: &quot;10013&quot;<br />\r\n}</div>\r\n\r\n<p>For more details on this user exit, refer to the <a href=\"https://omni.developer.manh.com/\">Developer Documentation</a>&nbsp;for the following extension point.</p>\r\n\r\n<p>Marketplace:Marketplace:UserExit:ProductRecommendation</p>\r\n\r\n<h4><a name=\"recommendation-engine-response\" id=\"recommendation-engine-response\"></a>Recommendation Engine Response</h4>\r\n\r\n<p>It is required that the recommendation sends the Item Id stored in the&nbsp;Manhattan Active&reg; Omni item master. Other product attributes that are supported by the API response can also be sent by the recommendation engine, but Item Id is required to complete the recommendation&nbsp;process successfully.</p>\r\n\r\n<h3><a name=\"annotations\" id=\"annotations\"></a>Annotations</h3>\r\n\r\n<p>The annotation process refers to appending additional information about the recommended products sent by the recommendation engine to provide more information to the user or customer. This information can be displayed on the user interface, calling the recommendation API to assist with sales of recommended items.&nbsp;</p>\r\n\r\n<div class=\"info\"><strong>Note:&nbsp;</strong>Some annotations are not recommended to be used by all Manhattan Active&reg; Omni selling channels, while some are not supported for all selling channels due to the information that can be provided to the recommendation API request. Refer to the <a href=\"https://omni.helpdocsonline.com/product-recommendations$recommendations-in-nbsp-manhattan-active-reg-omni\">selling channel specific documentation</a> for what can and cannot be supported.</div>\r\n\r\n<h4><a name=\"location-availability\" id=\"location-availability\"></a>Location Availability</h4>\r\n\r\n<p>The location availability&nbsp;annotation provides the recipient of the recommendation API response with the inventory availability status of each recommended product at a specified store. This can refer to either the customers preferred store, or the selected pickup location when the recommendation API is called. If both the customer preferred and selected pickup locations are present in the request, the selected location is used to check the availability of each recommended item.</p>\r\n\r\n<p>Location availability annotations are done using the <a href=\"https://omni.helpdocsonline.com/publish-availability$get-availability-services\">product availability service</a>. Additional <a href=\"https://omni.helpdocsonline.com/publish-availability$publish-availability-configuration\">configuration</a> within the ATC view may be required to support this process.</p>\r\n\r\n<h5>Request Data</h5>\r\n\r\n<p>In order to successfully receive the location availability annotation as part of the recommendation API response, the following request data is needed from the calling system:</p>\r\n\r\n<ul>\r\n\t<li>&#39;PreferredStoreLocationId&#39; from the customer object&nbsp;OR &#39;LocationId&#39; from the location object.</li>\r\n\t<li>&#39;LocationView&#39; used by the calling system. This should be the&nbsp;name of a location level ATC view.</li>\r\n</ul>\r\n\r\n<h5>Response Data</h5>\r\n\r\n<p>If the location availability annotation is enabled as part of the recommendation process, the API response includes the &#39;Annotations&#39; list with the configured annotation type &#39;LocationAvailability&#39; as the attribute, and the availability status (available or out of stock) as the value.</p>\r\n\r\n<h5>Filtering by Location Availability</h5>\r\n\r\n<p>Filtering recommendations by location availability refers to the process of receiving a list of recommended products from the recommendation engine, and filtering&nbsp;those which are not available at the specified location used to&nbsp;evaluate the annotations. When this behavior is enabled, if the value of the annotation is &quot;Out Of Stock&quot;, the recommended product is moved&nbsp;from the recommended products list to the filtered products list.</p>\r\n\r\n<p>Consider the following examples of when this configuration is enabled:</p>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"col\">API Request Data</th>\r\n\t\t\t<th scope=\"col\">Recommended Products (from 3rd party)</th>\r\n\t\t\t<th scope=\"col\">Product Availability Status</th>\r\n\t\t\t<th scope=\"col\">API Response Data</th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Location Id</li>\r\n\t\t\t\t<li>Location ATC View</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Product 1</li>\r\n\t\t\t\t<li>Product 2</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Product&nbsp;1 - Available</li>\r\n\t\t\t\t<li>Product&nbsp;2 - Out Of Stock</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Recommended Products\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li>Product&nbsp;1\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>Location Availability = Available</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>Filtered&nbsp;Products\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li>Product 2\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>Location Availability = Out Of Stock</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<h5>Refer to <a href=\"https://omni.helpdocsonline.com/product-recommendations$annotation-nbsp-configuration\">Annotation Configuration</a>&nbsp;for more details.</h5>\r\n\r\n<h4><a name=\"ships-with-cart\" id=\"ships-with-cart\"></a>Ships With Cart</h4>\r\n\r\n<p>The ships with cart annotation provides an indicator that each recommended product is likely to be able to ship with the existing items in the cart. This is applicable when an order already exists, when the recommendation API is called, and that order has valid delivery lines that are not already released. In other words, this process seeks to evaluate if a recommended product that has not yet been added to the order can likely be fulfilled as part of the same shipment as the items already present in the cart.</p>\r\n\r\n<p>This process breaks down into two parts:</p>\r\n\r\n<ol>\r\n\t<li>Determining the estimated ship from location of the existing order or cart</li>\r\n\t<li>Checking the network availability for each recommended product at the determined&nbsp;estimated ship from location</li>\r\n</ol>\r\n\r\n<p>Ships with cart&nbsp;annotations are done using the <a href=\"https://omni.helpdocsonline.com/publish-availability$get-availability-services\">product availability service</a>. Additional <a href=\"https://omni.helpdocsonline.com/publish-availability$publish-availability-configuration\">configuration</a> within the ATC view may be required to support this process.</p>\r\n\r\n<h5>Request Data</h5>\r\n\r\n<p>In order to successfully receive the ships with cart&nbsp;annotation as part of the recommendation API response, the following request data is needed from the calling system, in order to determine an estimated ship from location of the cart:</p>\r\n\r\n<p>If the order is fully allocated:</p>\r\n\r\n<ul>\r\n\t<li>Order Id</li>\r\n</ul>\r\n\r\n<p>If the order is not fully allocated (and <a href=\"https://omni.helpdocsonline.com/interactive-inventory-3\">interactive delivery date functionality</a> is enabled)</p>\r\n\r\n<ul>\r\n\t<li>Order Id</li>\r\n\t<li>Shipping Method Id - present on the order</li>\r\n\t<li>Shipping address - present on the order or on the customer object as the preferred shipping address</li>\r\n\t<li>Promising Config Name</li>\r\n</ul>\r\n\r\n<h5>Response Data</h5>\r\n\r\n<p>If the ships with cart&nbsp;annotation is enabled as part of the recommendation process, the API response includes the &#39;Annotations&#39; list with the configured annotation type &#39;ShipsWithCart&#39; as the attribute, and the following values:</p>\r\n\r\n<ul>\r\n\t<li>Availability - &quot;Available&quot; or &quot;OutOfStock&quot;</li>\r\n\t<li>Location - the location where each recommended product was evaluated&nbsp;for shipping availability</li>\r\n</ul>\r\n\r\n<p>If the ShipsWithCart attribute is present in the recommendation API response but contains a null value, this means the transaction was not eligible to perform the ships with cart process. For example, the order was not allocated, and no customer address was provided to evaluate the estimated ship from location.</p>\r\n\r\n<h5>Filtering by Ships With Cart</h5>\r\n\r\n<p>Filtering recommendations by ships with cart&nbsp;refers to the process of receiving a list of recommended products from the recommendation engine, and filtering&nbsp;those which are not available at the estimated ship from location. When this behavior is enabled, if the value of the annotation is &quot;Out Of Stock&quot;, the recommended product is moved&nbsp;from the recommended products list to the filtered products list.</p>\r\n\r\n<p>Consider the following examples of when this configuration is enabled:</p>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"col\">API Request Data</th>\r\n\t\t\t<th scope=\"col\">Recommended Products (from 3rd party)</th>\r\n\t\t\t<th scope=\"col\">Product Availability Status</th>\r\n\t\t\t<th scope=\"col\">API Response Data</th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Order\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li>Allocation - Ship From: Atlanta Store</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Product 1</li>\r\n\t\t\t\t<li>Product 2</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Product&nbsp;1 - Available - Atlanta Store</li>\r\n\t\t\t\t<li>Product&nbsp;2 - Out Of Stock -&nbsp;Atlanta Store</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Recommended Products\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li>Product&nbsp;1\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>Ships With Cart - Atlanta Store&nbsp;= Available</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>Filtered&nbsp;Products\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li>Product 2\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>Ships With Cart - Atlanta Store = Out Of Stock</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<h5>Determining Estimated Ship From Location</h5>\r\n\r\n<p>At a high level, the process of determining the estimated ship from location involves evaluating the active customer order to determine if it is possible for recommended products that have not yet been added to the order to be shipped with any of the lines. Only the order line(s) which are both delivery eligible and not yet released are considered in this process, with the goal of indicating that adding a recommended product to the cart is less likely to add an extra shipment to the order.</p>\r\n\r\n<p>The detailed logic of determining ships with cart eligibility goes as follows:</p>\r\n\r\n<ol>\r\n\t<li>The&nbsp;Order Id is present in the recommendation request</li>\r\n\t<li>The order&#39;s minimum fulfillment status is less than &quot;Released&quot;</li>\r\n\t<li>Determine each &quot;Valid Delivery Line&quot; in the context of the ships with cart annotation, defined below:\r\n\t<ol start=\"1\">\r\n\t\t<li>Delivery Method = Ship To Address&quot;</li>\r\n\t\t<li>Max fulfillment status &lt; Released</li>\r\n\t</ol>\r\n\t</li>\r\n\t<li>Using only the &quot;Valid Delivery Lines&quot;\r\n\t<ol start=\"1\">\r\n\t\t<li>Fulfillment group Id is the same value&nbsp;for each line</li>\r\n\t\t<li>Each line does NOT contain more than one allocation</li>\r\n\t</ol>\r\n\t</li>\r\n\t<li>If any eligible lines remain, the estimated ship from location is determined in one of two ways.\r\n\t<ol start=\"1\">\r\n\t\t<li>If the order line(s) are already allocated to a single location, read this location as the estimated ship from location</li>\r\n\t\t<li>If the order line(s) are NOT already allocated, perform a cart ATP call to&nbsp;determine the estimated ship from location</li>\r\n\t\t<li>If the order line(s) include a combination of allocated and open status, perform a cart ATP call to&nbsp;determine the estimated ship from location</li>\r\n\t\t<li>If the order line(s) include a combination of allocated and back-ordered status, read the allocated ship from location as the estimated ship from location</li>\r\n\t</ol>\r\n\t</li>\r\n\t<li>If a single estimated ship from location is determined, each recommended product is evaluated for availability to ship from that location, indicating whether it is likely that each recommended product can be included on the same shipment.</li>\r\n</ol>\r\n\r\n<div class=\"info\"><strong>Note:&nbsp;</strong>Though not required to use the ships with cart annotation, utilizing the <a href=\"https://omni.helpdocsonline.com/interactive-inventory-3\">cart ATP process</a> to determine the estimated ship from location allows this process to be performed during significantly more transactions than relying on existing allocations on the order by itself.</div>\r\n\r\n<p><b>Example 1: Order has a mix of lines, and valid delivery lines are already allocated to a single location</b></p>\r\n\r\n<ul>\r\n\t<li>Order line 1 is not eligible for consideration because it is already partially released, and adding a new item to the cart will not change this planned shipment.</li>\r\n\t<li>Order line 2 is not eligible for consideration because&nbsp;it is a pickup at store line, and has no impact on the ship from location of delivery items to be added to the cart.</li>\r\n\t<li>Order lines 3 and 4 are eligible for consideration, and the ships with cart evaluation is performed for each recommended product using the New York Store.</li>\r\n</ul>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"row\">Order Line</th>\r\n\t\t\t<th scope=\"col\">Delivery Method</th>\r\n\t\t\t<th scope=\"col\">Fulfillment Group</th>\r\n\t\t\t<th scope=\"col\">Units</th>\r\n\t\t\t<th scope=\"col\">Min Status</th>\r\n\t\t\t<th scope=\"col\">Max Status</th>\r\n\t\t\t<th scope=\"col\">Ship From Location</th>\r\n\t\t\t<th scope=\"col\">Considered for Ships With Cart</th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"row\">1</th>\r\n\t\t\t<td>Ship To Address</td>\r\n\t\t\t<td>FG1</td>\r\n\t\t\t<td>5</td>\r\n\t\t\t<td>Allocated</td>\r\n\t\t\t<td>Released</td>\r\n\t\t\t<td>Atlanta Store</td>\r\n\t\t\t<td>No</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"row\">2</th>\r\n\t\t\t<td>Pickup At Store</td>\r\n\t\t\t<td>FG2</td>\r\n\t\t\t<td>5</td>\r\n\t\t\t<td>Allocated</td>\r\n\t\t\t<td>Allocated</td>\r\n\t\t\t<td>Atlanta Store</td>\r\n\t\t\t<td>No</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"row\">3</th>\r\n\t\t\t<td>Ship To Address</td>\r\n\t\t\t<td>FG1</td>\r\n\t\t\t<td>5</td>\r\n\t\t\t<td>Allocated</td>\r\n\t\t\t<td>Allocated</td>\r\n\t\t\t<td>New York Store</td>\r\n\t\t\t<td>Yes</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"row\">4</th>\r\n\t\t\t<td>Ship To Address</td>\r\n\t\t\t<td>FG1</td>\r\n\t\t\t<td>5</td>\r\n\t\t\t<td>Allocated</td>\r\n\t\t\t<td>Allocated</td>\r\n\t\t\t<td>New York Store</td>\r\n\t\t\t<td>Yes</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<p><strong>Example 2: Order has a mix of lines, and valid delivery lines are NOT already allocated to a single location</strong></p>\r\n\r\n<ul>\r\n\t<li>Order line 1 is not eligible for consideration because it is already partially released, and adding a new item to the cart will not change this planned shipment.</li>\r\n\t<li>Order line 2 is not eligible for consideration because&nbsp;it is a pickup at store line, and has no impact on the ship from location of delivery items to be added to the cart.</li>\r\n\t<li>Order lines 3 and 4 are eligible for consideration, and a cart ATP call is performed for both of these lines to estimate a ship from location, this ship from location is used to perform the ships with cart evaluation.</li>\r\n</ul>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"row\">Order Line</th>\r\n\t\t\t<th scope=\"col\">Delivery Method</th>\r\n\t\t\t<th scope=\"col\">Fulfillment Group</th>\r\n\t\t\t<th scope=\"col\">Units</th>\r\n\t\t\t<th scope=\"col\">Min Status</th>\r\n\t\t\t<th scope=\"col\">Max Status</th>\r\n\t\t\t<th scope=\"col\">Ship From Location</th>\r\n\t\t\t<th scope=\"col\">Considered for Ships With Cart</th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"row\">1</th>\r\n\t\t\t<td>Ship To Address</td>\r\n\t\t\t<td>FG1</td>\r\n\t\t\t<td>5</td>\r\n\t\t\t<td>Allocated</td>\r\n\t\t\t<td>Released</td>\r\n\t\t\t<td>Atlanta Store</td>\r\n\t\t\t<td>No</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"row\">2</th>\r\n\t\t\t<td>Pickup At Store</td>\r\n\t\t\t<td>FG2</td>\r\n\t\t\t<td>5</td>\r\n\t\t\t<td>Allocated</td>\r\n\t\t\t<td>Allocated</td>\r\n\t\t\t<td>Atlanta Store</td>\r\n\t\t\t<td>No</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"row\">3</th>\r\n\t\t\t<td>Ship To Address</td>\r\n\t\t\t<td>FG1</td>\r\n\t\t\t<td>5</td>\r\n\t\t\t<td>Open</td>\r\n\t\t\t<td>Open</td>\r\n\t\t\t<td>N/A</td>\r\n\t\t\t<td>Yes</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"row\">4</th>\r\n\t\t\t<td>Ship To Address</td>\r\n\t\t\t<td>FG1</td>\r\n\t\t\t<td>5</td>\r\n\t\t\t<td>Open</td>\r\n\t\t\t<td>Open</td>\r\n\t\t\t<td>N/A</td>\r\n\t\t\t<td>Yes</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<h4>&nbsp;</h4>\r\n\r\n<h4><a name=\"product-deal-name\" id=\"product-deal-name\"></a>Product Deal Name</h4>\r\n\r\n<p>The product deal name annotation provides a list of eligible deals from the Manhattan Active&reg; promotion engine that could be applied to each recommended product. Using information from the recommendation API to estimate details about the cart if the recommended product is added, eligible promotions are fetched and displayed on the recommendation API response next to each recommended product. In the recommendation API response, the deal code and deal description are displayed alongside the applicable recommended product.</p>\r\n\r\n<p>Deals shown for the recommended products are specific to only the recommended products, even if there is an existing cart of items&nbsp;at the time the recommended products are displayed, the eligible deals for each of the recommended products are not evaluated considering the entire cart. As a result of this, there is a chance that a recommended product could display an eligible deal, but adding that product to the order would result in the customer receiving a better deal based on the additional information available when evaluating the order as a whole for promotions. Additionally, it is possible that a recommended product does not show any deals, but once it is added to the cart, eligible deals are available&nbsp;for the entire&nbsp;order.</p>\r\n\r\n<h5>Request Data</h5>\r\n\r\n<p>In order to successfully receive the product deal name&nbsp;annotation as part of the recommendation API response, the following request data is needed from the calling system:</p>\r\n\r\n<ul>\r\n\t<li>SellingChannel</li>\r\n\t<li>DefaultOrderType</li>\r\n\t<li>Order Id (if available)</li>\r\n</ul>\r\n\r\n<p>If an order Id is present in the request, the selling channel and order type are fetched from the order. This is to avoid evaluating eligible deals using incorrect data in the event that recommendations are displayed for an&nbsp;order that&nbsp;is being edited and contains a different order type or selling channel from the calling system default values.</p>\r\n\r\n<h5>Response Data</h5>\r\n\r\n<p>If the product deal name&nbsp;annotation is enabled as part of the recommendation process, the API response includes the &#39;Annotations&#39; list with the configured annotation type &#39;ProductDealName&#39; as the attribute, and the list of available deals (the deal code and deal description) as the value. To make the most out of the product deal name annotation, it is recommended to configure deal names that will be meaningful to the user viewing the recommended products.</p>\r\n\r\n<p>If no eligible deals are found for a recommended product, an empty list is shown.</p>\r\n\r\n<h5>Filtering by Product Deal Name</h5>\r\n\r\n<p>Filtering recommendations by location availability refers to the process of receiving a list of recommended products from the recommendation engine, and filtering&nbsp;those which are not available at the specified location used to&nbsp;evaluate the annotations. When this behavior is enabled, if the value of the annotation is &quot;Out Of Stock&quot;, the recommended product is moved&nbsp;from the recommended products list to the filtered products list.</p>\r\n\r\n<p>Consider the following examples of when this configuration is enabled:</p>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"col\">API Request Data</th>\r\n\t\t\t<th scope=\"col\">Recommended Products (from 3rd party)</th>\r\n\t\t\t<th scope=\"col\">Product Eligible Deals</th>\r\n\t\t\t<th scope=\"col\">API Response Data</th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>SellingChannel</li>\r\n\t\t\t\t<li>DefaultOrderType</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Product 1</li>\r\n\t\t\t\t<li>Product 2</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Product&nbsp;1\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li>BOGO 50% Off</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>Product&nbsp;2\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li>N/A</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Recommended Products\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li>Product&nbsp;1\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>Product Deal Name\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<li>BOGO 50% Off</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>Filtered&nbsp;Products\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li>Product 2\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>Product Deal Name\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<li>N/A</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<h4><a name=\"refresh-annotations\" id=\"refresh-annotations\"></a>Refresh Annotations</h4>\r\n\r\n<p>As part of the recommendation API, it is possible to redo the annotations without making an additional third party recommendation request.</p>\r\n\r\n<p>For example, a customer is interested in placing an order for pickup. At the time the product details page is loaded, the recommendations are retrieved and shown for that product, but the customer has not specified a pickup location yet. Once the pickup location has been added, the recommendation API is called again, this time with the list of recommended products that has already been retrieved instead of the product the customer is adding to their cart.&nbsp;</p>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"col\">User Action</th>\r\n\t\t\t<th scope=\"col\">Recommendation Request</th>\r\n\t\t\t<th scope=\"col\">Recommendation Response</th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td>Select an item on the product list page.</td>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Selling Channel: Web</li>\r\n\t\t\t\t<li>Customer Number: JS12345</li>\r\n\t\t\t\t<li>Selected Product\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li>Product: Black Shirt</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Product: Blue Shirt</li>\r\n\t\t\t\t<li>Product: Red Shirt</li>\r\n\t\t\t\t<li>Product: Green Shirt</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>Mark the item as a pickup item and add &quot;Paris Store&quot; as the pickup location.</td>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Selling Channel: Web</li>\r\n\t\t\t\t<li>Customer Number: JS12345</li>\r\n\t\t\t\t<li><strong>Annotations Only: true</strong></li>\r\n\t\t\t\t<li><strong>Location: Paris Store</strong></li>\r\n\t\t\t\t<li><b>Recommended Products</b>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li>Blue Shirt</li>\r\n\t\t\t\t\t<li>Red Shirt</li>\r\n\t\t\t\t\t<li>Green Shirt</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Product: Blue Shirt\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li>Location Availability = Available</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>Product: Red Shirt\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li>Location Availability = Available</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>Product: Green Shirt\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li>Location Availability = Available</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<p>This is achieved by making the same recommendation API request, but instead, substituting the &quot;ViewedItems&quot; list with the &quot;RecommendedProducts&quot; list, and including the flag &quot;AnnotationsOnly = true&quot;.</p>\r\n\r\n<h3><a name=\"extensibility\" id=\"extensibility\"></a>Extensibility</h3>\r\n\r\n<h4><a name=\"edit-product-recommendation-request-user-exit\" id=\"edit-product-recommendation-request-user-exit\"></a>Edit Product Recommendation Request User Exit</h4>\r\n\r\n<p>If the system or screen calling the API does not contain information required by the recommendation engine being used, this user exit can be implemented to modify the base request before sending it to the external system.</p>\r\n\r\n<p>Marketplace:Marketplace:UserExit:EditProductRecommendationRequest</p>\r\n\r\n<h3><a name=\"configuration\" id=\"configuration\"></a>Configuration</h3>\r\n\r\n<h4><a name=\"product-recommendations-configuration-ui\" id=\"product-recommendations-configuration-ui\"></a>Product Recommendations Configuration UI</h4>\r\n\r\n<p>Recommendation and annotation&nbsp;configuration is managed in the Product Recommendations Configuration user interface. Continue reading for a list of configurable attributes and a description of their behavior.</p>\r\n\r\n<h4><a name=\"recommendation-nbsp-configuration\" id=\"recommendation-nbsp-configuration\"></a>Recommendation&nbsp;Configuration</h4>\r\n\r\n<p>Recommendation configuration is used to control different aspects of the product recommendation process. Each selling channel can have its own recommendation configuration. When calling the recommendation API, the configuration object used for a particular API call is determined by passing either the selling channel or the specific recommendation configuration&nbsp;Id in the request.</p>\r\n\r\n<p>Out of the box, unique recommendation configurations are provided. These can be added to your respective organizations by copying the &quot;<code>mkp::recommendation</code>&quot; profile purpose from the &quot;base&quot; organization and modifying it as needed.</p>\r\n\r\n<ul>\r\n\t<li>Default Recommendation Configuration</li>\r\n\t<li>Store Recommendation Configuration</li>\r\n\t<li>Contact Center Recommendation Configuration</li>\r\n\t<li>Digital Self Service Recommendation Configuration</li>\r\n</ul>\r\n\r\n<p>This table includes a breakdown of each configuration attribute&nbsp;and what it is used for:</p>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"col\"><strong>Name</strong></th>\r\n\t\t\t<th scope=\"col\"><strong>Description</strong></th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td>RecommendationConfigId</td>\r\n\t\t\t<td>The unique identifier and business key of the recommendation configuration.</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>SellingChannel</td>\r\n\t\t\t<td>The selling channel of the source of the recommendation request. This is used to identify which recommendation configuration should be used during the recommendation and annotation process. For example, &#39;Store&#39;, &#39;CallCenter&#39;, or &#39;SelfServe&#39;</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>ChannelSource</td>\r\n\t\t\t<td>The source within a particular selling channel. This may refer to the name of a particular screen when a selling channel calls the recommendation API from multiple menus. This is used to identify which recommendation configuration to use in a more granular manner than only the selling channel. For example, &#39;Item Search&#39;, &#39;Customer Dashboard&#39;.</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>RecommendationType</td>\r\n\t\t\t<td>This can be configured as &#39;Item&#39;, &#39;Customer&#39; or None. Depending on the recommendation type, specific request attributes may be required or not, while all other attributes remain optional. For example, if the recommendation type is set to &#39;Item&#39;, the API will return a validation error if the ItemId is not present in the request.</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>ConfigRank</td>\r\n\t\t\t<td>Indicates the rank that will be used to match the recommendation configuration when calling the recommendation API. For example, if two recommendation configurations exist with a selling channel defined as store, the selected configuration will be the one with the higher rank.</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>RecommendationLimit</td>\r\n\t\t\t<td>The number of recommended items that can be returned for display in the UI. For example, if the UI displaying the recommendations can only show 10 items, this should be configured to 10, and if the recommendation engine sends a list of items that exceeds 10, any items beyond the first 10 will not be sent back to the UI.</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>RemoveNetworkOutOfStock</td>\r\n\t\t\t<td>\r\n\t\t\t<p>When enabled, if a network level &#39;available to commerce&#39; view is included in the recommendation request, any recommended product that is not available within that specified inventory view is removed from the recommendation API response.</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<h4><a name=\"annotation-nbsp-configuration\" id=\"annotation-nbsp-configuration\"></a>Annotation&nbsp;Configuration</h4>\r\n\r\n<p>Annotations and related behavior are controlled within the specified recommendation configuration. These are also&nbsp;managed in the recommendation configuration UI.</p>\r\n\r\n<ol>\r\n\t<li>Navigate to the Recommendation Configuration UI</li>\r\n\t<li>Select the desired configuration and click &quot;Details&quot;</li>\r\n\t<li>Expand the Annotation Type Config object</li>\r\n\t<li>Add the desired annotation</li>\r\n</ol>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"col\"><strong>Name</strong></th>\r\n\t\t\t<th scope=\"col\"><strong>Description</strong></th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td>AnnotationTypeId</td>\r\n\t\t\t<td>\r\n\t\t\t<p>The type of the annotation being applied to the recommended product. This is used to return a specific value to the calling system to identify how to interpret the annotation value. For example, if the location availability annotation is enabled, the annotation type will be returned as &#39;LocationAvailability&#39;, along with the item&#39;s inventory status as the annotation value.</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>FilterRecommendations</td>\r\n\t\t\t<td>\r\n\t\t\t<p>When this property is enabled, the&nbsp;recommended products&#39; response&nbsp;is filtered&nbsp;into two lists, a <a href=\"https://omni.helpdocsonline.com/product-recommendations$recommended-products-and-filtered-products\">recommended products list and a filtered products list</a>. This filtering is determined by the value of the annotation using pre-defined logic, and serves as a way of prioritizing recommended products based on the value of the annotation returned.&nbsp;</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><a name=\"related-articles\" id=\"related-articles\"></a>Related Articles</h3>\r\n\r\n<div class=\"tip\"><ul class=\"related-articles\"><li><a href=\"/google-shopping-integration\" hqid=\"3126731\">Google Shopping Integration</a></li></ul></div>\r\n\r\n\t  </div>\r\n </div>\r\n <div id=\"ui-page-fb-wrap\"></div>\r\n <div class=\"hiq-footer-wrap\">\r\n    \r\n                \r\n  </div>\r\n\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n",
  "content_length": 59231,
  "scraped_at": "2025-08-09T21:55:03.048023",
  "content_clean": "Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Customer Service››Marketplace and Recommendations ››Product Recommendations Product Recommendations Product RecommendationsOverviewRecommendations In Manhattan Active® OmniRecommendation TypeRecommendation RequestRecommendation ResponseRecommended Products and Filtered ProductsRemove Network Out of StockRecommendation Engine IntegrationProduct Recommendation User ExitRecommendation Engine ResponseAnnotationsLocation AvailabilityShips With CartProduct Deal NameRefresh AnnotationsExtensibilityEdit Product Recommendation Request User ExitConfigurationProduct Recommendations Configuration UIRecommendation ConfigurationAnnotation ConfigurationRelated Articles Overview Manhattan Active® Omni provides the ability to integrate with a third-party product recommendation engine to display a list of recommended products on certain user interfaces. The product recommendation API is leveraged for this and serves as a standard request and response layer to request and receive product information from an external recommendation service. The product recommendation API can be called with a variety of inputs to support multiple types of third-party product recommendation models, and multiple types of calling system. The recommendation API requires a third-party recommendation engine integration to be setup that is not provided out of the box. The following table provides a summary of each function of the recommendation API. Recommendation API Function Description General API request Calling the recommendation API to trigger an external call to the applicable recommendation service via extension point. The API request includes, at a bare minimum, the selling channel of the calling system. The contents of the request may vary depending on where the request is coming from. As a result, certain functions of the recommendation API may be limited depending on the channel. Refer to Recommendation Request and Recommendation User Exit for more details. General API response Receiving the response from the recommendation engine (via user exit) and enriching the API response to include the description, image, and price of the product that the respective user interface will display. Refer to Recommendation Response and Recommendation Engine Response for more details. Remove network out of stock Upon receiving a list of products from the recommendation engine, an availability check for each recommended product within the inventory network is performed; products that are not available in the network are removed from the response. Refer to Remove Network Out of Stock for more details. Filtering by annotation Within each annotation type, a configurable filter is available to determine how each recommended product should be returned within the recommendation API response. When enabled, if an annotation cannot be applied to a product, for example, if the product is out of stock at the selected store, this product is returned to a separate list in the response, which serves as a way of ranking products to display those which have been annotated first. Refer to Recommended and Filtered Products for more details. Location availability annotation Upon receiving a list of products from the recommendation engine, an availability check for each recommended product at the specified location is performed; and the recommendation response includes a message to indicate that the product is available at the specified location. Refer to Location Availability for more details. Ships with cart annotation Upon receiving a list of products from the recommendation engine, an availability check for each recommended product is performed at the allocated or estimated ship from location of the cart. This annotation is used to indicate whether each recommended product can likely ship from the same location as the existing items in the customers' cart, allowing products with a lower probability of creating a split shipment to display first on the recommended products list. Refer to Ships With Cart for more details. Product deal name annotation Upon receiving a list of products from the recommendation engine, a check for eligible deals for each recommended product is performed by the promotion service. The eligible deals are displayed in the API response and is used to indicate to the user which items are eligible for promotions if they are added to the order. Refer to Product Deal Names for more details. Recommendations In Manhattan Active® Omni Component Recommendation Supported In Supported Functions Request Attributes Configuration Customer Service Item Search The 'Recommended' section in Item Search will be displayed in the Item Details section on the bottom right side of the screen with a list of items from the recommendation engine. Recommendations are fetched when an item is selected. Recommendations are refreshed when a new item is selected. General API request General API response Refer here for more details on recommendation API functions. Selling Channel Viewed Items Refer to the Recommendation Request section for attribute details. General Recommendation Configuration for the 'CallCenter' selling channel Product Recommendation User Exit DSS Returns and Exchanges The 'Recommended' section in Returns and Exchanges will be displayed on the Return Confirmation Page. Recommendations are shown when the Return Confirmation page is loaded. The Product Recommendations will have an item image, a short description and the cost of the item. When the item image is clicked, the user will be redirected to the detail page of that item on the retailer's e-commerce website. General API request General API response Refer here for more details on recommendation API functions. Selling Channel Customer Configure the Recommendation Configuration for Digital Self Service i.e 'SelfServe' selling channel. Contact the services team to perform the set-up for Product Recommendation User Exit To enable Product Recommendations in DSS, enable the configuration 'Enable Product Recommendations in Self Service Pages' in the Digital Self Service Configuration UI. Shipment Tracking The 'Recommended' section in Shipment Tracking will be displayed on the Shipment Tracking page below the Delivery Information panel and the Shipment Information panel. Recommendations are shown when the Shipment Tracking page is loaded. The Product Recommendations will have an item image, a short description and the cost of the item. When the item image is clicked, the user will be redirected to the detail page of that item on the retailer's e-commerce website. General API request General API response Refer here for more details on recommendation API functions. Selling Channel CartItems Customer Note: CartItems are the items from the original order. Configure the Recommendation Configuration for Digital Self Service i.e 'SelfServe' selling channel. Contact the services team to perform the set-up for Product Recommendation User Exit To enable Product Recommendations in DSS, enable the configuration 'Enable Product Recommendations in Self Service Pages' in the Digital Self Service Configuration UI. Return Tracking The 'Recommended' section in Shipment Tracking will be displayed on the Return Tracking page. Recommendations are shown when Return Tracking page is loaded. The Product Recommendations will have an item image, a short description and the cost of the item. When the item image is clicked, the user will be redirected to the detail page of that item on the retailer's e-commerce website. General API request General API response Refer here for more details on recommendation API functions. Selling Channel Customer Configure the Recommendation Configuration for Digital Self Service i.e 'SelfServe' selling channel. Contact the services team to perform the set-up for Product Recommendation User Exit To enable Product Recommendations in DSS, enable the configuration 'Enable Product Recommendations in Self Service Pages' in the Digital Self Service Configuration UI. Recommendation Type Depending on the recommendation engine being used, or the specific recommendation model used by the recommendation engine, different recommendation types can be configured to validate specific fields in the API request prior to sending the data to the recommendation engine. Any supported request attributes can always be passed in the request optionally even if the API is not explicitly validating them before or after the recommendation engine is called. Recommendation Type Description Item Item-based recommendations are for recommendations specific to the items selected on a product list/details page or items present in a cart. For example, if the input to the recommendation engine is a pair of jeans, the output may be a belt. When \"Item\" is the configured recommendation type, the API will validate that at least 1 item ID is present before sending the request to the recommendation engine. Customer and other request attributes can still be optionally included. Customer Customer-based recommendations are for recommendations specific to the customer that is active in the calling system. For example, if the input to the recommendation engine is a customer, the output may be items based on that customer's known purchase history. When \"Customer\" is the configured recommendation type, the API will validate that a customer Id is present before sending the request to the recommendation engine. Items and other request attributes can still be optionally included. None If the configured recommendation type is \"None\", the only required attribute in the request is the selling channel. Recommendation Request The recommendation API can be called with different inputs depending on the calling system, the recommendation engine, and which annotations are required to be done. Refer to the following table for supported request attributes. Note that some attributes may not be explicitly required by the recommendation API, but may be required by the specific third-party recommendation engine. Attribute Name Description Required SellingChannel The selling channel of the calling system. This is used to identify which recommendation configuration to use. Yes ChannelSource The source within a particular selling channel. This may refer to the name of a particular screen when a selling channel calls the recommendation API from multiple menus. This is used to identify which recommendation configuration to use in a more granular manner than only the selling channel. No DefaultOrderType The default order type used by the source channel to create orders. In other words, if a recommended item is added to a new order, this is the order type that order would contain. This is sent to the promotion engine if the 'ProductDealName' annotation is enabled. No ViewedItems List of items selected or shown on the screen that the recommendation API is called from, that have not been added to the cart yet. Any item specific attribute can be included in this object. Additionally, this can also include the item base and selling price as part of the same item object. This list is intended for recommendations shown on the product details or product list page. No CartItems List of items present in the cart/order. Any item specific attribute can be included in this object. Additionally, this can also include the item base and selling price as part of the same item object. This list is intended for recommendations shown on any screen where a cart may be present. Including but not limited to a product list page, product details page, or customer dashboard. No AnnotationsOnly Flag to include in use cases where recommendations have already been received in a previous recommendation request, but the origin system has additional information about the transaction and wants to re-annotate the recommended products list without making an additional call to the recommendation service. If this flag is included in the API request, no call to the extension point will be made. No RecommendedProducts List of recommended products that have already been retrieved from the recommendation service. This list can be passed in conjunction with the ‘AnnotationsOnly’ flag, if there is a need to refresh the recommendation annotations without making an additional external recommendation call. No Customer The active customer on the calling system. Any customer specific attribute can be included in this object. No Location The location specified from the calling system (for example, the recommendation API is called from the customer dashboard in Point of Sale). Any location specific attribute can be included in this object. No Availability The ATC (Available to Commerce) view used by the calling system. This is used to optionally remove recommended items from the response that are out of stock in the network or location. No Order The order that is present as part of the transaction, this attribute can include the Order Id by itself, as well as any additional attributes present as part of the order object. No Note: If any of the above optional attributes cannot be sent by the calling system, but are required by the recommendation engine, the \"EditProductRecommendationRequest\" can be implemented to retrieve additional information before the request is sent. Recommendation Response The recommendation API response consists of a list of products shown as a \"RecommendedProducts\" list. This list consists of a set of item and price level attributes to display in the calling user interface, in addition to any annotation data returned by the API after the recommendation engine has provided a list of products. The Recommended Products list includes: Item Id Item Short Description Web URL Small Image URI Style Base Price Selling Price Currency Code Recommended Products and Filtered Products When an annotation is configured within the recommendation configuration for a particular selling channel or screen, and the Filter Recommendations option is enabled for that annotation type, (see Annotation Configuration), the recommended products are split into two lists based on the pre-defined logic using the response of each annotation. This pre-defined logic varies by annotation type, but ultimately indicates the annotation was evaluated and was able to enrich the recommendation response with additional information about the product. Note: If the Filter Recommendations option is disabled for all annotations, no annotations are configured at all, the recommendation API response will only contain the \"Recommended Products\" list. Recommended Products List The recommended products list includes products that were evaluated for at least one annotation, and the value of that annotation adds additional helpful information about the recommended product for the user to make a more informed decision when adding the product to the cart. For example, if a product is available at a selected location as part of the location availability annotation, the product is added to the recommended products list because the value for that annotation is \"Available\". If multiple annotations are configured with the filter recommendations option, products will be included on the recommended products list as long as at least one annotation returns a positive value (example, LocationAvailability = Available), even if other annotations did not return a positive result (example, LocationAvailability = OutOfStock) for the annotation value. Filtered Products List The filtered products list includes products that were evaluated for at least one annotation, and the value of that annotation does not add additional helpful information about the product prior to being added to the cart. For example, if a product is not available at a selected location as part of the location availability annotation, the product is added to the filtered products list because the value for that annotation is \"OutOfStock\". Remove Network Out of Stock Within each recommendation configuration, the removal of recommended products that are not in stock in the network can be optionally configured. This process works as follows: Remove network out of stock is enabled in the respective recommendation configuration. A network level ATC view is included in the recommendation request This configuration can be used in conjunction with the filter option of the Location Availability Annotation, however, if both network and location level inventory filtering are being done, the location level filter will take precedence over the network level filter. For example, if a recommended product is available at a specified location, but not in the network level ATC view, the product will still be included in the response indicating that it is available at that location. Network availability filtering is done using the product availability service. Additional configuration within the ATC view may be required to support this process. Recommendation Engine Integration Product Recommendation User Exit Note: This user exit is required when using the recommendation API When the recommendation API is called, the API input is passed to a user exit, which must be used to convert the request to a different format, and make a call to a third-party recommendation engine. If there is no extension point setup to make a recommendation call, the API will return a successful HTTP response with the following error code. { \"Type\": \"ERROR\", \"Code\": \"mkp::10013\", \"Description\": \"ProductRecommendation User Exit is not configured.\", \"ErrorCode\": \"10013\" } For more details on this user exit, refer to the Developer Documentation for the following extension point. Marketplace:Marketplace:UserExit:ProductRecommendation Recommendation Engine Response It is required that the recommendation sends the Item Id stored in the Manhattan Active® Omni item master. Other product attributes that are supported by the API response can also be sent by the recommendation engine, but Item Id is required to complete the recommendation process successfully. Annotations The annotation process refers to appending additional information about the recommended products sent by the recommendation engine to provide more information to the user or customer. This information can be displayed on the user interface, calling the recommendation API to assist with sales of recommended items. Note: Some annotations are not recommended to be used by all Manhattan Active® Omni selling channels, while some are not supported for all selling channels due to the information that can be provided to the recommendation API request. Refer to the selling channel specific documentation for what can and cannot be supported. Location Availability The location availability annotation provides the recipient of the recommendation API response with the inventory availability status of each recommended product at a specified store. This can refer to either the customers preferred store, or the selected pickup location when the recommendation API is called. If both the customer preferred and selected pickup locations are present in the request, the selected location is used to check the availability of each recommended item. Location availability annotations are done using the product availability service. Additional configuration within the ATC view may be required to support this process. Request Data In order to successfully receive the location availability annotation as part of the recommendation API response, the following request data is needed from the calling system: 'PreferredStoreLocationId' from the customer object OR 'LocationId' from the location object. 'LocationView' used by the calling system. This should be the name of a location level ATC view. Response Data If the location availability annotation is enabled as part of the recommendation process, the API response includes the 'Annotations' list with the configured annotation type 'LocationAvailability' as the attribute, and the availability status (available or out of stock) as the value. Filtering by Location Availability Filtering recommendations by location availability refers to the process of receiving a list of recommended products from the recommendation engine, and filtering those which are not available at the specified location used to evaluate the annotations. When this behavior is enabled, if the value of the annotation is \"Out Of Stock\", the recommended product is moved from the recommended products list to the filtered products list. Consider the following examples of when this configuration is enabled: API Request Data Recommended Products (from 3rd party) Product Availability Status API Response Data Location Id Location ATC View Product 1 Product 2 Product 1 - Available Product 2 - Out Of Stock Recommended Products Product 1 Location Availability = Available Filtered Products Product 2 Location Availability = Out Of Stock Refer to Annotation Configuration for more details. Ships With Cart The ships with cart annotation provides an indicator that each recommended product is likely to be able to ship with the existing items in the cart. This is applicable when an order already exists, when the recommendation API is called, and that order has valid delivery lines that are not already released. In other words, this process seeks to evaluate if a recommended product that has not yet been added to the order can likely be fulfilled as part of the same shipment as the items already present in the cart. This process breaks down into two parts: Determining the estimated ship from location of the existing order or cart Checking the network availability for each recommended product at the determined estimated ship from location Ships with cart annotations are done using the product availability service. Additional configuration within the ATC view may be required to support this process. Request Data In order to successfully receive the ships with cart annotation as part of the recommendation API response, the following request data is needed from the calling system, in order to determine an estimated ship from location of the cart: If the order is fully allocated: Order Id If the order is not fully allocated (and interactive delivery date functionality is enabled) Order Id Shipping Method Id - present on the order Shipping address - present on the order or on the customer object as the preferred shipping address Promising Config Name Response Data If the ships with cart annotation is enabled as part of the recommendation process, the API response includes the 'Annotations' list with the configured annotation type 'ShipsWithCart' as the attribute, and the following values: Availability - \"Available\" or \"OutOfStock\" Location - the location where each recommended product was evaluated for shipping availability If the ShipsWithCart attribute is present in the recommendation API response but contains a null value, this means the transaction was not eligible to perform the ships with cart process. For example, the order was not allocated, and no customer address was provided to evaluate the estimated ship from location. Filtering by Ships With Cart Filtering recommendations by ships with cart refers to the process of receiving a list of recommended products from the recommendation engine, and filtering those which are not available at the estimated ship from location. When this behavior is enabled, if the value of the annotation is \"Out Of Stock\", the recommended product is moved from the recommended products list to the filtered products list. Consider the following examples of when this configuration is enabled: API Request Data Recommended Products (from 3rd party) Product Availability Status API Response Data Order Allocation - Ship From: Atlanta Store Product 1 Product 2 Product 1 - Available - Atlanta Store Product 2 - Out Of Stock - Atlanta Store Recommended Products Product 1 Ships With Cart - Atlanta Store = Available Filtered Products Product 2 Ships With Cart - Atlanta Store = Out Of Stock Determining Estimated Ship From Location At a high level, the process of determining the estimated ship from location involves evaluating the active customer order to determine if it is possible for recommended products that have not yet been added to the order to be shipped with any of the lines. Only the order line(s) which are both delivery eligible and not yet released are considered in this process, with the goal of indicating that adding a recommended product to the cart is less likely to add an extra shipment to the order. The detailed logic of determining ships with cart eligibility goes as follows: The Order Id is present in the recommendation request The order's minimum fulfillment status is less than \"Released\" Determine each \"Valid Delivery Line\" in the context of the ships with cart annotation, defined below: Delivery Method = Ship To Address\" Max fulfillment status < Released Using only the \"Valid Delivery Lines\" Fulfillment group Id is the same value for each line Each line does NOT contain more than one allocation If any eligible lines remain, the estimated ship from location is determined in one of two ways. If the order line(s) are already allocated to a single location, read this location as the estimated ship from location If the order line(s) are NOT already allocated, perform a cart ATP call to determine the estimated ship from location If the order line(s) include a combination of allocated and open status, perform a cart ATP call to determine the estimated ship from location If the order line(s) include a combination of allocated and back-ordered status, read the allocated ship from location as the estimated ship from location If a single estimated ship from location is determined, each recommended product is evaluated for availability to ship from that location, indicating whether it is likely that each recommended product can be included on the same shipment. Note: Though not required to use the ships with cart annotation, utilizing the cart ATP process to determine the estimated ship from location allows this process to be performed during significantly more transactions than relying on existing allocations on the order by itself. Example 1: Order has a mix of lines, and valid delivery lines are already allocated to a single location Order line 1 is not eligible for consideration because it is already partially released, and adding a new item to the cart will not change this planned shipment. Order line 2 is not eligible for consideration because it is a pickup at store line, and has no impact on the ship from location of delivery items to be added to the cart. Order lines 3 and 4 are eligible for consideration, and the ships with cart evaluation is performed for each recommended product using the New York Store. Order Line Delivery Method Fulfillment Group Units Min Status Max Status Ship From Location Considered for Ships With Cart 1 Ship To Address FG1 5 Allocated Released Atlanta Store No 2 Pickup At Store FG2 5 Allocated Allocated Atlanta Store No 3 Ship To Address FG1 5 Allocated Allocated New York Store Yes 4 Ship To Address FG1 5 Allocated Allocated New York Store Yes Example 2: Order has a mix of lines, and valid delivery lines are NOT already allocated to a single location Order line 1 is not eligible for consideration because it is already partially released, and adding a new item to the cart will not change this planned shipment. Order line 2 is not eligible for consideration because it is a pickup at store line, and has no impact on the ship from location of delivery items to be added to the cart. Order lines 3 and 4 are eligible for consideration, and a cart ATP call is performed for both of these lines to estimate a ship from location, this ship from location is used to perform the ships with cart evaluation. Order Line Delivery Method Fulfillment Group Units Min Status Max Status Ship From Location Considered for Ships With Cart 1 Ship To Address FG1 5 Allocated Released Atlanta Store No 2 Pickup At Store FG2 5 Allocated Allocated Atlanta Store No 3 Ship To Address FG1 5 Open Open N/A Yes 4 Ship To Address FG1 5 Open Open N/A Yes Product Deal Name The product deal name annotation provides a list of eligible deals from the Manhattan Active® promotion engine that could be applied to each recommended product. Using information from the recommendation API to estimate details about the cart if the recommended product is added, eligible promotions are fetched and displayed on the recommendation API response next to each recommended product. In the recommendation API response, the deal code and deal description are displayed alongside the applicable recommended product. Deals shown for the recommended products are specific to only the recommended products, even if there is an existing cart of items at the time the recommended products are displayed, the eligible deals for each of the recommended products are not evaluated considering the entire cart. As a result of this, there is a chance that a recommended product could display an eligible deal, but adding that product to the order would result in the customer receiving a better deal based on the additional information available when evaluating the order as a whole for promotions. Additionally, it is possible that a recommended product does not show any deals, but once it is added to the cart, eligible deals are available for the entire order. Request Data In order to successfully receive the product deal name annotation as part of the recommendation API response, the following request data is needed from the calling system: SellingChannel DefaultOrderType Order Id (if available) If an order Id is present in the request, the selling channel and order type are fetched from the order. This is to avoid evaluating eligible deals using incorrect data in the event that recommendations are displayed for an order that is being edited and contains a different order type or selling channel from the calling system default values. Response Data If the product deal name annotation is enabled as part of the recommendation process, the API response includes the 'Annotations' list with the configured annotation type 'ProductDealName' as the attribute, and the list of available deals (the deal code and deal description) as the value. To make the most out of the product deal name annotation, it is recommended to configure deal names that will be meaningful to the user viewing the recommended products. If no eligible deals are found for a recommended product, an empty list is shown. Filtering by Product Deal Name Filtering recommendations by location availability refers to the process of receiving a list of recommended products from the recommendation engine, and filtering those which are not available at the specified location used to evaluate the annotations. When this behavior is enabled, if the value of the annotation is \"Out Of Stock\", the recommended product is moved from the recommended products list to the filtered products list. Consider the following examples of when this configuration is enabled: API Request Data Recommended Products (from 3rd party) Product Eligible Deals API Response Data SellingChannel DefaultOrderType Product 1 Product 2 Product 1 BOGO 50% Off Product 2 N/A Recommended Products Product 1 Product Deal Name BOGO 50% Off Filtered Products Product 2 Product Deal Name N/A Refresh Annotations As part of the recommendation API, it is possible to redo the annotations without making an additional third party recommendation request. For example, a customer is interested in placing an order for pickup. At the time the product details page is loaded, the recommendations are retrieved and shown for that product, but the customer has not specified a pickup location yet. Once the pickup location has been added, the recommendation API is called again, this time with the list of recommended products that has already been retrieved instead of the product the customer is adding to their cart. User Action Recommendation Request Recommendation Response Select an item on the product list page. Selling Channel: Web Customer Number: JS12345 Selected Product Product: Black Shirt Product: Blue Shirt Product: Red Shirt Product: Green Shirt Mark the item as a pickup item and add \"Paris Store\" as the pickup location. Selling Channel: Web Customer Number: JS12345 Annotations Only: true Location: Paris Store Recommended Products Blue Shirt Red Shirt Green Shirt Product: Blue Shirt Location Availability = Available Product: Red Shirt Location Availability = Available Product: Green Shirt Location Availability = Available This is achieved by making the same recommendation API request, but instead, substituting the \"ViewedItems\" list with the \"RecommendedProducts\" list, and including the flag \"AnnotationsOnly = true\". Extensibility Edit Product Recommendation Request User Exit If the system or screen calling the API does not contain information required by the recommendation engine being used, this user exit can be implemented to modify the base request before sending it to the external system. Marketplace:Marketplace:UserExit:EditProductRecommendationRequest Configuration Product Recommendations Configuration UI Recommendation and annotation configuration is managed in the Product Recommendations Configuration user interface. Continue reading for a list of configurable attributes and a description of their behavior. Recommendation Configuration Recommendation configuration is used to control different aspects of the product recommendation process. Each selling channel can have its own recommendation configuration. When calling the recommendation API, the configuration object used for a particular API call is determined by passing either the selling channel or the specific recommendation configuration Id in the request. Out of the box, unique recommendation configurations are provided. These can be added to your respective organizations by copying the \"mkp::recommendation\" profile purpose from the \"base\" organization and modifying it as needed. Default Recommendation Configuration Store Recommendation Configuration Contact Center Recommendation Configuration Digital Self Service Recommendation Configuration This table includes a breakdown of each configuration attribute and what it is used for: Name Description RecommendationConfigId The unique identifier and business key of the recommendation configuration. SellingChannel The selling channel of the source of the recommendation request. This is used to identify which recommendation configuration should be used during the recommendation and annotation process. For example, 'Store', 'CallCenter', or 'SelfServe' ChannelSource The source within a particular selling channel. This may refer to the name of a particular screen when a selling channel calls the recommendation API from multiple menus. This is used to identify which recommendation configuration to use in a more granular manner than only the selling channel. For example, 'Item Search', 'Customer Dashboard'. RecommendationType This can be configured as 'Item', 'Customer' or None. Depending on the recommendation type, specific request attributes may be required or not, while all other attributes remain optional. For example, if the recommendation type is set to 'Item', the API will return a validation error if the ItemId is not present in the request. ConfigRank Indicates the rank that will be used to match the recommendation configuration when calling the recommendation API. For example, if two recommendation configurations exist with a selling channel defined as store, the selected configuration will be the one with the higher rank. RecommendationLimit The number of recommended items that can be returned for display in the UI. For example, if the UI displaying the recommendations can only show 10 items, this should be configured to 10, and if the recommendation engine sends a list of items that exceeds 10, any items beyond the first 10 will not be sent back to the UI. RemoveNetworkOutOfStock When enabled, if a network level 'available to commerce' view is included in the recommendation request, any recommended product that is not available within that specified inventory view is removed from the recommendation API response. Annotation Configuration Annotations and related behavior are controlled within the specified recommendation configuration. These are also managed in the recommendation configuration UI. Navigate to the Recommendation Configuration UI Select the desired configuration and click \"Details\" Expand the Annotation Type Config object Add the desired annotation Name Description AnnotationTypeId The type of the annotation being applied to the recommended product. This is used to return a specific value to the calling system to identify how to interpret the annotation value. For example, if the location availability annotation is enabled, the annotation type will be returned as 'LocationAvailability', along with the item's inventory status as the annotation value. FilterRecommendations When this property is enabled, the recommended products' response is filtered into two lists, a recommended products list and a filtered products list. This filtering is determined by the value of the annotation using pre-defined logic, and serves as a way of prioritizing recommended products based on the value of the annotation returned. Related Articles Google Shopping Integration"
}