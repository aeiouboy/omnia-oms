{
  "success": true,
  "permalink": "order-migration-troubleshooting",
  "title": "Troubleshooting",
  "content": "\r\n\r\n\r\n<div class=\"hiq-page-wrap\">\r\n<div class=\"hiq-t-wrap\">\r\n\t\t\r\n  \t  <div class=\"hiq-t \">\r\n\t\t\t\t<ul class=\"breadcrumbs\"><li><a class=\"breadcrumb-links\" hqid=\"1788908\"  href=\"/home\">Home</a></li> <li><span>&rsaquo;&rsaquo;</span><a hqid=\"3500940\" href=\"/omni\" class=\"breadcrumb-links\">Manhattan Active® Omni</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158393\" href=\"/order-management\" class=\"breadcrumb-links\">Order Management</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158394\" href=\"/process-configuration-guides\" class=\"breadcrumb-links\">Process & Configuration Guides</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158718\" href=\"/order-processing-2\" class=\"breadcrumb-links\">Order Processing</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"3107537\" href=\"/order-migration\" class=\"breadcrumb-links\">Order Migration</a></li><li> <span>››</span>Troubleshooting</li></ul>  \t\r\n\t\t<h2>Order Migration Troubleshooting</h2>\r\n\r\n<p></p>\r\n\r\n<a href=\"/order-migration-sample-jsons\" hqid=\"3108273\">Previous</a>&nbsp;I&nbsp;\r\n<p>&nbsp;</p>\r\n\r\n<div class=\"info\"><ul><li><a href=\"/order-migration-troubleshooting$an-extra-adjustment-shipment-invoice-is-created-in-active®-omni-while-importing-the-orders\">An extra adjustment/shipment invoice is created in Active® Omni while importing the orders.</a></li><li><a href=\"/order-migration-troubleshooting$active®-omni-is-generating-an-adjustment-invoice-of-nbsp-zero-for-orders-already-delivered-with-shipping-charges-the-expectation-is-to-migrate-the-order-with-its-own-invoice-details-without-any-new-adjustment-invoice-nbsp\">Active® Omni is generating an adjustment invoice of&nbsp;zero for orders already delivered with shipping charges. The expectation is to migrate the order with its own invoice details without any new adjustment invoice&nbsp;</a></li><li><a href=\"/order-migration-troubleshooting$orders-with-discounts-tips-and-donations-are-creating-0-nbsp-adjustment-invoice-when-importing-the-orders\">Orders with discounts, tips, and donations are creating 0$&nbsp;adjustment invoice when importing the orders</a></li><li><a href=\"/order-migration-troubleshooting$orders-are-not-imported\">Orders are not imported</a></li><li><a href=\"/order-migration-troubleshooting$for-migrated-orders-sales-posting-is-generated-from-active-omni\">For migrated orders, sales posting is generated from Active Omni</a></li><li><a href=\"/order-migration-troubleshooting$exchange-import-creates-shipment-invoice-instead-of-considering-the-shipment-invoice-provided-by-the-base\">Exchange import creates shipment invoice instead of considering the shipment invoice provided by the base</a></li><li><a href=\"/order-migration-troubleshooting$not-able-to-close-the-invoice-for-return-order-migration-orders-although-the-return-status-appears-as-returned-and-the-payment-status-as-refunded-nbsp-on-the-payload-nbsp-that-is-being-sent\">Not able to close the invoice for return order migration orders although the return status appears as \"Returned\" and the payment status as \"Refunded\"&nbsp;on the payload&nbsp;that is being sent</a></li><li><a href=\"/order-migration-troubleshooting$orderlinecancelhistory-is-created-twice-for-migrated-orders\">OrderLineCancelHistory is created twice for migrated orders</a></li><li><a href=\"/order-migration-troubleshooting$migrated-order-is-going-to-awaiting-refund-status\">Migrated order is going to \"Awaiting Refund\" status</a></li><li><a href=\"/order-migration-troubleshooting$adjustment-invoice-is-created-with-a-value-of-zero-when-fulfilled-orders-are-updated-by-adding-payment-information-updating-prices-charges-and-taxes\">Adjustment invoice is created with a value of zero when fulfilled orders are updated by adding payment information, updating prices, charges, and taxes</a></li><li><a href=\"/order-migration-troubleshooting$how-to-import-a-completed-return-order-with-payment\">How to import a completed return order with payment</a></li><li><a href=\"/order-migration-troubleshooting$why-is-there-an-inventory-decrement-even-though-no-allocation-occurs\">Why is there an inventory decrement even though no allocation occurs?</a></li><li><a href=\"/order-migration-troubleshooting$why-is-pos-return-order-not-updating-parent-order-to-returned-even-though-the-payment-status-is-refunded-and-the-return-order-is-associated-with-the-parent-order\">Why is POS return order not updating parent order to returned even though the payment status is refunded and the return order is associated with the parent order</a></li><li><a href=\"/order-migration-troubleshooting$parent-order-with-even-exchange-order-is-moved-to-returned-but-remains-in-paid-status-nbsp\">Parent order with even exchange order is moved to returned but remains in paid status&nbsp;</a></li></ul></div>\r\n\r\n<h4><a name=\"an-extra-adjustment-shipment-invoice-is-created-in-active®-omni-while-importing-the-orders\" id=\"an-extra-adjustment-shipment-invoice-is-created-in-active®-omni-while-importing-the-orders\"></a>An extra adjustment/shipment invoice is created in Active® Omni while importing the orders.</h4>\r\n\r\n<ul>\r\n\t<li>Remove the PackageId from JSON&nbsp;if the delivery method on the order is either PickupAtStore or ShipToStore</li>\r\n\t<li>Remove the invoice object from the JSON and allow the base to create the invoice. In this case, only a shipment invoice would be created.</li>\r\n\t<li>When importing&nbsp;exchange order, remove payment transaction details&nbsp;and make sure refundPaymentMethod.refundPaymentMethodId is populated.</li>\r\n</ul>\r\n\r\n<h4><a name=\"active®-omni-is-generating-an-adjustment-invoice-of-nbsp-zero-for-orders-already-delivered-with-shipping-charges-the-expectation-is-to-migrate-the-order-with-its-own-invoice-details-without-any-new-adjustment-invoice-nbsp\" id=\"active®-omni-is-generating-an-adjustment-invoice-of-nbsp-zero-for-orders-already-delivered-with-shipping-charges-the-expectation-is-to-migrate-the-order-with-its-own-invoice-details-without-any-new-adjustment-invoice-nbsp\"></a>Active® Omni is generating an adjustment invoice of&nbsp;zero for orders already delivered with shipping charges. The expectation is to migrate the order with its own invoice details without any new adjustment invoice&nbsp;</h4>\r\n\r\n<ul>\r\n\t<li>All the charges should already be prorated at line level in imported orders. It means that you need to add the corresponding OrderLine charge and invoice line charge details.</li>\r\n\t<li>Is Overriden should be false in the order charge detail.</li>\r\n\t<li>Make sure that the header tax details are also prorated at the line level.&nbsp;</li>\r\n</ul>\r\n\r\n<h4><a name=\"orders-with-discounts-tips-and-donations-are-creating-0-nbsp-adjustment-invoice-when-importing-the-orders\" id=\"orders-with-discounts-tips-and-donations-are-creating-0-nbsp-adjustment-invoice-when-importing-the-orders\"></a>Orders with discounts, tips, and donations are creating 0$&nbsp;adjustment invoice when importing the orders</h4>\r\n\r\n<p>Follow the steps below:</p>\r\n\r\n<p>InvoiceChargeDetail and InvoiceLineChargeDetail need the following corrections:</p>\r\n\r\n<ul data-indent-level=\"1\">\r\n\t<li>\r\n\t<p data-renderer-start-pos=\"212\">RequestedAmount must be populated.</p>\r\n\t</li>\r\n\t<li>\r\n\t<p data-renderer-start-pos=\"254\">TaxCode must be populated.</p>\r\n\t</li>\r\n\t<li>\r\n\t<p data-renderer-start-pos=\"288\">RequestedAmount and ChargeTotal should be in proper amount format,&nbsp;that is,&nbsp;10 → 10.0 / 1 → 1.0 / 0 → 0.0&nbsp;</p>\r\n\t</li>\r\n</ul>\r\n\r\n<p data-renderer-start-pos=\"397\">OrderChargeDetail and OrderLineChargeDetail need&nbsp;the following corrections:</p>\r\n\r\n<ul data-indent-level=\"1\">\r\n\t<li>\r\n\t<p data-renderer-start-pos=\"473\">RequestedAmount and ChargeTotal should be in proper amount format, that is,&nbsp;10 → 10.0 / 1 → 1.0 / 0 → 0.0</p>\r\n\t</li>\r\n</ul>\r\n\r\n<h4 data-renderer-start-pos=\"473\"><a name=\"orders-are-not-imported\" id=\"orders-are-not-imported\"></a>Orders are not imported</h4>\r\n\r\n<p>Ensure that OrderChargeDetailId is populated in the Invoice Charge Detail.</p>\r\n\r\n<h4><a name=\"for-migrated-orders-sales-posting-is-generated-from-active-omni\" id=\"for-migrated-orders-sales-posting-is-generated-from-active-omni\"></a>For migrated orders, sales posting is generated from Active Omni</h4>\r\n\r\n<p>Ensure no data issues are present in the importing order JSON. If the&nbsp;base does any payment correction on the imported order,&nbsp;an adjustment invoice gets&nbsp;created. Due to this, a sales posting&nbsp;gets generated.</p>\r\n\r\n<h4><a name=\"exchange-import-creates-shipment-invoice-instead-of-considering-the-shipment-invoice-provided-by-the-base\" id=\"exchange-import-creates-shipment-invoice-instead-of-considering-the-shipment-invoice-provided-by-the-base\"></a>Exchange import creates shipment invoice instead of considering the shipment invoice provided by the base</h4>\r\n\r\n<p>This issue occurs when certain attributes in the invoice are not populated or are populated. To solve this, follow the steps given below:</p>\r\n\r\n<ol>\r\n\t<li>Import the order without an invoice and process the order to generate the invoice.</li>\r\n\t<li>Once the invoice is generated, compare that invoice with the invoice that you were trying to import.</li>\r\n\t<li>Make sure you compare each attribute of the invoice and invoice line.</li>\r\n\t<li>Check their values to understand if they refer to another attribute in the json.</li>\r\n\t<li>Now, based on the comparison, make the changes to your order import and reimport and verify.</li>\r\n\t<li>Repeat the above steps to resolve the issue.</li>\r\n</ol>\r\n\r\n<h4><a name=\"not-able-to-close-the-invoice-for-return-order-migration-orders-although-the-return-status-appears-as-returned-and-the-payment-status-as-refunded-nbsp-on-the-payload-nbsp-that-is-being-sent\" id=\"not-able-to-close-the-invoice-for-return-order-migration-orders-although-the-return-status-appears-as-returned-and-the-payment-status-as-refunded-nbsp-on-the-payload-nbsp-that-is-being-sent\"></a>Not able to close the invoice for return order migration orders although the return status appears as \"Returned\" and the payment status as \"Refunded\"&nbsp;on the payload&nbsp;that is being sent</h4>\r\n\r\n<p data-renderer-start-pos=\"39\">On return order import, the&nbsp;base always sends \"Calculate Only\" that&nbsp;results in an open return invoice. So,&nbsp;pass <code data-renderer-mark=\"true\"> \"ExecutionMode\":\"CalculateAndExecute\"</code>&nbsp;in the payment section on return order import.</p>\r\n\r\n<h4><a name=\"orderlinecancelhistory-is-created-twice-for-migrated-orders\" id=\"orderlinecancelhistory-is-created-twice-for-migrated-orders\"></a>OrderLineCancelHistory is created twice for migrated orders</h4>\r\n\r\n<p>This issue occurs due to the missing business key in OrderLineCancelHistory and other entities in order.xml file. To resolve this issue, use the \"RESET\" action.</p>\r\n\r\n<div class=\"computer_code\">\"Actions\": {<br>\r\n\"OrderLineCancelHistory\": \"RESET\"<br>\r\n}</div>\r\n\r\n<h4><a name=\"migrated-order-is-going-to-awaiting-refund-status\" id=\"migrated-order-is-going-to-awaiting-refund-status\"></a>Migrated order is going to \"Awaiting Refund\" status</h4>\r\n\r\n<p>While importing a completed order, a refund electronic gift card line for the cancelled lines is created by the system along with a refund transaction.</p>\r\n\r\n<p>This issue is due to mismatch in payment and invoice total. Any correction after saving the payment can cause this issue during updates, archive/unarchive, appeasement, returns, and so on.</p>\r\n\r\n<p>The solution&nbsp;is to correct the payment header so that it matches with the invoice amount.</p>\r\n\r\n<h4><a name=\"adjustment-invoice-is-created-with-a-value-of-zero-when-fulfilled-orders-are-updated-by-adding-payment-information-updating-prices-charges-and-taxes\" id=\"adjustment-invoice-is-created-with-a-value-of-zero-when-fulfilled-orders-are-updated-by-adding-payment-information-updating-prices-charges-and-taxes\"></a>Adjustment invoice is created with a value of zero when fulfilled orders are updated by adding payment information, updating prices, charges, and taxes</h4>\r\n\r\n<p>This issue is due to the charge detail&nbsp;Id. Ensure that the charge detail&nbsp;Id&nbsp;at invoice header level and invoice line level are equal to charge detail Id&nbsp;at order header level and order line level respectively.</p>\r\n\r\n<h4><a name=\"how-to-import-a-completed-return-order-with-payment\" id=\"how-to-import-a-completed-return-order-with-payment\"></a>How to import a completed return order with payment</h4>\r\n\r\n<p>When importing a completed order with payment, ensure that you follow the steps given below.</p>\r\n\r\n<ol data-indent-level=\"1\">\r\n\t<li>\r\n\t<p data-renderer-start-pos=\"77\">Modify \"RefundPaymentMethodId\": \"User Driven\"</p>\r\n\t</li>\r\n\t<li>\r\n\t<p data-renderer-start-pos=\"126\">Delete the PaymentTransactionDetail from the refund record</p>\r\n\t</li>\r\n</ol>\r\n\r\n<p data-renderer-start-pos=\"126\">An extra adjustment invoice is created in Active® Omni while importing the orders</p>\r\n\r\n<h4><a name=\"why-is-there-an-inventory-decrement-even-though-no-allocation-occurs\" id=\"why-is-there-an-inventory-decrement-even-though-no-allocation-occurs\"></a>Why is there an inventory decrement even though no allocation occurs?</h4>\r\n\r\n<p>Scenario: When Cash and Carry POS migrated orders are imported into the system with OrderActions.IsImported = true and OrderLine.OrderQuantityDetail set to a 7000 status, along with valid payment and order max/min status at 7000, we are seeing an inventory decrement despite no allocation taking place.</p>\r\n\r\n<p>This inventory decrement happens because the Store Sale Inventory Event is enabled in the Inventory Update Config tab of the Order Parameters UI. As a result, Order Management generates a store sale inventory event, which decreases the inventory despite no allocation taking place.</p>\r\n\r\n<h4><a name=\"why-is-pos-return-order-not-updating-parent-order-to-returned-even-though-the-payment-status-is-refunded-and-the-return-order-is-associated-with-the-parent-order\" id=\"why-is-pos-return-order-not-updating-parent-order-to-returned-even-though-the-payment-status-is-refunded-and-the-return-order-is-associated-with-the-parent-order\"></a>Why is POS return order not updating parent order to returned even though the payment status is refunded and the return order is associated with the parent order</h4>\r\n\r\n<p>Make sure the quantity detail section is not included in the return order. If the quantity details section is included, the system will avoid going through the pipeline and will not transition the parent order to returned or pending return status.</p>\r\n\r\n<h4><a name=\"parent-order-with-even-exchange-order-is-moved-to-returned-but-remains-in-paid-status-nbsp\" id=\"parent-order-with-even-exchange-order-is-moved-to-returned-but-remains-in-paid-status-nbsp\"></a>Parent order with even exchange order is moved to returned but remains in paid status&nbsp;</h4>\r\n\r\n<p>For even exchange orders linked to a parent order, the expected workflow is as follows: the parent order should be updated as Fulfilled and Paid, which is working correctly. Upon importing the Even Exchange order, its statuses should be Fulfilled (Order Status), Returned (Return Status), and Paid (Payment Status). Additionally, since the Even Exchange order is linked to the Parent order, the Parent order’s status should change to Returned and Refunded. Currently, the parent order is correctly marked as Returned but remains in the Paid status instead of changing to Refunded.</p>\r\n\r\n<p>When importing an order, the parent order’s payment status will update to “Refunded” during an even exchange only if the import occurs without including the return credit payment transaction.</p>\r\n\r\n\t  </div>\r\n </div>\r\n <div id=\"ui-page-fb-wrap\"></div>\r\n <div class=\"hiq-footer-wrap\">\r\n    \r\n                \r\n  </div>\r\n\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n",
  "content_length": 15737,
  "scraped_at": "2025-08-09T22:34:18.918989"
}