{
  "id": "3376406",
  "permalink": "adyen-payment-configuration",
  "title": "Adyen Payment Configuration",
  "type": "topic",
  "level": 7,
  "path": "Manhattan Active® Omni/Order Management/Process & Configuration Guides/Order Selling/Payment/Payment Gateway Integration/Adyen Payment Integration/Adyen Payment Configuration",
  "raw_item": {
    "id": "3376406",
    "text": "Adyen Payment Configuration",
    "title": "Adyen Payment Configuration",
    "permalink": "adyen-payment-configuration",
    "leaf": false,
    "droppable": true,
    "expanded": true,
    "closed": true,
    "visible": true,
    "editable": true,
    "type": "topic",
    "topicType": "0",
    "status": "1",
    "iconCls": "icon-topic",
    "cls": "",
    "folder_id": "t;3155917",
    "parent": "3155917",
    "created_date": "1709330000",
    "modified_date": "1738920649",
    "instructor_id": null,
    "loaded": true,
    "haschildren": false,
    "callout": "0",
    "order": "1"
  },
  "success": true,
  "content": "\r\n\r\n\r\n<div class=\"hiq-page-wrap\">\r\n<div class=\"hiq-t-wrap\">\r\n\t\t\r\n  \t  <div class=\"hiq-t \">\r\n\t\t\t\t<ul class=\"breadcrumbs\"><li><a class=\"breadcrumb-links\" hqid=\"1788908\"  href=\"/home\">Home</a></li> <li><span>&rsaquo;&rsaquo;</span><a hqid=\"3500940\" href=\"/omni\" class=\"breadcrumb-links\">Manhattan Active® Omni</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158393\" href=\"/order-management\" class=\"breadcrumb-links\">Order Management</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158394\" href=\"/process-configuration-guides\" class=\"breadcrumb-links\">Process & Configuration Guides</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2163646\" href=\"/order-selling-2\" class=\"breadcrumb-links\">Order Selling</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2163647\" href=\"/payment-2\" class=\"breadcrumb-links\">Payment</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2617714\" href=\"/payment-gateway-integration\" class=\"breadcrumb-links\">Payment Gateway Integration</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"3155917\" href=\"/adyen-payment-integration\" class=\"breadcrumb-links\">Adyen Payment Integration</a></li><li> <span>››</span>Adyen Payment Configuration</li></ul>  \t\r\n\t\t<h2><a name=\"adyen-payment-configuration\" id=\"adyen-payment-configuration\"></a>Adyen Payment Configuration</h2>\r\n\r\n<p></p>\r\n\r\n<div class=\"info\"><ul><li><a href=\"/adyen-payment-configuration$adyen-payment-configuration\">Adyen Payment Configuration</a><ul><li><a href=\"/adyen-payment-configuration$overview\">Overview</a></li><li><a href=\"/adyen-payment-configuration$manhattan-active-reg-configuration\">Manhattan Active&reg; Configuration</a><ul><li><a href=\"/adyen-payment-configuration$payment-gateway-configuration\">Payment Gateway Configuration</a></li><li><a href=\"/adyen-payment-configuration$gateway-payment-type-map\">Gateway Payment Type Map</a></li><li><a href=\"/adyen-payment-configuration$payment-gateway-response-mapping\">Payment Gateway Response Mapping</a></li><li><a href=\"/adyen-payment-configuration$payment-rule-configuration\">Payment Rule Configuration</a></li><li><a href=\"/adyen-payment-configuration$payment-type-configuration\">Payment Type Configuration</a></li><li><a href=\"/adyen-payment-configuration$payment-capture-configuration\">Payment Capture Configuration</a></li><li><a href=\"/adyen-payment-configuration$job-schedule-configuration\">Job Schedule Configuration</a></li><li><a href=\"/adyen-payment-configuration$pay-by-link-configuration\">Pay By Link Configuration</a></li><li><a href=\"/adyen-payment-configuration$adyen-authentication-credentials\">Adyen Authentication Credentials</a></li><li><a href=\"/adyen-payment-configuration$queues-and-message-types\">Queues and Message Types</a></li></ul></li><li><a href=\"/adyen-payment-configuration$adyen-configuration\">Adyen Configuration</a><ul><li><a href=\"/adyen-payment-configuration$captures-settlements\">Captures (Settlements)</a></li><li><a href=\"/adyen-payment-configuration$pre-authorization\">Pre-Authorization</a></li><li><a href=\"/adyen-payment-configuration$additional-data\">Additional Data</a></li><li><a href=\"/adyen-payment-configuration$api-key\">API Key</a></li><li><a href=\"/adyen-payment-configuration$client-authentication-and-allowed-origins\">Client Authentication and Allowed Origins</a></li><li><a href=\"/adyen-payment-configuration$webhook\">Webhook</a></li><li><a href=\"/adyen-payment-configuration$applepay\">ApplePay</a></li><li><a href=\"/adyen-payment-configuration$paypal\">PayPal</a></li><li><a href=\"/adyen-payment-configuration$user-exits\">User Exits</a></li></ul></li><li><a href=\"/adyen-payment-configuration$related-articles\">Related Articles</a></li></ul></li></ul></div>\r\n\r\n<h3><a name=\"overview\" id=\"overview\"></a>Overview</h3>\r\n\r\n<p>This page provides details on the specific configurations required&nbsp;within Manhattan Active&reg;&nbsp;and Adyen for integrated payment processing. For more details on the Adyen integration functionality, refer to <a href=\"https://omni.helpdocsonline.com/adyen-payment-integration\">Adyen Payment Integration</a>.</p>\r\n\r\n<h3><a name=\"manhattan-active-reg-configuration\" id=\"manhattan-active-reg-configuration\"></a>Manhattan Active&reg; Configuration</h3>\r\n\r\n<h4><a name=\"payment-gateway-configuration\" id=\"payment-gateway-configuration\"></a>Payment Gateway Configuration</h4>\r\n\r\n<p>The Adyen&nbsp;payment gateway is required for gateway interaction with Adyen.&nbsp;</p>\r\n\r\n<p>Refer to&nbsp;<a href=\"https://omni.helpdocsonline.com/payment-gateway-integration$adyen-gateway-configuration\">Payment Gateway Configuration</a>.</p>\r\n\r\n<h4><a name=\"gateway-payment-type-map\" id=\"gateway-payment-type-map\"></a>Gateway Payment Type Map</h4>\r\n\r\n<p>When using Adyen as a payment provider, the gateway payment type map is required. Specific payment and card type mapping is provided out of the box at the base profile.&nbsp;Additional payment and card types can be added based on what is available in your Adyen merchant account.</p>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width:800px;\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"col\">Attribute Name</th>\r\n\t\t\t<th scope=\"col\" style=\"width: 558px;\">Value Description</th>\r\n\t\t\t<th scope=\"col\" style=\"width: 89px;\">Required</th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td>PaymentTypeId</td>\r\n\t\t\t<td style=\"width: 544px;\">\r\n\t\t\t<p>The payment type defined in your Payment Type Configuration.</p>\r\n\r\n\t\t\t<p>This corresponds to the&nbsp;&#39;GatewayPaymentTypeId&#39; field.</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 74px;\">Yes</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>CardTypeId</td>\r\n\t\t\t<td style=\"width: 544px;\">\r\n\t\t\t<p>The card type defined in your Card Type Configuration.&nbsp;</p>\r\n\r\n\t\t\t<p>This corresponds to the&nbsp;&#39;GatewayCardTypeId&#39; field.</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 74px;\">No</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>GatewayId</td>\r\n\t\t\t<td style=\"width: 544px;\">\r\n\t\t\t<p>The payment gateway Id defined in your Payment Gateway Configuration. This will be &quot;AdyenPayments&quot;.</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 74px;\">Yes</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>GatewayPaymentTypeId</td>\r\n\t\t\t<td style=\"width: 544px;\">\r\n\t\t\t<p>The payment type defined in your Adyen merchant account. This is mapped to the &#39;type&#39; field within Adyen.</p>\r\n\r\n\t\t\t<p>This corresponds to the&nbsp;the &#39;PaymentTypeId&#39; field.</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 74px;\">Yes</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>GatewayCardTypeId</td>\r\n\t\t\t<td style=\"width: 544px;\">\r\n\t\t\t<p>The card type defined in your Adyen merchant account. This is mapped to the &#39;brand&#39; field within Adyen.</p>\r\n\r\n\t\t\t<p>This corresponds to&nbsp;the &#39;PaymentTypeId&#39; field.</p>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 74px;\">No</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<p>This configuration is owned by the &#39;pds::gatewayConfig&#39; profile purpose, which can be copied to your respective profile from the &#39;base&#39; profile.</p>\r\n\r\n<p>Alternatively, the payment type mapping&nbsp;provided out of the box as well as additional payment type mapping that is needed can be imported directly using the following API.</p>\r\n\r\n<div class=\"computer_code\">POST&nbsp;{{url}}/paymentgateway/api/paymentgateway/gatewayPaymentTypeMap/import</div>\r\n\r\n<p><div class=\"toggle_outerdiv\"><p class=\"toggle_div\"><a href=\"#tg-1\" class=\"toggle-content\"><span class=\"toggle-title\">Gateway Payment Type Map</span></a></p><div id=\"tg-1\"><div class=\"computer_code\">{<br />\n&nbsp; &quot;ProfileId&quot;: &quot;base&quot;,<br />\n&nbsp; &quot;data&quot;: [<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;PaymentTypeId&quot;: &quot;Credit Card&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;CardTypeId&quot;: &quot;Amex&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayId&quot;: &quot;AdyenPayments&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayPaymentTypeId&quot; : &quot;scheme&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayCardTypeId&quot;: &quot;amex&quot;<br />\n&nbsp; &nbsp; },<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;PaymentTypeId&quot;: &quot;Credit Card&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;CardTypeId&quot;: &quot;Visa&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayId&quot;: &quot;AdyenPayments&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayPaymentTypeId&quot; : &quot;scheme&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayCardTypeId&quot;: &quot;visa&quot;<br />\n&nbsp; &nbsp; },<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;PaymentTypeId&quot;: &quot;Credit Card&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;CardTypeId&quot;: &quot;MasterCard&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayId&quot;: &quot;AdyenPayments&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayPaymentTypeId&quot; : &quot;scheme&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayCardTypeId&quot;: &quot;mc&quot;<br />\n&nbsp; &nbsp; },<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;PaymentTypeId&quot;: &quot;Credit Card&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;CardTypeId&quot;: &quot;Discover&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayId&quot;: &quot;AdyenPayments&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayPaymentTypeId&quot; : &quot;scheme&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayCardTypeId&quot;: &quot;discover&quot;<br />\n&nbsp; &nbsp; },<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;PaymentTypeId&quot;: &quot;Credit Card&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;CardTypeId&quot;: &quot;JCB&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayId&quot;: &quot;AdyenPayments&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayPaymentTypeId&quot; : &quot;scheme&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayCardTypeId&quot;: &quot;jcb&quot;<br />\n&nbsp; &nbsp; },<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;PaymentTypeId&quot;: &quot;Credit Card&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;CardTypeId&quot;: &quot;Maestro International&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayId&quot;: &quot;AdyenPayments&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayPaymentTypeId&quot; : &quot;scheme&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayCardTypeId&quot;: &quot;maestro&quot;<br />\n&nbsp; &nbsp; },<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;PaymentTypeId&quot;: &quot;Credit Card&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;CardTypeId&quot;: &quot;DinersClub&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayId&quot;: &quot;AdyenPayments&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayPaymentTypeId&quot; : &quot;scheme&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayCardTypeId&quot;: &quot;diners&quot;<br />\n&nbsp; &nbsp; },<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;PaymentTypeId&quot;: &quot;PayPal&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;CardTypeId&quot;: null,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayId&quot;: &quot;AdyenPayments&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayPaymentTypeId&quot; : &quot;paypal&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayCardTypeId&quot;: null<br />\n&nbsp; &nbsp; },<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;PaymentTypeId&quot;: &quot;Gift Card&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;CardTypeId&quot;: &quot;Givex&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayId&quot;: &quot;AdyenPayments&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayPaymentTypeId&quot; : &quot;giftcard&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayCardTypeId&quot;: &quot;givex&quot;<br />\n&nbsp; &nbsp; }<br />\n&nbsp; ]<br />\n}<br />\n&nbsp;</div>\n</div></div></p>\r\n\r\n<h4><a name=\"payment-gateway-response-mapping\" id=\"payment-gateway-response-mapping\"></a>Payment Gateway Response Mapping</h4>\r\n\r\n<p>Gateway response mapping is required for closing payment transactions successfully. Many response codes Adyen may send are provided out of the box and can be found in the base profile. As Adyen does not typically send a response code in the event of a successful response decision, no response code is required for &quot;Success&quot; response decision mapping.&nbsp;</p>\r\n\r\n<p>Refer to <a href=\"https://omni.helpdocsonline.com/payment-gateway-integration$gateway-response-mappings\">Payment Gateway Response Mapping</a>.</p>\r\n\r\n<h4><a name=\"payment-rule-configuration\" id=\"payment-rule-configuration\"></a>Payment Rule Configuration</h4>\r\n\r\n<p>For each payment type or card type for which transactions are processed by Adyen, the&nbsp;<strong>Payment Rule Gateway</strong>&nbsp;needs to be manually&nbsp;configured with the &quot;AdyenPayments&quot; gateway Id for each respective payment rule. Payment rule seed data is provided in the base profile for all payment types supported out of the box with Adyen.&nbsp;</p>\r\n\r\n<p>Refer to&nbsp;<a href=\"https://omni.helpdocsonline.com/how-payment-processing-works$payment-rules\">Payment Rule Configuration</a>.</p>\r\n\r\n<h4><a name=\"payment-type-configuration\" id=\"payment-type-configuration\"></a>Payment Type Configuration</h4>\r\n\r\n<p>For each payment type or card type for which transactions are processed by Adyen, the payment type configuration needs to be reviewed and configured depending on the desired behavior for the payment or card type. Multiple flavors of processing are supported and controlled by configuration. Relevant configurations include but may not be limited to:</p>\r\n\r\n<ul>\r\n\t<li>Authorization Required</li>\r\n\t<li>Advance Auth&nbsp;Required</li>\r\n\t<li>Auth Expiration Days</li>\r\n</ul>\r\n\r\n<p>Payment type configuration&nbsp;seed data is provided in the base profile for all payment types supported out of the box through Adyen.</p>\r\n\r\n<p>Refer to&nbsp;<a href=\"https://omni.helpdocsonline.com/payment-types$payment-type-configuration\">Payment Type Configuration</a>.</p>\r\n\r\n<h4><a name=\"payment-capture-configuration\" id=\"payment-capture-configuration\"></a>Payment Capture Configuration</h4>\r\n\r\n<p>For each payment type for which transactions are processed by Adyen, the&nbsp;<strong>Payment Capture Configuration</strong>&nbsp;is required, primarily for refund processing.&nbsp;Payment capture&nbsp;configuration&nbsp;seed data is provided in the base profile for all payment types supported out of the box through Adyen.</p>\r\n\r\n<h4><a name=\"job-schedule-configuration\" id=\"job-schedule-configuration\"></a>Job Schedule Configuration</h4>\r\n\r\n<p>If using the base re-authorization job with the&nbsp;ReAuthPartialSettlement flag set to true to perform&nbsp;an authorization reversal when re-authorizing an expired authorization that has already been partially settled,&nbsp;the following parameter &quot;CloseAuthReversalInternally&quot; should&nbsp;be added to the&nbsp;reAuthorizationJob. If not present, this is defaulted to &quot;true&quot;, and the auth reversal created as a result of the re-authorization job will close internally and not be sent to Adyen.</p>\r\n\r\n<div class=\"computer_code\">\r\n<p>{<br />\r\n&nbsp; &nbsp; &quot;JobTypeId&quot;: &quot;reAuthorizationJob&quot;,<br />\r\n&nbsp; &nbsp; &quot;JobParameters&quot;: [<br />\r\n&nbsp; &nbsp; &nbsp; &nbsp; {<br />\r\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;InputValue&quot;: &quot;false&quot;,<br />\r\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;InputKey&quot;: &quot;CloseAuthReversalInternally&quot;<br />\r\n&nbsp; &nbsp; &nbsp; &nbsp; }<br />\r\n&nbsp; &nbsp; ],<br />\r\n&nbsp; &nbsp; &quot;JobScheduleId&quot;: &quot;reAuthorizationJob-1&quot;<br />\r\n}</p>\r\n</div>\r\n\r\n<p>Refer to&nbsp;<a href=\"https://omni.helpdocsonline.com/payment-schedulers$configuring-payment-schedulers\">Job Schedule Configuration</a>.</p>\r\n\r\n<h4><a name=\"pay-by-link-configuration\" id=\"pay-by-link-configuration\"></a>Pay By Link Configuration</h4>\r\n\r\n<p>To configure the Adyen pay by link page, perform the following steps:</p>\r\n\r\n<ul>\r\n\t<li>Configure the default <a href=\"https://omni.helpdocsonline.com/digital-self-service-configuration$self-service-payment-gateway-id\">Self Service Payment Gateway Id</a>&nbsp;</li>\r\n\t<li>Configure&nbsp;the required attributes and authentication details&nbsp;for pay by link on the Adyen Payments <a href=\"https://omni.helpdocsonline.com/payment-gateway-integration$adyen-gateway-configuration\">Payment Gateway Configuration</a></li>\r\n\t<li>Configure the <a href=\"https://omni.helpdocsonline.com/payment-gateway-integration$adyen-gateway-configuration\">Client Authentication and Allowed Origins</a> in the Adyen merchant account</li>\r\n</ul>\r\n\r\n<h4><a name=\"adyen-authentication-credentials\" id=\"adyen-authentication-credentials\"></a>Adyen Authentication Credentials</h4>\r\n\r\n<div class=\"info\">First refer to the<a href=\"https://omni.helpdocsonline.com/adyen-payment-configuration$webhook\"> Adyen webhook creation </a>process, and perform this step side by side&nbsp;with&nbsp;creating your&nbsp;webhook in Adyen&nbsp;because the WebhookURL is generated as part of the process of uploading the Adyen credentials to the payment gateway configuration.&nbsp;</div>\r\n\r\n<h5>How To Save Adyen Credentials</h5>\r\n\r\n<ol>\r\n\t<li>Gather the required values from your Adyen account\r\n\t<ol start=\"1\" style=\"list-style-type: lower-alpha;\">\r\n\t\t<li>Merchant Account</li>\r\n\t\t<li><a href=\"https://omni.helpdocsonline.com/adyen-payment-configuration$api-key\">API Key</a></li>\r\n\t\t<li><a href=\"https://omni.helpdocsonline.com/adyen-payment-configuration$webhook\">HMAC Key</a></li>\r\n\t\t<li><a href=\"https://docs.adyen.com/development-resources/client-side-authentication/#get-your-client-key\">Client Key</a> (Required for hosted payment pages)</li>\r\n\t</ol>\r\n\t</li>\r\n\t<li>Enter the required values as a JSON object&nbsp;- see below for example:\r\n\t<ol start=\"1\" style=\"list-style-type: lower-alpha;\">\r\n\t\t<li><u><strong>Configure via UI</strong></u>\r\n\t\t<ol start=\"1\" style=\"list-style-type: lower-roman;\">\r\n\t\t\t<li>Navigate to the <strong>Payment Gateway UI</strong> - &quot;/om/dm-config/screen/payment/Gateway&quot;</li>\r\n\t\t\t<li>Select&nbsp;<strong>Account</strong>&nbsp;<strong>&gt; Update Credentials</strong></li>\r\n\t\t\t<li>Enter the authentication credentials in the text box and Submit</li>\r\n\t\t</ol>\r\n\t\t</li>\r\n\t\t<li><u><strong>Configure via API</strong></u>\r\n\t\t<ol start=\"1\" style=\"list-style-type: lower-roman;\">\r\n\t\t\t<li>Run the updateCredentials API using the JSON formatted credentials as the request body</li>\r\n\t\t\t<li>\r\n\t\t\t<div class=\"computer_code\">POST&nbsp;{{url}}/payment/api/payment/gateway/AdyenPayments/account/{AccountId}/updateCredentials</div>\r\n\t\t\t</li>\r\n\t\t\t<li>Unless location level gateway account management is being used, the &quot;AccountId&quot; should simply be &quot;AdyenPaymentsAccount&quot;</li>\r\n\t\t</ol>\r\n\t\t</li>\r\n\t</ol>\r\n\t</li>\r\n\t<li>After uploading the Adyen credentials, a parameter called <strong>&quot;WebhookURL&quot;</strong> will be automatically saved in the gateway account attributes section.</li>\r\n\t<li>Proceed to <a href=\"https://omni.helpdocsonline.com/adyen-payment-configuration$webhook\">Step 5 of your Adyen webhook configuration</a>&nbsp;using the newly generated <strong>&quot;WebhookURL&quot;.</strong></li>\r\n</ol>\r\n\r\n<h5 class=\"computer_code\">{<br />\r\n&nbsp; &nbsp; &quot;adyen.apiKey&quot;: &quot;API Key&quot;,<br />\r\n&nbsp; &nbsp; &quot;adyen.hmacKey&quot;: &quot;Hmac Key&quot;,<br />\r\n&nbsp; &nbsp; &quot;adyen.merchantAccount&quot;: &quot;Merchant Account&quot;,<br />\r\n&nbsp; &nbsp; &quot;adyen.clientKey&quot;: &quot;Client key&quot;<br />\r\n}</h5>\r\n\r\n<h4><a name=\"queues-and-message-types\" id=\"queues-and-message-types\"></a>Queues and Message Types</h4>\r\n\r\n<p>Verify the following message types are present in your organization.</p>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width:1000px;\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"col\" style=\"width: 116px;\">&nbsp;</th>\r\n\t\t\t<th scope=\"col\" style=\"width: 108px;\"><strong>Component</strong></th>\r\n\t\t\t<th scope=\"col\" style=\"width: 213px;\"><strong>Message Type</strong></th>\r\n\t\t\t<th scope=\"col\" style=\"width: 299px;\"><strong>Queue Name</strong></th>\r\n\t\t\t<th scope=\"col\" style=\"width: 255px;\"><strong>Description</strong></th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"row\" style=\"width: 102px;\"><strong>Producer</strong></th>\r\n\t\t\t<td style=\"width: 94px;\">Payment Gateway</td>\r\n\t\t\t<td style=\"width: 199px;\">PaymentNotificationQueueMSGType</td>\r\n\t\t\t<td style=\"width: 285px;\">queue.pgw-pgw-PaymentNotificationQueueMSGType</td>\r\n\t\t\t<td colspan=\"1\" rowspan=\"2\" style=\"width: 241px;\">Messages are posted to this queue when webhook events are inserted into the gateway notification staging table. This evaluates if a match is found with a corresponding payment transaction to trigger a subsequent update of that payment transaction.</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"row\" style=\"width: 102px;\"><strong>Consumer</strong></th>\r\n\t\t\t<td style=\"width: 94px;\">Payment Gateway</td>\r\n\t\t\t<td style=\"width: 199px;\">PaymentNotificationQueueMSGType</td>\r\n\t\t\t<td style=\"width: 285px;\">queue.pgw-pgw-PaymentNotificationQueueMSGType</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"row\" style=\"width: 102px;\"><strong>Extension Point to Message Type</strong></th>\r\n\t\t\t<td colspan=\"4\" rowspan=\"1\" style=\"width: 94px;\">\r\n\t\t\t<div class=\"computer_code\">{<br />\r\n\t\t\t&nbsp; &nbsp; &quot;ExtensionPointId&quot;: &quot;PaymentGateway:PaymentGateway:Event:PaymentNotification&quot;,<br />\r\n\t\t\t&nbsp; &nbsp; &quot;MessageType&quot;: &quot;PaymentNotificationQueueMSGType&quot;<br />\r\n\t\t\t}</div>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width:1000px;\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"col\" style=\"width: 116px;\">&nbsp;</th>\r\n\t\t\t<th scope=\"col\" style=\"width: 108px;\"><strong>Component</strong></th>\r\n\t\t\t<th scope=\"col\" style=\"width: 213px;\"><strong>Message Type</strong></th>\r\n\t\t\t<th scope=\"col\" style=\"width: 272px;\"><strong>Queue Name</strong></th>\r\n\t\t\t<th scope=\"col\" style=\"width: 282px;\"><strong>Description</strong></th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"row\" style=\"width: 102px;\"><strong>Producer</strong></th>\r\n\t\t\t<td style=\"width: 94px;\">Payment Gateway</td>\r\n\t\t\t<td style=\"width: 199px;\">UpdatePaymentTransactionMSGType</td>\r\n\t\t\t<td style=\"width: 258px;\">queue.pgw-payment-updatePaymentTransaction</td>\r\n\t\t\t<td colspan=\"1\" rowspan=\"2\" style=\"width: 268px;\">Messages are posted to this queue after a PaymentNotificationQueueMSGType is consumed and a payment transaction match is found. This updates and closes the payment transaction with the appropriate status.</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"row\" style=\"width: 102px;\"><strong>Consumer</strong></th>\r\n\t\t\t<td style=\"width: 94px;\">Payment</td>\r\n\t\t\t<td style=\"width: 199px;\">UpdatePaymentTransactionMSGType</td>\r\n\t\t\t<td style=\"width: 258px;\">queue.pgw-payment-updatePaymentTransaction</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"row\" style=\"width: 102px;\"><strong>Extension Point to Message Type</strong></th>\r\n\t\t\t<td colspan=\"4\" rowspan=\"1\" style=\"width: 94px;\">\r\n\t\t\t<div class=\"computer_code\">{<br />\r\n\t\t\t&nbsp; &nbsp; &quot;ExtensionPointId&quot;: &quot;PaymentGateway:PaymentGateway:Event:PaymentTransactionUpdate&quot;,<br />\r\n\t\t\t&nbsp; &nbsp; &quot;MessageType&quot;: &quot;UpdatePaymentTransactionMSGType&quot;<br />\r\n\t\t\t}</div>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<h3><a name=\"adyen-configuration\" id=\"adyen-configuration\"></a>Adyen Configuration</h3>\r\n\r\n<h4><a name=\"captures-settlements\" id=\"captures-settlements\"></a>Captures (Settlements)</h4>\r\n\r\n<h5>Automatic and Manual Capture</h5>\r\n\r\n<p>By default, Adyen merchant accounts will automatically attempt to settle every transaction instead of waiting for a separate request to settle an authorized payment. All transactions sent from Manhattan Active&reg; will include the &quot;ManualCapture&quot; flag to drive this behavior to determine if a transaction requires authorization or can settle as a standalone process. See&nbsp;<a href=\"https://omni.helpdocsonline.com/adyen-payment-integration$manual-capture\">Adyen Integration - Manual Capture</a>. The Adyen merchant account must be configured for automatic capture to leverage this behavior, if it is configured in manual mode, direct settlement processing is not supported.</p>\r\n\r\n<p>Refer to <a href=\"https://docs.adyen.com/online-payments/capture/\">Adyen Documentation</a> for more information.</p>\r\n\r\n<h5>Multiple Partial Captures</h5>\r\n\r\n<p>It is strongly recommended to allow multiple settlements against a single authorization for any payment type that supports this behavior. This means setting &quot;Advance Auth Required&quot; to &quot;False&quot; in <a href=\"http://omni.helpdocsonline.com/payment-types$payment-type-configuration\">Payment Type Configuration</a>.&nbsp;In order to achieve this, multiple partial capture functionality needs to be enabled in your Adyen merchant account.&nbsp;Refer to <a href=\"https://docs.adyen.com/online-payments/capture/#multiple-partial-captures\">Adyen Documentation</a> for more information.</p>\r\n\r\n<h4><a name=\"pre-authorization\" id=\"pre-authorization\"></a>Pre-Authorization</h4>\r\n\r\n<p>In order to utilize Adyen&#39;s authorization adjustment functionality to process authorization reversal&nbsp;in Manhattan Active, your Adyen merchant account must be configured to treat authorizations as &quot;pre-authorizations&quot;.&nbsp;Refer to <a href=\"https://docs.adyen.com/online-payments\">Adyen Documentation</a> for more information.</p>\r\n\r\n<h4><a name=\"additional-data\" id=\"additional-data\"></a>Additional Data</h4>\r\n\r\n<p>Select the additional data&nbsp;within your Adyen merchant account for any required behavior outlined below:</p>\r\n\r\n<ol>\r\n\t<li>Log in to your&nbsp;<a href=\"https://ca-test.adyen.com/\" rel=\"nofollow noopener noreferrer\" target=\"_blank\">Customer Area</a>.</li>\r\n\t<li>Go to&nbsp;<strong>Developers</strong>&nbsp;&gt;&nbsp;<strong>Additional data</strong>.</li>\r\n\t<li>Enable the following fields to be included in response data from Adyen:</li>\r\n</ol>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 542px;\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"col\" style=\"width: 139px;\">Adyen Attribute</th>\r\n\t\t\t<th scope=\"col\" style=\"width: 342px;\">Description</th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 124px;\">cardSummary</td>\r\n\t\t\t<td style=\"width: 327px;\">Populating the AccountDisplayNumber attribute.</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 124px;\">cardHolderName</td>\r\n\t\t\t<td style=\"width: 327px;\">Populating the NameOnCard attribute.</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 124px;\">expiryDate</td>\r\n\t\t\t<td style=\"width: 327px;\">Populating the&nbsp;CardExpiryYear and&nbsp;CardExpiryMonth.</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 124px;\">fraudResultType</td>\r\n\t\t\t<td style=\"width: 327px;\">Flagging transactions for fraud behavior. Required for Adyen fraud processing.</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 124px;\">fraudManualReview</td>\r\n\t\t\t<td style=\"width: 327px;\">Flagging transactions for fraud behavior. Required for Adyen fraud processing.</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 124px;\">recurring.shopperReference</td>\r\n\t\t\t<td style=\"width: 327px;\">Populating the &#39;ShopperReference&#39; attribute. Required for capturing and authorizing payment from MAO.</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 124px;\">recurring.recurringDetailReference</td>\r\n\t\t\t<td style=\"width: 327px;\">Populating the &#39;AccountNumber&#39; attribute. Required for capturing and authorizing payment from MAO.</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 124px;\">StoredValueID</td>\r\n\t\t\t<td style=\"width: 327px;\">\r\n\t\t\t<p>Populating the &#39;AccountNumber&#39; attribute for gift cards. Required for capturing and authorizing gift cards from MAO.</p>\r\n\r\n\t\t\t<p><strong>Note: This must be enabled by the Adyen support team.</strong></p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<p>Refer to <a href=\"https://docs.adyen.com/online-payments\">Adyen Documentation</a> for more information.</p>\r\n\r\n<h4><a name=\"api-key\" id=\"api-key\"></a>API Key</h4>\r\n\r\n<p>API credentials are used for authentication between Manhattan Active&reg; and Adyen for server side payment processing. It is required to configure an API key in your Adyen customer area in order to allow&nbsp;any interaction between systems.</p>\r\n\r\n<ol>\r\n\t<li>Log in to your&nbsp;<a href=\"https://ca-test.adyen.com/\" rel=\"nofollow noopener noreferrer\" target=\"_blank\">Customer Area</a>.</li>\r\n\t<li>Go to&nbsp;<strong>Developers</strong>&nbsp;&gt;&nbsp;<strong>API credentials</strong></li>\r\n\t<li>Generate&nbsp;and make note of your <strong>API key</strong></li>\r\n</ol>\r\n\r\n<p>Refer to <a href=\"https://docs.adyen.com/development-resources/api-credentials/#generate-api-key\">Adyen Documentation</a> for more information.</p>\r\n\r\n<h4><a name=\"client-authentication-and-allowed-origins\" id=\"client-authentication-and-allowed-origins\"></a>Client Authentication and Allowed Origins</h4>\r\n\r\n<p>Client authentication is used for interaction between&nbsp;Manhattan Active&reg; and Adyen when launching Adyen&#39;s hosted payment pages via <strong>Customer Service or Self Service (Pay By Link)</strong>&nbsp;applications.&nbsp;</p>\r\n\r\n<ol>\r\n\t<li>Log in to your&nbsp;<a href=\"https://ca-test.adyen.com/\" rel=\"nofollow noopener noreferrer\" target=\"_blank\">Customer Area</a>.</li>\r\n\t<li>Go to&nbsp;<strong>Developers</strong>&nbsp;&gt;&nbsp;<strong>API credentials</strong></li>\r\n\t<li>Configure and make a note of your <strong>client&nbsp;key</strong></li>\r\n\t<li>Under&nbsp;<strong>Allowed origins</strong>, enter a host name&nbsp;and select&nbsp;<strong>Add.</strong>\r\n\t<ol start=\"1\" style=\"list-style-type: lower-alpha;\">\r\n\t\t<li><strong>For example:</strong> &quot;https://&lt;EnvironmentCode&gt;.manh.cloud&quot; - <b>Your environment host name may not follow this exact format. Check your specific environment before configuring in Adyen.</b></li>\r\n\t</ol>\r\n\t</li>\r\n</ol>\r\n\r\n<p>Refer to <a href=\"https://docs.adyen.com/development-resources/client-side-authentication/\">Adyen Documentation</a> for more information.</p>\r\n\r\n<h4><a name=\"webhook\" id=\"webhook\"></a>Webhook</h4>\r\n\r\n<div class=\"info\">Perform this step side by side&nbsp;with&nbsp;configuring your&nbsp;credentials in Manhattan Active&reg; Omni&nbsp;because the WebhookURL is generated as part of the process of uploading the Adyen credentials to the payment gateway configuration.</div>\r\n\r\n<ol>\r\n\t<li>\r\n\t<p>Log in to your&nbsp;<a href=\"https://ca-test.adyen.com/\" rel=\"nofollow noopener noreferrer\" target=\"_blank\">Customer Area</a>.</p>\r\n\t</li>\r\n\t<li>\r\n\t<p>Go to&nbsp;<strong>Developers</strong>&nbsp;&gt;&nbsp;<strong>Webhooks</strong>.</p>\r\n\t</li>\r\n\t<li>\r\n\t<p>Select <strong>+</strong>&nbsp;<strong>Webhook</strong>.</p>\r\n\t</li>\r\n\t<li>Generate and make a note of your&nbsp;<strong>HMAC Key</strong>\r\n\t<ol start=\"1\" style=\"list-style-type: lower-alpha;\">\r\n\t\t<li>Follow the&nbsp;<a href=\"https://omni.helpdocsonline.com/adyen-payment-configuration$adyen-authentication-credentials\">credentials upload instructions</a>&nbsp;within&nbsp;Manhattan Active&reg; to generate the required server configuration details.</li>\r\n\t</ol>\r\n\t</li>\r\n\t<li>\r\n\t<p>Fill in the <strong>Server configuration</strong></p>\r\n\r\n\t<ol start=\"1\" style=\"list-style-type: lower-alpha;\">\r\n\t\t<li>URL - &quot;https://&lt;ManhattanActiveURL&gt;/&lt;WebhookURL&gt;&quot;</li>\r\n\t\t<li>Method&nbsp;- &quot;JSON&quot;</li>\r\n\t\t<li>Encryption Protocol - &quot;TLSv1.3&quot;</li>\r\n\t</ol>\r\n\t</li>\r\n</ol>\r\n\r\n<p><img src=\"https://dzf8vqv24eqhg.cloudfront.net/userfiles/4665/7671/ckfinder/images/qu/3501/SCR-20240304-ocls-2.png?Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly9kemY4dnF2MjRlcWhnLmNsb3VkZnJvbnQubmV0L3VzZXJmaWxlcy80NjY1Lzc2NzEvY2tmaW5kZXIvaW1hZ2VzL3F1LzM1MDEvU0NSLTIwMjQwMzA0LW9jbHMtMi5wbmciLCJDb25kaXRpb24iOnsiRGF0ZUxlc3NUaGFuIjp7IkFXUzpFcG9jaFRpbWUiOjE3NTQ3NTE4MzR9fX1dfQ__&Signature=TD5l8gnX~dyGkyXwttYBrYvEc5tfLxk7D6-ESqix7Kphwetom7bqjD8uXc7DeJmUnqTiR0exHq~lGtM2CdPd8jlnzjrUGSbkS79zhTAuIjoaRZ31WYASVpV-bRu6wA~-Rc5V1xuUoBXzULSfTKF8kQHKJfyZF9iBe7tcydCba5x4rrwprEDRe63VTvAIFMyyOnzdIgO5foooOx6Y6Nwfu6ucN9XwBWQB9CEKoKwE4bCohICDXLKxSJ5W2r69b-evaSldmOsqugZUV2Ccl88mgL11ZFPFOmYd7VbvhWEglNcxXTrDiwCKFEZfXip1txjXKHsTdlC0wdfF7Kdrux-J0w__&Key-Pair-Id=K2TK3EG287XSFC\" style=\"width: 733px; height: 473px; border-style: solid; border-width: 1px;\" /></p>\r\n\r\n<p>Refer to <a href=\"https://docs.adyen.com/development-resources/webhooks/#set-up-webhooks-in-your-customer-area\">Adyen Documentation</a> for more information.</p>\r\n\r\n<h4><a name=\"applepay\" id=\"applepay\"></a>ApplePay</h4>\r\n\r\n<p>Follow the ApplePay setup instructions to connect your Adyen merchant account to ApplePay. Refer to <a href=\"https://docs.adyen.com/payment-methods/apple-pay/enable-apple-pay/\">Adyen Documentation</a> for more information. Out of the box, the connection with Pay by Link and ApplePay is done using Adyen&#39;s ApplePay certificate.</p>\r\n\r\n<h4><a name=\"paypal\" id=\"paypal\"></a>PayPal</h4>\r\n\r\n<p>Follow the PayPal setup instructions to connect your Adyen merchant account to your PayPal business account.&nbsp;Refer to <a href=\"https://docs.adyen.com/payment-methods/paypal/setup-paypal-direct-merchants/\">Adyen Documentation</a> for more information.</p>\r\n\r\n<h4><a name=\"user-exits\" id=\"user-exits\"></a>User Exits</h4>\r\n\r\n<p><strong>Paymentgateway:Adyen:UserExit:EditAdyenRequest</strong></p>\r\n\r\n<p><strong>Paymentgateway:Adyen:UserExit:AdyenNotification</strong></p>\r\n\r\n<p><strong>Paymentgateway:Adyen:UserExit:CallAdyenGateway</strong></p>\r\n\r\n<h3><a name=\"related-articles\" id=\"related-articles\"></a>Related Articles</h3>\r\n\r\n<div class=\"info\"><a href=\"https://omni.helpdocsonline.com/payment-gateway-integration\">Payment Gateway Integration</a></div>\r\n\r\n\t  </div>\r\n </div>\r\n <div id=\"ui-page-fb-wrap\"></div>\r\n <div class=\"hiq-footer-wrap\">\r\n    \r\n                \r\n  </div>\r\n\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n",
  "content_length": 33429,
  "scraped_at": "2025-08-09T21:58:54.364530",
  "content_clean": "Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Order Selling››Payment››Payment Gateway Integration››Adyen Payment Integration ››Adyen Payment Configuration Adyen Payment Configuration Adyen Payment ConfigurationOverviewManhattan Active® ConfigurationPayment Gateway ConfigurationGateway Payment Type MapPayment Gateway Response MappingPayment Rule ConfigurationPayment Type ConfigurationPayment Capture ConfigurationJob Schedule ConfigurationPay By Link ConfigurationAdyen Authentication CredentialsQueues and Message TypesAdyen ConfigurationCaptures (Settlements)Pre-AuthorizationAdditional DataAPI KeyClient Authentication and Allowed OriginsWebhookApplePayPayPalUser ExitsRelated Articles Overview This page provides details on the specific configurations required within Manhattan Active® and Adyen for integrated payment processing. For more details on the Adyen integration functionality, refer to Adyen Payment Integration. Manhattan Active® Configuration Payment Gateway Configuration The Adyen payment gateway is required for gateway interaction with Adyen. Refer to Payment Gateway Configuration. Gateway Payment Type Map When using Adyen as a payment provider, the gateway payment type map is required. Specific payment and card type mapping is provided out of the box at the base profile. Additional payment and card types can be added based on what is available in your Adyen merchant account. Attribute Name Value Description Required PaymentTypeId The payment type defined in your Payment Type Configuration. This corresponds to the 'GatewayPaymentTypeId' field. Yes CardTypeId The card type defined in your Card Type Configuration. This corresponds to the 'GatewayCardTypeId' field. No GatewayId The payment gateway Id defined in your Payment Gateway Configuration. This will be \"AdyenPayments\". Yes GatewayPaymentTypeId The payment type defined in your Adyen merchant account. This is mapped to the 'type' field within Adyen. This corresponds to the the 'PaymentTypeId' field. Yes GatewayCardTypeId The card type defined in your Adyen merchant account. This is mapped to the 'brand' field within Adyen. This corresponds to the 'PaymentTypeId' field. No This configuration is owned by the 'pds::gatewayConfig' profile purpose, which can be copied to your respective profile from the 'base' profile. Alternatively, the payment type mapping provided out of the box as well as additional payment type mapping that is needed can be imported directly using the following API. POST {{url}}/paymentgateway/api/paymentgateway/gatewayPaymentTypeMap/import Gateway Payment Type Map{ \"ProfileId\": \"base\", \"data\": [ { \"PaymentTypeId\": \"Credit Card\", \"CardTypeId\": \"Amex\", \"GatewayId\": \"AdyenPayments\", \"GatewayPaymentTypeId\" : \"scheme\", \"GatewayCardTypeId\": \"amex\" }, { \"PaymentTypeId\": \"Credit Card\", \"CardTypeId\": \"Visa\", \"GatewayId\": \"AdyenPayments\", \"GatewayPaymentTypeId\" : \"scheme\", \"GatewayCardTypeId\": \"visa\" }, { \"PaymentTypeId\": \"Credit Card\", \"CardTypeId\": \"MasterCard\", \"GatewayId\": \"AdyenPayments\", \"GatewayPaymentTypeId\" : \"scheme\", \"GatewayCardTypeId\": \"mc\" }, { \"PaymentTypeId\": \"Credit Card\", \"CardTypeId\": \"Discover\", \"GatewayId\": \"AdyenPayments\", \"GatewayPaymentTypeId\" : \"scheme\", \"GatewayCardTypeId\": \"discover\" }, { \"PaymentTypeId\": \"Credit Card\", \"CardTypeId\": \"JCB\", \"GatewayId\": \"AdyenPayments\", \"GatewayPaymentTypeId\" : \"scheme\", \"GatewayCardTypeId\": \"jcb\" }, { \"PaymentTypeId\": \"Credit Card\", \"CardTypeId\": \"Maestro International\", \"GatewayId\": \"AdyenPayments\", \"GatewayPaymentTypeId\" : \"scheme\", \"GatewayCardTypeId\": \"maestro\" }, { \"PaymentTypeId\": \"Credit Card\", \"CardTypeId\": \"DinersClub\", \"GatewayId\": \"AdyenPayments\", \"GatewayPaymentTypeId\" : \"scheme\", \"GatewayCardTypeId\": \"diners\" }, { \"PaymentTypeId\": \"PayPal\", \"CardTypeId\": null, \"GatewayId\": \"AdyenPayments\", \"GatewayPaymentTypeId\" : \"paypal\", \"GatewayCardTypeId\": null }, { \"PaymentTypeId\": \"Gift Card\", \"CardTypeId\": \"Givex\", \"GatewayId\": \"AdyenPayments\", \"GatewayPaymentTypeId\" : \"giftcard\", \"GatewayCardTypeId\": \"givex\" } ] } Payment Gateway Response Mapping Gateway response mapping is required for closing payment transactions successfully. Many response codes Adyen may send are provided out of the box and can be found in the base profile. As Adyen does not typically send a response code in the event of a successful response decision, no response code is required for \"Success\" response decision mapping. Refer to Payment Gateway Response Mapping. Payment Rule Configuration For each payment type or card type for which transactions are processed by Adyen, the Payment Rule Gateway needs to be manually configured with the \"AdyenPayments\" gateway Id for each respective payment rule. Payment rule seed data is provided in the base profile for all payment types supported out of the box with Adyen. Refer to Payment Rule Configuration. Payment Type Configuration For each payment type or card type for which transactions are processed by Adyen, the payment type configuration needs to be reviewed and configured depending on the desired behavior for the payment or card type. Multiple flavors of processing are supported and controlled by configuration. Relevant configurations include but may not be limited to: Authorization Required Advance Auth Required Auth Expiration Days Payment type configuration seed data is provided in the base profile for all payment types supported out of the box through Adyen. Refer to Payment Type Configuration. Payment Capture Configuration For each payment type for which transactions are processed by Adyen, the Payment Capture Configuration is required, primarily for refund processing. Payment capture configuration seed data is provided in the base profile for all payment types supported out of the box through Adyen. Job Schedule Configuration If using the base re-authorization job with the ReAuthPartialSettlement flag set to true to perform an authorization reversal when re-authorizing an expired authorization that has already been partially settled, the following parameter \"CloseAuthReversalInternally\" should be added to the reAuthorizationJob. If not present, this is defaulted to \"true\", and the auth reversal created as a result of the re-authorization job will close internally and not be sent to Adyen. { \"JobTypeId\": \"reAuthorizationJob\", \"JobParameters\": [ { \"InputValue\": \"false\", \"InputKey\": \"CloseAuthReversalInternally\" } ], \"JobScheduleId\": \"reAuthorizationJob-1\" } Refer to Job Schedule Configuration. Pay By Link Configuration To configure the Adyen pay by link page, perform the following steps: Configure the default Self Service Payment Gateway Id Configure the required attributes and authentication details for pay by link on the Adyen Payments Payment Gateway Configuration Configure the Client Authentication and Allowed Origins in the Adyen merchant account Adyen Authentication Credentials First refer to the Adyen webhook creation process, and perform this step side by side with creating your webhook in Adyen because the WebhookURL is generated as part of the process of uploading the Adyen credentials to the payment gateway configuration. How To Save Adyen Credentials Gather the required values from your Adyen account Merchant Account API Key HMAC Key Client Key (Required for hosted payment pages) Enter the required values as a JSON object - see below for example: Configure via UI Navigate to the Payment Gateway UI - \"/om/dm-config/screen/payment/Gateway\" Select Account > Update Credentials Enter the authentication credentials in the text box and Submit Configure via API Run the updateCredentials API using the JSON formatted credentials as the request body POST {{url}}/payment/api/payment/gateway/AdyenPayments/account/{AccountId}/updateCredentials Unless location level gateway account management is being used, the \"AccountId\" should simply be \"AdyenPaymentsAccount\" After uploading the Adyen credentials, a parameter called \"WebhookURL\" will be automatically saved in the gateway account attributes section. Proceed to Step 5 of your Adyen webhook configuration using the newly generated \"WebhookURL\". { \"adyen.apiKey\": \"API Key\", \"adyen.hmacKey\": \"Hmac Key\", \"adyen.merchantAccount\": \"Merchant Account\", \"adyen.clientKey\": \"Client key\" } Queues and Message Types Verify the following message types are present in your organization. Component Message Type Queue Name Description Producer Payment Gateway PaymentNotificationQueueMSGType queue.pgw-pgw-PaymentNotificationQueueMSGType Messages are posted to this queue when webhook events are inserted into the gateway notification staging table. This evaluates if a match is found with a corresponding payment transaction to trigger a subsequent update of that payment transaction. Consumer Payment Gateway PaymentNotificationQueueMSGType queue.pgw-pgw-PaymentNotificationQueueMSGType Extension Point to Message Type { \"ExtensionPointId\": \"PaymentGateway:PaymentGateway:Event:PaymentNotification\", \"MessageType\": \"PaymentNotificationQueueMSGType\" } Component Message Type Queue Name Description Producer Payment Gateway UpdatePaymentTransactionMSGType queue.pgw-payment-updatePaymentTransaction Messages are posted to this queue after a PaymentNotificationQueueMSGType is consumed and a payment transaction match is found. This updates and closes the payment transaction with the appropriate status. Consumer Payment UpdatePaymentTransactionMSGType queue.pgw-payment-updatePaymentTransaction Extension Point to Message Type { \"ExtensionPointId\": \"PaymentGateway:PaymentGateway:Event:PaymentTransactionUpdate\", \"MessageType\": \"UpdatePaymentTransactionMSGType\" } Adyen Configuration Captures (Settlements) Automatic and Manual Capture By default, Adyen merchant accounts will automatically attempt to settle every transaction instead of waiting for a separate request to settle an authorized payment. All transactions sent from Manhattan Active® will include the \"ManualCapture\" flag to drive this behavior to determine if a transaction requires authorization or can settle as a standalone process. See Adyen Integration - Manual Capture. The Adyen merchant account must be configured for automatic capture to leverage this behavior, if it is configured in manual mode, direct settlement processing is not supported. Refer to Adyen Documentation for more information. Multiple Partial Captures It is strongly recommended to allow multiple settlements against a single authorization for any payment type that supports this behavior. This means setting \"Advance Auth Required\" to \"False\" in Payment Type Configuration. In order to achieve this, multiple partial capture functionality needs to be enabled in your Adyen merchant account. Refer to Adyen Documentation for more information. Pre-Authorization In order to utilize Adyen's authorization adjustment functionality to process authorization reversal in Manhattan Active, your Adyen merchant account must be configured to treat authorizations as \"pre-authorizations\". Refer to Adyen Documentation for more information. Additional Data Select the additional data within your Adyen merchant account for any required behavior outlined below: Log in to your Customer Area. Go to Developers > Additional data. Enable the following fields to be included in response data from Adyen: Adyen Attribute Description cardSummary Populating the AccountDisplayNumber attribute. cardHolderName Populating the NameOnCard attribute. expiryDate Populating the CardExpiryYear and CardExpiryMonth. fraudResultType Flagging transactions for fraud behavior. Required for Adyen fraud processing. fraudManualReview Flagging transactions for fraud behavior. Required for Adyen fraud processing. recurring.shopperReference Populating the 'ShopperReference' attribute. Required for capturing and authorizing payment from MAO. recurring.recurringDetailReference Populating the 'AccountNumber' attribute. Required for capturing and authorizing payment from MAO. StoredValueID Populating the 'AccountNumber' attribute for gift cards. Required for capturing and authorizing gift cards from MAO. Note: This must be enabled by the Adyen support team. Refer to Adyen Documentation for more information. API Key API credentials are used for authentication between Manhattan Active® and Adyen for server side payment processing. It is required to configure an API key in your Adyen customer area in order to allow any interaction between systems. Log in to your Customer Area. Go to Developers > API credentials Generate and make note of your API key Refer to Adyen Documentation for more information. Client Authentication and Allowed Origins Client authentication is used for interaction between Manhattan Active® and Adyen when launching Adyen's hosted payment pages via Customer Service or Self Service (Pay By Link) applications. Log in to your Customer Area. Go to Developers > API credentials Configure and make a note of your client key Under Allowed origins, enter a host name and select Add. For example: \"https://<EnvironmentCode>.manh.cloud\" - Your environment host name may not follow this exact format. Check your specific environment before configuring in Adyen. Refer to Adyen Documentation for more information. Webhook Perform this step side by side with configuring your credentials in Manhattan Active® Omni because the WebhookURL is generated as part of the process of uploading the Adyen credentials to the payment gateway configuration. Log in to your Customer Area. Go to Developers > Webhooks. Select + Webhook. Generate and make a note of your HMAC Key Follow the credentials upload instructions within Manhattan Active® to generate the required server configuration details. Fill in the Server configuration URL - \"https://<ManhattanActiveURL>/<WebhookURL>\" Method - \"JSON\" Encryption Protocol - \"TLSv1.3\" Refer to Adyen Documentation for more information. ApplePay Follow the ApplePay setup instructions to connect your Adyen merchant account to ApplePay. Refer to Adyen Documentation for more information. Out of the box, the connection with Pay by Link and ApplePay is done using Adyen's ApplePay certificate. PayPal Follow the PayPal setup instructions to connect your Adyen merchant account to your PayPal business account. Refer to Adyen Documentation for more information. User Exits Paymentgateway:Adyen:UserExit:EditAdyenRequest Paymentgateway:Adyen:UserExit:AdyenNotification Paymentgateway:Adyen:UserExit:CallAdyenGateway Related Articles Payment Gateway Integration"
}