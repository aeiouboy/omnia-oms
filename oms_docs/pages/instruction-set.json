{
  "success": true,
  "permalink": "instruction-set",
  "title": "Instruction Set",
  "content": "\r\n\r\n\r\n<div class=\"hiq-page-wrap\">\r\n<div class=\"hiq-t-wrap\">\r\n\t\t\r\n  \t  <div class=\"hiq-t \">\r\n\t\t\t\t<ul class=\"breadcrumbs\"><li><a class=\"breadcrumb-links\" hqid=\"1788908\"  href=\"/home\">Home</a></li> <li><span>&rsaquo;&rsaquo;</span><a hqid=\"2161445\" href=\"/administrators\" class=\"breadcrumb-links\">Administrator Tools</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2687874\" href=\"/store-2\" class=\"breadcrumb-links\">Store</a></li><li> <span>››</span>Instruction Set</li></ul>  \t\r\n\t\t<h2>Instruction Set</h2>\r\n\r\n<p></p>\r\n\r\n<p>Instruction sets allow&nbsp;store operations personnel&nbsp;to send instructions from the Active Omni Store application for execution on their mobile devices. Store operations personnel use an Active Omni UI to create a new instruction set and assign it to one or more devices. Based on the scheduled time, the Store mobile application periodically checks&nbsp;to see if any new instructions are pending for the device. If a new instruction is found, the device executes the instruction and&nbsp;sends an acknowledgement once completed. UIs are available for store ops personnel to view devices which are actively using the Store application, create new instruction sets and monitor&nbsp;execution progress.</p>\r\n\r\n<ul>\r\n</ul>\r\n\r\n<div class=\"tip\"><strong>Note:</strong> Instruction sets are supported only for mobile devices running the online Store mobile application (iOS, Android and Windows.) The offline (Edge) Store application and browser clients are currently not supported.</div>\r\n\r\n<div class=\"tip\"><strong>Note</strong>: With instruction set functionality, device IDs&nbsp;are also referred to as &quot;remote IDs.&quot;</div>\r\n\r\n<div class=\"info\"><ul><li><a href=\"/instruction-set$device-info\">Device Info</a></li><li><a href=\"/instruction-set$instruction-statuses-and-lifecycle\">Instruction Statuses and Lifecycle</a></li><li><a href=\"/instruction-set$instruction-category-nbsp-and-value\">Instruction Category&nbsp;and Value</a></li><li><a href=\"/instruction-set$instruction-execution-type\">Instruction Execution Type</a></li><li><a href=\"/instruction-set$instruction-set-management-and-visibility\">Instruction Set Management and Visibility</a></li><li><a href=\"/instruction-set$custom-instruction-sets\">Custom Instruction Sets</a></li></ul></div>\r\n\r\n<h4><a name=\"device-info\" id=\"device-info\"></a>Device Info</h4>\r\n\r\n<p>All devices which are running the Store mobile application in the environment are added to the Device Info table of Active Omni which is visible from the&nbsp;<strong>Device Info UI </strong>of&nbsp;omnifacade. Refer to <a hqid=\"2842401\" href=\"/device-information\">Device Information&nbsp;</a>for details.&nbsp;</p>\r\n\r\n<h4><a name=\"instruction-statuses-and-lifecycle\" id=\"instruction-statuses-and-lifecycle\"></a>Instruction Statuses and Lifecycle</h4>\r\n\r\n<h5><strong>Instruction Set Creation</strong></h5>\r\n\r\n<p>When an instruction set is created, it is created with an instruction set header which is kept unique by a next-up instruction set ID, and one or more instruction details. One detail is created for each device that the instruction is applied to. The instruction set header contains information about the instruction that&#39;s being sent, including the type of instruction (that is the change log level), a user-entered description (that is &quot;Change log level to error for store 123 devices&quot;), created by user and overall status of the instruction set. The instruction set detail contains the remote ID and the instruction status for each device. Instructions are created in &#39;Created&#39; status. Both the header and detail records have a status.</p>\r\n\r\n<p>New instructions are created and assigned to devices from the <strong>Device Info UI</strong>. Users can select one or more devices, or use a Select All feature on the UI to easily select every device that matches the filter criteria (that is across multiple pages.)&nbsp;But if selected devices are more than 1000 then UI shows the validation error.&nbsp;Users can select only 1000 devices to create an instruction set. If users have to create an instruction set for more than 1000 devices&nbsp;then create another instruction set for the remaining devices.&nbsp;Once the user submits the create instruction set action, an asynchronous behind-the-scenes job is triggered to create the instruction set header and its details. The new instruction set will be reflected on the UI shortly, and the creation time will vary based on the number of devices that the instruction was applied to. Note that the select all function&nbsp;is controlled by a separate resource from the menu resource.</p>\r\n\r\n<h5><strong>Device Frequency</strong></h5>\r\n\r\n<p>During the login process, the device reaches out to the server to check if any instructions exist for the device in &#39;Created&#39; status. After this initial check, based on the configured value in the store common configuration it&nbsp;determines how frequently the Store application checks in the future for instructions. The configuration name is &quot;Instruction Set Interval&quot; and the value is defined in milliseconds, and the default value is 1800000 milliseconds (i.e.&nbsp;30&nbsp;minutes).&nbsp;The most frequently that devices can check for new instructions is once every 15 minutes. If the configuration value is set less than this, the configured value is ignored and 15 minutes is used.</p>\r\n\r\n<p>To completely disable the instruction set, set the configuration value to null or 0.</p>\r\n\r\n<div class=\"tip\">Note : Instruction will execute based on the time configured and not when user clicks on save in the settings page of the app.</div>\r\n\r\n<h5><strong>Instruction Send, Execution and Acknowledgement</strong></h5>\r\n\r\n<p>If one or more instruction details&nbsp;exist in &#39;Created&#39; status for the device, when the device reaches out at the next interval, those instructions are are sent to the device. Upon receipt, the client application executes those instructions on the device. Once an instruction is successfully complete, an acknowledgement is sent back to the server, and the instruction detail is updated &#39;Completed&#39; status. Once all instruction details for an instruction set are in status &#39;Completed&#39; and/or &#39;Obsolete&#39; (see below), the instruction set header is updated to &#39;Completed&#39; status.</p>\r\n\r\n<h5><strong>Obsolete Instructions</strong></h5>\r\n\r\n<p>When a new instruction set is created, if an instruction detail is created for a device and another instruction already exists in &#39;Created&#39; status for the same device and instruction category, the old instruction is updated to &#39;Obsolete&#39; status so that is not unnecessarily sent to the device and immediately replaced by a newer instruction.&nbsp;This could occur if a device has been powered off or lost and &#39;Created&#39; instructions have not been completed.</p>\r\n\r\n<h4><a name=\"instruction-category-nbsp-and-value\" id=\"instruction-category-nbsp-and-value\"></a>Instruction Category&nbsp;and Value</h4>\r\n\r\n<p>The instruction category defines the purpose of the instruction, and what it will done once it is received on a device.&nbsp;For the instruction category, the instruction category value&nbsp;further defines what to do for the instruction should do.&nbsp;The instruction set framework currently supports the following instruction categories:</p>\r\n\r\n<ul>\r\n\t<li>\r\n\t<p>Change log level &ndash; This instruction updates the log level that&#39;s configured&nbsp;in the device&#39;s Store settings&nbsp;to the specified level.&nbsp;This allows the device&#39;s log level to be updated&nbsp;without having to coordinate with the store, which can be useful if troubleshooting&nbsp;an error that occurred on a device&nbsp;by capturing more verbose future log statements. Associated instruction category values correspond to the possible log levels (error, warning, debug, etc.)</p>\r\n\t</li>\r\n\t<li>\r\n\t<p>Send device database &ndash; This instruction triggers the device to send the information from its local database to the server. Similar to above, this can be useful if troubleshooting&nbsp;an error that occurred on a device. Only one instruction category value exists for this category.</p>\r\n\t</li>\r\n\t<li>\r\n\t<p>Change App Theme - This instruction triggers the device to change&nbsp;the app&nbsp;theme to the one that is selected from the list of values (themes). The listed values (themes) should first be configured under Instruction categories. The &quot;Instruction Category ID&quot; value must be same as custom theme name and is&nbsp;case sensitive.</p>\r\n\t</li>\r\n</ul>\r\n\r\n<div class=\"tip\">Note: The system shall retain the values of log level and theme&nbsp;of device if there is a switch in the user unless the user either manually overrides it or if there is a new instruction set triggered for that device.</div>\r\n\r\n<ul>\r\n\t<li>\r\n\t<p>Get Trace Log - This instruction category triggers the device to push all the logs captured in the device database for the requested date/time range to the server. Category value is used for specifying the date-range. Note that the selected date range should be within two hours.&nbsp;The logs can be searched using the uniqueId generated (&nbsp;&quot;TraceLog-&lt;InstructionSetID&gt;-&lt;RemoteID&gt;&quot; ). Also, the set of logs pushed in batches will have a batch number as an indication of the total&nbsp;set of logs.&nbsp;</p>\r\n\t</li>\r\n</ul>\r\n\r\n<div class=\"warning\">If the logs are not present on the device for the requested time window, then it will not be available on the server.</div>\r\n\r\n<div class=\"tip\">Tip: The logs are always collected&nbsp;based on&nbsp;the device&#39;s time-zone, irrespective of the user&#39;s timezone. If a device is in PST and a user in EST requests logs from 8AM to 9 AM on a specific date, the logs will be sent from the device from 8&nbsp;AM&nbsp; PST to 9 Am PST</div>\r\n\r\n<h5><strong>Purging&nbsp;Trace Logs</strong></h5>\r\n\r\n<p>All the trace logs saved on the device are periodically purged based on the configuration -<em><strong>&quot;Purge trace-log from device after &quot;X&quot; days&quot;</strong></em> where &quot;X&quot; determines the number of days to purge/flush the data from the device.&nbsp;The default and the recommended value is &quot;2&quot; days. This configuration can be set in Store Common Configuration UI.</p>\r\n\r\n<p>The feature can be disabled by setting the value to &quot;0&quot;. This also acts as a kill switch to stop accumulating logs on the device and to purge the existing records.</p>\r\n\r\n<h4><a name=\"instruction-execution-type\" id=\"instruction-execution-type\"></a>Instruction Execution Type</h4>\r\n\r\n<p>Execution Type determines when the instruction should be executed. Presently only the &quot;Immediate&quot;&nbsp;execution type is supported. It indicates&nbsp;that once a&nbsp;device receives the instruction, it will immediately execute it.</p>\r\n\r\n<h4><a name=\"instruction-set-management-and-visibility\" id=\"instruction-set-management-and-visibility\"></a>Instruction Set Management and Visibility</h4>\r\n\r\n<p>Previously created instruction sets can be viewed either by&nbsp;instruction set ID through the <strong>Instruction Set UI,</strong> or by device in the <strong>Device Info UI</strong>. Users can see when an instruction set was created it, who it was created by, what instruction was sent, what devices it was sent to and the corresponding status.</p>\r\n\r\n<p>An archive/purge currently does not exist for instruction sets, but instruction sets can be deleted from the Instruction Set UI. The delete action is controlled by a separate resource from the menu resource.</p>\r\n\r\n<h4><a name=\"custom-instruction-sets\" id=\"custom-instruction-sets\"></a>Custom Instruction Sets</h4>\r\n\r\n<p>In addition to the base instruction categories provided out of the box, retailers can create custom instruction categories and values by adding new entries to these system augmentable entities. The base instruction set framework handles the lifecycle of custom instructions, but extension code must be implemented on the mobile side to execute the custom instruction once received.</p>\r\n\r\n\t  </div>\r\n </div>\r\n <div id=\"ui-page-fb-wrap\"></div>\r\n <div class=\"hiq-footer-wrap\">\r\n    \r\n                \r\n  </div>\r\n\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n",
  "content_length": 12270,
  "scraped_at": "2025-08-09T22:39:13.231568"
}