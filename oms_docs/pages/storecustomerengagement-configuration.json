{
  "id": "2188970",
  "permalink": "storecustomerengagement-configuration",
  "title": "Store Customer Engagement Configuration",
  "type": "topic",
  "level": 7,
  "path": "Manhattan Active® Omni/Store/Process & Configuration Guides/Point of Sale/POS Classic Guides/Store Customer Engagement/Store Customer Engagement/Configuration",
  "raw_item": {
    "id": "2188970",
    "text": "Configuration",
    "title": "Configuration",
    "permalink": "storecustomerengagement-configuration",
    "leaf": false,
    "droppable": true,
    "expanded": true,
    "closed": true,
    "visible": true,
    "editable": true,
    "type": "topic",
    "topicType": "0",
    "status": "1",
    "iconCls": "icon-topic",
    "cls": "",
    "folder_id": "193676",
    "parent": "f;193676",
    "created_date": "1551803893",
    "modified_date": "1636121485",
    "instructor_id": null,
    "loaded": true,
    "haschildren": false,
    "callout": "0",
    "order": "3"
  },
  "success": true,
  "content": "\r\n\r\n\r\n<div class=\"hiq-page-wrap\">\r\n<div class=\"hiq-t-wrap\">\r\n\t\t\r\n  \t  <div class=\"hiq-t \">\r\n\t\t\t\t<ul class=\"breadcrumbs\"><li><a class=\"breadcrumb-links\" hqid=\"1788908\"  href=\"/home\">Home</a></li> <li><span>&rsaquo;&rsaquo;</span><a hqid=\"3500940\" href=\"/omni\" class=\"breadcrumb-links\">Manhattan Active® Omni</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"3426481\" href=\"/store-3\" class=\"breadcrumb-links\">Store</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158412\" href=\"/process-configuration-guides-3\" class=\"breadcrumb-links\">Process & Configuration Guides</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158737\" href=\"/point-of-sale\" class=\"breadcrumb-links\">Point of Sale</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2225114\" href=\"/process-configuration-guides-4\" class=\"breadcrumb-links\">POS Classic Guides</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2672968\" href=\"/store-customer-engagement-2\" class=\"breadcrumb-links\">Store Customer Engagement</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158560\" href=\"/store-customer-engagement\" class=\"breadcrumb-links\">Store Customer Engagement</a></li><li> <span>››</span>Store Customer Engagement Configuration</li></ul>  \t\r\n\t\t<h2>Customer Engagement Configuration</h2>\n\n<p></p>\n\n<p>This guide outlines the configurations required for Customer Engagement in Stores.</p>\n\n<div class=\"info\"><ul><li><a href=\"/storecustomerengagement-configuration$business-flags\">Business Flags</a></li><li><a href=\"/storecustomerengagement-configuration$resourceids\">ResourceIDs</a></li><li><a href=\"/storecustomerengagement-configuration$customer-dashboard-configuration\">Customer Dashboard Configuration</a></li><li><a href=\"/storecustomerengagement-configuration$customer-interaction-configuration\">Customer Interaction Configuration</a></li><li><a href=\"/storecustomerengagement-configuration$customer-sub-header-configuration\">Customer Sub-header Configuration</a></li><li><a href=\"/storecustomerengagement-configuration$customer-order-cases\">Customer Order Cases</a></li><li><a href=\"/storecustomerengagement-configuration$phone-number-country-code\">Phone Number Country Code</a></li><li><a href=\"/storecustomerengagement-configuration$text-message-configuration\">Text Message Configuration</a></li></ul></div>\n\n<h4><a name=\"business-flags\" id=\"business-flags\"></a><a id=\"business-flags\" name=\"business-flags\"></a>Business Flags</h4>\n\n<p>There are multiple business flags that control turning on and off the various CE functions within POS. These flags can be accessed through Omnifacade &gt; Application Configuration &gt; Manage POS Configuration &gt; POS Customer Engagement Configuration.</p>\n\n<ol>\n\t<li>Enable Customer Dashboard: turns on and off the customer dashboard within the customer record, as well as the active customer drop-down navigation.</li>\n\t<li>Enable Customer sub-header: turns on and off the customer engagement sub-header within the customer record, as well as the active customer drop-down.</li>\n\t<li>Enable View Customer Order Cases: turns on and off the display of open case details in the customer purchase history.</li>\n\t<li>Show Interaction: turns Interactions on and off on both the customer record screen as well as the home screen and Users drop-down menu.</li>\n\t<li>Collect Opt-In Preferences: turns on and off the collection of opt-in data specifically for 2 way communication methods of email, phone and text.</li>\n</ol>\n\n<div class=\"tip\"><strong>Note</strong>: Interactions feature has additional business flags which govern specific interaction types. Retailers can choose to turn these on and off based on which communication methods are allowed/available with their store locations.</div>\n\n<h4><a name=\"resourceids\" id=\"resourceids\"></a><a id=\"resourceids\" name=\"resourceids\"></a>ResourceIDs</h4>\n\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" height=\"391\" width=\"908\">\n\t<thead>\n\t\t<tr>\n\t\t\t<th scope=\"row\" style=\"width: 411px;\">ResourceID</th>\n\t\t\t<th scope=\"col\" style=\"width: 400px;\">Description</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"width: 408px;\">\n\t\t\t<div>ui::customerengagement::customer::viewordercases</div>\n\t\t\t</td>\n\t\t\t<td style=\"width: 397px;\">\n\t\t\t<div>Purpose is to show case icon in past purchases</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"width: 408px;\">\n\t\t\t<div>ui::customerengagement::customer::viewcustomerdashboard</div>\n\t\t\t</td>\n\t\t\t<td style=\"width: 397px;\">\n\t\t\t<div>Purpose is to show customer dashboard tab</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"width: 408px;\">\n\t\t\t<div>ui::customerengagement::customer::viewfacebookpostcount</div>\n\t\t\t</td>\n\t\t\t<td style=\"width: 397px;\">\n\t\t\t<div>Purpose is to show Facebook post count on customer sub-header</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"width: 408px;\">\n\t\t\t<div>ui::customerengagement::customer::viewtwitterpostcount</div>\n\t\t\t</td>\n\t\t\t<td style=\"width: 397px;\">\n\t\t\t<div>Purpose is to show twitter post count on customer sub-header</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"width: 408px;\">\n\t\t\t<div>ui::customerengagement::customer::viewtwitterfollowercount</div>\n\t\t\t</td>\n\t\t\t<td style=\"width: 397px;\">\n\t\t\t<div>Purpose is to show twitter follower count on customer sub-header</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"width: 408px;\">\n\t\t\t<div>ui::customerengagement::customer::viewpreferredshippingmethod</div>\n\t\t\t</td>\n\t\t\t<td style=\"width: 397px;\">\n\t\t\t<div>Purpose is to view preferred shippingmethod</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"width: 408px;\">\n\t\t\t<div>ui::customerengagement::customer::viewpreferredstorepickuplocation</div>\n\t\t\t</td>\n\t\t\t<td style=\"width: 397px;\">\n\t\t\t<div>Purpose is to view preferred store pickup location</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"width: 408px;\">\n\t\t\t<div>ui::customerengagement::customer::viewpreferredcontactmethod</div>\n\t\t\t</td>\n\t\t\t<td style=\"width: 397px;\">\n\t\t\t<div>Purpose is to view preferred contact method</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"width: 408px;\">\n\t\t\t<div>ui::customerengagement::customer::viewpreferredcontacttime</div>\n\t\t\t</td>\n\t\t\t<td style=\"width: 397px;\">\n\t\t\t<div>Purpose is to view preferred contact time</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"width: 408px;\">\n\t\t\t<div>ui::customerengagement::customer::pricesensitivitymetrics</div>\n\t\t\t</td>\n\t\t\t<td style=\"width: 397px;\">\n\t\t\t<div>Purpose is to display price sensitivity metrics</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"width: 408px;\">ui::posservice::phoneCountry::countryList</td>\n\t\t\t<td style=\"width: 397px;\">Purpose is to display country code selection dropdown on phone number fields</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>&nbsp;</p>\n\n<h4><a name=\"customer-dashboard-configuration\" id=\"customer-dashboard-configuration\"></a><a id=\"customer-dashboard-configuration\" name=\"customer-dashboard-configuration\"></a>Customer Dashboard Configuration</h4>\n\n<p>The customer dashboard when enabled is the landing page when a user chooses to view or access the customer record. Once the business flag for customer dashboard is enabled, the main dashboard graph with lifetime values are displayed to the user. The retailer can then choose to set additional attributes to be displayed in the right hand panel of the dashboard.</p>\n\n<ol>\n\t<li>Select Customer Dashboard Options</li>\n\t<li>Select Add</li>\n\t<li>Select the attribute to be displayed from the drop-down</li>\n\t<li>Enter in a display sequence number</li>\n\t<li>Tap Save</li>\n</ol>\n\n<p>Attributes configured are displayed in the sequence entered by the user. If an associate does not have permissions to view an attribute, it will not be visible to them on the dashboard.</p>\n\n<div class=\"tip\"><strong>Note</strong>: The dashboard will also be visible in the active customer drop-down on large form factor devices.&nbsp;</div>\n\n<p>&nbsp;</p>\n\n<h4><a name=\"customer-interaction-configuration\" id=\"customer-interaction-configuration\"></a><a id=\"customer-interaction-configuration\" name=\"customer-interaction-configuration\"></a>Customer Interaction Configuration</h4>\n\n<p>Interactions can be configured to show or hide specific interaction types. When a method is enabled, it is not only shown on the interaction screen, but also determines whether or not the menu options to create new ones is available.&nbsp;</p>\n\n<p>&nbsp;</p>\n\n<h4><a name=\"customer-sub-header-configuration\" id=\"customer-sub-header-configuration\"></a><a id=\"customer-sub-header-configuration\" name=\"customer-sub-header-configuration\"></a>Customer Sub-header Configuration</h4>\n\n<p>The customer sub-header when enabled shows additional customer attributes within the customer record and active customer drop-down. Once the business flag for customer sub-header is enabled, the retailer can then configure the attributes to be displayed.</p>\n\n<ol>\n\t<li>Select Customer sub-header options</li>\n\t<li>Select Add</li>\n\t<li>Select the attribute to be displayed from the drop-down</li>\n\t<li>Enter in a display sequence number</li>\n\t<li>Tap Save</li>\n</ol>\n\n<p>Attributes configured are displayed in the sequence entered by the user. An associate with required permissions only can view the attributes on the dashboard.</p>\n\n<div class=\"tip\"><strong>Note</strong>: The sub-header will be visible in the customer record on the small handheld form factor by tapping Show More.</div>\n\n<p>&nbsp;</p>\n\n<h4><a name=\"customer-order-cases\" id=\"customer-order-cases\"></a><a id=\"customer-order-cases\" name=\"customer-order-cases\"></a>Customer Order Cases</h4>\n\n<p>When enabled, users with the proper permissions are able to view any open case the customer has on a previously placed order. Once the case is closed, it will no longer be visible to the store users.</p>\n\n<p>&nbsp;</p>\n\n<h4><a name=\"phone-number-country-code\" id=\"phone-number-country-code\"></a><a id=\"Phone Number Country Code\" name=\"Phone Number Country Code\"></a>Phone Number Country Code</h4>\n\n<p><strong>Enablement - Business Flag and Grant</strong></p>\n\n<p>In order to capture the country code associated with a customer&#39;s phone number, the &quot;Display Phone Prefix&quot; configuration (Application Configurations &gt; POS Configurations &gt; POS General Configurations) must be set to true.&nbsp; &nbsp;Also, in order to see the actual list of countries, the user role must have the grant &quot;<a hqid=\"2743265\" href=\"/pos-resources$UIGrantCountryList\">ui::posservice::phoneCountry::countryList</a>&quot;.&nbsp; Once the business flag is enabled and grant is assigned, all phone number capture/edit fields within POS and customer information screens will display a country code drop down selector.&nbsp; &nbsp;</p>\n\n<p>The drop down selector can be configured as follows:</p>\n\n<ul>\n\t<li>Default Country - (Application Configuration &gt; Manage Store Common Configurations &gt; Phone Country Configuration)\n\t<ul>\n\t\t<li>This configuration will set the default selection shown upon capturing a new customer&#39;s phone number, and opt-in phone numbers</li>\n\t\t<li>If no default is set, the dropdown will show a blank value until one is populated by the user</li>\n\t</ul>\n\t</li>\n</ul>\n\n<div class=\"tip\"><strong>Note</strong>: Only one default country should be configured at a time.</div>\n\n<ul>\n\t<li>Most Used - (Application Configuration &gt; Manage Store Common Configurations &gt; Phone Country Configuration)\n\t<ul>\n\t\t<li>This configuration will allow the retailer to configure a list of most used countries to be displayed at the top of the dropdown\n\t\t<ul>\n\t\t\t<li>This feature means the user doesn&#39;t always have to navigate or scroll alphabetically through a country list to the the letter &quot;U&quot; to assign &quot;United States&quot; as the phone country.</li>\n\t\t</ul>\n\t\t</li>\n\t\t<li>If no favorites are configured, the user will see only the full list of all available countries</li>\n\t</ul>\n\t</li>\n\t<li>All Countries - Seed Data\n\t<ul>\n\t\t<li>MAO uses the organization&gt;&gt;country seed data (system profile) as the reference source for these and there are over 250 countries available.\n\t\t<ul>\n\t\t\t<li>This list of all countries along with their country code will show alphabetically within the dropdown, with the exception of the configured &quot;default&quot; and/or &quot;most used&quot; countries which will be shown first regardless of their place in the alphabet.&nbsp;&nbsp;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>Additionally there is a search option within the drop down. Users can search either by country name, or country code (ex. 33 or France). When a user starts typing within this field, the existing dropdown list will be replaced by a list of all countries which match the search critera.&nbsp; The search will look for all countries that start with the word entered, have any word within the country name that start with the word entered, or match the word entered (ex. User types United: List will display all countries with the word United. User types States: List will display all countries with the word States.).&nbsp; If no match is found, user will receive a &quot;no results found&quot; message.&nbsp; Upon selection of the desired country, only the 2 character country ID will be visible.</p>\n\n<p>The country descriptions and ISO codes (ex. US) are shown on the UI only for easy identification.&nbsp; Once the phone is associated to a country, at the backend the number data is saved with the actual numeric country phone code (ex. +1 for US, +91 for India, +33 for France).</p>\n\n<div class=\"tip\">Note: If a user selects a country that does not match the entered information, the dropdown will attempt to match the entered information to the correct country. Ex: User selects US, but begins to type in a Canadian area code. Dropdown selection will auto detect and change to CA.</div>\n\n<div class=\"tip\">Note: Text phone entry field will use the same smart dropdown as phone number, but visible countries will only be those configured for <a hqid=\"2188970\" href=\"/storecustomerengagement-configuration$TextSupportedCountries\">Text Supported Country</a>. See below Text Configuration for more information.</div>\n\n<p>Formatting and length validation:</p>\n\n<ul>\n\t<li>Country specific formats are configured within the seed data\n\t<ul>\n\t\t<li>When the country is selected from the dropdown, the user will see a guided mask with proper formatting</li>\n\t\t<li>Users cannot enter anything into the formatted field other than + (which will auto recognize the next set of numbers as the country code if one is not set) and numbers</li>\n\t\t<li>If the expected format and lengths are not met, userss will see an inline indicator. This indicator will not be a hard stop, and the user can still save the entered number</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>Opt-in</p>\n\n<ul>\n\t<li>When capturing a new phone number for a customer, the user can select the Opt-in toggle\n\t<ul>\n\t\t<li>Both the country code and phone number will be auto-populated.&nbsp; User can choose to change the country and phone number as needed</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>&nbsp;</p>\n\n<h4><a name=\"text-message-configuration\" id=\"text-message-configuration\"></a><a id=\"text-message-configuration\" name=\"text-message-configuration\"></a>Text Message Configuration</h4>\n\n<h5>Text Message Account Configuration</h5>\n\n<p>In order to use the text messaging feature, text message two&nbsp;way communication must&nbsp;be enabled from customer interaction configuration. Once done,</p>\n\n<p>A Text Message Service Provider must&nbsp;be configured to send and receive text message in and out of the POS application.&nbsp; An account must be created with the provider and credentials provided for secure message exchange and typically the Service Provider will provide different &#39;phone numbers&#39; for each sending unit (i.e., each location from which texts can be sent).&nbsp;&nbsp;</p>\n\n<p><strong>Text message service provider account configuration</strong>: User need to create account with the text message service providers. Based on service provider the account infrastructure may vary&nbsp;but credentials to authenticate text message would remain the same.</p>\n\n<ol>\n\t<li>Procure an account with text message service provider.</li>\n\t<li>Create the infrastructure required for the account and procure the credentials: For example, Base certifies with Twilio as the text message service provider. Hence with Twilio account infrastructure, user has to create project and/or&nbsp;subaccount and buy phone numbers. The project and/or subaccount gives the credentials such as AUTH SID and&nbsp;AUTH&nbsp;Token for message authentication.</li>\n\t<li>Cipher the Auth Token as per the guidelines below to secure the password.\n\t<ol>\n\t\t<li>Open your browser, and navigate to this endpoint on your Manhattan domain: {url}<a href=\"https://side-pos-dz.om.manh-dev.com/core/encrypt?s=foobar\" rel=\"nofollow\">/core/encrypt?s=</a>{key}, where &#39;key&#39; is your plain-text key from twilio account.</li>\n\t\t<li>Copy the encrypted value and update the JSON with the encrypted cipher&nbsp;to text.auth.key.&nbsp;</li>\n\t\t<li>Restart component-text.</li>\n\t</ol>\n\t</li>\n\t<li>Create the recommended Key value pair in text component for the Active Omni organization which required text message service. Check below snippet:</li>\n</ol>\n\n<p>An example KV store configuration for service provider credentials and organization mapping is below. In the Text component, in the&nbsp;<strong>text.config</strong> property:</p>\n\n<pre>\n<code class=\"hljs json\">[\n    {\n      &quot;<span class=\"hljs-attribute\">organization</span>&quot;: <span class=\"hljs-value\"><span class=\"hljs-string\">&quot;{orgId}&quot;</span></span>,\n      &quot;<span class=\"hljs-attribute\">text.auth.key</span>&quot;:<span class=\"hljs-value\"><span class=\"hljs-string\">&quot;9bca2346241ddf05278b227e5f2dceda5271114413a01a220bf9a385d2ecd39e2caf164751532b47ce7f433d55ce3153&quot;</span></span>, (this is the cipher value)\n      &quot;<span class=\"hljs-attribute\">text.auth.sid</span>&quot;:<span class=\"hljs-value\"><span class=\"hljs-string\">&quot;456789456789456789&quot;</span>\n   </span>},\n   {\n      &quot;<span class=\"hljs-attribute\">organization</span>&quot;: <span class=\"hljs-value\"><span class=\"hljs-string\">&quot;{orgId}&quot;</span></span>,\n      &quot;<span class=\"hljs-attribute\">text.auth.key</span>&quot;:<span class=\"hljs-value\"><span class=\"hljs-string\">&quot;1f83d70f7cb00445c117b7a57c0c3fcef0ac88b776dec0d16655886d3ca44ebe6606ea2cc393a29ac982c2b84e31292a&quot;</span></span>, (this is the cipher value)\n      &quot;<span class=\"hljs-attribute\">text.auth.sid</span>&quot;:<span class=\"hljs-value\"><span class=\"hljs-string\">&quot;123456456789123456&quot;</span>\n   </span>}\n]</code></pre>\n\n<p id=\"Twilioconfiguration:AUTHTOKEN&amp;SID-SavingEnvironmenthostnameforCallbackURL:\"><strong>Configuring Environment hostname for Call back URL:&nbsp;</strong>For all the incoming messages and status update, the environment url needs to be configured to create the twilio signature and match with signature sent by twilio .&nbsp;If this setting is not done then incoming messages and status updates will not be received to text component. The environment url can be configured as&nbsp;Key value pair in text component for the Active Omni organization which required text message service. Check below snippet:</p>\n\n<p>An example KV store configuration for environment url is given below. In the Text component, <strong>in the&nbsp;text.server.base.url</strong> property:</p>\n\n<div class=\"computer_code\"><code class=\"hljs json\">[{</code>{url}<code class=\"hljs json\">}]</code></div>\n\n<p><strong>Configuring phone number for Active omni store/location</strong>:&nbsp;Once the phone numbers are purchased from service provider,&nbsp;map each to separate&nbsp;locations.</p>\n\n<p style=\"margin-left: 40px;\"><strong>Config UI: </strong>Login to config UI portal and go to&nbsp;location screen and follow below steps. This configuration is one location at a time.</p>\n\n<ol>\n\t<li>Select the required location: for example: tm-demo-us:80228-1208.</li>\n\t<li>Go to Location contact, click Add.</li>\n\t<li>Select the Location Contact Type ID = &quot;Store Interaction Contact&quot;.</li>\n\t<li>Add the phone number in this format: +1732***XXXX (dialing code is required i.e. +1 and no spaces for brackets in between).</li>\n\t<li>Add other required information and click Save. Follow the same steps for other location which requires text message communication.</li>\n</ol>\n\n<p style=\"margin-left: 40px;\"><strong>Bulk import:</strong>&nbsp; If customers have lot of stores which are text enabled and want to import in bulk for mapping to Active Omni store then it is recommended to use import API below instead of doing it on config UI by each location.&nbsp;</p>\n\n<ul>\n\t<li style=\"margin-left: 40px;\">HHTP Method:POST</li>\n\t<li style=\"margin-left: 40px;\">Request URL: {{url}}/api/organization/location/bulkImport</li>\n\t<li style=\"margin-left: 40px;\">Payload: &lt;The location bulk import payload&gt;</li>\n</ul>\n\n<h5>Text Template Configuration</h5>\n\n<p>User has a capability to configure templates for all the outgoing messages to the customer. A configurable custom message can be added as a prefix or suffix or both of the text body, and can be chosen to be included in all outbound messages or based on certain configurable frequency. Base uses seeded configuration i.e. templateMsgId = general for all outgoing messages. OptIn and OptOut outgoing message are excluded, user can choose to create new templates and use it as per the needs.</p>\n\n<p>Below are the configuration parameters:</p>\n\n<ol>\n\t<li>Message Prefix: This is used to add as prefix to outgoing text body and is sent to customer for outgoing&nbsp;communication based on frequency set.</li>\n\t<li>Description: This is used to display a friendly name on the&nbsp;preset message list. Consider a length that can be easily displayed on the mobile devices.&nbsp;</li>\n\t<li>Message Body: This is used as message body for outgoing messages. Generally recommended to be used for auto generated outgoing messages. If used for manual entered messages then it is used as prefix.</li>\n\t<li>Message Suffix:&nbsp;This is used to add as prefix to outgoing text body and is sent to customer for outgoing&nbsp;communication based on frequency set.</li>\n\t<li>Prefix Interval:&nbsp;This should be set&nbsp;in hours; this value is used to send prefix content along with text body.&nbsp;For example, if it is set as 24 hours, then only after 24 hours from last interaction is sent as the prefix body. Within that 24 hours if outbound messages are sent then text will not be prefixed.</li>\n\t<li>Suffix Interval: Same as prefix,&nbsp;This should be set&nbsp;in hours, this value is used to send suffix content along with text body.&nbsp;</li>\n\t<li>Text Message Type:&nbsp;SIF-Curbside-CannedMessage, SIF-Curbside-TypedMessage types denote the messages used to send preset or typed messages.</li>\n</ol>\n\n<h5>Text Message Supported Countries</h5>\n\n<p>When a text message is sent, the phone number for each destination text recipient (customer) must include the correct country code prefix.&nbsp; Some examples are shown below.&nbsp;</p>\n\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"174\">\n\t<tbody>\n\t\t<tr height=\"21\">\n\t\t\t<td height=\"21\" width=\"87\">Country</td>\n\t\t\t<td width=\"87\">Phone prefix</td>\n\t\t</tr>\n\t\t<tr height=\"21\">\n\t\t\t<td height=\"21\">\n\t\t\t<p>US</p>\n\t\t\t</td>\n\t\t\t<td align=\"right\">1</td>\n\t\t</tr>\n\t\t<tr height=\"21\">\n\t\t\t<td height=\"21\">France</td>\n\t\t\t<td align=\"right\">33</td>\n\t\t</tr>\n\t\t<tr height=\"21\">\n\t\t\t<td height=\"21\">India</td>\n\t\t\t<td align=\"right\">91</td>\n\t\t</tr>\n\t\t<tr height=\"21\">\n\t\t\t<td height=\"21\">Ireland</td>\n\t\t\t<td align=\"right\">353</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td height=\"21\">etc.</td>\n\t\t\t<td align=\"right\">&nbsp;</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>&nbsp;</p>\n\n<p><a id=\"TextSupportedCountries\" name=\"TextSupportedCountries\"></a>In order to provide this data when customer text phone numbers are created, MAO uses the organization&gt;&gt;country seed data as the reference source for these and there are over 250 countries available.&nbsp; POS requires the retailer to create a filtered subset of this data, to be shown as dropdown picklist at POS.&nbsp;</p>\n\n<p>Each record in the Supported Countries list can be associated to a display order, so the user doesn&#39;t always have to navigate to &quot;U&quot; to find &quot;US&quot; for example - in the US that would likely be configured to be the first entry in the dropdown.</p>\n\n<p>The retailer can choose to make all 250+ countries available by defining them in Text Message Supported Countries, or (much more likely) each retailer will select a handful of countries to be available in each org with the local country given display order &quot;1&quot; so that it shows first when adding customer text phone number.</p>\n\n<p style=\"margin-left: 40px;\">The Text Message Supported Countries should be defined only from the data in organization&gt;&gt;country entity - &quot;invented&quot; or nonstandard country codes and prefixes should be avoided -&nbsp;and this is the data that will be shown at POS to be associated with the customer record&nbsp;text phone number, for customers who opt-in for text messaging.&nbsp; &nbsp;</p>\n\n<p style=\"margin-left: 40px;\">Text Message Supported Country <strong>Country Code</strong> field - this is the country code prefix for each country (i.e., 1 for US, 91 for India).&nbsp; Since the actual country code prefix is already available in organization&gt;&gt;country, the user does not need to also associate a country code to Text Message Supported Countries record but if an entry is provided, POS will use that entry as higher priority.&nbsp; If not, POS will obtain the country code prefix from organization&gt;&gt;country.&nbsp; It is not likely that the two would ever be different - that would most likely be a misconfiguration.</p>\n\n<p><span style=\"font-size: 1.5em;\">UIs and Entities</span></p>\n\n<p>The configuration UIs mentioned in this document are listed in the table below,&nbsp;along with information to&nbsp;navigate&nbsp;to the API documentation.</p>\n\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\n\t<thead>\n\t\t<tr>\n\t\t\t<th scope=\"col\" style=\"font-weight: normal; margin-top: 0px; margin-right: 0px; margin-left: 0px;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">UI Name</font></th>\n\t\t\t<th scope=\"col\" style=\"font-weight: normal; margin-top: 0px; margin-right: 0px; margin-left: 0px;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">Component</font></th>\n\t\t\t<th scope=\"col\" style=\"font-weight: normal; margin-top: 0px; margin-right: 0px; margin-left: 0px;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">Group</font></th>\n\t\t\t<th scope=\"col\" style=\"font-weight: normal; margin-top: 0px; margin-right: 0px; margin-left: 0px;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">Seed Data Present?</font></th>\n\t\t\t<th scope=\"col\" style=\"font-weight: normal; margin-top: 0px; margin-right: 0px; margin-left: 0px;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">Seed data profile</font></th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"margin: 0px;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">Customer Dashboard Configuration</font></td>\n\t\t\t<td style=\"margin: 0px;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">posservice</font></td>\n\t\t\t<td style=\"margin: 0px;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">CustomerDashboardConfig Services</font></td>\n\t\t\t<td style=\"margin: 0px;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">Yes</font></td>\n\t\t\t<td style=\"margin: 0px;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">SystemAugmentable</font></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"margin: 0px;\">Customer Interaction Configuration</td>\n\t\t\t<td style=\"margin: 0px;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">posservice</font></td>\n\t\t\t<td style=\"margin: 0px;\">&nbsp;</td>\n\t\t\t<td style=\"margin: 0px;\">Yes</td>\n\t\t\t<td style=\"margin: 0px;\">Base</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"margin: 0px; vertical-align: middle;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">Customer Sub-header Configuration</font></td>\n\t\t\t<td style=\"margin: 0px;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">posservice</font></td>\n\t\t\t<td style=\"margin: 0px;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">CustomerSubheaderConfig Services</font></td>\n\t\t\t<td style=\"margin: 0px;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">Yes</font></td>\n\t\t\t<td style=\"margin: 0px;\">SystemAugmentable</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"margin: 0px; vertical-align: middle;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">Cases Configuration</font></td>\n\t\t\t<td style=\"margin: 0px;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">posservice</font></td>\n\t\t\t<td style=\"margin: 0px;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">CasesConfig Services</font></td>\n\t\t\t<td style=\"margin: 0px;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">No</font></td>\n\t\t\t<td style=\"margin: 0px;\">&nbsp;</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"margin: 0px; vertical-align: middle;\">Text Message Template Configuration</td>\n\t\t\t<td style=\"margin: 0px;\">text</td>\n\t\t\t<td style=\"margin: 0px;\">TextMsgtemplate Services</td>\n\t\t\t<td style=\"margin: 0px;\">Yes</td>\n\t\t\t<td style=\"margin: 0px;\">Base</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"margin: 0px; vertical-align: middle;\">Text Message Supported Countries</td>\n\t\t\t<td style=\"margin: 0px;\">text</td>\n\t\t\t<td style=\"margin: 0px;\">TextSupportedCountry Services</td>\n\t\t\t<td style=\"margin: 0px;\">Yes</td>\n\t\t\t<td style=\"margin: 0px;\">Base</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"margin: 0px; vertical-align: middle;\">&nbsp;</td>\n\t\t\t<td style=\"margin: 0px;\">organization</td>\n\t\t\t<td style=\"margin: 0px;\">Country</td>\n\t\t\t<td style=\"margin: 0px;\">Yes</td>\n\t\t\t<td style=\"margin: 0px;\">System</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"margin: 0px; vertical-align: middle;\">&nbsp;</td>\n\t\t\t<td style=\"margin: 0px;\">&nbsp;</td>\n\t\t\t<td style=\"margin: 0px;\">&nbsp;</td>\n\t\t\t<td style=\"margin: 0px;\">&nbsp;</td>\n\t\t\t<td style=\"margin: 0px;\">&nbsp;</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\r\n\t  </div>\r\n </div>\r\n <div id=\"ui-page-fb-wrap\"></div>\r\n <div class=\"hiq-footer-wrap\">\r\n    \r\n                \r\n  </div>\r\n\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n",
  "content_length": 30067,
  "scraped_at": "2025-08-09T22:03:48.566138",
  "content_clean": "Home ››Manhattan Active® Omni››Store››Process & Configuration Guides››Point of Sale››POS Classic Guides››Store Customer Engagement››Store Customer Engagement ››Store Customer Engagement Configuration Customer Engagement Configuration This guide outlines the configurations required for Customer Engagement in Stores. Business FlagsResourceIDsCustomer Dashboard ConfigurationCustomer Interaction ConfigurationCustomer Sub-header ConfigurationCustomer Order CasesPhone Number Country CodeText Message Configuration Business Flags There are multiple business flags that control turning on and off the various CE functions within POS. These flags can be accessed through Omnifacade > Application Configuration > Manage POS Configuration > POS Customer Engagement Configuration. Enable Customer Dashboard: turns on and off the customer dashboard within the customer record, as well as the active customer drop-down navigation. Enable Customer sub-header: turns on and off the customer engagement sub-header within the customer record, as well as the active customer drop-down. Enable View Customer Order Cases: turns on and off the display of open case details in the customer purchase history. Show Interaction: turns Interactions on and off on both the customer record screen as well as the home screen and Users drop-down menu. Collect Opt-In Preferences: turns on and off the collection of opt-in data specifically for 2 way communication methods of email, phone and text. Note: Interactions feature has additional business flags which govern specific interaction types. Retailers can choose to turn these on and off based on which communication methods are allowed/available with their store locations. ResourceIDs ResourceID Description ui::customerengagement::customer::viewordercases Purpose is to show case icon in past purchases ui::customerengagement::customer::viewcustomerdashboard Purpose is to show customer dashboard tab ui::customerengagement::customer::viewfacebookpostcount Purpose is to show Facebook post count on customer sub-header ui::customerengagement::customer::viewtwitterpostcount Purpose is to show twitter post count on customer sub-header ui::customerengagement::customer::viewtwitterfollowercount Purpose is to show twitter follower count on customer sub-header ui::customerengagement::customer::viewpreferredshippingmethod Purpose is to view preferred shippingmethod ui::customerengagement::customer::viewpreferredstorepickuplocation Purpose is to view preferred store pickup location ui::customerengagement::customer::viewpreferredcontactmethod Purpose is to view preferred contact method ui::customerengagement::customer::viewpreferredcontacttime Purpose is to view preferred contact time ui::customerengagement::customer::pricesensitivitymetrics Purpose is to display price sensitivity metrics ui::posservice::phoneCountry::countryList Purpose is to display country code selection dropdown on phone number fields Customer Dashboard Configuration The customer dashboard when enabled is the landing page when a user chooses to view or access the customer record. Once the business flag for customer dashboard is enabled, the main dashboard graph with lifetime values are displayed to the user. The retailer can then choose to set additional attributes to be displayed in the right hand panel of the dashboard. Select Customer Dashboard Options Select Add Select the attribute to be displayed from the drop-down Enter in a display sequence number Tap Save Attributes configured are displayed in the sequence entered by the user. If an associate does not have permissions to view an attribute, it will not be visible to them on the dashboard. Note: The dashboard will also be visible in the active customer drop-down on large form factor devices. Customer Interaction Configuration Interactions can be configured to show or hide specific interaction types. When a method is enabled, it is not only shown on the interaction screen, but also determines whether or not the menu options to create new ones is available. Customer Sub-header Configuration The customer sub-header when enabled shows additional customer attributes within the customer record and active customer drop-down. Once the business flag for customer sub-header is enabled, the retailer can then configure the attributes to be displayed. Select Customer sub-header options Select Add Select the attribute to be displayed from the drop-down Enter in a display sequence number Tap Save Attributes configured are displayed in the sequence entered by the user. An associate with required permissions only can view the attributes on the dashboard. Note: The sub-header will be visible in the customer record on the small handheld form factor by tapping Show More. Customer Order Cases When enabled, users with the proper permissions are able to view any open case the customer has on a previously placed order. Once the case is closed, it will no longer be visible to the store users. Phone Number Country Code Enablement - Business Flag and Grant In order to capture the country code associated with a customer's phone number, the \"Display Phone Prefix\" configuration (Application Configurations > POS Configurations > POS General Configurations) must be set to true.   Also, in order to see the actual list of countries, the user role must have the grant \"ui::posservice::phoneCountry::countryList\".  Once the business flag is enabled and grant is assigned, all phone number capture/edit fields within POS and customer information screens will display a country code drop down selector. The drop down selector can be configured as follows: Default Country - (Application Configuration > Manage Store Common Configurations > Phone Country Configuration) This configuration will set the default selection shown upon capturing a new customer's phone number, and opt-in phone numbers If no default is set, the dropdown will show a blank value until one is populated by the user Note: Only one default country should be configured at a time. Most Used - (Application Configuration > Manage Store Common Configurations > Phone Country Configuration) This configuration will allow the retailer to configure a list of most used countries to be displayed at the top of the dropdown This feature means the user doesn't always have to navigate or scroll alphabetically through a country list to the the letter \"U\" to assign \"United States\" as the phone country. If no favorites are configured, the user will see only the full list of all available countries All Countries - Seed Data MAO uses the organization>>country seed data (system profile) as the reference source for these and there are over 250 countries available. This list of all countries along with their country code will show alphabetically within the dropdown, with the exception of the configured \"default\" and/or \"most used\" countries which will be shown first regardless of their place in the alphabet. Additionally there is a search option within the drop down. Users can search either by country name, or country code (ex. 33 or France). When a user starts typing within this field, the existing dropdown list will be replaced by a list of all countries which match the search critera.  The search will look for all countries that start with the word entered, have any word within the country name that start with the word entered, or match the word entered (ex. User types United: List will display all countries with the word United. User types States: List will display all countries with the word States.).  If no match is found, user will receive a \"no results found\" message.  Upon selection of the desired country, only the 2 character country ID will be visible. The country descriptions and ISO codes (ex. US) are shown on the UI only for easy identification.  Once the phone is associated to a country, at the backend the number data is saved with the actual numeric country phone code (ex. +1 for US, +91 for India, +33 for France). Note: If a user selects a country that does not match the entered information, the dropdown will attempt to match the entered information to the correct country. Ex: User selects US, but begins to type in a Canadian area code. Dropdown selection will auto detect and change to CA. Note: Text phone entry field will use the same smart dropdown as phone number, but visible countries will only be those configured for Text Supported Country. See below Text Configuration for more information. Formatting and length validation: Country specific formats are configured within the seed data When the country is selected from the dropdown, the user will see a guided mask with proper formatting Users cannot enter anything into the formatted field other than + (which will auto recognize the next set of numbers as the country code if one is not set) and numbers If the expected format and lengths are not met, userss will see an inline indicator. This indicator will not be a hard stop, and the user can still save the entered number Opt-in When capturing a new phone number for a customer, the user can select the Opt-in toggle Both the country code and phone number will be auto-populated.  User can choose to change the country and phone number as needed Text Message Configuration Text Message Account Configuration In order to use the text messaging feature, text message two way communication must be enabled from customer interaction configuration. Once done, A Text Message Service Provider must be configured to send and receive text message in and out of the POS application.  An account must be created with the provider and credentials provided for secure message exchange and typically the Service Provider will provide different 'phone numbers' for each sending unit (i.e., each location from which texts can be sent). Text message service provider account configuration: User need to create account with the text message service providers. Based on service provider the account infrastructure may vary but credentials to authenticate text message would remain the same. Procure an account with text message service provider. Create the infrastructure required for the account and procure the credentials: For example, Base certifies with Twilio as the text message service provider. Hence with Twilio account infrastructure, user has to create project and/or subaccount and buy phone numbers. The project and/or subaccount gives the credentials such as AUTH SID and AUTH Token for message authentication. Cipher the Auth Token as per the guidelines below to secure the password. Open your browser, and navigate to this endpoint on your Manhattan domain: {url}/core/encrypt?s={key}, where 'key' is your plain-text key from twilio account. Copy the encrypted value and update the JSON with the encrypted cipher to text.auth.key. Restart component-text. Create the recommended Key value pair in text component for the Active Omni organization which required text message service. Check below snippet: An example KV store configuration for service provider credentials and organization mapping is below. In the Text component, in the text.config property: [ { \"organization\": \"{orgId}\", \"text.auth.key\":\"9bca2346241ddf05278b227e5f2dceda5271114413a01a220bf9a385d2ecd39e2caf164751532b47ce7f433d55ce3153\", (this is the cipher value) \"text.auth.sid\":\"456789456789456789\" }, { \"organization\": \"{orgId}\", \"text.auth.key\":\"1f83d70f7cb00445c117b7a57c0c3fcef0ac88b776dec0d16655886d3ca44ebe6606ea2cc393a29ac982c2b84e31292a\", (this is the cipher value) \"text.auth.sid\":\"123456456789123456\" } ] Configuring Environment hostname for Call back URL: For all the incoming messages and status update, the environment url needs to be configured to create the twilio signature and match with signature sent by twilio . If this setting is not done then incoming messages and status updates will not be received to text component. The environment url can be configured as Key value pair in text component for the Active Omni organization which required text message service. Check below snippet: An example KV store configuration for environment url is given below. In the Text component, in the text.server.base.url property: [{{url}}] Configuring phone number for Active omni store/location: Once the phone numbers are purchased from service provider, map each to separate locations. Config UI: Login to config UI portal and go to location screen and follow below steps. This configuration is one location at a time. Select the required location: for example: tm-demo-us:80228-1208. Go to Location contact, click Add. Select the Location Contact Type ID = \"Store Interaction Contact\". Add the phone number in this format: +1732***XXXX (dialing code is required i.e. +1 and no spaces for brackets in between). Add other required information and click Save. Follow the same steps for other location which requires text message communication. Bulk import:  If customers have lot of stores which are text enabled and want to import in bulk for mapping to Active Omni store then it is recommended to use import API below instead of doing it on config UI by each location. HHTP Method:POST Request URL: {{url}}/api/organization/location/bulkImport Payload: <The location bulk import payload> Text Template Configuration User has a capability to configure templates for all the outgoing messages to the customer. A configurable custom message can be added as a prefix or suffix or both of the text body, and can be chosen to be included in all outbound messages or based on certain configurable frequency. Base uses seeded configuration i.e. templateMsgId = general for all outgoing messages. OptIn and OptOut outgoing message are excluded, user can choose to create new templates and use it as per the needs. Below are the configuration parameters: Message Prefix: This is used to add as prefix to outgoing text body and is sent to customer for outgoing communication based on frequency set. Description: This is used to display a friendly name on the preset message list. Consider a length that can be easily displayed on the mobile devices. Message Body: This is used as message body for outgoing messages. Generally recommended to be used for auto generated outgoing messages. If used for manual entered messages then it is used as prefix. Message Suffix: This is used to add as prefix to outgoing text body and is sent to customer for outgoing communication based on frequency set. Prefix Interval: This should be set in hours; this value is used to send prefix content along with text body. For example, if it is set as 24 hours, then only after 24 hours from last interaction is sent as the prefix body. Within that 24 hours if outbound messages are sent then text will not be prefixed. Suffix Interval: Same as prefix, This should be set in hours, this value is used to send suffix content along with text body. Text Message Type: SIF-Curbside-CannedMessage, SIF-Curbside-TypedMessage types denote the messages used to send preset or typed messages. Text Message Supported Countries When a text message is sent, the phone number for each destination text recipient (customer) must include the correct country code prefix.  Some examples are shown below. Country Phone prefix US 1 France 33 India 91 Ireland 353 etc. In order to provide this data when customer text phone numbers are created, MAO uses the organization>>country seed data as the reference source for these and there are over 250 countries available.  POS requires the retailer to create a filtered subset of this data, to be shown as dropdown picklist at POS. Each record in the Supported Countries list can be associated to a display order, so the user doesn't always have to navigate to \"U\" to find \"US\" for example - in the US that would likely be configured to be the first entry in the dropdown. The retailer can choose to make all 250+ countries available by defining them in Text Message Supported Countries, or (much more likely) each retailer will select a handful of countries to be available in each org with the local country given display order \"1\" so that it shows first when adding customer text phone number. The Text Message Supported Countries should be defined only from the data in organization>>country entity - \"invented\" or nonstandard country codes and prefixes should be avoided - and this is the data that will be shown at POS to be associated with the customer record text phone number, for customers who opt-in for text messaging. Text Message Supported Country Country Code field - this is the country code prefix for each country (i.e., 1 for US, 91 for India).  Since the actual country code prefix is already available in organization>>country, the user does not need to also associate a country code to Text Message Supported Countries record but if an entry is provided, POS will use that entry as higher priority.  If not, POS will obtain the country code prefix from organization>>country.  It is not likely that the two would ever be different - that would most likely be a misconfiguration. UIs and Entities The configuration UIs mentioned in this document are listed in the table below, along with information to navigate to the API documentation. UI Name Component Group Seed Data Present? Seed data profile Customer Dashboard Configuration posservice CustomerDashboardConfig Services Yes SystemAugmentable Customer Interaction Configuration posservice Yes Base Customer Sub-header Configuration posservice CustomerSubheaderConfig Services Yes SystemAugmentable Cases Configuration posservice CasesConfig Services No Text Message Template Configuration text TextMsgtemplate Services Yes Base Text Message Supported Countries text TextSupportedCountry Services Yes Base organization Country Yes System"
}