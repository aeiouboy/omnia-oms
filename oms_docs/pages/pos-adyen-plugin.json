{
  "id": "3269637",
  "permalink": "pos-adyen-plugin",
  "title": "POS Adyen Payment Plugin",
  "type": "topic",
  "level": 7,
  "path": "Manhattan Active® Omni/Store/Process & Configuration Guides/Point of Sale/POS Guides/POS Payment/POS Payment Plugin/POS Adyen Payment Plugin",
  "raw_item": {
    "id": "3269637",
    "text": "POS Adyen Payment Plugin",
    "title": "POS Adyen Payment Plugin",
    "permalink": "pos-adyen-plugin",
    "leaf": false,
    "droppable": true,
    "expanded": true,
    "closed": true,
    "visible": true,
    "editable": true,
    "type": "topic",
    "topicType": "0",
    "status": "1",
    "iconCls": "icon-topic",
    "cls": "",
    "folder_id": "t;3532519",
    "parent": "3532519",
    "created_date": "1693420806",
    "modified_date": "1743023329",
    "instructor_id": null,
    "loaded": true,
    "haschildren": false,
    "callout": "0",
    "order": "1"
  },
  "success": true,
  "content": "\r\n\r\n\r\n<div class=\"hiq-page-wrap\">\r\n<div class=\"hiq-t-wrap\">\r\n\t\t\r\n  \t  <div class=\"hiq-t \">\r\n\t\t\t\t<ul class=\"breadcrumbs\"><li><a class=\"breadcrumb-links\" hqid=\"1788908\"  href=\"/home\">Home</a></li> <li><span>&rsaquo;&rsaquo;</span><a hqid=\"3500940\" href=\"/omni\" class=\"breadcrumb-links\">Manhattan Active® Omni</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"3426481\" href=\"/store-3\" class=\"breadcrumb-links\">Store</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158412\" href=\"/process-configuration-guides-3\" class=\"breadcrumb-links\">Process & Configuration Guides</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158737\" href=\"/point-of-sale\" class=\"breadcrumb-links\">Point of Sale</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"3433322\" href=\"/pos-iris-guides\" class=\"breadcrumb-links\">POS Guides</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"3535922\" href=\"/pos-payment-2\" class=\"breadcrumb-links\">POS Payment</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"3532519\" href=\"/pos-payment-plugin-2\" class=\"breadcrumb-links\">POS Payment Plugin</a></li><li> <span>››</span>POS Adyen Payment Plugin</li></ul>  \t\r\n\t\t<h2>POS Adyen Payment Plugin</h2>\r\n\r\n<p></p>\r\n\r\n<div class=\"info\"><ul><li><a href=\"/pos-adyen-plugin$configuration-gateway-settings-and-use-cases\">Configuration/Gateway settings and Use Cases</a></li><li><a href=\"/pos-adyen-plugin$security\">Security</a></li><li><a href=\"/pos-adyen-plugin$enabling-cloud-vs-local\">Enabling Cloud vs Local</a><ul><li><a href=\"/pos-adyen-plugin$cloud-server-to-server-implementation\">Cloud (Server to Server) Implementation</a></li><li><a href=\"/pos-adyen-plugin$local-pos-application-direct-to-device-implementation\">Local (POS Application Direct to Device) Implementation</a></li><li><a href=\"/pos-adyen-plugin$sample-gateway-configuration-json\">Sample Gateway configuration json</a></li></ul></li><li><a href=\"/pos-adyen-plugin$overall-flow\">Overall Flow</a><ul><li><a href=\"/pos-adyen-plugin$cloud\">Cloud</a></li><li><a href=\"/pos-adyen-plugin$local-nbsp\">Local&nbsp;</a></li></ul></li><li><a href=\"/pos-adyen-plugin$payment-transaction-command-reference\">Payment Transaction Command reference</a></li><li><a href=\"/pos-adyen-plugin$resource-ids\">Resource Ids</a></li><li><a href=\"/pos-adyen-plugin$user-exits\">User Exits</a></li></ul></div>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>Manhattan Active Omni provides the capability to integrate Adyen with point-of-sale systems (POS). Adyen is a payment processing platform which offers a variety of solutions for businesses to accept payments online, in-store, and through various channels. This page contains an overview of the POS specific configurations and processes used. &nbsp;</p>\r\n\r\n<p>Please refer to <a href=\"https://omni.helpdocsonline.com/adyen-payment-integration\">Adyen Payment Integration guide</a>&nbsp;and the Adyen section of the general <a href=\"https://omni.helpdocsonline.com/payment-gateway-integration$adyen-gateway-configuration\">Payment Gateway Integration guide</a> for more information.</p>\r\n\r\n<h3><a name=\"configuration-gateway-settings-and-use-cases\" id=\"configuration-gateway-settings-and-use-cases\"></a>Configuration/Gateway settings and Use Cases</h3>\r\n\r\n<p>To enable Adyen, set posGeneralConfig&gt;commonConfig&gt;paymentGateway = AdyenPayments</p>\r\n\r\n<p>Attributes of AdyenPayments gateway type -</p>\r\n\r\n<ul>\r\n\t<li>Use cases based on Adyen paymentGateway&gt;paymentGatewayImplementation = &quot;Cloud https&quot; vs &quot;Local https&quot;</li>\r\n</ul>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<div class=\"table-wrap\">\r\n<table class=\"confluenceTable tablesorter tablesorter-default stickyTableHeaders\" resolved=\"\" role=\"grid\" style=\"padding: 0px;\">\r\n\t<colgroup>\r\n\t\t<col style=\"width: 145.039px;\" />\r\n\t\t<col style=\"width: 58.5234px;\" />\r\n\t\t<col style=\"width: 62.3359px;\" />\r\n\t\t<col style=\"width: 1379.0px;\" />\r\n\t</colgroup>\r\n\t<thead class=\"tableFloatingHeaderOriginal\" style=\"position: static; margin-top: 0px; left: 60px; z-index: 3; width: 1670.37px; top: 0px;\">\r\n\t\t<tr class=\"tablesorter-headerRow\" role=\"row\">\r\n\t\t</tr>\r\n\t</thead>\r\n</table>\r\n</div>\r\n\r\n<table class=\"confluenceTable tablesorter tablesorter-default stickyTableHeaders\" resolved=\"\" role=\"grid\" style=\"padding: 0px;\">\r\n\t<tbody aria-live=\"polite\" aria-relevant=\"all\">\r\n\t\t<tr>\r\n\t\t\t<td class=\"confluenceTd\"><strong>IF Application/Device Status</strong></td>\r\n\t\t\t<td class=\"confluenceTd\"><strong>Configure as Local functional?</strong></td>\r\n\t\t\t<td class=\"confluenceTd\"><strong>Configure as Cloud functional?</strong></td>\r\n\t\t\t<td class=\"confluenceTd\"><strong>Comments</strong></td>\r\n\t\t</tr>\r\n\t\t<tr role=\"row\">\r\n\t\t\t<td class=\"confluenceTd\">\r\n\t\t\t<p><strong>Consistent&nbsp;Online</strong></p>\r\n\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Online Application&nbsp;</li>\r\n\t\t\t\t<li>Online Terminal</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t\t<td class=\"confluenceTd\">Yes</td>\r\n\t\t\t<td class=\"confluenceTd\">Yes</td>\r\n\t\t\t<td class=\"confluenceTd\">\r\n\t\t\t<p>If configured as CLOUD, consistently Cloud communication used&nbsp;for all trans types.</p>\r\n\r\n\t\t\t<p>If configured as LOCAL, <strong>Local will still selectively internally use Cloud communication</strong>.</p>\r\n\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Pay and Carry will use strictly LOCAL but Omni transactions will use CLOUD communication.</li>\r\n\t\t\t\t<li>This is due to an Adyen restriction, by which LOCAL does not support multiple requests for same payment - as in SETTLE part of this payment and AUTHORIZE the rest - which is required for OMNI flows.\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li>Thus, plugin configure to use &quot;local&quot; gateway implementation internally switches to Cloud when appropriate without user intervention.</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\r\n\t\t\t<p>Gateway templates for OMNI is required for cloud implementation.</p>\r\n\r\n\t\t\t<p><strong>USE CASE</strong></p>\r\n\r\n\t\t\t<p>If customer is confident that application and terminal are both online most of the time or network issues are very low, then <strong>preferred is Cloud implementation as its easy to maintain and very less dependencies on plugin.</strong></p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr role=\"row\">\r\n\t\t\t<td class=\"confluenceTd\">\r\n\t\t\t<p><strong>Separate application for online and offline, i.e. MAO-POS and MAO-POS OFFLINE apps</strong></p>\r\n\r\n\t\t\t<p>Combinations assumed to be</p>\r\n\r\n\t\t\t<p><strong>MAO POS app</strong></p>\r\n\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Online Application&nbsp;</li>\r\n\t\t\t\t<li>Online Terminal</li>\r\n\t\t\t</ul>\r\n\r\n\t\t\t<p><strong>MAO-POS OFFLINE app</strong></p>\r\n\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Offline Application&nbsp;</li>\r\n\t\t\t\t<li>Offline Terminal</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t\t<td class=\"confluenceTd\">Yes both offline/online</td>\r\n\t\t\t<td class=\"confluenceTd\">Online only</td>\r\n\t\t\t<td class=\"confluenceTd\">\r\n\t\t\t<p>Settings&nbsp;support Cloud for online app and Local implementation for offline app.</p>\r\n\r\n\t\t\t<p><strong>USE CASE</strong></p>\r\n\r\n\t\t\t<p>If customer is going to use separate application for online and offline flow then below two implementation settings are required in paymentGateway&gt;gatewayImplementation</p>\r\n\r\n\t\t\t<ol>\r\n\t\t\t\t<li>CustomerPresent True and Offline as false &rarr; Cloud</li>\r\n\t\t\t\t<li>CustomerPresent True and Offline as true &rarr; Local</li>\r\n\t\t\t</ol>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr role=\"row\">\r\n\t\t\t<td class=\"confluenceTd\">\r\n\t\t\t<p><strong>Hybrid mode</strong></p>\r\n\r\n\t\t\t<ul>\r\n\t\t\t\t<li>Online Application&nbsp;</li>\r\n\t\t\t\t<li>Offline Terminal</li>\r\n\t\t\t</ul>\r\n\t\t\t</td>\r\n\t\t\t<td class=\"confluenceTd\">Yes</td>\r\n\t\t\t<td class=\"confluenceTd\">No</td>\r\n\t\t\t<td class=\"confluenceTd\">\r\n\t\t\t<p>App communicates direct to terminal, which then commicates to gateway/Cloud.&nbsp;</p>\r\n\r\n\t\t\t<p>The advantage to this approach is, if terminal goes OFFLINE to Gateway, SAF operations are still possible and credit can be accepted.&nbsp;</p>\r\n\r\n\t\t\t<p>Implementation setting:</p>\r\n\r\n\t\t\t<p style=\"margin-left: 40px;\">1. CustomerPresent True and Online as true &rarr; Local</p>\r\n\r\n\t\t\t<p><strong>USE CASE</strong></p>\r\n\r\n\t\t\t<p>If customer is going for hybrid solution where customer wants to support online application with terminal normally also online BUT ability to work with offline terminal .</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<h3><a name=\"security\" id=\"security\"></a>Security</h3>\r\n\r\n<p data-v-884c77a0=\"\">Adyen presents certificates in order to authenticate when merchants establish secure connections to Adyen&#39;s API endpoints. The&nbsp;integration connects to Adyen&#39;s services securely over HTTPS connection. Please follow the table below to understand how the root certificate is handled for each platform that is supported.&nbsp;</p>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" summary=\"Adyen Root Certificate By Platform\">\r\n\t<caption>Adyen Root Certificate By Platform</caption>\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"col\">Platform</th>\r\n\t\t\t<th scope=\"col\">Base Provided</th>\r\n\t\t\t<th scope=\"col\">Details</th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td>ios</td>\r\n\t\t\t<td>Yes</td>\r\n\t\t\t<td>The base app is pre bundled with the required root certificates for Adyen. Every time a new build is generated from base, the latest certificate is bundled.&nbsp;</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>Windows</td>\r\n\t\t\t<td>No</td>\r\n\t\t\t<td>Base does not provide the root certificate for Windows, but it is required by the service team to work with the customer and ensure that the certificate is added.&nbsp;</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td>Android</td>\r\n\t\t\t<td>No</td>\r\n\t\t\t<td>Base does not provide the root certificate for Android.&nbsp;</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<h3><a name=\"enabling-cloud-vs-local\" id=\"enabling-cloud-vs-local\"></a>Enabling Cloud vs Local</h3>\r\n\r\n<h4><a name=\"cloud-server-to-server-implementation\" id=\"cloud-server-to-server-implementation\"></a>Cloud (Server to Server) Implementation</h4>\r\n\r\n<ol>\r\n\t<li>POS General config changes\r\n\t<ol>\r\n\t\t<li>Enable &quot;Communicate to gateway using configured protocol&quot; (Set to true)</li>\r\n\t\t<li>GatewayId as AdyenPayments</li>\r\n\t\t<li>GatewayTransactionTimeout (Should match with Terminal timeout)</li>\r\n\t\t<li>GatewayTransStatusInterval (How frequently we want to do transaction status call)</li>\r\n\t</ol>\r\n\t</li>\r\n\t<li>Create Adyen gateway configuration\r\n\t<ol>\r\n\t\t<li>Payment gateway populated</li>\r\n\t\t<li>Gateway protocol as &quot;Cloud Https&quot;</li>\r\n\t\t<li>API Key is populated as Account Encrypted Attribute</li>\r\n\t\t<li>Populate Payment Gateway Template for AdyenPayments.&nbsp; (See <a href=\"https://omni.helpdocsonline.com/pos-adyen-plugin$sample-gateway-configuration-json\">sample gateway json</a>).</li>\r\n\t</ol>\r\n\t</li>\r\n\t<li>Create Payment Terminal with Integration Type = Cloud and terminalId as the uniqueId of the terminal you want to connect to.\r\n\t<ol>\r\n\t\t<li>We can select any of the below Payment Terminal Types as per the supported types.\r\n\t\t<ol>\r\n\t\t\t<li>MX</li>\r\n\t\t\t<li>Verifone MX 915/925</li>\r\n\t\t\t<li>Verifone e355</li>\r\n\t\t\t<li>Adyen e285p</li>\r\n\t\t\t<li>Adyen M400</li>\r\n\t\t</ol>\r\n\t\t</li>\r\n\t</ol>\r\n\t</li>\r\n\t<li>Assign the terminal to register</li>\r\n\t<li>Log into the app and save settings for terminal.</li>\r\n</ol>\r\n\r\n<div class=\"warning\">It is mandatory&nbsp;that terminal timeout cannot be less than payment gateway timeout. Otherwise, payment transaction discrepancy between Manhattan and payment provider will cause payment to fail.</div>\r\n\r\n<h4><a name=\"local-pos-application-direct-to-device-implementation\" id=\"local-pos-application-direct-to-device-implementation\"></a>Local (POS Application Direct to Device) Implementation</h4>\r\n\r\n<div class=\"tip\">For local implementation , we need to ensure that the adyen certificates are available in the register for successfully communicating to the adyen terminal. We recommend you to install the certificates through power shell scripts.</div>\r\n\r\n<ol>\r\n\t<li>POS General config changes\r\n\t<ol>\r\n\t\t<li>Enable &quot;<span>Communicate to gateway using configured protocol&quot;</span> (Set to true)</li>\r\n\t\t<li>GatewayId as AdyenPayments</li>\r\n\t\t<li>GatewayTransactionTimeout (Should match with Terminal timeout. It is provided by gateway provider)</li>\r\n\t\t<li>GatewayTransStatusInterval (How frequently we want to do transaction status call) (Base Recommended value = 15 (In Seconds))</li>\r\n\t</ol>\r\n\t</li>\r\n\t<li>Create Adyen gateway configuration\r\n\t<ol>\r\n\t\t<li>Payment gateway populated</li>\r\n\t\t<li>Gateway protocol as &quot;Local Https&quot;</li>\r\n\t\t<li>Account Encrypted Attribute is populated (See <a href=\"https://omni.helpdocsonline.com/pos-adyen-plugin$sample-gateway-configuration-json\">sample gateway json</a>).</li>\r\n\t\t<li>Populate Payment Gateway Template for AdyenPayments.&nbsp; (See <a href=\"https://omni.helpdocsonline.com/pos-adyen-plugin$sample-gateway-configuration-json\">sample gateway json</a>).</li>\r\n\t</ol>\r\n\t</li>\r\n\t<li>For gift card through &quot;givex&quot; we have to create card type as &quot;givex&quot;</li>\r\n\t<li>Create Payment Terminal <span><span class=\"ui-provider gr b c d e f g h i j k l m n o p q r s t u v w x y z ab ac ae af ag ah ai aj ak\">with IP as the IP of the terminal, primary port as 8443 and terminalId as the uniqueId of the terminal you want to connect to.</span></span>\r\n\t<ol>\r\n\t\t<li><span><span class=\"ui-provider gr b c d e f g h i j k l m n o p q r s t u v w x y z ab ac ae af ag ah ai aj ak\">We can select any of the below Payment Terminal Types as per the supported types&nbsp;</span></span>\r\n\t\t<ol>\r\n\t\t\t<li><span><span class=\"ui-provider gr b c d e f g h i j k l m n o p q r s t u v w x y z ab ac ae af ag ah ai aj ak\">MX</span></span></li>\r\n\t\t\t<li><span><span class=\"ui-provider gr b c d e f g h i j k l m n o p q r s t u v w x y z ab ac ae af ag ah ai aj ak\">Verifone MX 915/925</span></span></li>\r\n\t\t\t<li><span><span class=\"ui-provider gr b c d e f g h i j k l m n o p q r s t u v w x y z ab ac ae af ag ah ai aj ak\">Verifone e355</span></span></li>\r\n\t\t\t<li><span><span class=\"ui-provider gr b c d e f g h i j k l m n o p q r s t u v w x y z ab ac ae af ag ah ai aj ak\">Adyen e285p</span></span></li>\r\n\t\t\t<li><span><span class=\"ui-provider gr b c d e f g h i j k l m n o p q r s t u v w x y z ab ac ae af ag ah ai aj ak\">Adyen M400</span></span></li>\r\n\t\t</ol>\r\n\t\t</li>\r\n\t</ol>\r\n\t</li>\r\n\t<li><span><span class=\"ui-provider gr b c d e f g h i j k l m n o p q r s t u v w x y z ab ac ae af ag ah ai aj ak\">Assign the terminal to register</span></span></li>\r\n\t<li><span><span class=\"ui-provider gr b c d e f g h i j k l m n o p q r s t u v w x y z ab ac ae af ag ah ai aj ak\"><span><span class=\"ui-provider gr b c d e f g h i j k l m n o p q r s t u v w x y z ab ac ae af ag ah ai aj ak\">Log into app and save settings for terminal.</span></span></span></span></li>\r\n</ol>\r\n\r\n<div class=\"warning\">It is mandatory&nbsp;that terminal timeout cannot be less than payment gateway timeout. Otherwise, payment transaction discrepancy between Manhattan and payment provider will cause payment to fail.</div>\r\n\r\n<div class=\"tip\">\r\n<p>Populate Payment Gateway Template for Adyen Payments. Check the Attached sample gateway/save&nbsp;json below. Mandatory Attributes in gateway attributes for local setup is described below for AccountEncryptedAttribute.</p>\r\n\r\n<ol>\r\n\t<li>apiKey - This is mandatory for local connection. We need to get this information from Adyen Portal. Please follow the link to Adyen Documentation to get api key&nbsp;<a href=\"https://docs.adyen.com/development-resources/api-credentials/#generate-api-key\" rel=\"nofollow\">https://docs.adyen.com/development-resources/api-credentials/#generate-api-key</a></li>\r\n\t<li>encryptionKey, encryptionPassword and encryptionKeyVersion are mandatory for local connection. Please follow the page from Adyen Documentation&nbsp;<a href=\"https://docs.adyen.com/point-of-sale/design-your-integration/choose-your-architecture/local/\" rel=\"nofollow\">https://docs.adyen.com/point-of-sale/design-your-integration/choose-your-architecture/local/</a>. &quot;encryptionKey&quot; is &quot;Key Identifier&quot;, &quot;encryptionPassword&quot; is &quot;Key Passphrase&quot; and &quot;encryptionKeyVersion&quot; is &quot;Key Version&quot; from the documentation.</li>\r\n\t<li>sendToProduction = False</li>\r\n\t<li>merchantAccount&nbsp; is mandatory for local connection. Refer to the&nbsp;Adyen Portal.</li>\r\n\t<li>merchantStore - This field is only applicable for OMNI flow and if OMNI flow is supported, then populate this from the Adyen portal or click 9+O and check device information.</li>\r\n\t<li>externalPlatformName, externalPlatformIntegrator and merchantApplicationName, are kept as it is mentioned in the gateway json.</li>\r\n\t<li>giftCardServiceProvider - If gift card is supported then update the field with the provider name like givex,&nbsp;svs etc.</li>\r\n\t<li>All other attributes are kept as they are.</li>\r\n</ol>\r\n</div>\r\n\r\n<h4><a name=\"sample-gateway-configuration-json\" id=\"sample-gateway-configuration-json\"></a>Sample Gateway configuration json</h4>\r\n\r\n<p style=\"margin-left: 40px;\"><strong>URL:</strong> POST&nbsp;<strong><strong>{{url}}/payment/api/payment/gateway/save</strong></strong></p>\r\n\r\n<p style=\"margin-left: 40px;\"><strong><strong>Body:&nbsp;</strong></strong></p>\r\n\r\n<p style=\"margin-left: 40px;\">To configure for LOCAL vs CLOUD,&nbsp;<strong><strong>&nbsp;</strong></strong>Implementation&nbsp;GatewayProtocolId should be set to &quot;Local Https&quot; or &quot;Cloud Https&quot;.&nbsp; This sample uses &quot;Cloud Https&quot;.</p>\r\n\r\n<div class=\"computer_code\" style=\"margin-left: 40px;\"><div class=\"toggle_outerdiv\"><p class=\"toggle_div\"><a href=\"#tg-1\" class=\"toggle-content\"><span class=\"toggle-title\">POS Adyen 2</span></a></p><div id=\"tg-1\"><p>{<br />\n&nbsp; &quot;Account&quot;: [<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;AccountId&quot;: &quot;pos_test_account&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;Actions&quot;: {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;AccountEncryptedAttribute&quot;: &quot;RESET&quot;<br />\n&nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &quot;AccountEncryptedAttribute&quot;: [<br />\n&nbsp; &nbsp; &nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Name&quot;: &quot;apiKey&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Value&quot;: &quot;&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Name&quot;: &quot;encryptionKey&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;ValueDeprecated&quot;: &quot;ManhattanAccount&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Value&quot;: &quot;ManhattanAccount&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Name&quot;: &quot;encryptionPassword&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;ValueDeprecated&quot;: &quot;ManhattanAccount&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Value&quot;: &quot;ManhattanAccount&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Name&quot;: &quot;encryptionKeyVersion&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;ValueDeprecated&quot;: &quot;1&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Value&quot;: &quot;1&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Name&quot;: &quot;merchantAccount&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;ValueDeprecated&quot;: &quot;ManhattanAssociates739_OM_POS_Integration_TEST&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Value&quot;: &quot;ManhattanAssociates739_OM_POS_Integration_TEST&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Name&quot;: &quot;merchantStore&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;ValueDeprecated&quot;: &quot;Manhattan_Store&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Value&quot;: &quot;Manhattan_Store&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Name&quot;: &quot;externalPlatformName&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;ValueDeprecated&quot;: &quot;Manhattan Active Omni&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Value&quot;: &quot;Manhattan Active Omni&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Name&quot;: &quot;externalPlatformIntegrator&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;ValueDeprecated&quot;: &quot;Manhattan Active Omni&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Value&quot;: &quot;Manhattan Active Omni&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Name&quot;: &quot;merchantApplicationName&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;ValueDeprecated&quot;: &quot;Manhattan Active Omni&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Value&quot;: &quot;Manhattan Active Omni&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Name&quot;: &quot;giftCardServiceProvider&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;ValueDeprecated&quot;: &quot;svs&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Value&quot;: &quot;svs&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; }<br />\n&nbsp; &nbsp; &nbsp; ],<br />\n&nbsp; &nbsp; &nbsp; &quot;AccountAttribute&quot;: [<br />\n&nbsp; &nbsp; &nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Name&quot;: &quot;targetAPIVersion&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Value&quot;: &quot;v70&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Name&quot;: &quot;sendToProduction&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Value&quot;: &quot;false&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Name&quot;: &quot;autoCloseTransactionTypes&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Value&quot;: &quot;Refund,Void&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Name&quot;: &quot;createSettlementWhenVoidingRefund&quot;,<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Value&quot;: &quot;false&quot;<br />\n&nbsp; &nbsp; &nbsp; &nbsp; }<br />\n&nbsp; &nbsp; &nbsp; ],<br />\n&nbsp; &nbsp; &nbsp; &quot;LocationId&quot;: null<br />\n&nbsp; &nbsp; }<br />\n&nbsp; ],<br />\n&nbsp; &quot;GatewayId&quot;: &quot;AdyenPayments&quot;,<br />\n&nbsp; &quot;Actions&quot;: {<br />\n&nbsp; &nbsp; &quot;PaymentGatewayTemplate&quot;: &quot;RESET&quot;,<br />\n&nbsp; &nbsp; &quot;Account&quot;: &quot;RESET&quot;,<br />\n&nbsp; &nbsp; &quot;GatewayImplementation&quot;: &quot;RESET&quot;<br />\n&nbsp; },<br />\n&nbsp; &quot;PaymentGatewayTemplate&quot;: [<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayPaymentURLTemplate&quot;: &quot;https://terminal-api-test.adyen.com/sync&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;TransactionType&quot;: &quot;Settlement&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayResponseTemplate&quot;: &quot;{\\r\\n &nbsp;\\&quot;OrderId\\&quot;: \\&quot;{{OrderId}}\\&quot;,\\r\\n &nbsp;{{#PaymentResponseText}}\\r\\n &nbsp;\\&quot;PaymentResponseText\\&quot;: \\&quot;{{PaymentResponseText}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseText}}\\r\\n &nbsp;{{#RecurringDetailReference}}\\r\\n &nbsp;\\&quot;RecurringDetailReference\\&quot;: \\&quot;{{RecurringDetailReference}}\\&quot;,\\r\\n &nbsp;{{/RecurringDetailReference}}\\r\\n &nbsp;{{#PaymentResponseCode}}\\r\\n &nbsp;\\&quot;PaymentResponseCode\\&quot;: \\&quot;{{PaymentResponseCode}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseCode}}\\r\\n &nbsp;{{#PaymentResponseStatus}}\\r\\n &nbsp;\\&quot;PaymentResponseStatus\\&quot;: \\&quot;{{PaymentResponseStatus}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseStatus}}\\r\\n &nbsp;\\&quot;PaymentMethod\\&quot;: [\\r\\n &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CurrencyCode\\&quot;: \\&quot;{{SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CurrencyCode\\&quot;: \\&quot;{{CurrencyCode}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.MaskedPan}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;AccountNumber\\&quot;: \\&quot;{{SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.MaskedPan}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.MaskedPan}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.cardHolderName}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;NameOnCard\\&quot;: \\&quot;{{SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.cardHolderName}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.cardHolderName}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CardExpiryMonth\\&quot;: \\&quot;{{SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.expiryYear}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CardExpiryYear\\&quot;: \\&quot;{{SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.expiryYear}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.expiryYear}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CustomerPaySignature\\&quot;: null,\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;Amount\\&quot;: {{SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}},\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;Amount\\&quot;: 0,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.EntryMode}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;EntryTypeId\\&quot;: \\&quot;{{.}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.EntryMode}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.PaymentResult.CapturedSignature}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CustomerPaySignature\\&quot;: \\&quot;{{{SaleToPOIResponse.PaymentResponse.PaymentResult.CapturedSignature}}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.PaymentResult.CapturedSignature}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;GatewayId\\&quot;: \\&quot;{{GatewayId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;LocationId\\&quot;: \\&quot;{{LocationId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransaction\\&quot;: [\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionId\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedAmount\\&quot;: {{RequestedAmount}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#Troutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestId\\&quot;: \\&quot;{{Troutd}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;NetworkTransactionId\\&quot;: \\&quot;{{Troutd}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/Troutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#Ctroutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestToken\\&quot;: \\&quot;{{Ctroutd}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/Ctroutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedDate\\&quot;: \\&quot;{{SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionDate\\&quot;: \\&quot;{{SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedDate\\&quot;: \\&quot;{{TransactionDateTime}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionDate\\&quot;: \\&quot;{{TransactionDateTime}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ProcessedAmount\\&quot;: {{SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {{^SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ProcessedAmount\\&quot;: 0,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.POIData.POIReconciliationID}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ReconciliationId\\&quot;: \\&quot;{{SaleToPOIResponse.PaymentResponse.POIData.POIReconciliationID}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.POIData.POIReconciliationID}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;OrderId\\&quot;: \\&quot;{{OrderId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.currentBalanceValue}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RemainingBalance\\&quot;: {{SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.currentBalanceValue}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.currentBalanceValue}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionTypeId\\&quot;: \\&quot;{{Command}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Status\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionStatusId\\&quot;: \\&quot;Closed\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatusId\\&quot;: \\&quot;{{SaleToPOIResponse.PaymentResponse.Response.Result}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.PaymentResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatusId\\&quot;: \\&quot;{{PaymentResponseStatus}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransmissionStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransmissionStatusId\\&quot;: \\&quot;Closed\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;],\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTypeId\\&quot;: \\&quot;{{SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTypeId\\&quot;: \\&quot;{{PaymentType}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CardType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;CardTypeId\\&quot;: \\&quot;{{SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CardTypeId\\&quot;: \\&quot;{{SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CardTypeId\\&quot;: null\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n &nbsp; &nbsp;}\\r\\n &nbsp;]\\r\\n}&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayRequestTemplate&quot;: &quot;{\\r\\n &nbsp;\\&quot;SaleToPOIRequest\\&quot;: {\\r\\n &nbsp; &nbsp;\\&quot;MessageHeader\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ProtocolVersion\\&quot;: \\&quot;3.0\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageClass\\&quot;: \\&quot;Service\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageCategory\\&quot;: \\&quot;Payment\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageType\\&quot;: \\&quot;Request\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;SaleID\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ServiceID\\&quot;: \\&quot;{{ServiceId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;POIID\\&quot;: \\&quot;{{TerminalId}}\\&quot;\\r\\n &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp;\\&quot;PaymentRequest\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;SaleData\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToAcquirerData}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; \\&quot;SaleToAcquirerData\\&quot;:\\&quot;{{SaleToAcquirerData}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; {{/SaleToAcquirerData}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; {{^SaleToAcquirerData}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; \\&quot;SaleToAcquirerData\\&quot;:\\&quot;recurringProcessingModel=CardOnFile&shopperReference={{StoreId}}&externalPlatform.name={{gatewayApplicationInfo.externalPlatformName}}&externalPlatform.integrator={{gatewayApplicationInfo.externalPlatformIntegrator}}&merchantApplication.name={{gatewayApplicationInfo.merchantApplicationName}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \\&quot;TokenRequestedType\\&quot;:\\&quot;Customer\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; {{/SaleToAcquirerData}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;SaleTransactionID\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionID\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TimeStamp\\&quot;: \\&quot;{{TransactionDateTime}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransaction\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;AmountsReq\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Currency\\&quot;: \\&quot;{{CurrencyCode}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedAmount\\&quot;: {{Amount}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentData\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{{#Prepaid}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentInstrumentData\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentInstrumentType\\&quot;: \\&quot;StoredValue\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueAccountID\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueAccountType\\&quot;: \\&quot;GiftCard\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueProvider\\&quot;: \\&quot;givex\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;IdentificationType\\&quot;: \\&quot;PAN\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#AccountNumber}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;EntryMode\\&quot;: [\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Scanned\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;],\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueID\\&quot;: \\&quot;{{AccountNumber}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {{/AccountNumber}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {{^AccountNumber}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \\&quot;EntryMode\\&quot;: [\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;MagStripe\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;],\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueID\\&quot;: \\&quot;\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {{/AccountNumber}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{{/Prepaid}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentType\\&quot;: \\&quot;{{Command}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;\\r\\n &nbsp; &nbsp;}\\r\\n &nbsp;}\\r\\n}&quot;<br />\n&nbsp; &nbsp; },<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;ProfileId&quot;: &quot;tm-demo-us&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayPaymentURLTemplate&quot;: &quot;https://terminal-api-test.adyen.com/sync&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;TransactionType&quot;: &quot;TransactionStatus&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayResponseTemplate&quot;: &quot;{\\r\\n &nbsp;\\&quot;OrderId\\&quot;: \\&quot;{{OrderId}}\\&quot;,\\r\\n &nbsp;{{#PaymentResponseText}}\\r\\n &nbsp;\\&quot;PaymentResponseText\\&quot;: \\&quot;{{PaymentResponseText}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseText}}\\r\\n &nbsp;{{#PaymentResponseCode}}\\r\\n &nbsp;\\&quot;PaymentResponseCode\\&quot;: \\&quot;{{PaymentResponseCode}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseCode}}\\r\\n &nbsp;{{#PaymentResponseStatus}}\\r\\n &nbsp;\\&quot;PaymentResponseStatus\\&quot;: \\&quot;{{PaymentResponseStatus}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseStatus}}\\r\\n &nbsp;{{#RecurringDetailReference}}\\r\\n &nbsp;\\&quot;RecurringDetailReference\\&quot;: \\&quot;{{RecurringDetailReference}}\\&quot;,\\r\\n &nbsp;{{/RecurringDetailReference}}\\r\\n &nbsp;\\&quot;PaymentMethod\\&quot;: [\\r\\n &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CurrencyCode\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CurrencyCode\\&quot;: \\&quot;{{CurrencyCode}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.MaskedPan}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;AccountNumber\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.MaskedPan}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.MaskedPan}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;AccountNumber\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.cardHolderName}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;NameOnCard\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.cardHolderName}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.cardHolderName}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CardExpiryMonth\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.expiryYear}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CardExpiryYear\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.expiryYear}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.expiryYear}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CustomerPaySignature\\&quot;: null,\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;Amount\\&quot;: {{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}},\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;Amount\\&quot;: {{ItemAmount}},\\r\\n &nbsp; &nbsp; &nbsp;{{#StoredValueAccountStatus.StoredValueAccountID.EntryMode}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;EntryTypeId\\&quot;: \\&quot;{{.}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/StoredValueAccountStatus.StoredValueAccountID.EntryMode}}\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;Amount\\&quot;: 0,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.EntryMode}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;EntryTypeId\\&quot;: \\&quot;{{.}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.EntryMode}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.CapturedSignature}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CustomerPaySignature\\&quot;: \\&quot;{{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.CapturedSignature}}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.CapturedSignature}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;GatewayId\\&quot;: \\&quot;{{GatewayId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;LocationId\\&quot;: \\&quot;{{LocationId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransaction\\&quot;: [\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionId\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedAmount\\&quot;: {{RequestedAmount}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#Troutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestId\\&quot;: \\&quot;{{Troutd}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;NetworkTransactionId\\&quot;: \\&quot;{{Troutd}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/Troutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#Ctroutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestToken\\&quot;: \\&quot;{{Ctroutd}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/Ctroutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedDate\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionDate\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedDate\\&quot;: \\&quot;{{TransactionDateTime}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionDate\\&quot;: \\&quot;{{TransactionDateTime}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ProcessedAmount\\&quot;: {{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ProcessedAmount\\&quot;: {{ItemAmount}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ProcessedAmount\\&quot;: 0,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.POIData.POIReconciliationID}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ReconciliationId\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.POIData.POIReconciliationID}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.POIData.POIReconciliationID}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.POIData.POIReconciliationID}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ReconciliationId\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.POIData.POIReconciliationID}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.POIData.POIReconciliationID}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;OrderId\\&quot;: \\&quot;{{OrderId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.currentBalanceValue}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RemainingBalance\\&quot;: {{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.currentBalanceValue}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.currentBalanceValue}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.currentBalanceValue}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RemainingBalance\\&quot;: {{StoredValueAccountStatus.CurrentBalance}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.currentBalanceValue}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionTypeId\\&quot;: \\&quot;{{OriginalCommand}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Status\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionStatusId\\&quot;: \\&quot;Closed\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatusId\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.Result}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatusId\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.Response.Result}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.TransactionStatusResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatusId\\&quot;: \\&quot;Failure\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransmissionStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransmissionStatusId\\&quot;: \\&quot;Closed\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;],\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTypeId\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTypeId\\&quot;: \\&quot;{{PaymentType}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CardType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;CardTypeId\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CardTypeId\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.cardType}}\\r\\n &nbsp; &nbsp; &nbsp; \\&quot;CardType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;CardTypeId\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.cardType}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CardTypeId\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.cardType}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.cardType}}\\r\\n &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.cardType}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CardTypeId\\&quot;: null\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.cardType}}\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n &nbsp; &nbsp;}\\r\\n &nbsp;]\\r\\n}&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayRequestTemplate&quot;: &quot;{\\r\\n &nbsp;\\&quot;SaleToPOIRequest\\&quot;: {\\r\\n &nbsp; &nbsp;\\&quot;MessageHeader\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ProtocolVersion\\&quot;: \\&quot;3.0\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageClass\\&quot;: \\&quot;Service\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageCategory\\&quot;: \\&quot;TransactionStatus\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageType\\&quot;: \\&quot;Request\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;SaleID\\&quot;: \\&quot;{{ServiceId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ServiceID\\&quot;: \\&quot;{{ServiceId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;POIID\\&quot;: \\&quot;{{TerminalId}}\\&quot;\\r\\n &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp;\\&quot;TransactionStatusRequest\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageReference\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;SaleID\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{{#MessageCategory}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;MessageCategory\\&quot;: \\&quot;{{MessageCategory}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{{/MessageCategory}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{{^MessageCategory}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;MessageCategory\\&quot;: \\&quot;Payment\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{{/MessageCategory}}\\r\\n &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp;}\\r\\n &nbsp;}\\r\\n}&quot;<br />\n&nbsp; &nbsp; },<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayPaymentURLTemplate&quot;: &quot;https://terminal-api-test.adyen.com/sync&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;TransactionType&quot;: &quot;UnReferenced_Refund&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayResponseTemplate&quot;: &quot;{\\r\\n &nbsp;\\&quot;OrderId\\&quot;: \\&quot;{{OrderId}}\\&quot;,\\r\\n &nbsp;{{#PaymentResponseText}}\\r\\n &nbsp;\\&quot;PaymentResponseText\\&quot;: \\&quot;{{PaymentResponseText}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseText}}\\r\\n &nbsp;{{#PaymentResponseCode}}\\r\\n &nbsp;\\&quot;PaymentResponseCode\\&quot;: \\&quot;{{PaymentResponseCode}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseCode}}\\r\\n &nbsp;{{#PaymentResponseStatus}}\\r\\n &nbsp;\\&quot;PaymentResponseStatus\\&quot;: \\&quot;{{PaymentResponseStatus}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseStatus}}\\r\\n &nbsp;\\&quot;PaymentMethod\\&quot;: [\\r\\n &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CurrencyCode\\&quot;: \\&quot;{{SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CurrencyCode\\&quot;: \\&quot;{{CurrencyCode}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.MaskedPan}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;AccountNumber\\&quot;: \\&quot;{{SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.MaskedPan}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.MaskedPan}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.cardHolderName}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;NameOnCard\\&quot;: \\&quot;{{SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.cardHolderName}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.cardHolderName}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CardExpiryMonth\\&quot;: \\&quot;{{SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.expiryYear}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CardExpiryYear\\&quot;: \\&quot;{{SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.expiryYear}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.expiryYear}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CustomerPaySignature\\&quot;: null,\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;Amount\\&quot;: {{SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}},\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;Amount\\&quot;: 0,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.EntryMode}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;EntryTypeId\\&quot;: \\&quot;{{.}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.EntryMode}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.PaymentResult.CapturedSignature}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CustomerPaySignature\\&quot;: \\&quot;{{{SaleToPOIResponse.PaymentResponse.PaymentResult.CapturedSignature}}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.PaymentResult.CapturedSignature}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;GatewayId\\&quot;: \\&quot;{{GatewayId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;LocationId\\&quot;: \\&quot;{{LocationId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransaction\\&quot;: [\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionId\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedAmount\\&quot;: {{RequestedAmount}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#Ctroutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestToken\\&quot;: \\&quot;{{Ctroutd}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/Ctroutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#Troutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestId\\&quot;: \\&quot;{{Troutd}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/Troutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedDate\\&quot;: \\&quot;{{SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionDate\\&quot;: \\&quot;{{SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedDate\\&quot;: \\&quot;{{TransactionDateTime}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionDate\\&quot;: \\&quot;{{TransactionDateTime}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ProcessedAmount\\&quot;: {{SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ProcessedAmount\\&quot;: 0,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.POIData.POIReconciliationID}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ReconciliationId\\&quot;: \\&quot;{{SaleToPOIResponse.PaymentResponse.POIData.POIReconciliationID}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.POIData.POIReconciliationID}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;OrderId\\&quot;: \\&quot;{{OrderId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionTypeId\\&quot;: \\&quot;{{Command}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Status\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionStatusId\\&quot;: \\&quot;Closed\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatusId\\&quot;: \\&quot;{{SaleToPOIResponse.PaymentResponse.Response.Result}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.PaymentResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatusId\\&quot;: \\&quot;{{PaymentResponseStatus}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransmissionStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransmissionStatusId\\&quot;: \\&quot;Closed\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;],\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTypeId\\&quot;: \\&quot;{{SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTypeId\\&quot;: \\&quot;{{PaymentType}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CardType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;CardTypeId\\&quot;: \\&quot;{{SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CardTypeId\\&quot;: \\&quot;{{SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CardTypeId\\&quot;: null\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n &nbsp; &nbsp;}\\r\\n &nbsp;]\\r\\n}&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayRequestTemplate&quot;: &quot;{\\r\\n &nbsp;\\&quot;SaleToPOIRequest\\&quot;: {\\r\\n &nbsp; &nbsp;\\&quot;MessageHeader\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ProtocolVersion\\&quot;: \\&quot;3.0\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageClass\\&quot;: \\&quot;Service\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageCategory\\&quot;: \\&quot;Payment\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageType\\&quot;: \\&quot;Request\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;SaleID\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ServiceID\\&quot;: \\&quot;{{ServiceId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;POIID\\&quot;: \\&quot;{{TerminalId}}\\&quot;\\r\\n &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp;\\&quot;PaymentRequest\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;SaleData\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToAcquirerData}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; \\&quot;SaleToAcquirerData\\&quot;:\\&quot;{{SaleToAcquirerData}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; {{/SaleToAcquirerData}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;SaleTransactionID\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionID\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TimeStamp\\&quot;: \\&quot;{{TransactionDateTime}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransaction\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;AmountsReq\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Currency\\&quot;: \\&quot;{{CurrencyCode}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedAmount\\&quot;: {{Amount}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentData\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{{#AccountNumber}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentInstrumentData\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentInstrumentType\\&quot;: \\&quot;StoredValue\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueAccountID\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueAccountType\\&quot;: \\&quot;GiftCard\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueProvider\\&quot;: \\&quot;givex\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;IdentificationType\\&quot;: \\&quot;PAN\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;EntryMode\\&quot;: [\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Scanned\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;],\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueID\\&quot;: \\&quot;{{AccountNumber}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{{/AccountNumber}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentType\\&quot;: \\&quot;{{Command}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;\\r\\n &nbsp; &nbsp;}\\r\\n &nbsp;}\\r\\n}&quot;<br />\n&nbsp; &nbsp; },<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayPaymentURLTemplate&quot;: &quot;https://terminal-api-test.adyen.com/sync&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;TransactionType&quot;: &quot;Void&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayResponseTemplate&quot;: &quot;{\\r\\n &nbsp;\\&quot;OrderId\\&quot;: \\&quot;{{OrderId}}\\&quot;,\\r\\n &nbsp;{{#PaymentResponseText}}\\r\\n &nbsp;\\&quot;PaymentResponseText\\&quot;: \\&quot;{{PaymentResponseText}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseText}}\\r\\n &nbsp;{{#PaymentResponseCode}}\\r\\n &nbsp;\\&quot;PaymentResponseCode\\&quot;: \\&quot;{{PaymentResponseCode}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseCode}}\\r\\n &nbsp;{{#PaymentResponseStatus}}\\r\\n &nbsp;\\&quot;PaymentResponseStatus\\&quot;: \\&quot;{{PaymentResponseStatus}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseStatus}}\\r\\n &nbsp;\\&quot;PaymentMethod\\&quot;: [\\r\\n &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CurrencyCode\\&quot;: \\&quot;{{CurrencyCode}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;GatewayId\\&quot;: \\&quot;{{GatewayId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;LocationId\\&quot;: \\&quot;{{LocationId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransaction\\&quot;: [\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionId\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedAmount\\&quot;: {{RequestedAmount}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#Troutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestId\\&quot;: \\&quot;{{Troutd}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/Troutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#Ctroutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestToken\\&quot;: \\&quot;{{Ctroutd}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/Ctroutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#RefCtroutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;FollowOnToken\\&quot;: \\&quot;{{RefCtroutd}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/RefCtroutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#RefTroutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;FollowOnId\\&quot;: \\&quot;{{RefTroutd}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/RefTroutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.ReversalResponse.POIData.POITransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedDate\\&quot;: \\&quot;{{SaleToPOIResponse.ReversalResponse.POIData.POITransactionID.TimeStamp}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionDate\\&quot;: \\&quot;{{SaleToPOIResponse.ReversalResponse.POIData.POITransactionID.TimeStamp}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.ReversalResponse.POIData.POITransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.ReversalResponse.POIData.POITransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedDate\\&quot;: \\&quot;{{TransactionDateTime}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionDate\\&quot;: \\&quot;{{TransactionDateTime}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.ReversalResponse.POIData.POITransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.ReversalResponse.Response.AdditionalResponse.additionalData.posAuthAmountValue}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ProcessedAmount\\&quot;: {{RequestedAmount}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.ReversalResponse.Response.AdditionalResponse.additionalData.posAuthAmountValue}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.ReversalResponse.Response.AdditionalResponse.additionalData.posAuthAmountValue}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ProcessedAmount\\&quot;: 0,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.ReversalResponse.Response.AdditionalResponse.additionalData.posAuthAmountValue}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;OrderId\\&quot;: \\&quot;{{OrderId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionTypeId\\&quot;: \\&quot;{{Command}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Status\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionStatusId\\&quot;: \\&quot;Closed\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.ReversalResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatusId\\&quot;: \\&quot;{{SaleToPOIResponse.ReversalResponse.Response.Result}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.ReversalResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.ReversalResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatusId\\&quot;: \\&quot;{{PaymentResponseStatus}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.ReversalResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransmissionStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransmissionStatusId\\&quot;: \\&quot;Closed\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;],\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTypeId\\&quot;: \\&quot;{{PaymentType}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp;}\\r\\n &nbsp;]\\r\\n}&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayRequestTemplate&quot;: &quot;{\\r\\n &nbsp;\\&quot;SaleToPOIRequest\\&quot;: {\\r\\n &nbsp; &nbsp;\\&quot;MessageHeader\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ProtocolVersion\\&quot;: \\&quot;3.0\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageClass\\&quot;: \\&quot;Service\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageCategory\\&quot;: \\&quot;Reversal\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageType\\&quot;: \\&quot;Request\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;SaleID\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ServiceID\\&quot;: \\&quot;{{ServiceId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;POIID\\&quot;: \\&quot;{{TerminalId}}\\&quot;\\r\\n &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp;\\&quot;ReversalRequest\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;OriginalPOITransaction\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;POITransactionID\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionID\\&quot;: \\&quot;{{Ctroutd}}.{{Troutd}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TimeStamp\\&quot;: \\&quot;{{TransactionDateTime}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ReversalReason\\&quot;: \\&quot;MerchantCancel\\&quot;\\r\\n &nbsp; &nbsp;}\\r\\n &nbsp;}\\r\\n}&quot;<br />\n&nbsp; &nbsp; },<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayPaymentURLTemplate&quot;: &quot;https://terminal-api-test.adyen.com/sync&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;TransactionType&quot;: &quot;Refund&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayResponseTemplate&quot;: &quot;{\\r\\n &nbsp;\\&quot;OrderId\\&quot;: \\&quot;{{OrderId}}\\&quot;,\\r\\n &nbsp;{{#PaymentResponseText}}\\r\\n &nbsp;\\&quot;PaymentResponseText\\&quot;: \\&quot;{{PaymentResponseText}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseText}}\\r\\n &nbsp;{{#PaymentResponseCode}}\\r\\n &nbsp;\\&quot;PaymentResponseCode\\&quot;: \\&quot;{{PaymentResponseCode}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseCode}}\\r\\n &nbsp;{{#PaymentResponseStatus}}\\r\\n &nbsp;\\&quot;PaymentResponseStatus\\&quot;: \\&quot;{{PaymentResponseStatus}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseStatus}}\\r\\n &nbsp;\\&quot;PaymentMethod\\&quot;: [\\r\\n &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CurrencyCode\\&quot;: \\&quot;{{CurrencyCode}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;GatewayId\\&quot;: \\&quot;{{GatewayId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;LocationId\\&quot;: \\&quot;{{LocationId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransaction\\&quot;: [\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionId\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedAmount\\&quot;: {{RequestedAmount}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#Troutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestId\\&quot;: \\&quot;{{Troutd}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/Troutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#Ctroutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestToken\\&quot;: \\&quot;{{Ctroutd}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/Ctroutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#RefCtroutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;FollowOnToken\\&quot;: \\&quot;{{RefCtroutd}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/RefCtroutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#RefTroutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;FollowOnId\\&quot;: \\&quot;{{RefTroutd}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/RefTroutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.ReversalResponse.POIData.POITransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedDate\\&quot;: \\&quot;{{SaleToPOIResponse.ReversalResponse.POIData.POITransactionID.TimeStamp}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionDate\\&quot;: \\&quot;{{SaleToPOIResponse.ReversalResponse.POIData.POITransactionID.TimeStamp}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.ReversalResponse.POIData.POITransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.ReversalResponse.POIData.POITransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedDate\\&quot;: \\&quot;{{TransactionDateTime}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionDate\\&quot;: \\&quot;{{TransactionDateTime}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.ReversalResponse.POIData.POITransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.ReversalResponse.Response.AdditionalResponse.additionalData.posAuthAmountValue}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ProcessedAmount\\&quot;: {{RequestedAmount}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.ReversalResponse.Response.AdditionalResponse.additionalData.posAuthAmountValue}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.ReversalResponse.Response.AdditionalResponse.additionalData.posAuthAmountValue}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ProcessedAmount\\&quot;: 0,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.ReversalResponse.Response.AdditionalResponse.additionalData.posAuthAmountValue}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;OrderId\\&quot;: \\&quot;{{OrderId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionTypeId\\&quot;: \\&quot;{{Command}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Status\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionStatusId\\&quot;: \\&quot;Closed\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.ReversalResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatusId\\&quot;: \\&quot;{{SaleToPOIResponse.ReversalResponse.Response.Result}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.ReversalResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.ReversalResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatusId\\&quot;: \\&quot;{{PaymentResponseStatus}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.ReversalResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransmissionStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransmissionStatusId\\&quot;: \\&quot;Closed\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;],\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTypeId\\&quot;: \\&quot;{{PaymentType}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp;}\\r\\n &nbsp;]\\r\\n}&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayRequestTemplate&quot;: &quot;{\\r\\n &nbsp;\\&quot;SaleToPOIRequest\\&quot;: {\\r\\n &nbsp; &nbsp;\\&quot;MessageHeader\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ProtocolVersion\\&quot;: \\&quot;3.0\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageClass\\&quot;: \\&quot;Service\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageCategory\\&quot;: \\&quot;Reversal\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageType\\&quot;: \\&quot;Request\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;SaleID\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ServiceID\\&quot;: \\&quot;{{ServiceId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;POIID\\&quot;: \\&quot;{{TerminalId}}\\&quot;\\r\\n &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp;\\&quot;ReversalRequest\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;OriginalPOITransaction\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;POITransactionID\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionID\\&quot;: \\&quot;{{Ctroutd}}.{{Troutd}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TimeStamp\\&quot;: \\&quot;{{TransactionDateTime}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ReversalReason\\&quot;: \\&quot;MerchantCancel\\&quot;\\r\\n &nbsp; &nbsp;}\\r\\n &nbsp;}\\r\\n}&quot;<br />\n&nbsp; &nbsp; },<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayPaymentURLTemplate&quot;: &quot;https://terminal-api-test.adyen.com/sync&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;TransactionType&quot;: &quot;PaymentReconciliation&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayResponseTemplate&quot;: &quot;{\\r\\n &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.Result}}\\r\\n &nbsp;\\&quot;Result\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.Result}}\\&quot;,\\r\\n &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.Result}}\\r\\n &nbsp;{{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.Result}}\\r\\n &nbsp;\\&quot;Result\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.Result}}\\&quot;,\\r\\n &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.Result}}\\r\\n &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n &nbsp;\\&quot;TransactionDate\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\&quot;,\\r\\n &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n &nbsp;{{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n &nbsp;\\&quot;TransactionDate\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\&quot;,\\r\\n &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n &nbsp;{{#Ctroutd}}\\r\\n &nbsp;\\&quot;ctroutd\\&quot;: \\&quot;{{Ctroutd}}\\&quot;,\\r\\n &nbsp;{{/Ctroutd}}\\r\\n &nbsp;{{#Troutd}}\\r\\n &nbsp;\\&quot;troutd\\&quot;: \\&quot;{{Troutd}}\\&quot;,\\r\\n &nbsp;{{/Troutd}}\\r\\n &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n &nbsp; \\&quot;CurrencyCode\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\&quot;,\\r\\n &nbsp; {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n &nbsp; {{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n &nbsp; {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.posAuthAmountCurrency}}\\r\\n &nbsp; \\&quot;CurrencyCode\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.posAuthAmountCurrency}}\\&quot;,\\r\\n &nbsp; {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.posAuthAmountCurrency}}\\r\\n &nbsp; {{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.posAuthAmountCurrency}}\\r\\n &nbsp; \\&quot;CurrencyCode\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.posAuthAmountCurrency}}\\&quot;,\\r\\n &nbsp; {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; \\&quot;transactionAmount\\&quot;: \\&quot;{{ItemAmount}}\\&quot;,\\r\\n &nbsp; {{#StoredValueAccountStatus.StoredValueAccountID.EntryMode}}\\r\\n &nbsp; \\&quot;CardEntryMode\\&quot;: \\&quot;{{.}}\\&quot;,\\r\\n &nbsp; {{/StoredValueAccountStatus.StoredValueAccountID.EntryMode}}\\r\\n &nbsp; \\&quot;paymentType\\&quot;: \\&quot;{{StoredValueAccountStatus.StoredValueAccountType}}\\&quot;,\\r\\n &nbsp; {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.posAuthAmountCurrency}}\\r\\n &nbsp; {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n &nbsp; {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.EntryMode}}\\r\\n &nbsp;\\&quot;CardEntryMode\\&quot;: \\&quot;{{.}}\\&quot;,\\r\\n &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.EntryMode}}\\r\\n &nbsp;\\&quot;TermId\\&quot;: \\&quot;{{SaleToPOIResponse.MessageHeader.POIID}}\\&quot;,\\r\\n &nbsp;\\&quot;UNIQUE_ID\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.MessageReference.SaleID}}\\&quot;,\\r\\n &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n &nbsp;\\&quot;PAYMENT_MEDIA\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\&quot;,\\r\\n &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.cardType}}\\r\\n &nbsp;\\&quot;PAYMENT_MEDIA\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.cardType}}\\&quot;,\\r\\n &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.cardType}}\\r\\n &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.MaskedPan}}\\r\\n &nbsp;\\&quot;accountNumber\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.MaskedPan}}\\&quot;,\\r\\n &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.MaskedPan}}\\r\\n &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\r\\n &nbsp;\\&quot;accountNumber\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\&quot;,\\r\\n &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\r\\n &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n &nbsp;\\&quot;paymentType\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\&quot;,\\r\\n &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentType}}\\r\\n &nbsp;\\&quot;command\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentType}}\\&quot;,\\r\\n &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentType}}\\r\\n &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp;\\&quot;transactionAmount\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\&quot;,\\r\\n &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n &nbsp;{{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\r\\n &nbsp;\\&quot;expiryMonth\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\&quot;,\\r\\n &nbsp;\\&quot;expiryYear\\&quot;: \\&quot;{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.expiryYear}}\\&quot;\\r\\n &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\r\\n &nbsp;{{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\r\\n &nbsp;\\&quot;expiryMonth\\&quot;: null,\\r\\n &nbsp;\\&quot;expiryYear\\&quot;: null\\r\\n &nbsp;{{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\r\\n}&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayRequestTemplate&quot;: &quot;{\\r\\n &nbsp;\\&quot;SaleToPOIRequest\\&quot;: {\\r\\n &nbsp; &nbsp;\\&quot;MessageHeader\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ProtocolVersion\\&quot;: \\&quot;3.0\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageClass\\&quot;: \\&quot;Service\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageCategory\\&quot;: \\&quot;TransactionStatus\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageType\\&quot;: \\&quot;Request\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;SaleID\\&quot;: \\&quot;{{ServiceId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ServiceID\\&quot;: \\&quot;{{ServiceId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;POIID\\&quot;: \\&quot;{{TerminalId}}\\&quot;\\r\\n &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp;\\&quot;TransactionStatusRequest\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageReference\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;SaleID\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{{#MessageCategory}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;MessageCategory\\&quot;: \\&quot;{{MessageCategory}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{{/MessageCategory}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{{^MessageCategory}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;MessageCategory\\&quot;: \\&quot;Payment\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{{/MessageCategory}}\\r\\n &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp;}\\r\\n &nbsp;}\\r\\n}&quot;<br />\n&nbsp; &nbsp; },<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayPaymentURLTemplate&quot;: &quot;https://terminal-api-test.adyen.com/sync&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;TransactionType&quot;: &quot;Abort&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayRequestTemplate&quot;: &quot;{\\r\\n &nbsp;\\&quot;SaleToPOIRequest\\&quot;: {\\r\\n &nbsp; &nbsp;\\&quot;MessageHeader\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ProtocolVersion\\&quot;: \\&quot;3.0\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageClass\\&quot;: \\&quot;Service\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageCategory\\&quot;: \\&quot;Abort\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageType\\&quot;: \\&quot;Request\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;SaleID\\&quot;: \\&quot;{{ServiceId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ServiceID\\&quot;: \\&quot;{{ServiceId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;POIID\\&quot;: \\&quot;{{TerminalId}}\\&quot;\\r\\n &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp;\\&quot;AbortRequest\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;AbortReason\\&quot;: \\&quot;MerchantAbort\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageReference\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;MessageCategory\\&quot;: \\&quot;Payment\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;SaleID\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ServiceID\\&quot;: \\&quot;{{OriginalServiceId}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp;}\\r\\n &nbsp;}\\r\\n}&quot;<br />\n&nbsp; &nbsp; },<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayPaymentURLTemplate&quot;: &quot;https://terminal-api-test.adyen.com/sync&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;TransactionType&quot;: &quot;OrderData&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayResponseTemplate&quot;: null,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayRequestTemplate&quot;: &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;screen name=\\&quot;virtual_receipt03.xslt\\&quot;&gt;&lt;receipt&gt;&lt;lines&gt;&lt;lineitem&gt;&lt;/lineitem&gt;{{#OrderLines}}\\r\\n\\t\\t\\t&lt;lineitem&gt;&lt;description&gt;{{ItemDescription}}&lt;/description&gt;&lt;count&gt;{{Quantity}}&lt;/count&gt;&lt;amount&gt;&lt;currency&gt; {{CurrencyCode}} &lt;/currency&gt;&lt;value&gt;{{ExtendedPrice}}&lt;/value&gt;&lt;/amount&gt;&lt;/lineitem&gt;{{/OrderLines}}\\r\\n\\t\\t&lt;/lines&gt;&lt;subtotal&gt;&lt;description&gt;Sub Total&lt;/description&gt;&lt;amount&gt;&lt;currency&gt; {{CurrencyCode}} &lt;/currency&gt;&lt;value&gt;{{OrderSubTotal}}&lt;/value&gt;&lt;/amount&gt;&lt;/subtotal&gt;&lt;tax&gt;&lt;taxtotal&gt;&lt;description&gt;Tax&lt;/description&gt;&lt;amount&gt;&lt;currency&gt; {{CurrencyCode}} &lt;/currency&gt;&lt;value&gt;{{TotalTaxes}}&lt;/value&gt;&lt;/amount&gt;&lt;/taxtotal&gt;&lt;/tax&gt;&lt;total&gt;&lt;description&gt;Item Total&lt;/description&gt;&lt;amount&gt;&lt;currency&gt; {{CurrencyCode}} &lt;/currency&gt;&lt;value&gt;{{OrderTotal}}&lt;/value&gt;&lt;/amount&gt;&lt;/total&gt;&lt;/receipt&gt;&lt;/screen&gt;&quot;<br />\n&nbsp; &nbsp; },<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayPaymentURLTemplate&quot;: &quot;https://terminal-api-test.adyen.com/sync&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;TransactionType&quot;: &quot;OrderDisplay&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayResponseTemplate&quot;: null,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayRequestTemplate&quot;: &quot;{\\r\\n &nbsp; &nbsp;\\&quot;SaleToPOIRequest\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;MessageHeader\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ServiceID\\&quot;: \\&quot;{{ServiceId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ProtocolVersion\\&quot;: \\&quot;3.0\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;MessageClass\\&quot;: \\&quot;Device\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;POIID\\&quot;: \\&quot;{{TerminalId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;MessageType\\&quot;: \\&quot;Request\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;SaleID\\&quot;: \\&quot;{{ServiceId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;MessageCategory\\&quot;: \\&quot;Display\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;DisplayRequest\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;DisplayOutput\\&quot;: [\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Device\\&quot;: \\&quot;CustomerDisplay\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;InfoQualify\\&quot;: \\&quot;Display\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;OutputContent\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;OutputFormat\\&quot;: \\&quot;XHTML\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;OutputXHTML\\&quot;: \\&quot;{{{OrderOutputXHTML}}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;]\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp;}\\r\\n}&quot;<br />\n&nbsp; &nbsp; },<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayPaymentURLTemplate&quot;: &quot;https://terminal-api-test.adyen.com/sync&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;TransactionType&quot;: &quot;SessionFinish&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayResponseTemplate&quot;: null,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayRequestTemplate&quot;: &quot;{\\r\\n &nbsp;\\&quot;SaleToPOIRequest\\&quot;: {\\r\\n &nbsp; &nbsp;\\&quot;MessageHeader\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ProtocolVersion\\&quot;: \\&quot;3.0\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageClass\\&quot;: \\&quot;Device\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageCategory\\&quot;: \\&quot;Display\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageType\\&quot;: \\&quot;Request\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ServiceID\\&quot;: \\&quot;{{ServiceId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;SaleID\\&quot;: \\&quot;{{ServiceId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;POIID\\&quot;: \\&quot;{{TerminalId}}\\&quot;\\r\\n &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp;\\&quot;DisplayRequest\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;DisplayOutput\\&quot;: [\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Device\\&quot;: \\&quot;CustomerDisplay\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;InfoQualify\\&quot;: \\&quot;Display\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;OutputContent\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;OutputFormat\\&quot;: \\&quot;MessageRef\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PredefinedContent\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ReferenceID\\&quot;: \\&quot;Idle\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;]\\r\\n &nbsp; &nbsp;}\\r\\n &nbsp;}\\r\\n}&quot;<br />\n&nbsp; &nbsp; },<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayPaymentURLTemplate&quot;: &quot;https://terminal-api-test.adyen.com/sync&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;TransactionType&quot;: &quot;BALANCE CHECK&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayResponseTemplate&quot;: &quot;{\\r\\n &nbsp;\\&quot;OrderId\\&quot;: \\&quot;{{OrderId}}\\&quot;,\\r\\n &nbsp;{{#PaymentResponseText}}\\r\\n &nbsp;\\&quot;PaymentResponseText\\&quot;: \\&quot;{{PaymentResponseText}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseText}}\\r\\n &nbsp;{{#PaymentResponseCode}}\\r\\n &nbsp;\\&quot;PaymentResponseCode\\&quot;: \\&quot;{{PaymentResponseCode}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseCode}}\\r\\n &nbsp;{{#PaymentResponseStatus}}\\r\\n &nbsp;\\&quot;PaymentResponseStatus\\&quot;: \\&quot;{{PaymentResponseStatus}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseStatus}}\\r\\n &nbsp;\\&quot;PaymentMethod\\&quot;: [\\r\\n &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.Currency}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CurrencyCode\\&quot;: \\&quot;{{SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.Currency}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.Currency}}\\r\\n &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.Currency}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CurrencyCode\\&quot;: \\&quot;{{CurrencyCode}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.Currency}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.BalanceInquiryResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;AccountNumber\\&quot;: \\&quot;{{SaleToPOIResponse.BalanceInquiryResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.BalanceInquiryResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\r\\n &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.BalanceInquiryResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;AccountNumber\\&quot;: \\&quot;{{AccountNumber}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.BalanceInquiryResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.PaymentInstrumentData.StoredValueAccountID.EntryMode}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;EntryTypeId\\&quot;: \\&quot;{{.}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.PaymentInstrumentData.StoredValueAccountID.EntryMode}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;GatewayId\\&quot;: \\&quot;{{GatewayId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;LocationId\\&quot;: \\&quot;{{LocationId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransaction\\&quot;: [\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionId\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#Troutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestId\\&quot;: \\&quot;{{Troutd}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/Troutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#Ctroutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestToken\\&quot;: \\&quot;{{Ctroutd}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/Ctroutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedAmount\\&quot;: 0,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.PaymentAcquirerData.AcquirerTransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedDate\\&quot;: \\&quot;{{SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.PaymentAcquirerData.AcquirerTransactionID.TimeStamp}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.PaymentAcquirerData.AcquirerTransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedDate\\&quot;: \\&quot;{{TransactionDateTime}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.PaymentAcquirerData.AcquirerTransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionDate\\&quot;: \\&quot;{{SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.PaymentAcquirerData.AcquirerTransactionID.TimeStamp}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.PaymentAcquirerData.AcquirerTransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.PaymentAcquirerData.AcquirerTransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionDate\\&quot;: \\&quot;{{TransactionDateTime}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.PaymentAcquirerData.AcquirerTransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;OrderId\\&quot;: \\&quot;{{OrderId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.CurrentBalance}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RemainingBalance\\&quot;: {{SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.CurrentBalance}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.CurrentBalance}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionTypeId\\&quot;: \\&quot;{{Command}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Status\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionStatusId\\&quot;: \\&quot;Closed\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.BalanceInquiryResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatusId\\&quot;: \\&quot;{{SaleToPOIResponse.BalanceInquiryResponse.Response.Result}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.BalanceInquiryResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.BalanceInquiryResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatusId\\&quot;: \\&quot;{{PaymentResponseStatus}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.BalanceInquiryResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransmissionStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransmissionStatusId\\&quot;: \\&quot;Closed\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;],\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTypeId\\&quot;: \\&quot;{{PaymentType}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp;}\\r\\n &nbsp;]\\r\\n}&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayRequestTemplate&quot;: &quot;{\\r\\n &nbsp;\\&quot;SaleToPOIRequest\\&quot;: {\\r\\n &nbsp; &nbsp;\\&quot;MessageHeader\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ProtocolVersion\\&quot;: \\&quot;3.0\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageClass\\&quot;: \\&quot;Service\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageCategory\\&quot;: \\&quot;BalanceInquiry\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageType\\&quot;: \\&quot;Request\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ServiceID\\&quot;: \\&quot;{{ServiceId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;SaleID\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;POIID\\&quot;: \\&quot;{{TerminalId}}\\&quot;\\r\\n &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp;\\&quot;BalanceInquiryRequest\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentAccountReq\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentInstrumentData\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentInstrumentType\\&quot;: \\&quot;StoredValue\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueAccountID\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueAccountType\\&quot;: \\&quot;GiftCard\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueProvider\\&quot;: \\&quot;givex\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;IdentificationType\\&quot;: \\&quot;PAN\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#AccountNumber}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;EntryMode\\&quot;: [\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Scanned\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;],\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueID\\&quot;: \\&quot;{{AccountNumber}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {{/AccountNumber}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {{^AccountNumber}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \\&quot;EntryMode\\&quot;: [\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;MagStripe\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;],\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueID\\&quot;: \\&quot;\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {{/AccountNumber}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp;}\\r\\n &nbsp;}\\r\\n}&quot;<br />\n&nbsp; &nbsp; },<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayPaymentURLTemplate&quot;: &quot;https://terminal-api-test.adyen.com/sync&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;TransactionType&quot;: &quot;Reload&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayResponseTemplate&quot;: &quot;{\\r\\n &nbsp;\\&quot;OrderId\\&quot;: \\&quot;{{OrderId}}\\&quot;,\\r\\n &nbsp;{{#PaymentResponseText}}\\r\\n &nbsp;\\&quot;PaymentResponseText\\&quot;: \\&quot;{{PaymentResponseText}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseText}}\\r\\n &nbsp;{{#PaymentResponseCode}}\\r\\n &nbsp;\\&quot;PaymentResponseCode\\&quot;: \\&quot;{{PaymentResponseCode}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseCode}}\\r\\n &nbsp;{{#PaymentResponseStatus}}\\r\\n &nbsp;\\&quot;PaymentResponseStatus\\&quot;: \\&quot;{{PaymentResponseStatus}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseStatus}}\\r\\n &nbsp;\\&quot;PaymentMethod\\&quot;: [\\r\\n &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CurrencyCode\\&quot;: \\&quot;{{Currency}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;Amount\\&quot;: {{ItemAmount}},\\r\\n &nbsp; &nbsp; &nbsp;{{#StoredValueAccountStatus.StoredValueAccountID.EntryMode}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;EntryTypeId\\&quot;: \\&quot;{{.}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; {{/StoredValueAccountStatus.StoredValueAccountID.EntryMode}}\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CurrencyCode\\&quot;: \\&quot;{{CurrencyCode}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;Amount\\&quot;: 0,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;AccountNumber\\&quot;: \\&quot;{{SaleToPOIResponse.StoredValueResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;GatewayId\\&quot;: \\&quot;{{GatewayId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;LocationId\\&quot;: \\&quot;{{LocationId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransaction\\&quot;: [\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionId\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedAmount\\&quot;: {{RequestedAmount}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#Troutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestId\\&quot;: \\&quot;{{Troutd}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/Troutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#Ctroutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestToken\\&quot;: \\&quot;{{Ctroutd}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/Ctroutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedDate\\&quot;: \\&quot;{{SaleToPOIResponse.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionDate\\&quot;: \\&quot;{{SaleToPOIResponse.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedDate\\&quot;: \\&quot;{{TransactionDateTime}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionDate\\&quot;: \\&quot;{{TransactionDateTime}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ProcessedAmount\\&quot;: {{ItemAmount}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RemainingBalance\\&quot;: {{StoredValueAccountStatus.CurrentBalance}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {{^SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ProcessedAmount\\&quot;: 0,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;OrderId\\&quot;: \\&quot;{{OrderId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionTypeId\\&quot;: \\&quot;{{Command}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Status\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionStatusId\\&quot;: \\&quot;Closed\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.StoredValueResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatusId\\&quot;: \\&quot;{{SaleToPOIResponse.StoredValueResponse.Response.Result}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.StoredValueResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.StoredValueResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatusId\\&quot;: \\&quot;{{PaymentResponseStatus}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.StoredValueResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransmissionStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransmissionStatusId\\&quot;: \\&quot;Closed\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;],\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTypeId\\&quot;: \\&quot;{{PaymentType}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp;}\\r\\n &nbsp;]\\r\\n}&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayRequestTemplate&quot;: &quot;{\\r\\n &nbsp;\\&quot;SaleToPOIRequest\\&quot;: {\\r\\n &nbsp; &nbsp;\\&quot;MessageHeader\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ProtocolVersion\\&quot;: \\&quot;3.0\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageClass\\&quot;: \\&quot;Service\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageCategory\\&quot;: \\&quot;StoredValue\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageType\\&quot;: \\&quot;Request\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ServiceID\\&quot;: \\&quot;{{ServiceId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;SaleID\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;POIID\\&quot;: \\&quot;{{TerminalId}}\\&quot;\\r\\n &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp;\\&quot;StoredValueRequest\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;SaleData\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;SaleTransactionID\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionID\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TimeStamp\\&quot;: \\&quot;{{TransactionDateTime}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;StoredValueData\\&quot;: [\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueTransactionType\\&quot;: \\&quot;{{Command}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueAccountID\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueAccountType\\&quot;: \\&quot;GiftCard\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueProvider\\&quot;: \\&quot;givex\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;IdentificationType\\&quot;: \\&quot;PAN\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#AccountNumber}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;EntryMode\\&quot;: [\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Scanned\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;],\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueID\\&quot;: \\&quot;{{AccountNumber}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/AccountNumber}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^AccountNumber}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;EntryMode\\&quot;: [\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;MagStripe\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;],\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueID\\&quot;: \\&quot;\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/AccountNumber}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ItemAmount\\&quot;: {{Amount}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Currency\\&quot;: \\&quot;{{CurrencyCode}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;]\\r\\n &nbsp; &nbsp;}\\r\\n &nbsp;}\\r\\n}&quot;<br />\n&nbsp; &nbsp; },<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayPaymentURLTemplate&quot;: &quot;https://terminal-api-test.adyen.com/sync&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;TransactionType&quot;: &quot;Activate&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayResponseTemplate&quot;: &quot;{\\r\\n &nbsp;\\&quot;OrderId\\&quot;: \\&quot;{{OrderId}}\\&quot;,\\r\\n &nbsp;{{#PaymentResponseText}}\\r\\n &nbsp;\\&quot;PaymentResponseText\\&quot;: \\&quot;{{PaymentResponseText}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseText}}\\r\\n &nbsp;{{#PaymentResponseCode}}\\r\\n &nbsp;\\&quot;PaymentResponseCode\\&quot;: \\&quot;{{PaymentResponseCode}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseCode}}\\r\\n &nbsp;{{#PaymentResponseStatus}}\\r\\n &nbsp;\\&quot;PaymentResponseStatus\\&quot;: \\&quot;{{PaymentResponseStatus}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseStatus}}\\r\\n &nbsp;\\&quot;PaymentMethod\\&quot;: [\\r\\n &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CurrencyCode\\&quot;: \\&quot;{{Currency}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;Amount\\&quot;: {{ItemAmount}},\\r\\n &nbsp; &nbsp; &nbsp;{{#StoredValueAccountStatus.StoredValueAccountID.EntryMode}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;EntryTypeId\\&quot;: \\&quot;{{.}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/StoredValueAccountStatus.StoredValueAccountID.EntryMode}}\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CurrencyCode\\&quot;: \\&quot;{{CurrencyCode}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;Amount\\&quot;: 0,\\r\\n &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;AccountNumber\\&quot;: \\&quot;{{SaleToPOIResponse.StoredValueResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;GatewayId\\&quot;: \\&quot;{{GatewayId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;LocationId\\&quot;: \\&quot;{{LocationId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransaction\\&quot;: [\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionId\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedAmount\\&quot;: {{RequestedAmount}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#Troutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestId\\&quot;: \\&quot;{{Troutd}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/Troutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#Ctroutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestToken\\&quot;: \\&quot;{{Ctroutd}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/Ctroutd}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedDate\\&quot;: \\&quot;{{SaleToPOIResponse.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionDate\\&quot;: \\&quot;{{SaleToPOIResponse.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedDate\\&quot;: \\&quot;{{TransactionDateTime}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionDate\\&quot;: \\&quot;{{TransactionDateTime}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ProcessedAmount\\&quot;: {{ItemAmount}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \\&quot;RemainingBalance\\&quot;: {{StoredValueAccountStatus.CurrentBalance}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {{^SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ProcessedAmount\\&quot;: 0,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;OrderId\\&quot;: \\&quot;{{OrderId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionTypeId\\&quot;: \\&quot;{{Command}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Status\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionStatusId\\&quot;: \\&quot;Closed\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#SaleToPOIResponse.StoredValueResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatusId\\&quot;: \\&quot;{{SaleToPOIResponse.StoredValueResponse.Response.Result}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.StoredValueResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^SaleToPOIResponse.StoredValueResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatusId\\&quot;: \\&quot;{{PaymentResponseStatus}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/SaleToPOIResponse.StoredValueResponse.Response.Result}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransmissionStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransmissionStatusId\\&quot;: \\&quot;Closed\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;],\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTypeId\\&quot;: \\&quot;{{PaymentType}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp;}\\r\\n &nbsp;]\\r\\n}&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayRequestTemplate&quot;: &quot;{\\r\\n &nbsp;\\&quot;SaleToPOIRequest\\&quot;: {\\r\\n &nbsp; &nbsp;\\&quot;MessageHeader\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ProtocolVersion\\&quot;: \\&quot;3.0\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageClass\\&quot;: \\&quot;Service\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageCategory\\&quot;: \\&quot;StoredValue\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageType\\&quot;: \\&quot;Request\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ServiceID\\&quot;: \\&quot;{{ServiceId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;SaleID\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;POIID\\&quot;: \\&quot;{{TerminalId}}\\&quot;\\r\\n &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp;\\&quot;StoredValueRequest\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;SaleData\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;SaleTransactionID\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionID\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TimeStamp\\&quot;: \\&quot;{{TransactionDateTime}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;StoredValueData\\&quot;: [\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueTransactionType\\&quot;: \\&quot;{{Command}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueAccountID\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueAccountType\\&quot;: \\&quot;GiftCard\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueProvider\\&quot;: \\&quot;givex\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;IdentificationType\\&quot;: \\&quot;PAN\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#AccountNumber}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;EntryMode\\&quot;: [\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Scanned\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;],\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueID\\&quot;: \\&quot;{{AccountNumber}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/AccountNumber}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{^AccountNumber}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;EntryMode\\&quot;: [\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;MagStripe\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;],\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;StoredValueID\\&quot;: \\&quot;\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/AccountNumber}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ItemAmount\\&quot;: {{Amount}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Currency\\&quot;: \\&quot;{{CurrencyCode}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;]\\r\\n &nbsp; &nbsp;}\\r\\n &nbsp;}\\r\\n}&quot;<br />\n&nbsp; &nbsp; },<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayPaymentURLTemplate&quot;: &quot;https://terminal-api-test.adyen.com/sync&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;TransactionType&quot;: &quot;CUST_QUESTION&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayResponseTemplate&quot;: &quot;{\\r\\n &nbsp;\\&quot;OrderId\\&quot;: \\&quot;{{OrderId}}\\&quot;,\\r\\n &nbsp; {{#PaymentResponseText}}\\r\\n &nbsp;\\&quot;PaymentResponseText\\&quot;: \\&quot;{{PaymentResponseText}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseText}}\\r\\n &nbsp;{{#PaymentResponseCode}}\\r\\n &nbsp;\\&quot;PaymentResponseCode\\&quot;: \\&quot;{{PaymentResponseCode}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseCode}}\\r\\n &nbsp;{{#PaymentResponseStatus}}\\r\\n &nbsp;\\&quot;PaymentResponseStatus\\&quot;: \\&quot;{{PaymentResponseStatus}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseStatus}}\\r\\n &nbsp;\\&quot;PaymentMethod\\&quot;: [\\r\\n &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CurrencyCode\\&quot;: \\&quot;{{CurrencyCode}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;Amount\\&quot;: 0,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;GatewayId\\&quot;: \\&quot;{{GatewayId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;LocationId\\&quot;: \\&quot;{{LocationId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransaction\\&quot;: [\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionId\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedAmount\\&quot;: 0,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionDate\\&quot;: \\&quot;{{TransactionDateTime}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ProcessedAmount\\&quot;: 0,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;OrderId\\&quot;: \\&quot;{{OrderId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionTypeId\\&quot;: \\&quot;{{Command}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Status\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionStatusId\\&quot;: \\&quot;Closed\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatusId\\&quot;: \\&quot;{{PaymentResponseStatus}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;]\\r\\n &nbsp; &nbsp;}\\r\\n &nbsp;]\\r\\n}&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayRequestTemplate&quot;: &quot;{\\r\\n &nbsp;\\&quot;SaleToPOIRequest\\&quot;: {\\r\\n &nbsp; &nbsp;\\&quot;MessageHeader\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ProtocolVersion\\&quot;: \\&quot;3.0\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageClass\\&quot;: \\&quot;Device\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageCategory\\&quot;: \\&quot;Input\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;MessageType\\&quot;: \\&quot;Request\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;ServiceID\\&quot;: \\&quot;{{ServiceId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;SaleID\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;POIID\\&quot;: \\&quot;{{TerminalId}}\\&quot;\\r\\n &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp;\\&quot;InputRequest\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;DisplayOutput\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Device\\&quot;: \\&quot;CustomerDisplay\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;InfoQualify\\&quot;: \\&quot;Display\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;OutputContent\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;OutputFormat\\&quot;: \\&quot;Text\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PredefinedContent\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ReferenceID\\&quot;: \\&quot;GetConfirmation\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;OutputText\\&quot;: [\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Text\\&quot;: \\&quot;\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Text\\&quot;: \\&quot;{{DisplayBulkData}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Text\\&quot;: \\&quot;No\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Text\\&quot;: \\&quot;Yes\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;]\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;InputData\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Device\\&quot;: \\&quot;CustomerInput\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;InfoQualify\\&quot;: \\&quot;Input\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;InputCommand\\&quot;: \\&quot;GetConfirmation\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;MaxInputTime\\&quot;: 9\\r\\n &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp;}\\r\\n &nbsp;}\\r\\n}&quot;<br />\n&nbsp; &nbsp; },<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayPaymentURLTemplate&quot;: &quot;https://checkout-test.adyen.com/v68/payments&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;TransactionType&quot;: &quot;Omni_Authorization&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayResponseTemplate&quot;: &quot;{\\r\\n &nbsp;\\&quot;OrderId\\&quot;: \\&quot;{{OrderId}}\\&quot;,\\r\\n &nbsp;{{#PaymentResponseText}}\\r\\n &nbsp;\\&quot;PaymentResponseText\\&quot;: \\&quot;{{PaymentResponseText}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseText}}\\r\\n &nbsp;{{#PaymentResponseCode}}\\r\\n &nbsp;\\&quot;PaymentResponseCode\\&quot;: \\&quot;{{PaymentResponseCode}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseCode}}\\r\\n &nbsp;{{#PaymentResponseStatus}}\\r\\n &nbsp;\\&quot;PaymentResponseStatus\\&quot;: \\&quot;{{PaymentResponseStatus}}\\&quot;,\\r\\n &nbsp;{{/PaymentResponseStatus}}\\r\\n &nbsp;\\&quot;PaymentMethod\\&quot;: [\\r\\n &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp;{{#CurrencyCode}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CurrencyCode\\&quot;: \\&quot;{{CurrencyCode}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{/CurrencyCode}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;GatewayId\\&quot;: \\&quot;{{GatewayId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;LocationId\\&quot;: \\&quot;{{LocationId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp;{{#EnteredAmount}}\\r\\n &nbsp;\\&quot;Amount\\&quot;: {{EnteredAmount}},\\r\\n &nbsp;{{/EnteredAmount}}\\r\\n &nbsp;{{^EnteredAmount}}\\r\\n &nbsp;\\&quot;Amount\\&quot;: 0,\\r\\n &nbsp;{{/EnteredAmount}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransaction\\&quot;: [\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;{\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionId\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedAmount\\&quot;: {{RequestedAmount}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#checkoutGatewayResponse.pspReference}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestId\\&quot;: \\&quot;{{checkoutGatewayResponse.pspReference}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;NetworkTransactionId\\&quot;: \\&quot;{{checkoutGatewayResponse.pspReference}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestToken\\&quot;: \\&quot;{{checkoutGatewayResponse.pspReference}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {{/checkoutGatewayResponse.pspReference}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;RequestedDate\\&quot;: \\&quot;{{TransactionDateTime}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionDate\\&quot;: \\&quot;{{TransactionDateTime}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{#checkoutGatewayResponse.amount.value}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ProcessedAmount\\&quot;: {{checkoutGatewayResponse.amount.value}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/checkoutGatewayResponse.amount.value}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {{^checkoutGatewayResponse.amount.value}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;ProcessedAmount\\&quot;: 0,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{/checkoutGatewayResponse.amount.value}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;OrderId\\&quot;: \\&quot;{{OrderId}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransactionType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionTypeId\\&quot;: \\&quot;{{Command}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;Status\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransactionStatusId\\&quot;: \\&quot;Closed\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentResponseStatusId\\&quot;: \\&quot;{{PaymentResponseStatus}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;TransmissionStatus\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTransmissionStatusId\\&quot;: \\&quot;Closed\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;],\\r\\n &nbsp; &nbsp; &nbsp;{{#checkoutGatewayResponse.additionalData.fundingSource}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTypeId\\&quot;: \\&quot;{{checkoutGatewayResponse.additionalData.fundingSource}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp;{{/checkoutGatewayResponse.additionalData.fundingSource}}\\r\\n &nbsp; &nbsp; &nbsp;{{^checkoutGatewayResponse.additionalData.fundingSource}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;PaymentType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;PaymentTypeId\\&quot;: \\&quot;{{PaymentType}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp;{{/checkoutGatewayResponse.additionalData.fundingSource}}\\r\\n &nbsp; &nbsp; &nbsp;{{#checkoutGatewayResponse.additionalData.paymentMethod}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CardType\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;CardTypeId\\&quot;: \\&quot;{{checkoutGatewayResponse.additionalData.paymentMethod}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CardTypeId\\&quot;: \\&quot;{{checkoutGatewayResponse.additionalData.paymentMethod}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp;{{/checkoutGatewayResponse.additionalData.paymentMethod}}\\r\\n &nbsp; &nbsp; &nbsp;{{^checkoutGatewayResponse.additionalData.paymentMethod}}\\r\\n &nbsp; &nbsp; &nbsp;\\&quot;CardTypeId\\&quot;: null\\r\\n &nbsp; &nbsp; &nbsp;{{/checkoutGatewayResponse.additionalData.paymentMethod}}\\r\\n &nbsp; &nbsp;}\\r\\n &nbsp;]\\r\\n}&quot;,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayRequestTemplate&quot;: &quot;{\\r\\n &nbsp; &nbsp;\\&quot;amount\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;value\\&quot;: {{Amount}},\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;currency\\&quot;: \\&quot;{{CurrencyCode}}\\&quot;\\r\\n &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp;\\&quot;applicationInfo\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp;{{#gatewayApplicationInfo.externalPlatformName}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;externalPlatform\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;name\\&quot;: \\&quot;{{gatewayApplicationInfo.externalPlatformName}}\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;integrator\\&quot;: \\&quot;{{gatewayApplicationInfo.externalPlatformIntegrator}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp; &nbsp;{{/gatewayApplicationInfo.externalPlatformName}}\\r\\n &nbsp; &nbsp; &nbsp;{{#gatewayApplicationInfo.merchantApplicationName}}\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;merchantApplication\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;name\\&quot;: \\&quot;{{gatewayApplicationInfo.merchantApplicationName}}\\&quot;\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;}\\r\\n &nbsp; &nbsp; &nbsp;{{/gatewayApplicationInfo.merchantApplicationName}}\\r\\n &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp;\\&quot;paymentMethod\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;type\\&quot;: \\&quot;scheme\\&quot;,\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;storedPaymentMethodId\\&quot;: \\&quot;{{RecurringDetailReference}}\\&quot;\\r\\n &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp;\\&quot;reference\\&quot;: \\&quot;{{UniqueId}}\\&quot;,\\r\\n &nbsp; &nbsp;\\&quot;shopperInteraction\\&quot;: \\&quot;ContAuth\\&quot;,\\r\\n &nbsp; &nbsp;\\&quot;merchantAccount\\&quot;: \\&quot;{{MerchantAccount}}\\&quot;,\\r\\n &nbsp; &nbsp;\\&quot;shopperReference\\&quot;: \\&quot;{{StoreId}}\\&quot;,\\r\\n &nbsp; &nbsp;\\&quot;recurringProcessingModel\\&quot;: \\&quot;CardOnFile\\&quot;,\\r\\n &nbsp; &nbsp;\\&quot;additionalData\\&quot;: {\\r\\n &nbsp; &nbsp; &nbsp; &nbsp;\\&quot;manualCapture\\&quot;: \\&quot;true\\&quot;\\r\\n &nbsp; &nbsp;},\\r\\n &nbsp; &nbsp;{{#MerchantStore}}\\r\\n &nbsp; &nbsp;\\&quot;store\\&quot;: \\&quot;{{MerchantStore}}\\&quot;\\r\\n &nbsp; &nbsp;{{/MerchantStore}}\\r\\n &nbsp; &nbsp;{{^MerchantStore}}\\r\\n &nbsp; &nbsp;\\&quot;store\\&quot;: \\&quot;POS_Store\\&quot;\\r\\n &nbsp; &nbsp;{{/MerchantStore}}\\r\\n}&quot;<br />\n&nbsp; &nbsp; }<br />\n&nbsp; ],<br />\n&nbsp; &quot;GatewayEncryptedAttribute&quot;: [],<br />\n&nbsp; &quot;GatewayImplementation&quot;: [<br />\n&nbsp; &nbsp; {<br />\n&nbsp; &nbsp; &nbsp; &quot;CustomerPresent&quot;: true,<br />\n&nbsp; &nbsp; &nbsp; &quot;GatewayProtocol&quot;: {<br />\n&nbsp; &nbsp; &nbsp; &nbsp; &quot;GatewayProtocolId&quot;: &quot;Cloud Https&quot;<br />\n&nbsp; &nbsp; &nbsp; },<br />\n&nbsp; &nbsp; &nbsp; &quot;IsOffline&quot;: false<br />\n&nbsp; &nbsp; }<br />\n&nbsp; ],<br />\n&nbsp; &quot;IsBase&quot;: true,<br />\n&nbsp; &quot;ProcessStuckTransaction&quot;: true<br />\n}</p>\n</div></div></div>\r\n\r\n<p style=\"margin-left: 40px;\">&nbsp;</p>\r\n\r\n<h3><a name=\"overall-flow\" id=\"overall-flow\"></a>Overall Flow</h3>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h4><a name=\"cloud\" id=\"cloud\"></a>Cloud</h4>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><img height=\"1350\" src=\"https://dzf8vqv24eqhg.cloudfront.net/userfiles/4665/7671/ckfinder/images/qu/3331/CloudGatewayFlowV1.png?Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly9kemY4dnF2MjRlcWhnLmNsb3VkZnJvbnQubmV0L3VzZXJmaWxlcy80NjY1Lzc2NzEvY2tmaW5kZXIvaW1hZ2VzL3F1LzMzMzEvQ2xvdWRHYXRld2F5Rmxvd1YxLnBuZyIsIkNvbmRpdGlvbiI6eyJEYXRlTGVzc1RoYW4iOnsiQVdTOkVwb2NoVGltZSI6MTc1NDc1MjAyN319fV19&Signature=N3C4OMWoY9edBrSRPGj9isa~8oBfw0UKNxtyX-bKHs~Jy5OqSGodnSRMSKmS6wXHSAaC7oCHDuYx8xszg5rWXIqwQKFBRhXqLDHDNXadSSQIt3f~fr2cEFapCpFy3zN8tmf1f1mGSJca8eh7Q~t6q9dBNWts3Dm4rfiWNdJ4hRsm8kOIahaSv-4J6Wo0ME34M2XMBXN85JBOR8rWxfrmZmEh4oMiA-gZEodRHgjAb16d9UDzRMsv73tEb6kheq17XPqOhtKYwOiFfQoJMXhTA5kRKiGJYX5pXzC~5Hcj5I9k88-yBlW-jkbLAC3QhkLe41V10FOJK~F1CkiwU3jolQ__&Key-Pair-Id=K2TK3EG287XSFC\" width=\"805\" /></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h4><a name=\"local-nbsp\" id=\"local-nbsp\"></a>Local&nbsp;</h4>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><img height=\"1322\" src=\"https://dzf8vqv24eqhg.cloudfront.net/userfiles/4665/7671/ckfinder/images/qu/8272/Screenshot_2023-10-04_at_9_08_04_PM.png?Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly9kemY4dnF2MjRlcWhnLmNsb3VkZnJvbnQubmV0L3VzZXJmaWxlcy80NjY1Lzc2NzEvY2tmaW5kZXIvaW1hZ2VzL3F1LzgyNzIvU2NyZWVuc2hvdF8yMDIzLTEwLTA0X2F0XzlfMDhfMDRfUE0ucG5nIiwiQ29uZGl0aW9uIjp7IkRhdGVMZXNzVGhhbiI6eyJBV1M6RXBvY2hUaW1lIjoxNzU0NzUyMDI3fX19XX0_&Signature=mgyHom2yBbJL9yz3OagK1iF-LgNBjnYic-cNf9tqZBFKqH8710kQUsYhI-ha0U~9ecW3fJbOEfnaEehyciUucgvTv7ZOvp6eHtLIUMPyHR-LAFKLkHhCnY4G-6s~EKWpwTdiIB20vxLkzNG6X~g~OIZMogzJv0hiTzcgtgmRh3yHRTYxic77Bq~hmSHTNbpNpi0936JBwDWEiQawmg9cK0g02kG~kP-T7zwKBkXj77xIT3EGojJzDXA-u3nh9GF~g-W8MKXtwO15LNo86JpMFZ7aOMDlNAXeTLxVHKf~ab-Cge1froqjO9rk2BTX0ZjbfcOlShRcN8evnd0Kv8vY~w__&Key-Pair-Id=K2TK3EG287XSFC\" width=\"1024\" /></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3 id=\"CloudPaymentIntegration-DesignandUserguide-CommandsToTransactionTypeMapping\"><a name=\"payment-transaction-command-reference\" id=\"payment-transaction-command-reference\"></a>Payment Transaction Command reference</h3>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 671px;\">\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 136px;\">Commands</td>\r\n\t\t\t<td style=\"width: 503px;\">Use Case</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 136px;\">CAPTURE</td>\r\n\t\t\t<td style=\"width: 503px;\">This command will be sent in case of payment of in-store items. This command will create &quot;Settlement&quot; Transactions&nbsp;</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 136px;\">AUTH</td>\r\n\t\t\t<td style=\"width: 503px;\">This command will be sent in case of payment of in save the sale items like ship to address, pick up at store etc. This command will create &quot;Authorization&quot; Transactions&nbsp;</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 136px;\">Activate</td>\r\n\t\t\t<td style=\"width: 503px;\">This command will be used to activate Giftcards and will create &quot;Activate&quot; transactions.</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 136px;\">ADD_VALUE</td>\r\n\t\t\t<td style=\"width: 503px;\">This command will be used for reloading the gift card and will create &quot;Reload&quot; transactions.</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 136px;\">Deactivate</td>\r\n\t\t\t<td style=\"width: 503px;\">This command will be used to deactivate Giftcards and will create &quot;Deactivate&quot; transactions.</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 136px;\">CREDIT</td>\r\n\t\t\t<td style=\"width: 503px;\">This command will be used for refunds and will create &quot;Refund&quot; transactions.</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 136px;\">Abort</td>\r\n\t\t\t<td style=\"width: 503px;\">This command will be used in case of timeout and will be used to cancel any in-progress transactions. As the flow is for timeout, it means MAO does not have any reference for sale transaction. Therefore, Abort will not create any new payment transaction.</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 136px;\">Void</td>\r\n\t\t\t<td style=\"width: 503px;\">This command will be used for partial payment void and will create &quot;Void&quot; transactions in case of settlement and &quot;Authorization Reversal&quot; in case of voiding auth transactions.</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 136px;\">CUST_QUESTION</td>\r\n\t\t\t<td style=\"width: 503px;\">This command will be used to ask questions at the terminal and will not create any transactions. The questions will trigger the next set of events, like in the case of OMNI transactions. Cust_Question will be asked like &quot;$78.75 will be charged from your account, while $36.49 will be pre-authorized. The total transaction amount is $115.24. Do you want to continue?&quot;</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><a name=\"resource-ids\" id=\"resource-ids\"></a>Resource Ids</h3>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width:500px;\">\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 48px;\">SNo</td>\r\n\t\t\t<td style=\"width: 308px;\">URL</td>\r\n\t\t\t<td>ResourceId</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 48px;\">1</td>\r\n\t\t\t<td style=\"width: 308px;\">\r\n\t\t\t<table resolved=\"\" role=\"grid\">\r\n\t\t\t\t<tbody aria-live=\"polite\" aria-relevant=\"all\">\r\n\t\t\t\t\t<tr role=\"row\">\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<pre>\r\n/storefacade/api/storefacade/posservice/gateway/payment/initiateTransaction</pre>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<table resolved=\"\" role=\"grid\">\r\n\t\t\t\t<tbody aria-live=\"polite\" aria-relevant=\"all\">\r\n\t\t\t\t\t<tr role=\"row\">\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<pre>\r\napi::storefacade::transaction::admin</pre>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 48px;\">2</td>\r\n\t\t\t<td style=\"width: 308px;\">\r\n\t\t\t<pre>\r\n/storefacade/api/storefacade/posservice/gateway/payment/transactionStatus</pre>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<pre>\r\napi::storefacade::transaction::admin</pre>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 48px;\">3</td>\r\n\t\t\t<td style=\"width: 308px;\">\r\n\t\t\t<pre>\r\n/storefacade/api/storefacade/posservice/gateway/order/refresh</pre>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<table resolved=\"\" role=\"grid\">\r\n\t\t\t\t<tbody aria-live=\"polite\" aria-relevant=\"all\">\r\n\t\t\t\t\t<tr role=\"row\">\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<pre>\r\napi::storefacade::transaction::admin</pre>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 48px;\">4</td>\r\n\t\t\t<td style=\"width: 308px;\">\r\n\t\t\t<table resolved=\"\" role=\"grid\">\r\n\t\t\t\t<tbody aria-live=\"polite\" aria-relevant=\"all\">\r\n\t\t\t\t\t<tr role=\"row\">\r\n\t\t\t\t\t\t<td colspan=\"1\">\r\n\t\t\t\t\t\t<pre>\r\n/storefacade/api/storefacade/posservice/gateway/session</pre>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t<pre>\r\napi::storefacade::transaction::admin</pre>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><a name=\"user-exits\" id=\"user-exits\"></a>User Exits</h3>\r\n\r\n<p>1.&nbsp;<strong>pos::gateway:payment:initiate-transaction</strong></p>\r\n\r\n<p>The purpose of this user exit is to communicate to gateway cloud APIs to initiate payment transactions. This API will be used in payment flows like sales, refund, voids etc.</p>\r\n\r\n<p>2.&nbsp;<strong>pos::gateway:payment:transaction-status</strong></p>\r\n\r\n<p>The purpose of this user exit is to communicate to gateway cloud APIs to check the status of the last transaction.</p>\r\n\r\n<p>3.&nbsp;<strong>pos::gateway:userexit:order-refresh</strong></p>\r\n\r\n<p>The purpose of this user exit is to communicate to gateway cloud APIs to initiate refreshing order details on terminal</p>\r\n\r\n<p>4.&nbsp;<strong>pos::gateway:userexit:session-update</strong></p>\r\n\r\n<p>The purpose of this user exit is to communicate to a gateway to start or finish the session on terminal</p>\r\n\r\n<div class=\"tip\"><strong>Note</strong>: please refer to&nbsp;<a href=\"https://omni.helpdocsonline.com/manhattanproactive\">Proactive</a> documentation for more information.&nbsp;</div>\r\n\r\n\t  </div>\r\n </div>\r\n <div id=\"ui-page-fb-wrap\"></div>\r\n <div class=\"hiq-footer-wrap\">\r\n    \r\n                \r\n  </div>\r\n\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n",
  "content_length": 161466,
  "scraped_at": "2025-08-09T22:02:08.068585",
  "content_clean": "Home ››Manhattan Active® Omni››Store››Process & Configuration Guides››Point of Sale››POS Guides››POS Payment››POS Payment Plugin ››POS Adyen Payment Plugin POS Adyen Payment Plugin Configuration/Gateway settings and Use CasesSecurityEnabling Cloud vs LocalCloud (Server to Server) ImplementationLocal (POS Application Direct to Device) ImplementationSample Gateway configuration jsonOverall FlowCloudLocal Payment Transaction Command referenceResource IdsUser Exits Manhattan Active Omni provides the capability to integrate Adyen with point-of-sale systems (POS). Adyen is a payment processing platform which offers a variety of solutions for businesses to accept payments online, in-store, and through various channels. This page contains an overview of the POS specific configurations and processes used. Please refer to Adyen Payment Integration guide and the Adyen section of the general Payment Gateway Integration guide for more information. Configuration/Gateway settings and Use Cases To enable Adyen, set posGeneralConfig>commonConfig>paymentGateway = AdyenPayments Attributes of AdyenPayments gateway type - Use cases based on Adyen paymentGateway>paymentGatewayImplementation = \"Cloud https\" vs \"Local https\" IF Application/Device Status Configure as Local functional? Configure as Cloud functional? Comments Consistent Online Online Application Online Terminal Yes Yes If configured as CLOUD, consistently Cloud communication used for all trans types. If configured as LOCAL, Local will still selectively internally use Cloud communication. Pay and Carry will use strictly LOCAL but Omni transactions will use CLOUD communication. This is due to an Adyen restriction, by which LOCAL does not support multiple requests for same payment - as in SETTLE part of this payment and AUTHORIZE the rest - which is required for OMNI flows. Thus, plugin configure to use \"local\" gateway implementation internally switches to Cloud when appropriate without user intervention. Gateway templates for OMNI is required for cloud implementation. USE CASE If customer is confident that application and terminal are both online most of the time or network issues are very low, then preferred is Cloud implementation as its easy to maintain and very less dependencies on plugin. Separate application for online and offline, i.e. MAO-POS and MAO-POS OFFLINE apps Combinations assumed to be MAO POS app Online Application Online Terminal MAO-POS OFFLINE app Offline Application Offline Terminal Yes both offline/online Online only Settings support Cloud for online app and Local implementation for offline app. USE CASE If customer is going to use separate application for online and offline flow then below two implementation settings are required in paymentGateway>gatewayImplementation CustomerPresent True and Offline as false → Cloud CustomerPresent True and Offline as true → Local Hybrid mode Online Application Offline Terminal Yes No App communicates direct to terminal, which then commicates to gateway/Cloud. The advantage to this approach is, if terminal goes OFFLINE to Gateway, SAF operations are still possible and credit can be accepted. Implementation setting: 1. CustomerPresent True and Online as true → Local USE CASE If customer is going for hybrid solution where customer wants to support online application with terminal normally also online BUT ability to work with offline terminal . Security Adyen presents certificates in order to authenticate when merchants establish secure connections to Adyen's API endpoints. The integration connects to Adyen's services securely over HTTPS connection. Please follow the table below to understand how the root certificate is handled for each platform that is supported. Adyen Root Certificate By Platform Platform Base Provided Details ios Yes The base app is pre bundled with the required root certificates for Adyen. Every time a new build is generated from base, the latest certificate is bundled. Windows No Base does not provide the root certificate for Windows, but it is required by the service team to work with the customer and ensure that the certificate is added. Android No Base does not provide the root certificate for Android. Enabling Cloud vs Local Cloud (Server to Server) Implementation POS General config changes Enable \"Communicate to gateway using configured protocol\" (Set to true) GatewayId as AdyenPayments GatewayTransactionTimeout (Should match with Terminal timeout) GatewayTransStatusInterval (How frequently we want to do transaction status call) Create Adyen gateway configuration Payment gateway populated Gateway protocol as \"Cloud Https\" API Key is populated as Account Encrypted Attribute Populate Payment Gateway Template for AdyenPayments.  (See sample gateway json). Create Payment Terminal with Integration Type = Cloud and terminalId as the uniqueId of the terminal you want to connect to. We can select any of the below Payment Terminal Types as per the supported types. MX Verifone MX 915/925 Verifone e355 Adyen e285p Adyen M400 Assign the terminal to register Log into the app and save settings for terminal. It is mandatory that terminal timeout cannot be less than payment gateway timeout. Otherwise, payment transaction discrepancy between Manhattan and payment provider will cause payment to fail. Local (POS Application Direct to Device) Implementation For local implementation , we need to ensure that the adyen certificates are available in the register for successfully communicating to the adyen terminal. We recommend you to install the certificates through power shell scripts. POS General config changes Enable \"Communicate to gateway using configured protocol\" (Set to true) GatewayId as AdyenPayments GatewayTransactionTimeout (Should match with Terminal timeout. It is provided by gateway provider) GatewayTransStatusInterval (How frequently we want to do transaction status call) (Base Recommended value = 15 (In Seconds)) Create Adyen gateway configuration Payment gateway populated Gateway protocol as \"Local Https\" Account Encrypted Attribute is populated (See sample gateway json). Populate Payment Gateway Template for AdyenPayments.  (See sample gateway json). For gift card through \"givex\" we have to create card type as \"givex\" Create Payment Terminal with IP as the IP of the terminal, primary port as 8443 and terminalId as the uniqueId of the terminal you want to connect to. We can select any of the below Payment Terminal Types as per the supported types MX Verifone MX 915/925 Verifone e355 Adyen e285p Adyen M400 Assign the terminal to register Log into app and save settings for terminal. It is mandatory that terminal timeout cannot be less than payment gateway timeout. Otherwise, payment transaction discrepancy between Manhattan and payment provider will cause payment to fail. Populate Payment Gateway Template for Adyen Payments. Check the Attached sample gateway/save json below. Mandatory Attributes in gateway attributes for local setup is described below for AccountEncryptedAttribute. apiKey - This is mandatory for local connection. We need to get this information from Adyen Portal. Please follow the link to Adyen Documentation to get api key https://docs.adyen.com/development-resources/api-credentials/#generate-api-key encryptionKey, encryptionPassword and encryptionKeyVersion are mandatory for local connection. Please follow the page from Adyen Documentation https://docs.adyen.com/point-of-sale/design-your-integration/choose-your-architecture/local/. \"encryptionKey\" is \"Key Identifier\", \"encryptionPassword\" is \"Key Passphrase\" and \"encryptionKeyVersion\" is \"Key Version\" from the documentation. sendToProduction = False merchantAccount  is mandatory for local connection. Refer to the Adyen Portal. merchantStore - This field is only applicable for OMNI flow and if OMNI flow is supported, then populate this from the Adyen portal or click 9+O and check device information. externalPlatformName, externalPlatformIntegrator and merchantApplicationName, are kept as it is mentioned in the gateway json. giftCardServiceProvider - If gift card is supported then update the field with the provider name like givex, svs etc. All other attributes are kept as they are. Sample Gateway configuration json URL: POST {{url}}/payment/api/payment/gateway/save Body: To configure for LOCAL vs CLOUD,  Implementation GatewayProtocolId should be set to \"Local Https\" or \"Cloud Https\".  This sample uses \"Cloud Https\". POS Adyen 2{ \"Account\": [ { \"AccountId\": \"pos_test_account\", \"Actions\": { \"AccountEncryptedAttribute\": \"RESET\" }, \"AccountEncryptedAttribute\": [ { \"Name\": \"apiKey\", \"Value\": \"\" }, { \"Name\": \"encryptionKey\", \"ValueDeprecated\": \"ManhattanAccount\", \"Value\": \"ManhattanAccount\" }, { \"Name\": \"encryptionPassword\", \"ValueDeprecated\": \"ManhattanAccount\", \"Value\": \"ManhattanAccount\" }, { \"Name\": \"encryptionKeyVersion\", \"ValueDeprecated\": \"1\", \"Value\": \"1\" }, { \"Name\": \"merchantAccount\", \"ValueDeprecated\": \"ManhattanAssociates739_OM_POS_Integration_TEST\", \"Value\": \"ManhattanAssociates739_OM_POS_Integration_TEST\" }, { \"Name\": \"merchantStore\", \"ValueDeprecated\": \"Manhattan_Store\", \"Value\": \"Manhattan_Store\" }, { \"Name\": \"externalPlatformName\", \"ValueDeprecated\": \"Manhattan Active Omni\", \"Value\": \"Manhattan Active Omni\" }, { \"Name\": \"externalPlatformIntegrator\", \"ValueDeprecated\": \"Manhattan Active Omni\", \"Value\": \"Manhattan Active Omni\" }, { \"Name\": \"merchantApplicationName\", \"ValueDeprecated\": \"Manhattan Active Omni\", \"Value\": \"Manhattan Active Omni\" }, { \"Name\": \"giftCardServiceProvider\", \"ValueDeprecated\": \"svs\", \"Value\": \"svs\" } ], \"AccountAttribute\": [ { \"Name\": \"targetAPIVersion\", \"Value\": \"v70\" }, { \"Name\": \"sendToProduction\", \"Value\": \"false\" }, { \"Name\": \"autoCloseTransactionTypes\", \"Value\": \"Refund,Void\" }, { \"Name\": \"createSettlementWhenVoidingRefund\", \"Value\": \"false\" } ], \"LocationId\": null } ], \"GatewayId\": \"AdyenPayments\", \"Actions\": { \"PaymentGatewayTemplate\": \"RESET\", \"Account\": \"RESET\", \"GatewayImplementation\": \"RESET\" }, \"PaymentGatewayTemplate\": [ { \"GatewayPaymentURLTemplate\": \"https://terminal-api-test.adyen.com/sync\", \"TransactionType\": \"Settlement\", \"GatewayResponseTemplate\": \"{\\r\\n  \\\"OrderId\\\": \\\"{{OrderId}}\\\",\\r\\n  {{#PaymentResponseText}}\\r\\n  \\\"PaymentResponseText\\\": \\\"{{PaymentResponseText}}\\\",\\r\\n  {{/PaymentResponseText}}\\r\\n  {{#RecurringDetailReference}}\\r\\n  \\\"RecurringDetailReference\\\": \\\"{{RecurringDetailReference}}\\\",\\r\\n  {{/RecurringDetailReference}}\\r\\n  {{#PaymentResponseCode}}\\r\\n  \\\"PaymentResponseCode\\\": \\\"{{PaymentResponseCode}}\\\",\\r\\n  {{/PaymentResponseCode}}\\r\\n  {{#PaymentResponseStatus}}\\r\\n  \\\"PaymentResponseStatus\\\": \\\"{{PaymentResponseStatus}}\\\",\\r\\n  {{/PaymentResponseStatus}}\\r\\n  \\\"PaymentMethod\\\": [\\r\\n    {\\r\\n      {{#SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n      \\\"CurrencyCode\\\": \\\"{{SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\\",\\r\\n      {{/SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n      {{^SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n      \\\"CurrencyCode\\\": \\\"{{CurrencyCode}}\\\",\\r\\n      {{/SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n      {{#SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.MaskedPan}}\\r\\n      \\\"AccountNumber\\\": \\\"{{SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.MaskedPan}}\\\",\\r\\n      {{/SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.MaskedPan}}\\r\\n      {{#SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.cardHolderName}}\\r\\n      \\\"NameOnCard\\\": \\\"{{SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.cardHolderName}}\\\",\\r\\n      {{/SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.cardHolderName}}\\r\\n      {{#SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\r\\n      \\\"CardExpiryMonth\\\": \\\"{{SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\\",\\r\\n      {{/SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\r\\n      {{#SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.expiryYear}}\\r\\n      \\\"CardExpiryYear\\\": \\\"{{SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.expiryYear}}\\\",\\r\\n      {{/SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.expiryYear}}\\r\\n      \\\"CustomerPaySignature\\\": null,\\r\\n      {{#SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n      \\\"Amount\\\": {{SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}},\\r\\n      {{/SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n      {{^SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n      \\\"Amount\\\": 0,\\r\\n      {{/SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n      {{#SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.EntryMode}}\\r\\n      \\\"EntryTypeId\\\": \\\"{{.}}\\\",\\r\\n      {{/SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.EntryMode}}\\r\\n      {{#SaleToPOIResponse.PaymentResponse.PaymentResult.CapturedSignature}}\\r\\n      \\\"CustomerPaySignature\\\": \\\"{{{SaleToPOIResponse.PaymentResponse.PaymentResult.CapturedSignature}}}\\\",\\r\\n      {{/SaleToPOIResponse.PaymentResponse.PaymentResult.CapturedSignature}}\\r\\n      \\\"GatewayId\\\": \\\"{{GatewayId}}\\\",\\r\\n      \\\"LocationId\\\": \\\"{{LocationId}}\\\",\\r\\n      \\\"PaymentTransaction\\\": [\\r\\n        {\\r\\n          \\\"PaymentTransactionId\\\": \\\"{{UniqueId}}\\\",\\r\\n          \\\"RequestedAmount\\\": {{RequestedAmount}},\\r\\n          {{#Troutd}}\\r\\n          \\\"RequestId\\\": \\\"{{Troutd}}\\\",\\r\\n          \\\"NetworkTransactionId\\\": \\\"{{Troutd}}\\\",\\r\\n          {{/Troutd}}\\r\\n          {{#Ctroutd}}\\r\\n          \\\"RequestToken\\\": \\\"{{Ctroutd}}\\\",\\r\\n          {{/Ctroutd}}\\r\\n          {{#SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n          \\\"RequestedDate\\\": \\\"{{SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\\",\\r\\n          \\\"TransactionDate\\\": \\\"{{SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\\",\\r\\n          {{/SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n          {{^SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n          \\\"RequestedDate\\\": \\\"{{TransactionDateTime}}\\\",\\r\\n          \\\"TransactionDate\\\": \\\"{{TransactionDateTime}}\\\",\\r\\n          {{/SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n          {{#SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n          \\\"ProcessedAmount\\\": {{SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}},\\r\\n          {{/SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n           {{^SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n          \\\"ProcessedAmount\\\": 0,\\r\\n          {{/SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n          {{#SaleToPOIResponse.PaymentResponse.POIData.POIReconciliationID}}\\r\\n          \\\"ReconciliationId\\\": \\\"{{SaleToPOIResponse.PaymentResponse.POIData.POIReconciliationID}}\\\",\\r\\n          {{/SaleToPOIResponse.PaymentResponse.POIData.POIReconciliationID}}\\r\\n          \\\"OrderId\\\": \\\"{{OrderId}}\\\",\\r\\n          {{#SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.currentBalanceValue}}\\r\\n          \\\"RemainingBalance\\\": {{SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.currentBalanceValue}},\\r\\n          {{/SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.currentBalanceValue}}\\r\\n          \\\"TransactionType\\\": {\\r\\n            \\\"PaymentTransactionTypeId\\\": \\\"{{Command}}\\\"\\r\\n          },\\r\\n          \\\"Status\\\": {\\r\\n            \\\"PaymentTransactionStatusId\\\": \\\"Closed\\\"\\r\\n          },\\r\\n          {{#SaleToPOIResponse.PaymentResponse.Response.Result}}\\r\\n          \\\"PaymentResponseStatus\\\": {\\r\\n            \\\"PaymentResponseStatusId\\\": \\\"{{SaleToPOIResponse.PaymentResponse.Response.Result}}\\\"\\r\\n          },\\r\\n          {{/SaleToPOIResponse.PaymentResponse.Response.Result}}\\r\\n          {{^SaleToPOIResponse.PaymentResponse.Response.Result}}\\r\\n          \\\"PaymentResponseStatus\\\": {\\r\\n            \\\"PaymentResponseStatusId\\\": \\\"{{PaymentResponseStatus}}\\\"\\r\\n          },\\r\\n          {{/SaleToPOIResponse.PaymentResponse.Response.Result}}\\r\\n          \\\"TransmissionStatus\\\": {\\r\\n            \\\"PaymentTransmissionStatusId\\\": \\\"Closed\\\"\\r\\n          }\\r\\n        }\\r\\n      ],\\r\\n      {{#SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n      \\\"PaymentType\\\": {\\r\\n        \\\"PaymentTypeId\\\": \\\"{{SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\\"\\r\\n      },\\r\\n      {{/SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n      {{^SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n      \\\"PaymentType\\\": {\\r\\n        \\\"PaymentTypeId\\\": \\\"{{PaymentType}}\\\"\\r\\n      },\\r\\n      {{/SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n      {{#SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n      \\\"CardType\\\": {\\r\\n        \\\"CardTypeId\\\": \\\"{{SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\\"\\r\\n      },\\r\\n      \\\"CardTypeId\\\": \\\"{{SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\\"\\r\\n      {{/SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n      {{^SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n      \\\"CardTypeId\\\": null\\r\\n      {{/SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n    }\\r\\n  ]\\r\\n}\", \"GatewayRequestTemplate\": \"{\\r\\n  \\\"SaleToPOIRequest\\\": {\\r\\n    \\\"MessageHeader\\\": {\\r\\n      \\\"ProtocolVersion\\\": \\\"3.0\\\",\\r\\n      \\\"MessageClass\\\": \\\"Service\\\",\\r\\n      \\\"MessageCategory\\\": \\\"Payment\\\",\\r\\n      \\\"MessageType\\\": \\\"Request\\\",\\r\\n      \\\"SaleID\\\": \\\"{{UniqueId}}\\\",\\r\\n      \\\"ServiceID\\\": \\\"{{ServiceId}}\\\",\\r\\n      \\\"POIID\\\": \\\"{{TerminalId}}\\\"\\r\\n    },\\r\\n    \\\"PaymentRequest\\\": {\\r\\n      \\\"SaleData\\\": {\\r\\n        {{#SaleToAcquirerData}}\\r\\n         \\\"SaleToAcquirerData\\\":\\\"{{SaleToAcquirerData}}\\\",\\r\\n         {{/SaleToAcquirerData}}\\r\\n         {{^SaleToAcquirerData}}\\r\\n         \\\"SaleToAcquirerData\\\":\\\"recurringProcessingModel=CardOnFile&shopperReference={{StoreId}}&externalPlatform.name={{gatewayApplicationInfo.externalPlatformName}}&externalPlatform.integrator={{gatewayApplicationInfo.externalPlatformIntegrator}}&merchantApplication.name={{gatewayApplicationInfo.merchantApplicationName}}\\\",\\r\\n                 \\\"TokenRequestedType\\\":\\\"Customer\\\",\\r\\n         {{/SaleToAcquirerData}}\\r\\n        \\\"SaleTransactionID\\\": {\\r\\n          \\\"TransactionID\\\": \\\"{{UniqueId}}\\\",\\r\\n          \\\"TimeStamp\\\": \\\"{{TransactionDateTime}}\\\"\\r\\n        }\\r\\n      },\\r\\n      \\\"PaymentTransaction\\\": {\\r\\n        \\\"AmountsReq\\\": {\\r\\n          \\\"Currency\\\": \\\"{{CurrencyCode}}\\\",\\r\\n          \\\"RequestedAmount\\\": {{Amount}}\\r\\n        }\\r\\n      },\\r\\n      \\\"PaymentData\\\": {\\r\\n        {{#Prepaid}}\\r\\n        \\\"PaymentInstrumentData\\\": {\\r\\n                    \\\"PaymentInstrumentType\\\": \\\"StoredValue\\\",\\r\\n                    \\\"StoredValueAccountID\\\": {\\r\\n                        \\\"StoredValueAccountType\\\": \\\"GiftCard\\\",\\r\\n                        \\\"StoredValueProvider\\\": \\\"givex\\\",\\r\\n                        \\\"IdentificationType\\\": \\\"PAN\\\",\\r\\n                        {{#AccountNumber}}\\r\\n                        \\\"EntryMode\\\": [\\r\\n                          \\\"Scanned\\\"\\r\\n                        ],\\r\\n                        \\\"StoredValueID\\\": \\\"{{AccountNumber}}\\\"\\r\\n                         {{/AccountNumber}}\\r\\n                         {{^AccountNumber}}\\r\\n                         \\\"EntryMode\\\": [\\r\\n                          \\\"MagStripe\\\"\\r\\n                        ],\\r\\n                        \\\"StoredValueID\\\": \\\"\\\"\\r\\n                         {{/AccountNumber}}\\r\\n                    }\\r\\n                },\\r\\n        {{/Prepaid}}\\r\\n        \\\"PaymentType\\\": \\\"{{Command}}\\\"\\r\\n      }\\r\\n      \\r\\n    }\\r\\n  }\\r\\n}\" }, { \"ProfileId\": \"tm-demo-us\", \"GatewayPaymentURLTemplate\": \"https://terminal-api-test.adyen.com/sync\", \"TransactionType\": \"TransactionStatus\", \"GatewayResponseTemplate\": \"{\\r\\n  \\\"OrderId\\\": \\\"{{OrderId}}\\\",\\r\\n  {{#PaymentResponseText}}\\r\\n  \\\"PaymentResponseText\\\": \\\"{{PaymentResponseText}}\\\",\\r\\n  {{/PaymentResponseText}}\\r\\n  {{#PaymentResponseCode}}\\r\\n  \\\"PaymentResponseCode\\\": \\\"{{PaymentResponseCode}}\\\",\\r\\n  {{/PaymentResponseCode}}\\r\\n  {{#PaymentResponseStatus}}\\r\\n  \\\"PaymentResponseStatus\\\": \\\"{{PaymentResponseStatus}}\\\",\\r\\n  {{/PaymentResponseStatus}}\\r\\n  {{#RecurringDetailReference}}\\r\\n  \\\"RecurringDetailReference\\\": \\\"{{RecurringDetailReference}}\\\",\\r\\n  {{/RecurringDetailReference}}\\r\\n  \\\"PaymentMethod\\\": [\\r\\n    {\\r\\n      {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n      \\\"CurrencyCode\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\\",\\r\\n      {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n      {{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n      \\\"CurrencyCode\\\": \\\"{{CurrencyCode}}\\\",\\r\\n      {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n      {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.MaskedPan}}\\r\\n      \\\"AccountNumber\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.MaskedPan}}\\\",\\r\\n      {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.MaskedPan}}\\r\\n      {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\r\\n      \\\"AccountNumber\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\\",\\r\\n      {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\r\\n      {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.cardHolderName}}\\r\\n      \\\"NameOnCard\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.cardHolderName}}\\\",\\r\\n      {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.cardHolderName}}\\r\\n      {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\r\\n      \\\"CardExpiryMonth\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\\",\\r\\n      {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\r\\n      {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.expiryYear}}\\r\\n      \\\"CardExpiryYear\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.expiryYear}}\\\",\\r\\n      {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.expiryYear}}\\r\\n      \\\"CustomerPaySignature\\\": null,\\r\\n      {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n      \\\"Amount\\\": {{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}},\\r\\n      {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n      {{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n      {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.StoredValueResult}}\\r\\n      \\\"Amount\\\": {{ItemAmount}},\\r\\n      {{#StoredValueAccountStatus.StoredValueAccountID.EntryMode}}\\r\\n      \\\"EntryTypeId\\\": \\\"{{.}}\\\",\\r\\n      {{/StoredValueAccountStatus.StoredValueAccountID.EntryMode}}\\r\\n      {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.StoredValueResult}}\\r\\n      {{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.StoredValueResult}}\\r\\n      \\\"Amount\\\": 0,\\r\\n      {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.StoredValueResult}}\\r\\n      {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n      {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.EntryMode}}\\r\\n      \\\"EntryTypeId\\\": \\\"{{.}}\\\",\\r\\n      {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.EntryMode}}\\r\\n      {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.CapturedSignature}}\\r\\n      \\\"CustomerPaySignature\\\": \\\"{{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.CapturedSignature}}}\\\",\\r\\n      {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.CapturedSignature}}\\r\\n      \\\"GatewayId\\\": \\\"{{GatewayId}}\\\",\\r\\n      \\\"LocationId\\\": \\\"{{LocationId}}\\\",\\r\\n      \\\"PaymentTransaction\\\": [\\r\\n        {\\r\\n          \\\"PaymentTransactionId\\\": \\\"{{UniqueId}}\\\",\\r\\n          \\\"RequestedAmount\\\": {{RequestedAmount}},\\r\\n          {{#Troutd}}\\r\\n          \\\"RequestId\\\": \\\"{{Troutd}}\\\",\\r\\n          \\\"NetworkTransactionId\\\": \\\"{{Troutd}}\\\",\\r\\n          {{/Troutd}}\\r\\n          {{#Ctroutd}}\\r\\n          \\\"RequestToken\\\": \\\"{{Ctroutd}}\\\",\\r\\n          {{/Ctroutd}}\\r\\n          {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n          \\\"RequestedDate\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\\",\\r\\n          \\\"TransactionDate\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\\",\\r\\n          {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n          {{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n          \\\"RequestedDate\\\": \\\"{{TransactionDateTime}}\\\",\\r\\n          \\\"TransactionDate\\\": \\\"{{TransactionDateTime}}\\\",\\r\\n          {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n          {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n          \\\"ProcessedAmount\\\": {{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}},\\r\\n          {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n          {{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n          {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.StoredValueResult}}\\r\\n          \\\"ProcessedAmount\\\": {{ItemAmount}},\\r\\n          {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.StoredValueResult}}\\r\\n          {{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.StoredValueResult}}\\r\\n          \\\"ProcessedAmount\\\": 0,\\r\\n          {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.StoredValueResult}}\\r\\n          {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n          {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.POIData.POIReconciliationID}}\\r\\n          \\\"ReconciliationId\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.POIData.POIReconciliationID}}\\\",\\r\\n          {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.POIData.POIReconciliationID}}\\r\\n          {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.POIData.POIReconciliationID}}\\r\\n          \\\"ReconciliationId\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.POIData.POIReconciliationID}}\\\",\\r\\n          {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.POIData.POIReconciliationID}}\\r\\n          \\\"OrderId\\\": \\\"{{OrderId}}\\\",\\r\\n          {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.currentBalanceValue}}\\r\\n          \\\"RemainingBalance\\\": {{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.currentBalanceValue}},\\r\\n          {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.currentBalanceValue}}\\r\\n          {{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.currentBalanceValue}}\\r\\n          {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.StoredValueResult}}\\r\\n          \\\"RemainingBalance\\\": {{StoredValueAccountStatus.CurrentBalance}},\\r\\n          {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.StoredValueResult}}\\r\\n          {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.currentBalanceValue}}\\r\\n          \\r\\n          \\\"TransactionType\\\": {\\r\\n            \\\"PaymentTransactionTypeId\\\": \\\"{{OriginalCommand}}\\\"\\r\\n          },\\r\\n          \\\"Status\\\": {\\r\\n            \\\"PaymentTransactionStatusId\\\": \\\"Closed\\\"\\r\\n          },\\r\\n          {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.Result}}\\r\\n          \\\"PaymentResponseStatus\\\": {\\r\\n            \\\"PaymentResponseStatusId\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.Result}}\\\"\\r\\n          },\\r\\n          {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.Result}}\\r\\n          {{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.Result}}\\r\\n          {{#SaleToPOIResponse.TransactionStatusResponse.Response.Result}}\\r\\n          \\\"PaymentResponseStatus\\\": {\\r\\n            \\\"PaymentResponseStatusId\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.Response.Result}}\\\"\\r\\n          },\\r\\n          {{/SaleToPOIResponse.TransactionStatusResponse.Response.Result}}\\r\\n          {{^SaleToPOIResponse.TransactionStatusResponse.Response.Result}}\\r\\n          \\\"PaymentResponseStatus\\\": {\\r\\n            \\\"PaymentResponseStatusId\\\": \\\"Failure\\\"\\r\\n          },\\r\\n          {{/SaleToPOIResponse.TransactionStatusResponse.Response.Result}}\\r\\n          {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.Result}}\\r\\n          \\\"TransmissionStatus\\\": {\\r\\n            \\\"PaymentTransmissionStatusId\\\": \\\"Closed\\\"\\r\\n          }\\r\\n        }\\r\\n      ],\\r\\n      {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n      \\\"PaymentType\\\": {\\r\\n        \\\"PaymentTypeId\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\\"\\r\\n      },\\r\\n      {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n      {{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n      \\\"PaymentType\\\": {\\r\\n        \\\"PaymentTypeId\\\": \\\"{{PaymentType}}\\\"\\r\\n      },\\r\\n      {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n      {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n      \\\"CardType\\\": {\\r\\n        \\\"CardTypeId\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\\"\\r\\n      },\\r\\n      \\\"CardTypeId\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\\"\\r\\n      {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n      {{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n      {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.cardType}}\\r\\n       \\\"CardType\\\": {\\r\\n        \\\"CardTypeId\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.cardType}}\\\"\\r\\n      },\\r\\n      \\\"CardTypeId\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.cardType}}\\\"\\r\\n      {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.cardType}}\\r\\n      {{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.cardType}}\\r\\n      \\\"CardTypeId\\\": null\\r\\n      {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.cardType}}\\r\\n      {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n    }\\r\\n  ]\\r\\n}\", \"GatewayRequestTemplate\": \"{\\r\\n  \\\"SaleToPOIRequest\\\": {\\r\\n    \\\"MessageHeader\\\": {\\r\\n      \\\"ProtocolVersion\\\": \\\"3.0\\\",\\r\\n      \\\"MessageClass\\\": \\\"Service\\\",\\r\\n      \\\"MessageCategory\\\": \\\"TransactionStatus\\\",\\r\\n      \\\"MessageType\\\": \\\"Request\\\",\\r\\n      \\\"SaleID\\\": \\\"{{ServiceId}}\\\",\\r\\n      \\\"ServiceID\\\": \\\"{{ServiceId}}\\\",\\r\\n      \\\"POIID\\\": \\\"{{TerminalId}}\\\"\\r\\n    },\\r\\n    \\\"TransactionStatusRequest\\\": {\\r\\n      \\\"MessageReference\\\": {\\r\\n        \\\"SaleID\\\": \\\"{{UniqueId}}\\\",\\r\\n        {{#MessageCategory}}\\r\\n        \\\"MessageCategory\\\": \\\"{{MessageCategory}}\\\"\\r\\n        {{/MessageCategory}}\\r\\n        {{^MessageCategory}}\\r\\n        \\\"MessageCategory\\\": \\\"Payment\\\"\\r\\n        {{/MessageCategory}}\\r\\n      }\\r\\n    }\\r\\n  }\\r\\n}\" }, { \"GatewayPaymentURLTemplate\": \"https://terminal-api-test.adyen.com/sync\", \"TransactionType\": \"UnReferenced_Refund\", \"GatewayResponseTemplate\": \"{\\r\\n  \\\"OrderId\\\": \\\"{{OrderId}}\\\",\\r\\n  {{#PaymentResponseText}}\\r\\n  \\\"PaymentResponseText\\\": \\\"{{PaymentResponseText}}\\\",\\r\\n  {{/PaymentResponseText}}\\r\\n  {{#PaymentResponseCode}}\\r\\n  \\\"PaymentResponseCode\\\": \\\"{{PaymentResponseCode}}\\\",\\r\\n  {{/PaymentResponseCode}}\\r\\n  {{#PaymentResponseStatus}}\\r\\n  \\\"PaymentResponseStatus\\\": \\\"{{PaymentResponseStatus}}\\\",\\r\\n  {{/PaymentResponseStatus}}\\r\\n  \\\"PaymentMethod\\\": [\\r\\n    {\\r\\n      {{#SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n      \\\"CurrencyCode\\\": \\\"{{SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\\",\\r\\n      {{/SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n      {{^SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n      \\\"CurrencyCode\\\": \\\"{{CurrencyCode}}\\\",\\r\\n      {{/SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n      {{#SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.MaskedPan}}\\r\\n      \\\"AccountNumber\\\": \\\"{{SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.MaskedPan}}\\\",\\r\\n      {{/SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.MaskedPan}}\\r\\n      {{#SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.cardHolderName}}\\r\\n      \\\"NameOnCard\\\": \\\"{{SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.cardHolderName}}\\\",\\r\\n      {{/SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.cardHolderName}}\\r\\n      {{#SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\r\\n      \\\"CardExpiryMonth\\\": \\\"{{SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\\",\\r\\n      {{/SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\r\\n      {{#SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.expiryYear}}\\r\\n      \\\"CardExpiryYear\\\": \\\"{{SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.expiryYear}}\\\",\\r\\n      {{/SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.expiryYear}}\\r\\n      \\\"CustomerPaySignature\\\": null,\\r\\n      {{#SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n      \\\"Amount\\\": {{SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}},\\r\\n      {{/SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n      {{^SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n      \\\"Amount\\\": 0,\\r\\n      {{/SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n      {{#SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.EntryMode}}\\r\\n      \\\"EntryTypeId\\\": \\\"{{.}}\\\",\\r\\n      {{/SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.EntryMode}}\\r\\n      {{#SaleToPOIResponse.PaymentResponse.PaymentResult.CapturedSignature}}\\r\\n      \\\"CustomerPaySignature\\\": \\\"{{{SaleToPOIResponse.PaymentResponse.PaymentResult.CapturedSignature}}}\\\",\\r\\n      {{/SaleToPOIResponse.PaymentResponse.PaymentResult.CapturedSignature}}\\r\\n      \\\"GatewayId\\\": \\\"{{GatewayId}}\\\",\\r\\n      \\\"LocationId\\\": \\\"{{LocationId}}\\\",\\r\\n      \\\"PaymentTransaction\\\": [\\r\\n        {\\r\\n          \\\"PaymentTransactionId\\\": \\\"{{UniqueId}}\\\",\\r\\n          \\\"RequestedAmount\\\": {{RequestedAmount}},\\r\\n          {{#Ctroutd}}\\r\\n          \\\"RequestToken\\\": \\\"{{Ctroutd}}\\\",\\r\\n          {{/Ctroutd}}\\r\\n          {{#Troutd}}\\r\\n          \\\"RequestId\\\": \\\"{{Troutd}}\\\",\\r\\n          {{/Troutd}}\\r\\n          {{#SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n          \\\"RequestedDate\\\": \\\"{{SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\\",\\r\\n          \\\"TransactionDate\\\": \\\"{{SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\\",\\r\\n          {{/SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n          {{^SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n          \\\"RequestedDate\\\": \\\"{{TransactionDateTime}}\\\",\\r\\n          \\\"TransactionDate\\\": \\\"{{TransactionDateTime}}\\\",\\r\\n          {{/SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n          {{#SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n          \\\"ProcessedAmount\\\": {{SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}},\\r\\n          {{/SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n          {{^SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n          \\\"ProcessedAmount\\\": 0,\\r\\n          {{/SaleToPOIResponse.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n          {{#SaleToPOIResponse.PaymentResponse.POIData.POIReconciliationID}}\\r\\n          \\\"ReconciliationId\\\": \\\"{{SaleToPOIResponse.PaymentResponse.POIData.POIReconciliationID}}\\\",\\r\\n          {{/SaleToPOIResponse.PaymentResponse.POIData.POIReconciliationID}}\\r\\n          \\\"OrderId\\\": \\\"{{OrderId}}\\\",\\r\\n          \\\"TransactionType\\\": {\\r\\n            \\\"PaymentTransactionTypeId\\\": \\\"{{Command}}\\\"\\r\\n          },\\r\\n          \\\"Status\\\": {\\r\\n            \\\"PaymentTransactionStatusId\\\": \\\"Closed\\\"\\r\\n          },\\r\\n          {{#SaleToPOIResponse.PaymentResponse.Response.Result}}\\r\\n          \\\"PaymentResponseStatus\\\": {\\r\\n            \\\"PaymentResponseStatusId\\\": \\\"{{SaleToPOIResponse.PaymentResponse.Response.Result}}\\\"\\r\\n          },\\r\\n          {{/SaleToPOIResponse.PaymentResponse.Response.Result}}\\r\\n          {{^SaleToPOIResponse.PaymentResponse.Response.Result}}\\r\\n          \\\"PaymentResponseStatus\\\": {\\r\\n            \\\"PaymentResponseStatusId\\\": \\\"{{PaymentResponseStatus}}\\\"\\r\\n          },\\r\\n          {{/SaleToPOIResponse.PaymentResponse.Response.Result}}\\r\\n          \\\"TransmissionStatus\\\": {\\r\\n            \\\"PaymentTransmissionStatusId\\\": \\\"Closed\\\"\\r\\n          }\\r\\n        }\\r\\n      ],\\r\\n      {{#SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n      \\\"PaymentType\\\": {\\r\\n        \\\"PaymentTypeId\\\": \\\"{{SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\\"\\r\\n      },\\r\\n      {{/SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n      {{^SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n      \\\"PaymentType\\\": {\\r\\n        \\\"PaymentTypeId\\\": \\\"{{PaymentType}}\\\"\\r\\n      },\\r\\n      {{/SaleToPOIResponse.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n      {{#SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n      \\\"CardType\\\": {\\r\\n        \\\"CardTypeId\\\": \\\"{{SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\\"\\r\\n      },\\r\\n      \\\"CardTypeId\\\": \\\"{{SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\\"\\r\\n      {{/SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n      {{^SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n      \\\"CardTypeId\\\": null\\r\\n      {{/SaleToPOIResponse.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n    }\\r\\n  ]\\r\\n}\", \"GatewayRequestTemplate\": \"{\\r\\n  \\\"SaleToPOIRequest\\\": {\\r\\n    \\\"MessageHeader\\\": {\\r\\n      \\\"ProtocolVersion\\\": \\\"3.0\\\",\\r\\n      \\\"MessageClass\\\": \\\"Service\\\",\\r\\n      \\\"MessageCategory\\\": \\\"Payment\\\",\\r\\n      \\\"MessageType\\\": \\\"Request\\\",\\r\\n      \\\"SaleID\\\": \\\"{{UniqueId}}\\\",\\r\\n      \\\"ServiceID\\\": \\\"{{ServiceId}}\\\",\\r\\n      \\\"POIID\\\": \\\"{{TerminalId}}\\\"\\r\\n    },\\r\\n    \\\"PaymentRequest\\\": {\\r\\n      \\\"SaleData\\\": {\\r\\n        {{#SaleToAcquirerData}}\\r\\n         \\\"SaleToAcquirerData\\\":\\\"{{SaleToAcquirerData}}\\\",\\r\\n         {{/SaleToAcquirerData}}\\r\\n        \\\"SaleTransactionID\\\": {\\r\\n          \\\"TransactionID\\\": \\\"{{UniqueId}}\\\",\\r\\n          \\\"TimeStamp\\\": \\\"{{TransactionDateTime}}\\\"\\r\\n        }\\r\\n      },\\r\\n      \\\"PaymentTransaction\\\": {\\r\\n        \\\"AmountsReq\\\": {\\r\\n          \\\"Currency\\\": \\\"{{CurrencyCode}}\\\",\\r\\n          \\\"RequestedAmount\\\": {{Amount}}\\r\\n        }\\r\\n      },\\r\\n      \\\"PaymentData\\\": {\\r\\n        {{#AccountNumber}}\\r\\n        \\\"PaymentInstrumentData\\\": {\\r\\n                    \\\"PaymentInstrumentType\\\": \\\"StoredValue\\\",\\r\\n                    \\\"StoredValueAccountID\\\": {\\r\\n                        \\\"StoredValueAccountType\\\": \\\"GiftCard\\\",\\r\\n                        \\\"StoredValueProvider\\\": \\\"givex\\\",\\r\\n                        \\\"IdentificationType\\\": \\\"PAN\\\",\\r\\n                        \\\"EntryMode\\\": [\\r\\n                            \\\"Scanned\\\"\\r\\n                        ],\\r\\n                        \\\"StoredValueID\\\": \\\"{{AccountNumber}}\\\"\\r\\n                    }\\r\\n                },\\r\\n        {{/AccountNumber}}\\r\\n        \\\"PaymentType\\\": \\\"{{Command}}\\\"\\r\\n      }\\r\\n      \\r\\n    }\\r\\n  }\\r\\n}\" }, { \"GatewayPaymentURLTemplate\": \"https://terminal-api-test.adyen.com/sync\", \"TransactionType\": \"Void\", \"GatewayResponseTemplate\": \"{\\r\\n  \\\"OrderId\\\": \\\"{{OrderId}}\\\",\\r\\n  {{#PaymentResponseText}}\\r\\n  \\\"PaymentResponseText\\\": \\\"{{PaymentResponseText}}\\\",\\r\\n  {{/PaymentResponseText}}\\r\\n  {{#PaymentResponseCode}}\\r\\n  \\\"PaymentResponseCode\\\": \\\"{{PaymentResponseCode}}\\\",\\r\\n  {{/PaymentResponseCode}}\\r\\n  {{#PaymentResponseStatus}}\\r\\n  \\\"PaymentResponseStatus\\\": \\\"{{PaymentResponseStatus}}\\\",\\r\\n  {{/PaymentResponseStatus}}\\r\\n  \\\"PaymentMethod\\\": [\\r\\n    {\\r\\n      \\\"CurrencyCode\\\": \\\"{{CurrencyCode}}\\\",\\r\\n      \\\"GatewayId\\\": \\\"{{GatewayId}}\\\",\\r\\n      \\\"LocationId\\\": \\\"{{LocationId}}\\\",\\r\\n      \\\"PaymentTransaction\\\": [\\r\\n        {\\r\\n          \\\"PaymentTransactionId\\\": \\\"{{UniqueId}}\\\",\\r\\n          \\\"RequestedAmount\\\": {{RequestedAmount}},\\r\\n          {{#Troutd}}\\r\\n          \\\"RequestId\\\": \\\"{{Troutd}}\\\",\\r\\n          {{/Troutd}}\\r\\n          {{#Ctroutd}}\\r\\n          \\\"RequestToken\\\": \\\"{{Ctroutd}}\\\",\\r\\n          {{/Ctroutd}}\\r\\n          {{#RefCtroutd}}\\r\\n          \\\"FollowOnToken\\\": \\\"{{RefCtroutd}}\\\",\\r\\n          {{/RefCtroutd}}\\r\\n          {{#RefTroutd}}\\r\\n          \\\"FollowOnId\\\": \\\"{{RefTroutd}}\\\",\\r\\n          {{/RefTroutd}}\\r\\n          {{#SaleToPOIResponse.ReversalResponse.POIData.POITransactionID.TimeStamp}}\\r\\n          \\\"RequestedDate\\\": \\\"{{SaleToPOIResponse.ReversalResponse.POIData.POITransactionID.TimeStamp}}\\\",\\r\\n          \\\"TransactionDate\\\": \\\"{{SaleToPOIResponse.ReversalResponse.POIData.POITransactionID.TimeStamp}}\\\",\\r\\n          {{/SaleToPOIResponse.ReversalResponse.POIData.POITransactionID.TimeStamp}}\\r\\n          {{^SaleToPOIResponse.ReversalResponse.POIData.POITransactionID.TimeStamp}}\\r\\n          \\\"RequestedDate\\\": \\\"{{TransactionDateTime}}\\\",\\r\\n          \\\"TransactionDate\\\": \\\"{{TransactionDateTime}}\\\",\\r\\n          {{/SaleToPOIResponse.ReversalResponse.POIData.POITransactionID.TimeStamp}}\\r\\n          {{#SaleToPOIResponse.ReversalResponse.Response.AdditionalResponse.additionalData.posAuthAmountValue}}\\r\\n          \\\"ProcessedAmount\\\": {{RequestedAmount}},\\r\\n          {{/SaleToPOIResponse.ReversalResponse.Response.AdditionalResponse.additionalData.posAuthAmountValue}}\\r\\n          {{^SaleToPOIResponse.ReversalResponse.Response.AdditionalResponse.additionalData.posAuthAmountValue}}\\r\\n          \\\"ProcessedAmount\\\": 0,\\r\\n          {{/SaleToPOIResponse.ReversalResponse.Response.AdditionalResponse.additionalData.posAuthAmountValue}}\\r\\n          \\\"OrderId\\\": \\\"{{OrderId}}\\\",\\r\\n          \\\"TransactionType\\\": {\\r\\n            \\\"PaymentTransactionTypeId\\\": \\\"{{Command}}\\\"\\r\\n          },\\r\\n          \\\"Status\\\": {\\r\\n            \\\"PaymentTransactionStatusId\\\": \\\"Closed\\\"\\r\\n          },\\r\\n          {{#SaleToPOIResponse.ReversalResponse.Response.Result}}\\r\\n          \\\"PaymentResponseStatus\\\": {\\r\\n            \\\"PaymentResponseStatusId\\\": \\\"{{SaleToPOIResponse.ReversalResponse.Response.Result}}\\\"\\r\\n          },\\r\\n          {{/SaleToPOIResponse.ReversalResponse.Response.Result}}\\r\\n          {{^SaleToPOIResponse.ReversalResponse.Response.Result}}\\r\\n          \\\"PaymentResponseStatus\\\": {\\r\\n            \\\"PaymentResponseStatusId\\\": \\\"{{PaymentResponseStatus}}\\\"\\r\\n          },\\r\\n          {{/SaleToPOIResponse.ReversalResponse.Response.Result}}\\r\\n          \\\"TransmissionStatus\\\": {\\r\\n            \\\"PaymentTransmissionStatusId\\\": \\\"Closed\\\"\\r\\n          }\\r\\n        }\\r\\n      ],\\r\\n      \\\"PaymentType\\\": {\\r\\n        \\\"PaymentTypeId\\\": \\\"{{PaymentType}}\\\"\\r\\n      }\\r\\n    }\\r\\n  ]\\r\\n}\", \"GatewayRequestTemplate\": \"{\\r\\n  \\\"SaleToPOIRequest\\\": {\\r\\n    \\\"MessageHeader\\\": {\\r\\n      \\\"ProtocolVersion\\\": \\\"3.0\\\",\\r\\n      \\\"MessageClass\\\": \\\"Service\\\",\\r\\n      \\\"MessageCategory\\\": \\\"Reversal\\\",\\r\\n      \\\"MessageType\\\": \\\"Request\\\",\\r\\n      \\\"SaleID\\\": \\\"{{UniqueId}}\\\",\\r\\n      \\\"ServiceID\\\": \\\"{{ServiceId}}\\\",\\r\\n      \\\"POIID\\\": \\\"{{TerminalId}}\\\"\\r\\n    },\\r\\n    \\\"ReversalRequest\\\": {\\r\\n      \\\"OriginalPOITransaction\\\": {\\r\\n        \\\"POITransactionID\\\": {\\r\\n          \\\"TransactionID\\\": \\\"{{Ctroutd}}.{{Troutd}}\\\",\\r\\n          \\\"TimeStamp\\\": \\\"{{TransactionDateTime}}\\\"\\r\\n        }\\r\\n      },\\r\\n      \\\"ReversalReason\\\": \\\"MerchantCancel\\\"\\r\\n    }\\r\\n  }\\r\\n}\" }, { \"GatewayPaymentURLTemplate\": \"https://terminal-api-test.adyen.com/sync\", \"TransactionType\": \"Refund\", \"GatewayResponseTemplate\": \"{\\r\\n  \\\"OrderId\\\": \\\"{{OrderId}}\\\",\\r\\n  {{#PaymentResponseText}}\\r\\n  \\\"PaymentResponseText\\\": \\\"{{PaymentResponseText}}\\\",\\r\\n  {{/PaymentResponseText}}\\r\\n  {{#PaymentResponseCode}}\\r\\n  \\\"PaymentResponseCode\\\": \\\"{{PaymentResponseCode}}\\\",\\r\\n  {{/PaymentResponseCode}}\\r\\n  {{#PaymentResponseStatus}}\\r\\n  \\\"PaymentResponseStatus\\\": \\\"{{PaymentResponseStatus}}\\\",\\r\\n  {{/PaymentResponseStatus}}\\r\\n  \\\"PaymentMethod\\\": [\\r\\n    {\\r\\n      \\\"CurrencyCode\\\": \\\"{{CurrencyCode}}\\\",\\r\\n      \\\"GatewayId\\\": \\\"{{GatewayId}}\\\",\\r\\n      \\\"LocationId\\\": \\\"{{LocationId}}\\\",\\r\\n      \\\"PaymentTransaction\\\": [\\r\\n        {\\r\\n          \\\"PaymentTransactionId\\\": \\\"{{UniqueId}}\\\",\\r\\n          \\\"RequestedAmount\\\": {{RequestedAmount}},\\r\\n          {{#Troutd}}\\r\\n          \\\"RequestId\\\": \\\"{{Troutd}}\\\",\\r\\n          {{/Troutd}}\\r\\n          {{#Ctroutd}}\\r\\n          \\\"RequestToken\\\": \\\"{{Ctroutd}}\\\",\\r\\n          {{/Ctroutd}}\\r\\n          {{#RefCtroutd}}\\r\\n          \\\"FollowOnToken\\\": \\\"{{RefCtroutd}}\\\",\\r\\n          {{/RefCtroutd}}\\r\\n          {{#RefTroutd}}\\r\\n          \\\"FollowOnId\\\": \\\"{{RefTroutd}}\\\",\\r\\n          {{/RefTroutd}}\\r\\n          {{#SaleToPOIResponse.ReversalResponse.POIData.POITransactionID.TimeStamp}}\\r\\n          \\\"RequestedDate\\\": \\\"{{SaleToPOIResponse.ReversalResponse.POIData.POITransactionID.TimeStamp}}\\\",\\r\\n          \\\"TransactionDate\\\": \\\"{{SaleToPOIResponse.ReversalResponse.POIData.POITransactionID.TimeStamp}}\\\",\\r\\n          {{/SaleToPOIResponse.ReversalResponse.POIData.POITransactionID.TimeStamp}}\\r\\n          {{^SaleToPOIResponse.ReversalResponse.POIData.POITransactionID.TimeStamp}}\\r\\n          \\\"RequestedDate\\\": \\\"{{TransactionDateTime}}\\\",\\r\\n          \\\"TransactionDate\\\": \\\"{{TransactionDateTime}}\\\",\\r\\n          {{/SaleToPOIResponse.ReversalResponse.POIData.POITransactionID.TimeStamp}}\\r\\n          {{#SaleToPOIResponse.ReversalResponse.Response.AdditionalResponse.additionalData.posAuthAmountValue}}\\r\\n          \\\"ProcessedAmount\\\": {{RequestedAmount}},\\r\\n          {{/SaleToPOIResponse.ReversalResponse.Response.AdditionalResponse.additionalData.posAuthAmountValue}}\\r\\n          {{^SaleToPOIResponse.ReversalResponse.Response.AdditionalResponse.additionalData.posAuthAmountValue}}\\r\\n          \\\"ProcessedAmount\\\": 0,\\r\\n          {{/SaleToPOIResponse.ReversalResponse.Response.AdditionalResponse.additionalData.posAuthAmountValue}}\\r\\n          \\\"OrderId\\\": \\\"{{OrderId}}\\\",\\r\\n          \\\"TransactionType\\\": {\\r\\n            \\\"PaymentTransactionTypeId\\\": \\\"{{Command}}\\\"\\r\\n          },\\r\\n          \\\"Status\\\": {\\r\\n            \\\"PaymentTransactionStatusId\\\": \\\"Closed\\\"\\r\\n          },\\r\\n          {{#SaleToPOIResponse.ReversalResponse.Response.Result}}\\r\\n          \\\"PaymentResponseStatus\\\": {\\r\\n            \\\"PaymentResponseStatusId\\\": \\\"{{SaleToPOIResponse.ReversalResponse.Response.Result}}\\\"\\r\\n          },\\r\\n          {{/SaleToPOIResponse.ReversalResponse.Response.Result}}\\r\\n          {{^SaleToPOIResponse.ReversalResponse.Response.Result}}\\r\\n          \\\"PaymentResponseStatus\\\": {\\r\\n            \\\"PaymentResponseStatusId\\\": \\\"{{PaymentResponseStatus}}\\\"\\r\\n          },\\r\\n          {{/SaleToPOIResponse.ReversalResponse.Response.Result}}\\r\\n          \\\"TransmissionStatus\\\": {\\r\\n            \\\"PaymentTransmissionStatusId\\\": \\\"Closed\\\"\\r\\n          }\\r\\n        }\\r\\n      ],\\r\\n      \\\"PaymentType\\\": {\\r\\n        \\\"PaymentTypeId\\\": \\\"{{PaymentType}}\\\"\\r\\n      }\\r\\n    }\\r\\n  ]\\r\\n}\", \"GatewayRequestTemplate\": \"{\\r\\n  \\\"SaleToPOIRequest\\\": {\\r\\n    \\\"MessageHeader\\\": {\\r\\n      \\\"ProtocolVersion\\\": \\\"3.0\\\",\\r\\n      \\\"MessageClass\\\": \\\"Service\\\",\\r\\n      \\\"MessageCategory\\\": \\\"Reversal\\\",\\r\\n      \\\"MessageType\\\": \\\"Request\\\",\\r\\n      \\\"SaleID\\\": \\\"{{UniqueId}}\\\",\\r\\n      \\\"ServiceID\\\": \\\"{{ServiceId}}\\\",\\r\\n      \\\"POIID\\\": \\\"{{TerminalId}}\\\"\\r\\n    },\\r\\n    \\\"ReversalRequest\\\": {\\r\\n      \\\"OriginalPOITransaction\\\": {\\r\\n        \\\"POITransactionID\\\": {\\r\\n          \\\"TransactionID\\\": \\\"{{Ctroutd}}.{{Troutd}}\\\",\\r\\n          \\\"TimeStamp\\\": \\\"{{TransactionDateTime}}\\\"\\r\\n        }\\r\\n      },\\r\\n      \\\"ReversalReason\\\": \\\"MerchantCancel\\\"\\r\\n    }\\r\\n  }\\r\\n}\" }, { \"GatewayPaymentURLTemplate\": \"https://terminal-api-test.adyen.com/sync\", \"TransactionType\": \"PaymentReconciliation\", \"GatewayResponseTemplate\": \"{\\r\\n  {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.Result}}\\r\\n  \\\"Result\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.Result}}\\\",\\r\\n  {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.Result}}\\r\\n  {{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.Result}}\\r\\n  \\\"Result\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.Result}}\\\",\\r\\n  {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.Result}}\\r\\n  {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n  \\\"TransactionDate\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\\",\\r\\n  {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n  {{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n  \\\"TransactionDate\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\\",\\r\\n  {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n  {{#Ctroutd}}\\r\\n  \\\"ctroutd\\\": \\\"{{Ctroutd}}\\\",\\r\\n  {{/Ctroutd}}\\r\\n  {{#Troutd}}\\r\\n  \\\"troutd\\\": \\\"{{Troutd}}\\\",\\r\\n  {{/Troutd}}\\r\\n  {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n   \\\"CurrencyCode\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\\",\\r\\n   {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n   {{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n   {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.posAuthAmountCurrency}}\\r\\n   \\\"CurrencyCode\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.posAuthAmountCurrency}}\\\",\\r\\n   {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.posAuthAmountCurrency}}\\r\\n   {{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.posAuthAmountCurrency}}\\r\\n   \\\"CurrencyCode\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.posAuthAmountCurrency}}\\\",\\r\\n   {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.StoredValueResult}}\\r\\n   \\\"transactionAmount\\\": \\\"{{ItemAmount}}\\\",\\r\\n   {{#StoredValueAccountStatus.StoredValueAccountID.EntryMode}}\\r\\n   \\\"CardEntryMode\\\": \\\"{{.}}\\\",\\r\\n   {{/StoredValueAccountStatus.StoredValueAccountID.EntryMode}}\\r\\n   \\\"paymentType\\\": \\\"{{StoredValueAccountStatus.StoredValueAccountType}}\\\",\\r\\n   {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.StoredValueResult}}\\r\\n   {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.posAuthAmountCurrency}}\\r\\n   {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.Currency}}\\r\\n   {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.EntryMode}}\\r\\n  \\\"CardEntryMode\\\": \\\"{{.}}\\\",\\r\\n  {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.EntryMode}}\\r\\n  \\\"TermId\\\": \\\"{{SaleToPOIResponse.MessageHeader.POIID}}\\\",\\r\\n  \\\"UNIQUE_ID\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.MessageReference.SaleID}}\\\",\\r\\n  {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n  \\\"PAYMENT_MEDIA\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\\",\\r\\n  {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.PaymentBrand}}\\r\\n  {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.cardType}}\\r\\n  \\\"PAYMENT_MEDIA\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.cardType}}\\\",\\r\\n  {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.cardType}}\\r\\n  {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.MaskedPan}}\\r\\n  \\\"accountNumber\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.MaskedPan}}\\\",\\r\\n  {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentInstrumentData.CardData.MaskedPan}}\\r\\n  {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\r\\n  \\\"accountNumber\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\\",\\r\\n  {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.StoredValueResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\r\\n  {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n  \\\"paymentType\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\\",\\r\\n  {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.fundingSource}}\\r\\n  {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentType}}\\r\\n  \\\"command\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentType}}\\\",\\r\\n  {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.PaymentType}}\\r\\n  {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n  \\\"transactionAmount\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\\",\\r\\n  {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.PaymentResult.AmountsResp.AuthorizedAmount}}\\r\\n  {{#SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\r\\n  \\\"expiryMonth\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\\",\\r\\n  \\\"expiryYear\\\": \\\"{{SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.expiryYear}}\\\"\\r\\n  {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\r\\n  {{^SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\r\\n  \\\"expiryMonth\\\": null,\\r\\n  \\\"expiryYear\\\": null\\r\\n  {{/SaleToPOIResponse.TransactionStatusResponse.RepeatedMessageResponse.RepeatedResponseMessageBody.PaymentResponse.Response.AdditionalResponse.additionalData.expiryMonth}}\\r\\n}\", \"GatewayRequestTemplate\": \"{\\r\\n  \\\"SaleToPOIRequest\\\": {\\r\\n    \\\"MessageHeader\\\": {\\r\\n      \\\"ProtocolVersion\\\": \\\"3.0\\\",\\r\\n      \\\"MessageClass\\\": \\\"Service\\\",\\r\\n      \\\"MessageCategory\\\": \\\"TransactionStatus\\\",\\r\\n      \\\"MessageType\\\": \\\"Request\\\",\\r\\n      \\\"SaleID\\\": \\\"{{ServiceId}}\\\",\\r\\n      \\\"ServiceID\\\": \\\"{{ServiceId}}\\\",\\r\\n      \\\"POIID\\\": \\\"{{TerminalId}}\\\"\\r\\n    },\\r\\n    \\\"TransactionStatusRequest\\\": {\\r\\n      \\\"MessageReference\\\": {\\r\\n        \\\"SaleID\\\": \\\"{{UniqueId}}\\\",\\r\\n        {{#MessageCategory}}\\r\\n        \\\"MessageCategory\\\": \\\"{{MessageCategory}}\\\"\\r\\n        {{/MessageCategory}}\\r\\n        {{^MessageCategory}}\\r\\n        \\\"MessageCategory\\\": \\\"Payment\\\"\\r\\n        {{/MessageCategory}}\\r\\n      }\\r\\n    }\\r\\n  }\\r\\n}\" }, { \"GatewayPaymentURLTemplate\": \"https://terminal-api-test.adyen.com/sync\", \"TransactionType\": \"Abort\", \"GatewayRequestTemplate\": \"{\\r\\n  \\\"SaleToPOIRequest\\\": {\\r\\n    \\\"MessageHeader\\\": {\\r\\n      \\\"ProtocolVersion\\\": \\\"3.0\\\",\\r\\n      \\\"MessageClass\\\": \\\"Service\\\",\\r\\n      \\\"MessageCategory\\\": \\\"Abort\\\",\\r\\n      \\\"MessageType\\\": \\\"Request\\\",\\r\\n      \\\"SaleID\\\": \\\"{{ServiceId}}\\\",\\r\\n      \\\"ServiceID\\\": \\\"{{ServiceId}}\\\",\\r\\n      \\\"POIID\\\": \\\"{{TerminalId}}\\\"\\r\\n    },\\r\\n    \\\"AbortRequest\\\": {\\r\\n      \\\"AbortReason\\\": \\\"MerchantAbort\\\",\\r\\n      \\\"MessageReference\\\": {\\r\\n        \\\"MessageCategory\\\": \\\"Payment\\\",\\r\\n        \\\"SaleID\\\": \\\"{{UniqueId}}\\\",\\r\\n        \\\"ServiceID\\\": \\\"{{OriginalServiceId}}\\\"\\r\\n      }\\r\\n    }\\r\\n  }\\r\\n}\" }, { \"GatewayPaymentURLTemplate\": \"https://terminal-api-test.adyen.com/sync\", \"TransactionType\": \"OrderData\", \"GatewayResponseTemplate\": null, \"GatewayRequestTemplate\": \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?><screen name=\\\"virtual_receipt03.xslt\\\"><receipt><lines><lineitem></lineitem>{{#OrderLines}}\\r\\n\\t\\t\\t<lineitem><description>{{ItemDescription}}</description><count>{{Quantity}}</count><amount><currency> {{CurrencyCode}} </currency><value>{{ExtendedPrice}}</value></amount></lineitem>{{/OrderLines}}\\r\\n\\t\\t</lines><subtotal><description>Sub Total</description><amount><currency> {{CurrencyCode}} </currency><value>{{OrderSubTotal}}</value></amount></subtotal><tax><taxtotal><description>Tax</description><amount><currency> {{CurrencyCode}} </currency><value>{{TotalTaxes}}</value></amount></taxtotal></tax><total><description>Item Total</description><amount><currency> {{CurrencyCode}} </currency><value>{{OrderTotal}}</value></amount></total></receipt></screen>\" }, { \"GatewayPaymentURLTemplate\": \"https://terminal-api-test.adyen.com/sync\", \"TransactionType\": \"OrderDisplay\", \"GatewayResponseTemplate\": null, \"GatewayRequestTemplate\": \"{\\r\\n    \\\"SaleToPOIRequest\\\": {\\r\\n        \\\"MessageHeader\\\": {\\r\\n            \\\"ServiceID\\\": \\\"{{ServiceId}}\\\",\\r\\n            \\\"ProtocolVersion\\\": \\\"3.0\\\",\\r\\n            \\\"MessageClass\\\": \\\"Device\\\",\\r\\n            \\\"POIID\\\": \\\"{{TerminalId}}\\\",\\r\\n            \\\"MessageType\\\": \\\"Request\\\",\\r\\n            \\\"SaleID\\\": \\\"{{ServiceId}}\\\",\\r\\n            \\\"MessageCategory\\\": \\\"Display\\\"\\r\\n        },\\r\\n        \\\"DisplayRequest\\\": {\\r\\n            \\\"DisplayOutput\\\": [\\r\\n                {\\r\\n                    \\\"Device\\\": \\\"CustomerDisplay\\\",\\r\\n                    \\\"InfoQualify\\\": \\\"Display\\\",\\r\\n                    \\\"OutputContent\\\": {\\r\\n                        \\\"OutputFormat\\\": \\\"XHTML\\\",\\r\\n                        \\\"OutputXHTML\\\": \\\"{{{OrderOutputXHTML}}}\\\"\\r\\n                    }\\r\\n                }\\r\\n            ]\\r\\n        }\\r\\n    }\\r\\n}\" }, { \"GatewayPaymentURLTemplate\": \"https://terminal-api-test.adyen.com/sync\", \"TransactionType\": \"SessionFinish\", \"GatewayResponseTemplate\": null, \"GatewayRequestTemplate\": \"{\\r\\n  \\\"SaleToPOIRequest\\\": {\\r\\n    \\\"MessageHeader\\\": {\\r\\n      \\\"ProtocolVersion\\\": \\\"3.0\\\",\\r\\n      \\\"MessageClass\\\": \\\"Device\\\",\\r\\n      \\\"MessageCategory\\\": \\\"Display\\\",\\r\\n      \\\"MessageType\\\": \\\"Request\\\",\\r\\n      \\\"ServiceID\\\": \\\"{{ServiceId}}\\\",\\r\\n      \\\"SaleID\\\": \\\"{{ServiceId}}\\\",\\r\\n      \\\"POIID\\\": \\\"{{TerminalId}}\\\"\\r\\n    },\\r\\n    \\\"DisplayRequest\\\": {\\r\\n      \\\"DisplayOutput\\\": [\\r\\n        {\\r\\n          \\\"Device\\\": \\\"CustomerDisplay\\\",\\r\\n          \\\"InfoQualify\\\": \\\"Display\\\",\\r\\n          \\\"OutputContent\\\": {\\r\\n            \\\"OutputFormat\\\": \\\"MessageRef\\\",\\r\\n            \\\"PredefinedContent\\\": {\\r\\n              \\\"ReferenceID\\\": \\\"Idle\\\"\\r\\n            }\\r\\n          }\\r\\n        }\\r\\n      ]\\r\\n    }\\r\\n  }\\r\\n}\" }, { \"GatewayPaymentURLTemplate\": \"https://terminal-api-test.adyen.com/sync\", \"TransactionType\": \"BALANCE CHECK\", \"GatewayResponseTemplate\": \"{\\r\\n  \\\"OrderId\\\": \\\"{{OrderId}}\\\",\\r\\n  {{#PaymentResponseText}}\\r\\n  \\\"PaymentResponseText\\\": \\\"{{PaymentResponseText}}\\\",\\r\\n  {{/PaymentResponseText}}\\r\\n  {{#PaymentResponseCode}}\\r\\n  \\\"PaymentResponseCode\\\": \\\"{{PaymentResponseCode}}\\\",\\r\\n  {{/PaymentResponseCode}}\\r\\n  {{#PaymentResponseStatus}}\\r\\n  \\\"PaymentResponseStatus\\\": \\\"{{PaymentResponseStatus}}\\\",\\r\\n  {{/PaymentResponseStatus}}\\r\\n  \\\"PaymentMethod\\\": [\\r\\n    {\\r\\n      {{#SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.Currency}}\\r\\n      \\\"CurrencyCode\\\": \\\"{{SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.Currency}}\\\",\\r\\n      {{/SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.Currency}}\\r\\n      {{^SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.Currency}}\\r\\n      \\\"CurrencyCode\\\": \\\"{{CurrencyCode}}\\\",\\r\\n      {{/SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.Currency}}\\r\\n      {{#SaleToPOIResponse.BalanceInquiryResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\r\\n      \\\"AccountNumber\\\": \\\"{{SaleToPOIResponse.BalanceInquiryResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\\",\\r\\n      {{/SaleToPOIResponse.BalanceInquiryResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\r\\n      {{^SaleToPOIResponse.BalanceInquiryResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\r\\n      \\\"AccountNumber\\\": \\\"{{AccountNumber}}\\\",\\r\\n      {{/SaleToPOIResponse.BalanceInquiryResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\r\\n      {{#SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.PaymentInstrumentData.StoredValueAccountID.EntryMode}}\\r\\n      \\\"EntryTypeId\\\": \\\"{{.}}\\\",\\r\\n      {{/SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.PaymentInstrumentData.StoredValueAccountID.EntryMode}}\\r\\n      \\\"GatewayId\\\": \\\"{{GatewayId}}\\\",\\r\\n      \\\"LocationId\\\": \\\"{{LocationId}}\\\",\\r\\n      \\\"PaymentTransaction\\\": [\\r\\n        {\\r\\n          \\\"PaymentTransactionId\\\": \\\"{{UniqueId}}\\\",\\r\\n          {{#Troutd}}\\r\\n          \\\"RequestId\\\": \\\"{{Troutd}}\\\",\\r\\n          {{/Troutd}}\\r\\n          {{#Ctroutd}}\\r\\n          \\\"RequestToken\\\": \\\"{{Ctroutd}}\\\",\\r\\n          {{/Ctroutd}}\\r\\n          \\\"RequestedAmount\\\": 0,\\r\\n          {{#SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.PaymentAcquirerData.AcquirerTransactionID.TimeStamp}}\\r\\n          \\\"RequestedDate\\\": \\\"{{SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.PaymentAcquirerData.AcquirerTransactionID.TimeStamp}}\\\",\\r\\n          {{/SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.PaymentAcquirerData.AcquirerTransactionID.TimeStamp}}\\r\\n          {{^SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n          \\\"RequestedDate\\\": \\\"{{TransactionDateTime}}\\\",\\r\\n          {{/SaleToPOIResponse.PaymentResponse.SaleData.SaleTransactionID.TimeStamp}}\\r\\n          {{#SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.PaymentAcquirerData.AcquirerTransactionID.TimeStamp}}\\r\\n          \\\"TransactionDate\\\": \\\"{{SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.PaymentAcquirerData.AcquirerTransactionID.TimeStamp}}\\\",\\r\\n          {{/SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.PaymentAcquirerData.AcquirerTransactionID.TimeStamp}}\\r\\n          {{^SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.PaymentAcquirerData.AcquirerTransactionID.TimeStamp}}\\r\\n          \\\"TransactionDate\\\": \\\"{{TransactionDateTime}}\\\",\\r\\n          {{/SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.PaymentAcquirerData.AcquirerTransactionID.TimeStamp}}\\r\\n          \\\"OrderId\\\": \\\"{{OrderId}}\\\",\\r\\n          {{#SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.CurrentBalance}}\\r\\n          \\\"RemainingBalance\\\": {{SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.CurrentBalance}},\\r\\n          {{/SaleToPOIResponse.BalanceInquiryResponse.PaymentAccountStatus.CurrentBalance}}\\r\\n          \\\"TransactionType\\\": {\\r\\n            \\\"PaymentTransactionTypeId\\\": \\\"{{Command}}\\\"\\r\\n          },\\r\\n          \\\"Status\\\": {\\r\\n            \\\"PaymentTransactionStatusId\\\": \\\"Closed\\\"\\r\\n          },\\r\\n          {{#SaleToPOIResponse.BalanceInquiryResponse.Response.Result}}\\r\\n          \\\"PaymentResponseStatus\\\": {\\r\\n            \\\"PaymentResponseStatusId\\\": \\\"{{SaleToPOIResponse.BalanceInquiryResponse.Response.Result}}\\\"\\r\\n          },\\r\\n          {{/SaleToPOIResponse.BalanceInquiryResponse.Response.Result}}\\r\\n          {{^SaleToPOIResponse.BalanceInquiryResponse.Response.Result}}\\r\\n          \\\"PaymentResponseStatus\\\": {\\r\\n            \\\"PaymentResponseStatusId\\\": \\\"{{PaymentResponseStatus}}\\\"\\r\\n          },\\r\\n          {{/SaleToPOIResponse.BalanceInquiryResponse.Response.Result}}\\r\\n          \\\"TransmissionStatus\\\": {\\r\\n            \\\"PaymentTransmissionStatusId\\\": \\\"Closed\\\"\\r\\n          }\\r\\n        }\\r\\n      ],\\r\\n      \\\"PaymentType\\\": {\\r\\n        \\\"PaymentTypeId\\\": \\\"{{PaymentType}}\\\"\\r\\n      }\\r\\n    }\\r\\n  ]\\r\\n}\", \"GatewayRequestTemplate\": \"{\\r\\n  \\\"SaleToPOIRequest\\\": {\\r\\n    \\\"MessageHeader\\\": {\\r\\n      \\\"ProtocolVersion\\\": \\\"3.0\\\",\\r\\n      \\\"MessageClass\\\": \\\"Service\\\",\\r\\n      \\\"MessageCategory\\\": \\\"BalanceInquiry\\\",\\r\\n      \\\"MessageType\\\": \\\"Request\\\",\\r\\n      \\\"ServiceID\\\": \\\"{{ServiceId}}\\\",\\r\\n      \\\"SaleID\\\": \\\"{{UniqueId}}\\\",\\r\\n      \\\"POIID\\\": \\\"{{TerminalId}}\\\"\\r\\n    },\\r\\n    \\\"BalanceInquiryRequest\\\": {\\r\\n      \\\"PaymentAccountReq\\\": {\\r\\n        \\\"PaymentInstrumentData\\\": {\\r\\n          \\\"PaymentInstrumentType\\\": \\\"StoredValue\\\",\\r\\n          \\\"StoredValueAccountID\\\": {\\r\\n            \\\"StoredValueAccountType\\\": \\\"GiftCard\\\",\\r\\n            \\\"StoredValueProvider\\\": \\\"givex\\\",\\r\\n            \\\"IdentificationType\\\": \\\"PAN\\\",\\r\\n            {{#AccountNumber}}\\r\\n            \\\"EntryMode\\\": [\\r\\n              \\\"Scanned\\\"\\r\\n            ],\\r\\n            \\\"StoredValueID\\\": \\\"{{AccountNumber}}\\\"\\r\\n             {{/AccountNumber}}\\r\\n             {{^AccountNumber}}\\r\\n             \\\"EntryMode\\\": [\\r\\n              \\\"MagStripe\\\"\\r\\n            ],\\r\\n            \\\"StoredValueID\\\": \\\"\\\"\\r\\n             {{/AccountNumber}}\\r\\n          }\\r\\n        }\\r\\n      }\\r\\n    }\\r\\n  }\\r\\n}\" }, { \"GatewayPaymentURLTemplate\": \"https://terminal-api-test.adyen.com/sync\", \"TransactionType\": \"Reload\", \"GatewayResponseTemplate\": \"{\\r\\n  \\\"OrderId\\\": \\\"{{OrderId}}\\\",\\r\\n  {{#PaymentResponseText}}\\r\\n  \\\"PaymentResponseText\\\": \\\"{{PaymentResponseText}}\\\",\\r\\n  {{/PaymentResponseText}}\\r\\n  {{#PaymentResponseCode}}\\r\\n  \\\"PaymentResponseCode\\\": \\\"{{PaymentResponseCode}}\\\",\\r\\n  {{/PaymentResponseCode}}\\r\\n  {{#PaymentResponseStatus}}\\r\\n  \\\"PaymentResponseStatus\\\": \\\"{{PaymentResponseStatus}}\\\",\\r\\n  {{/PaymentResponseStatus}}\\r\\n  \\\"PaymentMethod\\\": [\\r\\n    {\\r\\n      {{#SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n      \\\"CurrencyCode\\\": \\\"{{Currency}}\\\",\\r\\n      \\\"Amount\\\": {{ItemAmount}},\\r\\n      {{#StoredValueAccountStatus.StoredValueAccountID.EntryMode}}\\r\\n      \\\"EntryTypeId\\\": \\\"{{.}}\\\",\\r\\n       {{/StoredValueAccountStatus.StoredValueAccountID.EntryMode}}\\r\\n      {{/SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n      {{^SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n      \\\"CurrencyCode\\\": \\\"{{CurrencyCode}}\\\",\\r\\n      \\\"Amount\\\": 0,\\r\\n      {{/SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n      \\\"AccountNumber\\\": \\\"{{SaleToPOIResponse.StoredValueResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\\",\\r\\n      \\\"GatewayId\\\": \\\"{{GatewayId}}\\\",\\r\\n      \\\"LocationId\\\": \\\"{{LocationId}}\\\",\\r\\n      \\\"PaymentTransaction\\\": [\\r\\n        {\\r\\n          \\\"PaymentTransactionId\\\": \\\"{{UniqueId}}\\\",\\r\\n          \\\"RequestedAmount\\\": {{RequestedAmount}},\\r\\n          {{#Troutd}}\\r\\n          \\\"RequestId\\\": \\\"{{Troutd}}\\\",\\r\\n          {{/Troutd}}\\r\\n          {{#Ctroutd}}\\r\\n          \\\"RequestToken\\\": \\\"{{Ctroutd}}\\\",\\r\\n          {{/Ctroutd}}\\r\\n          {{#SaleToPOIResponse.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\r\\n          \\\"RequestedDate\\\": \\\"{{SaleToPOIResponse.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\\",\\r\\n          \\\"TransactionDate\\\": \\\"{{SaleToPOIResponse.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\\",\\r\\n          {{/SaleToPOIResponse.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\r\\n          {{^SaleToPOIResponse.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\r\\n          \\\"RequestedDate\\\": \\\"{{TransactionDateTime}}\\\",\\r\\n          \\\"TransactionDate\\\": \\\"{{TransactionDateTime}}\\\",\\r\\n          {{/SaleToPOIResponse.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\r\\n          {{#SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n          \\\"ProcessedAmount\\\": {{ItemAmount}},\\r\\n          \\\"RemainingBalance\\\": {{StoredValueAccountStatus.CurrentBalance}},\\r\\n          {{/SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n           {{^SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n          \\\"ProcessedAmount\\\": 0,\\r\\n          {{/SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n          \\\"OrderId\\\": \\\"{{OrderId}}\\\",\\r\\n          \\\"TransactionType\\\": {\\r\\n            \\\"PaymentTransactionTypeId\\\": \\\"{{Command}}\\\"\\r\\n          },\\r\\n          \\\"Status\\\": {\\r\\n            \\\"PaymentTransactionStatusId\\\": \\\"Closed\\\"\\r\\n          },\\r\\n          {{#SaleToPOIResponse.StoredValueResponse.Response.Result}}\\r\\n          \\\"PaymentResponseStatus\\\": {\\r\\n            \\\"PaymentResponseStatusId\\\": \\\"{{SaleToPOIResponse.StoredValueResponse.Response.Result}}\\\"\\r\\n          },\\r\\n          {{/SaleToPOIResponse.StoredValueResponse.Response.Result}}\\r\\n          {{^SaleToPOIResponse.StoredValueResponse.Response.Result}}\\r\\n          \\\"PaymentResponseStatus\\\": {\\r\\n            \\\"PaymentResponseStatusId\\\": \\\"{{PaymentResponseStatus}}\\\"\\r\\n          },\\r\\n          {{/SaleToPOIResponse.StoredValueResponse.Response.Result}}\\r\\n          \\\"TransmissionStatus\\\": {\\r\\n            \\\"PaymentTransmissionStatusId\\\": \\\"Closed\\\"\\r\\n          }\\r\\n        }\\r\\n      ],\\r\\n      \\\"PaymentType\\\": {\\r\\n        \\\"PaymentTypeId\\\": \\\"{{PaymentType}}\\\"\\r\\n      }\\r\\n    }\\r\\n  ]\\r\\n}\", \"GatewayRequestTemplate\": \"{\\r\\n  \\\"SaleToPOIRequest\\\": {\\r\\n    \\\"MessageHeader\\\": {\\r\\n      \\\"ProtocolVersion\\\": \\\"3.0\\\",\\r\\n      \\\"MessageClass\\\": \\\"Service\\\",\\r\\n      \\\"MessageCategory\\\": \\\"StoredValue\\\",\\r\\n      \\\"MessageType\\\": \\\"Request\\\",\\r\\n      \\\"ServiceID\\\": \\\"{{ServiceId}}\\\",\\r\\n      \\\"SaleID\\\": \\\"{{UniqueId}}\\\",\\r\\n      \\\"POIID\\\": \\\"{{TerminalId}}\\\"\\r\\n    },\\r\\n    \\\"StoredValueRequest\\\": {\\r\\n      \\\"SaleData\\\": {\\r\\n        \\\"SaleTransactionID\\\": {\\r\\n          \\\"TransactionID\\\": \\\"{{UniqueId}}\\\",\\r\\n          \\\"TimeStamp\\\": \\\"{{TransactionDateTime}}\\\"\\r\\n        }\\r\\n      },\\r\\n      \\\"StoredValueData\\\": [\\r\\n        {\\r\\n          \\\"StoredValueTransactionType\\\": \\\"{{Command}}\\\",\\r\\n          \\\"StoredValueAccountID\\\": {\\r\\n            \\\"StoredValueAccountType\\\": \\\"GiftCard\\\",\\r\\n            \\\"StoredValueProvider\\\": \\\"givex\\\",\\r\\n            \\\"IdentificationType\\\": \\\"PAN\\\",\\r\\n            {{#AccountNumber}}\\r\\n            \\\"EntryMode\\\": [\\r\\n              \\\"Scanned\\\"\\r\\n            ],\\r\\n            \\\"StoredValueID\\\": \\\"{{AccountNumber}}\\\"\\r\\n            {{/AccountNumber}}\\r\\n            {{^AccountNumber}}\\r\\n            \\\"EntryMode\\\": [\\r\\n              \\\"MagStripe\\\"\\r\\n            ],\\r\\n            \\\"StoredValueID\\\": \\\"\\\"\\r\\n            {{/AccountNumber}}\\r\\n          },\\r\\n          \\\"ItemAmount\\\": {{Amount}},\\r\\n          \\\"Currency\\\": \\\"{{CurrencyCode}}\\\"\\r\\n        }\\r\\n      ]\\r\\n    }\\r\\n  }\\r\\n}\" }, { \"GatewayPaymentURLTemplate\": \"https://terminal-api-test.adyen.com/sync\", \"TransactionType\": \"Activate\", \"GatewayResponseTemplate\": \"{\\r\\n  \\\"OrderId\\\": \\\"{{OrderId}}\\\",\\r\\n  {{#PaymentResponseText}}\\r\\n  \\\"PaymentResponseText\\\": \\\"{{PaymentResponseText}}\\\",\\r\\n  {{/PaymentResponseText}}\\r\\n  {{#PaymentResponseCode}}\\r\\n  \\\"PaymentResponseCode\\\": \\\"{{PaymentResponseCode}}\\\",\\r\\n  {{/PaymentResponseCode}}\\r\\n  {{#PaymentResponseStatus}}\\r\\n  \\\"PaymentResponseStatus\\\": \\\"{{PaymentResponseStatus}}\\\",\\r\\n  {{/PaymentResponseStatus}}\\r\\n  \\\"PaymentMethod\\\": [\\r\\n    {\\r\\n      {{#SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n      \\\"CurrencyCode\\\": \\\"{{Currency}}\\\",\\r\\n      \\\"Amount\\\": {{ItemAmount}},\\r\\n      {{#StoredValueAccountStatus.StoredValueAccountID.EntryMode}}\\r\\n      \\\"EntryTypeId\\\": \\\"{{.}}\\\",\\r\\n      {{/StoredValueAccountStatus.StoredValueAccountID.EntryMode}}\\r\\n      {{/SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n      {{^SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n      \\\"CurrencyCode\\\": \\\"{{CurrencyCode}}\\\",\\r\\n      \\\"Amount\\\": 0,\\r\\n      {{/SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n      \\\"AccountNumber\\\": \\\"{{SaleToPOIResponse.StoredValueResponse.Response.AdditionalResponse.additionalData.backendGiftcardPAN}}\\\",\\r\\n      \\\"GatewayId\\\": \\\"{{GatewayId}}\\\",\\r\\n      \\\"LocationId\\\": \\\"{{LocationId}}\\\",\\r\\n      \\\"PaymentTransaction\\\": [\\r\\n        {\\r\\n          \\\"PaymentTransactionId\\\": \\\"{{UniqueId}}\\\",\\r\\n          \\\"RequestedAmount\\\": {{RequestedAmount}},\\r\\n          {{#Troutd}}\\r\\n          \\\"RequestId\\\": \\\"{{Troutd}}\\\",\\r\\n          {{/Troutd}}\\r\\n          {{#Ctroutd}}\\r\\n          \\\"RequestToken\\\": \\\"{{Ctroutd}}\\\",\\r\\n          {{/Ctroutd}}\\r\\n          {{#SaleToPOIResponse.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\r\\n          \\\"RequestedDate\\\": \\\"{{SaleToPOIResponse.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\\",\\r\\n          \\\"TransactionDate\\\": \\\"{{SaleToPOIResponse.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\\",\\r\\n          {{/SaleToPOIResponse.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\r\\n          {{^SaleToPOIResponse.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\r\\n          \\\"RequestedDate\\\": \\\"{{TransactionDateTime}}\\\",\\r\\n          \\\"TransactionDate\\\": \\\"{{TransactionDateTime}}\\\",\\r\\n          {{/SaleToPOIResponse.StoredValueResponse.POIData.POITransactionID.TimeStamp}}\\r\\n          {{#SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n          \\\"ProcessedAmount\\\": {{ItemAmount}},\\r\\n           \\\"RemainingBalance\\\": {{StoredValueAccountStatus.CurrentBalance}},\\r\\n          {{/SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n           {{^SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n          \\\"ProcessedAmount\\\": 0,\\r\\n          {{/SaleToPOIResponse.StoredValueResponse.StoredValueResult}}\\r\\n          \\\"OrderId\\\": \\\"{{OrderId}}\\\",\\r\\n          \\\"TransactionType\\\": {\\r\\n            \\\"PaymentTransactionTypeId\\\": \\\"{{Command}}\\\"\\r\\n          },\\r\\n          \\\"Status\\\": {\\r\\n            \\\"PaymentTransactionStatusId\\\": \\\"Closed\\\"\\r\\n          },\\r\\n          {{#SaleToPOIResponse.StoredValueResponse.Response.Result}}\\r\\n          \\\"PaymentResponseStatus\\\": {\\r\\n            \\\"PaymentResponseStatusId\\\": \\\"{{SaleToPOIResponse.StoredValueResponse.Response.Result}}\\\"\\r\\n          },\\r\\n          {{/SaleToPOIResponse.StoredValueResponse.Response.Result}}\\r\\n          {{^SaleToPOIResponse.StoredValueResponse.Response.Result}}\\r\\n          \\\"PaymentResponseStatus\\\": {\\r\\n            \\\"PaymentResponseStatusId\\\": \\\"{{PaymentResponseStatus}}\\\"\\r\\n          },\\r\\n          {{/SaleToPOIResponse.StoredValueResponse.Response.Result}}\\r\\n          \\\"TransmissionStatus\\\": {\\r\\n            \\\"PaymentTransmissionStatusId\\\": \\\"Closed\\\"\\r\\n          }\\r\\n        }\\r\\n      ],\\r\\n      \\\"PaymentType\\\": {\\r\\n        \\\"PaymentTypeId\\\": \\\"{{PaymentType}}\\\"\\r\\n      }\\r\\n    }\\r\\n  ]\\r\\n}\", \"GatewayRequestTemplate\": \"{\\r\\n  \\\"SaleToPOIRequest\\\": {\\r\\n    \\\"MessageHeader\\\": {\\r\\n      \\\"ProtocolVersion\\\": \\\"3.0\\\",\\r\\n      \\\"MessageClass\\\": \\\"Service\\\",\\r\\n      \\\"MessageCategory\\\": \\\"StoredValue\\\",\\r\\n      \\\"MessageType\\\": \\\"Request\\\",\\r\\n      \\\"ServiceID\\\": \\\"{{ServiceId}}\\\",\\r\\n      \\\"SaleID\\\": \\\"{{UniqueId}}\\\",\\r\\n      \\\"POIID\\\": \\\"{{TerminalId}}\\\"\\r\\n    },\\r\\n    \\\"StoredValueRequest\\\": {\\r\\n      \\\"SaleData\\\": {\\r\\n        \\\"SaleTransactionID\\\": {\\r\\n          \\\"TransactionID\\\": \\\"{{UniqueId}}\\\",\\r\\n          \\\"TimeStamp\\\": \\\"{{TransactionDateTime}}\\\"\\r\\n        }\\r\\n      },\\r\\n      \\\"StoredValueData\\\": [\\r\\n        {\\r\\n          \\\"StoredValueTransactionType\\\": \\\"{{Command}}\\\",\\r\\n          \\\"StoredValueAccountID\\\": {\\r\\n            \\\"StoredValueAccountType\\\": \\\"GiftCard\\\",\\r\\n            \\\"StoredValueProvider\\\": \\\"givex\\\",\\r\\n            \\\"IdentificationType\\\": \\\"PAN\\\",\\r\\n            {{#AccountNumber}}\\r\\n            \\\"EntryMode\\\": [\\r\\n              \\\"Scanned\\\"\\r\\n            ],\\r\\n            \\\"StoredValueID\\\": \\\"{{AccountNumber}}\\\"\\r\\n            {{/AccountNumber}}\\r\\n            {{^AccountNumber}}\\r\\n            \\\"EntryMode\\\": [\\r\\n              \\\"MagStripe\\\"\\r\\n            ],\\r\\n            \\\"StoredValueID\\\": \\\"\\\"\\r\\n            {{/AccountNumber}}\\r\\n          },\\r\\n          \\\"ItemAmount\\\": {{Amount}},\\r\\n          \\\"Currency\\\": \\\"{{CurrencyCode}}\\\"\\r\\n        }\\r\\n      ]\\r\\n    }\\r\\n  }\\r\\n}\" }, { \"GatewayPaymentURLTemplate\": \"https://terminal-api-test.adyen.com/sync\", \"TransactionType\": \"CUST_QUESTION\", \"GatewayResponseTemplate\": \"{\\r\\n  \\\"OrderId\\\": \\\"{{OrderId}}\\\",\\r\\n   {{#PaymentResponseText}}\\r\\n  \\\"PaymentResponseText\\\": \\\"{{PaymentResponseText}}\\\",\\r\\n  {{/PaymentResponseText}}\\r\\n  {{#PaymentResponseCode}}\\r\\n  \\\"PaymentResponseCode\\\": \\\"{{PaymentResponseCode}}\\\",\\r\\n  {{/PaymentResponseCode}}\\r\\n  {{#PaymentResponseStatus}}\\r\\n  \\\"PaymentResponseStatus\\\": \\\"{{PaymentResponseStatus}}\\\",\\r\\n  {{/PaymentResponseStatus}}\\r\\n  \\\"PaymentMethod\\\": [\\r\\n    {\\r\\n      \\\"CurrencyCode\\\": \\\"{{CurrencyCode}}\\\",\\r\\n      \\\"Amount\\\": 0,\\r\\n      \\\"GatewayId\\\": \\\"{{GatewayId}}\\\",\\r\\n      \\\"LocationId\\\": \\\"{{LocationId}}\\\",\\r\\n      \\\"PaymentTransaction\\\": [\\r\\n        {\\r\\n          \\\"PaymentTransactionId\\\": \\\"{{UniqueId}}\\\",\\r\\n          \\\"RequestedAmount\\\": 0,\\r\\n          \\\"TransactionDate\\\": \\\"{{TransactionDateTime}}\\\",\\r\\n          \\\"ProcessedAmount\\\": 0,\\r\\n          \\\"OrderId\\\": \\\"{{OrderId}}\\\",\\r\\n          \\\"TransactionType\\\": {\\r\\n            \\\"PaymentTransactionTypeId\\\": \\\"{{Command}}\\\"\\r\\n          },\\r\\n          \\\"Status\\\": {\\r\\n            \\\"PaymentTransactionStatusId\\\": \\\"Closed\\\"\\r\\n          },\\r\\n          \\\"PaymentResponseStatus\\\": {\\r\\n            \\\"PaymentResponseStatusId\\\": \\\"{{PaymentResponseStatus}}\\\"\\r\\n          }\\r\\n        }\\r\\n      ]\\r\\n    }\\r\\n  ]\\r\\n}\", \"GatewayRequestTemplate\": \"{\\r\\n  \\\"SaleToPOIRequest\\\": {\\r\\n    \\\"MessageHeader\\\": {\\r\\n      \\\"ProtocolVersion\\\": \\\"3.0\\\",\\r\\n      \\\"MessageClass\\\": \\\"Device\\\",\\r\\n      \\\"MessageCategory\\\": \\\"Input\\\",\\r\\n      \\\"MessageType\\\": \\\"Request\\\",\\r\\n      \\\"ServiceID\\\": \\\"{{ServiceId}}\\\",\\r\\n      \\\"SaleID\\\": \\\"{{UniqueId}}\\\",\\r\\n      \\\"POIID\\\": \\\"{{TerminalId}}\\\"\\r\\n    },\\r\\n    \\\"InputRequest\\\": {\\r\\n      \\\"DisplayOutput\\\": {\\r\\n        \\\"Device\\\": \\\"CustomerDisplay\\\",\\r\\n        \\\"InfoQualify\\\": \\\"Display\\\",\\r\\n        \\\"OutputContent\\\": {\\r\\n          \\\"OutputFormat\\\": \\\"Text\\\",\\r\\n          \\\"PredefinedContent\\\": {\\r\\n            \\\"ReferenceID\\\": \\\"GetConfirmation\\\"\\r\\n          },\\r\\n          \\\"OutputText\\\": [\\r\\n            {\\r\\n              \\\"Text\\\": \\\"\\\"\\r\\n            },\\r\\n            {\\r\\n              \\\"Text\\\": \\\"{{DisplayBulkData}}\\\"\\r\\n            },\\r\\n            {\\r\\n              \\\"Text\\\": \\\"No\\\"\\r\\n            },\\r\\n            {\\r\\n              \\\"Text\\\": \\\"Yes\\\"\\r\\n            }\\r\\n          ]\\r\\n        }\\r\\n      },\\r\\n      \\\"InputData\\\": {\\r\\n        \\\"Device\\\": \\\"CustomerInput\\\",\\r\\n        \\\"InfoQualify\\\": \\\"Input\\\",\\r\\n        \\\"InputCommand\\\": \\\"GetConfirmation\\\",\\r\\n        \\\"MaxInputTime\\\": 9\\r\\n      }\\r\\n    }\\r\\n  }\\r\\n}\" }, { \"GatewayPaymentURLTemplate\": \"https://checkout-test.adyen.com/v68/payments\", \"TransactionType\": \"Omni_Authorization\", \"GatewayResponseTemplate\": \"{\\r\\n  \\\"OrderId\\\": \\\"{{OrderId}}\\\",\\r\\n  {{#PaymentResponseText}}\\r\\n  \\\"PaymentResponseText\\\": \\\"{{PaymentResponseText}}\\\",\\r\\n  {{/PaymentResponseText}}\\r\\n  {{#PaymentResponseCode}}\\r\\n  \\\"PaymentResponseCode\\\": \\\"{{PaymentResponseCode}}\\\",\\r\\n  {{/PaymentResponseCode}}\\r\\n  {{#PaymentResponseStatus}}\\r\\n  \\\"PaymentResponseStatus\\\": \\\"{{PaymentResponseStatus}}\\\",\\r\\n  {{/PaymentResponseStatus}}\\r\\n  \\\"PaymentMethod\\\": [\\r\\n    {\\r\\n      {{#CurrencyCode}}\\r\\n      \\\"CurrencyCode\\\": \\\"{{CurrencyCode}}\\\",\\r\\n      {{/CurrencyCode}}\\r\\n      \\\"GatewayId\\\": \\\"{{GatewayId}}\\\",\\r\\n      \\\"LocationId\\\": \\\"{{LocationId}}\\\",\\r\\n      {{#EnteredAmount}}\\r\\n  \\\"Amount\\\": {{EnteredAmount}},\\r\\n  {{/EnteredAmount}}\\r\\n  {{^EnteredAmount}}\\r\\n  \\\"Amount\\\": 0,\\r\\n  {{/EnteredAmount}}\\r\\n      \\\"PaymentTransaction\\\": [\\r\\n        {\\r\\n          \\\"PaymentTransactionId\\\": \\\"{{UniqueId}}\\\",\\r\\n          \\\"RequestedAmount\\\": {{RequestedAmount}},\\r\\n          {{#checkoutGatewayResponse.pspReference}}\\r\\n          \\\"RequestId\\\": \\\"{{checkoutGatewayResponse.pspReference}}\\\",\\r\\n          \\\"NetworkTransactionId\\\": \\\"{{checkoutGatewayResponse.pspReference}}\\\",\\r\\n          \\\"RequestToken\\\": \\\"{{checkoutGatewayResponse.pspReference}}\\\",\\r\\n           {{/checkoutGatewayResponse.pspReference}}\\r\\n          \\\"RequestedDate\\\": \\\"{{TransactionDateTime}}\\\",\\r\\n          \\\"TransactionDate\\\": \\\"{{TransactionDateTime}}\\\",\\r\\n          {{#checkoutGatewayResponse.amount.value}}\\r\\n          \\\"ProcessedAmount\\\": {{checkoutGatewayResponse.amount.value}},\\r\\n          {{/checkoutGatewayResponse.amount.value}}\\r\\n           {{^checkoutGatewayResponse.amount.value}}\\r\\n          \\\"ProcessedAmount\\\": 0,\\r\\n          {{/checkoutGatewayResponse.amount.value}}\\r\\n          \\\"OrderId\\\": \\\"{{OrderId}}\\\",\\r\\n          \\\"TransactionType\\\": {\\r\\n            \\\"PaymentTransactionTypeId\\\": \\\"{{Command}}\\\"\\r\\n          },\\r\\n          \\\"Status\\\": {\\r\\n            \\\"PaymentTransactionStatusId\\\": \\\"Closed\\\"\\r\\n          },\\r\\n          \\\"PaymentResponseStatus\\\": {\\r\\n            \\\"PaymentResponseStatusId\\\": \\\"{{PaymentResponseStatus}}\\\"\\r\\n          },\\r\\n          \\\"TransmissionStatus\\\": {\\r\\n            \\\"PaymentTransmissionStatusId\\\": \\\"Closed\\\"\\r\\n          }\\r\\n        }\\r\\n      ],\\r\\n      {{#checkoutGatewayResponse.additionalData.fundingSource}}\\r\\n      \\\"PaymentType\\\": {\\r\\n        \\\"PaymentTypeId\\\": \\\"{{checkoutGatewayResponse.additionalData.fundingSource}}\\\"\\r\\n      },\\r\\n      {{/checkoutGatewayResponse.additionalData.fundingSource}}\\r\\n      {{^checkoutGatewayResponse.additionalData.fundingSource}}\\r\\n      \\\"PaymentType\\\": {\\r\\n        \\\"PaymentTypeId\\\": \\\"{{PaymentType}}\\\"\\r\\n      },\\r\\n      {{/checkoutGatewayResponse.additionalData.fundingSource}}\\r\\n      {{#checkoutGatewayResponse.additionalData.paymentMethod}}\\r\\n      \\\"CardType\\\": {\\r\\n        \\\"CardTypeId\\\": \\\"{{checkoutGatewayResponse.additionalData.paymentMethod}}\\\"\\r\\n      },\\r\\n      \\\"CardTypeId\\\": \\\"{{checkoutGatewayResponse.additionalData.paymentMethod}}\\\"\\r\\n      {{/checkoutGatewayResponse.additionalData.paymentMethod}}\\r\\n      {{^checkoutGatewayResponse.additionalData.paymentMethod}}\\r\\n      \\\"CardTypeId\\\": null\\r\\n      {{/checkoutGatewayResponse.additionalData.paymentMethod}}\\r\\n    }\\r\\n  ]\\r\\n}\", \"GatewayRequestTemplate\": \"{\\r\\n    \\\"amount\\\": {\\r\\n        \\\"value\\\": {{Amount}},\\r\\n        \\\"currency\\\": \\\"{{CurrencyCode}}\\\"\\r\\n    },\\r\\n    \\\"applicationInfo\\\": {\\r\\n      {{#gatewayApplicationInfo.externalPlatformName}}\\r\\n        \\\"externalPlatform\\\": {\\r\\n            \\\"name\\\": \\\"{{gatewayApplicationInfo.externalPlatformName}}\\\",\\r\\n            \\\"integrator\\\": \\\"{{gatewayApplicationInfo.externalPlatformIntegrator}}\\\"\\r\\n        },\\r\\n      {{/gatewayApplicationInfo.externalPlatformName}}\\r\\n      {{#gatewayApplicationInfo.merchantApplicationName}}\\r\\n        \\\"merchantApplication\\\": {\\r\\n            \\\"name\\\": \\\"{{gatewayApplicationInfo.merchantApplicationName}}\\\"\\r\\n        }\\r\\n      {{/gatewayApplicationInfo.merchantApplicationName}}\\r\\n    },\\r\\n    \\\"paymentMethod\\\": {\\r\\n        \\\"type\\\": \\\"scheme\\\",\\r\\n        \\\"storedPaymentMethodId\\\": \\\"{{RecurringDetailReference}}\\\"\\r\\n    },\\r\\n    \\\"reference\\\": \\\"{{UniqueId}}\\\",\\r\\n    \\\"shopperInteraction\\\": \\\"ContAuth\\\",\\r\\n    \\\"merchantAccount\\\": \\\"{{MerchantAccount}}\\\",\\r\\n    \\\"shopperReference\\\": \\\"{{StoreId}}\\\",\\r\\n    \\\"recurringProcessingModel\\\": \\\"CardOnFile\\\",\\r\\n    \\\"additionalData\\\": {\\r\\n        \\\"manualCapture\\\": \\\"true\\\"\\r\\n    },\\r\\n    {{#MerchantStore}}\\r\\n    \\\"store\\\": \\\"{{MerchantStore}}\\\"\\r\\n    {{/MerchantStore}}\\r\\n    {{^MerchantStore}}\\r\\n    \\\"store\\\": \\\"POS_Store\\\"\\r\\n    {{/MerchantStore}}\\r\\n}\" } ], \"GatewayEncryptedAttribute\": [], \"GatewayImplementation\": [ { \"CustomerPresent\": true, \"GatewayProtocol\": { \"GatewayProtocolId\": \"Cloud Https\" }, \"IsOffline\": false } ], \"IsBase\": true, \"ProcessStuckTransaction\": true } Overall Flow Cloud Local Payment Transaction Command reference Commands Use Case CAPTURE This command will be sent in case of payment of in-store items. This command will create \"Settlement\" Transactions AUTH This command will be sent in case of payment of in save the sale items like ship to address, pick up at store etc. This command will create \"Authorization\" Transactions Activate This command will be used to activate Giftcards and will create \"Activate\" transactions. ADD_VALUE This command will be used for reloading the gift card and will create \"Reload\" transactions. Deactivate This command will be used to deactivate Giftcards and will create \"Deactivate\" transactions. CREDIT This command will be used for refunds and will create \"Refund\" transactions. Abort This command will be used in case of timeout and will be used to cancel any in-progress transactions. As the flow is for timeout, it means MAO does not have any reference for sale transaction. Therefore, Abort will not create any new payment transaction. Void This command will be used for partial payment void and will create \"Void\" transactions in case of settlement and \"Authorization Reversal\" in case of voiding auth transactions. CUST_QUESTION This command will be used to ask questions at the terminal and will not create any transactions. The questions will trigger the next set of events, like in the case of OMNI transactions. Cust_Question will be asked like \"$78.75 will be charged from your account, while $36.49 will be pre-authorized. The total transaction amount is $115.24. Do you want to continue?\" Resource Ids SNo URL ResourceId 1 /storefacade/api/storefacade/posservice/gateway/payment/initiateTransaction api::storefacade::transaction::admin 2 /storefacade/api/storefacade/posservice/gateway/payment/transactionStatus api::storefacade::transaction::admin 3 /storefacade/api/storefacade/posservice/gateway/order/refresh api::storefacade::transaction::admin 4 /storefacade/api/storefacade/posservice/gateway/session api::storefacade::transaction::admin User Exits 1. pos::gateway:payment:initiate-transaction The purpose of this user exit is to communicate to gateway cloud APIs to initiate payment transactions. This API will be used in payment flows like sales, refund, voids etc. 2. pos::gateway:payment:transaction-status The purpose of this user exit is to communicate to gateway cloud APIs to check the status of the last transaction. 3. pos::gateway:userexit:order-refresh The purpose of this user exit is to communicate to gateway cloud APIs to initiate refreshing order details on terminal 4. pos::gateway:userexit:session-update The purpose of this user exit is to communicate to a gateway to start or finish the session on terminal Note: please refer to Proactive documentation for more information."
}