{
  "success": true,
  "permalink": "manageroverrideandrouting-configuration",
  "title": "Manager Override & Routing Configuration",
  "content": "\r\n\r\n\r\n<div class=\"hiq-page-wrap\">\r\n<div class=\"hiq-t-wrap\">\r\n\t\t\r\n  \t  <div class=\"hiq-t \">\r\n\t\t\t\t<ul class=\"breadcrumbs\"><li><a class=\"breadcrumb-links\" hqid=\"1788908\"  href=\"/home\">Home</a></li> <li><span>&rsaquo;&rsaquo;</span><a hqid=\"3500940\" href=\"/omni\" class=\"breadcrumb-links\">Manhattan Active® Omni</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"3426481\" href=\"/store-3\" class=\"breadcrumb-links\">Store</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158412\" href=\"/process-configuration-guides-3\" class=\"breadcrumb-links\">Process & Configuration Guides</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158737\" href=\"/point-of-sale\" class=\"breadcrumb-links\">Point of Sale</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2225114\" href=\"/process-configuration-guides-4\" class=\"breadcrumb-links\">POS Classic Guides</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2672964\" href=\"/pos-order-selling\" class=\"breadcrumb-links\">POS Order Selling</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2672966\" href=\"/transaction-support\" class=\"breadcrumb-links\">Other/Transaction Support</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2165150\" href=\"/manager-override-routing\" class=\"breadcrumb-links\">Manager Override & Routing</a></li><li> <span>››</span>Manager Override & Routing Configuration</li></ul>  \t\r\n\t\t<h2><a id=\"OverrideConfig\" name=\"OverrideConfig\"></a>Manager Override and Routing Configuration</h2>\r\n\r\n<p></p>\r\n\r\n<div>&nbsp;</div>\r\n\r\n<div class=\"info\"><ul><li><a href=\"/manageroverrideandrouting-configuration$manager-override-configuration\">Manager Override Configuration</a><ul><li><a href=\"/manageroverrideandrouting-configuration$manager-override-commandid-and-routing-config\">Manager Override CommandId and Routing config</a></li></ul></li><li><a href=\"/manageroverrideandrouting-configuration$manager-override-threshold-nbsp-configuration\">Manager override threshold&nbsp;configuration</a><ul><li><a href=\"/manageroverrideandrouting-configuration$pos-item-transaction-discount-threshold\">POS Item/transaction discount threshold</a></li><li><a href=\"/manageroverrideandrouting-configuration$adding-roles-based-on-threshold\">Adding roles based on threshold</a></li><li><a href=\"/manageroverrideandrouting-configuration$pos-refund-nbsp-threshold\">POS refund&nbsp;threshold</a></li><li><a href=\"/manageroverrideandrouting-configuration$manager-override-electronic-nbsp-journal-configuration-nbsp\">Manager override - Electronic&nbsp;journal Configuration&nbsp;</a></li></ul></li><li><a href=\"/manageroverrideandrouting-configuration$uis-and-entities\">UIs and Entities</a></li><li><a href=\"/manageroverrideandrouting-configuration$profile-purpose\">Profile Purpose</a></li></ul></div>\r\n\r\n<h3><a name=\"manager-override-configuration\" id=\"manager-override-configuration\"></a>Manager Override Configuration</h3>\r\n\r\n<p>POS flows have certain functions or features which require special permissions to perform a desired action. These special permissions are controlled using resource or grants specific to each user operation.</p>\r\n\r\n<p>The manager override and routing configurations are described below.</p>\r\n\r\n<ul style=\"margin-left: 40px;\">\r\n\t<li>The POS application requires two types of Resource IDs to execute a special permission action.\r\n\t<ul>\r\n\t\t<li>UI grants - This allows the user to view the option on the application UI.&nbsp; &nbsp;</li>\r\n\t\t<li>Override access grants - These resources are given to the user to perform the special permission&nbsp;action.&nbsp; Logged in user can perform the action if the override access Resource ID&nbsp;is granted&nbsp;for his role.&nbsp; For the user has no special permission i.e. no override access Resource ID granted to this role, then it needs to be proceeded by giving override pin authentication.</li>\r\n\t\t<li>The UI and overrideaccess grants are defined in the posservice component</li>\r\n\t</ul>\r\n\t</li>\r\n\t<li>User and Pin setup: Users with overrideaccess grants requires user and pin credentials set up. This can be set up from POS setting screen using Manage pin button on POS app.</li>\r\n</ul>\r\n\r\n<p>For example: &quot;Void item&quot; could be a function which requires special action. If there are two users, as described below:</p>\r\n\r\n<ul>\r\n\t<li><strong>storeAssociate@manh.com:&nbsp;</strong> This user does not have the permission to perform the action, but has access to view the Void item button on UI which is (ui::posservice::itemvoid)&nbsp;&nbsp;</li>\r\n</ul>\r\n\r\n<div class=\"computer_code\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: SFMono-Medium, &quot;SF Mono&quot;, &quot;Segoe UI Mono&quot;, &quot;Roboto Mono&quot;, &quot;Ubuntu Mono&quot;, Menlo, Courier, monospace; font-size: 12px; line-height: 1.4; letter-spacing: 0px; color: rgb(23, 43, 77); margin-left: 40px;\"><span style=\"color:#000000;\">&nbsp;&nbsp;&nbsp; <span style=\"font-family:Courier New,Courier,monospace;\"><span class=\"p\">{</span><br />\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class=\"nt\">&quot;ResourceId&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;ui::posservice::itemvoid&quot;</span><span class=\"p\">,</span><br />\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class=\"nt\">&quot;HttpMethod&quot;</span><span class=\"p\">:</span> <span class=\"kc\" style=\"font-weight: 700;\">null</span><span class=\"p\">,</span><br />\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;Url&quot;<span class=\"p\">:</span> null<span class=\"p\" style=\"font-weight: 700;\">,</span><br />\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;ResourceDescription&quot;: &quot;This is a UI action related to void the orderline&quot;,<br />\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;IsConfigurable&quot;: true,<br />\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;ResourceTypeId&quot;: &quot;system&quot;<br />\r\n&nbsp;&nbsp;&nbsp; }</span></span></div>\r\n\r\n<ul>\r\n\t<li><strong>storeManager@manh.com:&nbsp;</strong> This user has permission&nbsp;to perform the Void item action on UI which is (overrideaccess::posservice::itemvoid)</li>\r\n</ul>\r\n\r\n<div class=\"computer_code\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: SFMono-Medium, &quot;SF Mono&quot;, &quot;Segoe UI Mono&quot;, &quot;Roboto Mono&quot;, &quot;Ubuntu Mono&quot;, Menlo, Courier, monospace; font-size: 12px; line-height: 1.4; letter-spacing: 0px; color: rgb(23, 43, 77); margin-left: 40px;\"><span style=\"color:#000000;\">&nbsp;&nbsp;&nbsp; <span style=\"font-family:Courier New,Courier,monospace;\"><span class=\"p\">{</span><br />\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class=\"nt\">&quot;ResourceId&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;overrideaccess::posservice::itemvoid&quot;</span><span class=\"p\">,</span><br />\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class=\"nt\">&quot;HttpMethod&quot;</span><span class=\"p\">:</span> <span class=\"kc\" style=\"font-weight: 700;\">null</span><span class=\"p\">,</span><br />\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class=\"nt\">&quot;Url&quot;</span><span class=\"p\">:</span> <span class=\"kc\" style=\"font-weight: 700;\">null</span><span class=\"p\">,</span><br />\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class=\"nt\">&quot;ResourceDescription&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;This is a Resource Id for Check and forward service to perform item void&quot;</span><span class=\"p\">,</span><br />\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class=\"nt\">&quot;IsConfigurable&quot;</span><span class=\"p\">:</span> <span class=\"kc\" style=\"font-weight: 700;\">true</span><span class=\"p\">,</span><br />\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class=\"nt\">&quot;ResourceTypeId&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;system&quot;</span><br />\r\n&nbsp;&nbsp;&nbsp; <span class=\"p\">}</span></span></span></div>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>Process: </strong>If storeassociate@manh.com logs in and performs a void item, UI prompts to enter the username and PIN. This requires special authorization from the user (storeManager@manh.com)&nbsp;who has the permission to perform the action. The user and pin credentials are validated.&nbsp;If&nbsp;validation passes, the current logged in user can perform the void item action.</p>\r\n\r\n<p>Please find a list of selected&nbsp;manager override grants <a hqid=\"2743265\" href=\"/pos-resources$ResourcePageOverrideGrants\">here</a>.</p>\r\n\r\n<h4><a name=\"manager-override-commandid-and-routing-config\" id=\"manager-override-commandid-and-routing-config\"></a>Manager Override CommandId and Routing config</h4>\r\n\r\n<p>All the special permissions required POS functionalities are formed by check and forward service. And this service routes the call to the destination url to perform the action. These POS functionalities&nbsp;are defined with a commandId, name etc to identify the operation that the check and forward service is required to perform. These configurations are system augmentable i.e. non editable, user cannot update or delete these configurations.</p>\r\n\r\n<p>For example: Item void which required special permission &quot;overrideaccess::poservice::itemvoid&quot; as explained above needs to be defined in manager override routing config with a commandName and destination url and other required attributes (check the example below) to route the call to destination url to perform the voiding of the line operation during order save.</p>\r\n\r\n<div class=\"computer_code\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: SFMono-Medium, &quot;SF Mono&quot;, &quot;Segoe UI Mono&quot;, &quot;Roboto Mono&quot;, &quot;Ubuntu Mono&quot;, Menlo, Courier, monospace; font-size: 12px; line-height: 1.4; letter-spacing: 0px; color: rgb(23, 43, 77); margin-left: 40px;\"><span style=\"color:#000000;\">&nbsp; &nbsp;<span style=\"font-family:Courier New,Courier,monospace;\">{<br />\r\n&nbsp; &nbsp; &nbsp; &quot;CommandName&quot;: &quot;item_void&quot;,</span></span><br />\r\n<span style=\"font-family:Courier New,Courier,monospace;\">&nbsp; &nbsp; &nbsp;&nbsp;</span><span style=\"color:#000000;\"><span style=\"font-family:Courier New,Courier,monospace;\">&quot;DestinationComponent&quot;: &quot;COM-MANH-CP-ORDER&quot;,<br />\r\n&nbsp; &nbsp; &nbsp; &quot;DestinationURL&quot;: &quot;/api/order/order/save&quot;,<br />\r\n&nbsp; &nbsp; &nbsp; &quot;ResourceId&quot;: &quot;overrideaccess::posservice::itemvoid&quot;,<br />\r\n&nbsp; &nbsp; &nbsp; &quot;ValidateUser&quot;: false,<br />\r\n&nbsp; &nbsp; &nbsp; &quot;Overridable&quot;: true,<br />\r\n&nbsp; &nbsp; &nbsp; &quot;CommandDisplayName&quot;: &quot;Item void&quot;<br />\r\n&nbsp; &nbsp;}</span></span></div>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><a name=\"manager-override-threshold-nbsp-configuration\" id=\"manager-override-threshold-nbsp-configuration\"></a><a id=\"HALOConfig\" name=\"HALOConfig\"></a>Manager override threshold&nbsp;configuration</h3>\r\n\r\n<p>Manager Override concept can be extended to also allow configurable numeric limits, called &quot;thresholds&quot;.&nbsp; In addition to being able to perform or authorize a function, user permission can be further controlled by amount, so that a user may perform or authorize a function BELOW a threshold but not ABOVE the threshold.&nbsp;&nbsp;</p>\r\n\r\n<h4><a name=\"pos-item-transaction-discount-threshold\" id=\"pos-item-transaction-discount-threshold\"></a>POS Item/transaction discount threshold</h4>\r\n\r\n<p>Discount threshold&nbsp;is&nbsp;supported for Item and transaction discount (by percentage or amount). The threshold can be configured by user roles from the config ui screen via Manage POS Configurations &gt; POS Configurations &gt; Threshold configurations.&nbsp;</p>\r\n\r\n<h4><a name=\"adding-roles-based-on-threshold\" id=\"adding-roles-based-on-threshold\"></a>Adding roles based on threshold</h4>\r\n\r\n<p>Separate threshold record sets are configured for each operation i.e. manager override thresholds for roles for the Item Discount function, and a separate set for Transaction Discount function. The threshold record sets are defined at 2 levels</p>\r\n\r\n<ul>\r\n\t<li>Threshold header</li>\r\n\t<li>Threshold detail</li>\r\n</ul>\r\n\r\n<p><b>Threshold header</b>: &nbsp;The header has a switch to enable the feature for that function.&nbsp; The &lsquo;header&rsquo; defines the manager override functionality with a command name. The command name should be itemDiscount or transDiscount, depending on which operation is being configured.&nbsp;&nbsp;</p>\r\n\r\n<p>Amount and percent is internally identified by the check and forward service based on the payload.</p>\r\n\r\n<p><b>Threshold detail:</b> Threshold details are required for each threshold header separately (item discounts vs transaction discounts). &nbsp;Required elements of the detail record are roleID, thresholdValue, and thresholdType.&nbsp; Currently only thresholdType Percent is supported, meaning that regardless of how a given discount is applied (amount or percent), POS will normalize the discount to a percentage in order to evaluate whether the user has the required override grant.&nbsp; No separate settings for Amount vs Percent discounting actions.</p>\r\n\r\n<p>For example:</p>\r\n\r\n<ul>\r\n\t<li>User can configure POSStoreAssociate role to have 10% threshold for itemDiscount and for same role it can be configured as 20% threshold for transDiscount.&nbsp;</li>\r\n\t<li>If a POS Store Associate&nbsp;user assigns a 1.50 item discount by amount to a 10.00 item, even though this is a discount performed by amount POS will calculate that 1.50 exceeds 10% and enforce the 10% threshold for that role.</li>\r\n\t<li>The configured threshold cap determination applies to the cumulative value of each discount type - for a 10.00 item, a 5% item discount followed by a 1.00 item discount would cumulatively&nbsp;equate to 15%, for override threshold purposes.&nbsp;</li>\r\n</ul>\r\n\r\n<div class=\"tip\">\r\n<p><strong>Note:</strong>&nbsp;Once this feature is enabled for a given discount type, a threshold must be assigned to each role in the Detail record.&nbsp; If no record exists for a role, it will be assumed that role cannot perform the function, for any amount.</p>\r\n</div>\r\n\r\n<h4><a name=\"pos-refund-nbsp-threshold\" id=\"pos-refund-nbsp-threshold\"></a><a id=\"refundThresholdConfig\" name=\"refundThresholdConfig\"></a>POS refund&nbsp;threshold</h4>\r\n\r\n<p>As well as Discount amount based limits, overrideable refund thresholds are also&nbsp;configured via the same Manage POS Configurations &gt; POS Configurations &gt; Threshold configurations config UI.</p>\r\n\r\n<p>As mentioned in the refund process <a hqid=\"2007938\" href=\"/pos-returns-and-exchange-process$refundThreshold2\">guide</a>, the refund amounts&nbsp;for&nbsp;return&nbsp;transactions on pos application can be controlled via threshold at each payment type and user role level.</p>\r\n\r\n<p>The refund also have a similar structure of configurations such as threshold header for the command and threshold detail. By default,&nbsp;base will have pre-defined&nbsp;threshold headers for &quot;Cash&quot; and &quot;Gift Card&quot; refund payments and will be disabled,&nbsp;users can choose to enabled it and define&nbsp;threshold amount for user roles.</p>\r\n\r\n<p><strong>Threshold heade</strong>r:&nbsp;The header has a switch to enable refund threshold&nbsp;at each refund payment type.&nbsp; <strong>The command name should be defined as term refund+underscore+paymentId</strong> i.e. &quot;refund_{paymentId}&quot;, depending on which operation is being configured.&nbsp;For example for cash it is &quot;refund_Cash&quot;, for gift card, it is &quot;refund_Gift Card&quot;</p>\r\n\r\n<p><b>Threshold detail:</b>&nbsp;The refund amount is defined in threshold details&nbsp;and it is only by amount and not by percent. Retailers&nbsp;can add the user-roles that needs to be controlled in &quot;Role Id&quot; field&nbsp;and defined the refund threshold amount in &quot;Threshold value&quot; field. Retailer can add as many roles as required, If a role is not defined here with&nbsp;threshold then it means there is no limit.</p>\r\n\r\n<h4><a name=\"manager-override-electronic-nbsp-journal-configuration-nbsp\" id=\"manager-override-electronic-nbsp-journal-configuration-nbsp\"></a><a id=\"managerOverrideEJ\" name=\"managerOverrideEJ\"></a>Manager override - Electronic&nbsp;journal Configuration&nbsp;</h4>\r\n\r\n<p>If any defined POS functionality is overriding with a user and pin information, then it will be captured into EJ data when user has below configuration.</p>\r\n\r\n<ul>\r\n\t<li>&quot;Pos::MgrOverride&quot; entry is present in &quot;ejModTypes&quot;. This is as part of seed data.</li>\r\n\t<li>Fields that needs to be captured as part of this overridden operation should be present or added to &quot;ejModTypeMapping&quot;. Below are the default fields captured\r\n\t<ul>\r\n\t\t<li>OrderLineId, AuthorizerName, OperationName&nbsp;(CommandDisplayName), Overridden status</li>\r\n\t\t<li>User can also add more details/fields if required.</li>\r\n\t</ul>\r\n\t</li>\r\n</ul>\r\n\r\n<h3><a name=\"uis-and-entities\" id=\"uis-and-entities\"></a>UIs and Entities</h3>\r\n\r\n<p>The configuration&nbsp;mentioned in this document, with config-UIs if they are available,&nbsp;are listed in the table below,&nbsp;along with information to&nbsp;navigate&nbsp;to the API documentation.</p>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 907px;\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"col\" style=\"font-weight: normal; margin-top: 0px; margin-right: 0px; margin-left: 0px; width: 243px;\"><strong>UI Name</strong></th>\r\n\t\t\t<th scope=\"col\" style=\"font-weight: normal; margin-top: 0px; margin-right: 0px; margin-left: 0px;\"><strong><font face=\"Open Sans, Arial, Helvetica, sans-serif\">Component</font></strong></th>\r\n\t\t\t<th scope=\"col\" style=\"font-weight: normal; margin-top: 0px; margin-right: 0px; margin-left: 0px;\"><strong><font face=\"Open Sans, Arial, Helvetica, sans-serif\">Group</font></strong></th>\r\n\t\t\t<th scope=\"col\" style=\"font-weight: normal; margin-top: 0px; margin-right: 0px; margin-left: 0px;\"><strong>Seed data present?</strong></th>\r\n\t\t\t<th scope=\"col\" style=\"font-weight: normal; margin-top: 0px; margin-right: 0px; margin-left: 0px;\"><strong><font face=\"Open Sans, Arial, Helvetica, sans-serif\">Seed data profile</font></strong></th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td style=\"margin: 0px; white-space: nowrap; text-align: left; vertical-align: top; width: 240px;\">Manager Override Routing&nbsp;</td>\r\n\t\t\t<td style=\"margin: 0px; white-space: nowrap; text-align: left; vertical-align: top;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">posservice</font></td>\r\n\t\t\t<td style=\"margin: 0px; white-space: nowrap; text-align: left; vertical-align: top;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">Manager Override Routing services</font></td>\r\n\t\t\t<td style=\"margin: 0px; white-space: nowrap; text-align: left; vertical-align: top;\">Yes</td>\r\n\t\t\t<td style=\"margin: 0px; white-space: nowrap; text-align: left; vertical-align: top;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">Base</font></td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"margin: 0px; white-space: nowrap; text-align: left; vertical-align: top; width: 240px;\">Threshold Configuration</td>\r\n\t\t\t<td style=\"margin: 0px; white-space: nowrap; text-align: left; vertical-align: top;\">posservice</td>\r\n\t\t\t<td style=\"margin: 0px; white-space: nowrap; text-align: left; vertical-align: top;\">Override Threshold Header&nbsp;services</td>\r\n\t\t\t<td style=\"margin: 0px; white-space: nowrap; text-align: left; vertical-align: top;\">Yes</td>\r\n\t\t\t<td style=\"margin: 0px; white-space: nowrap; text-align: left; vertical-align: top;\">System Augmentable</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h3><a name=\"profile-purpose\" id=\"profile-purpose\"></a>Profile Purpose</h3>\r\n\r\n<p>The profile purposes of all the configuration entities are listed in&nbsp;below. The default profile would be&nbsp;<strong>base</strong>&nbsp;for these profile purposes.</p>\r\n\r\n<ul>\r\n\t<li>pos::posStoreConfgurations</li>\r\n</ul>\r\n\r\n<div id=\"\" style=\"left: 15px; top: 2506.7px;\">&nbsp;</div>\r\n\r\n<div id=\"\" style=\"left: 15px; top: 2506.7px;\">&nbsp;</div>\r\n\r\n<div id=\"\" style=\"left: 15px; top: 1376.75px;\">&nbsp;</div>\r\n\r\n\t  </div>\r\n </div>\r\n <div id=\"ui-page-fb-wrap\"></div>\r\n <div class=\"hiq-footer-wrap\">\r\n    \r\n                \r\n  </div>\r\n\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n",
  "content_length": 20100,
  "scraped_at": "2025-08-09T22:35:41.370811"
}