{
  "success": true,
  "permalink": "return-labels",
  "title": "Return Labels ",
  "content": "\r\n\r\n\r\n<div class=\"hiq-page-wrap\">\r\n<div class=\"hiq-t-wrap\">\r\n\t\t\r\n  \t  <div class=\"hiq-t \">\r\n\t\t\t\t<ul class=\"breadcrumbs\"><li><a class=\"breadcrumb-links\" hqid=\"1788908\"  href=\"/home\">Home</a></li> <li><span>&rsaquo;&rsaquo;</span><a hqid=\"3500940\" href=\"/omni\" class=\"breadcrumb-links\">Manhattan Active® Omni</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158393\" href=\"/order-management\" class=\"breadcrumb-links\">Order Management</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158394\" href=\"/process-configuration-guides\" class=\"breadcrumb-links\">Process & Configuration Guides</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2161123\" href=\"/returns-exchanges-2\" class=\"breadcrumb-links\">Returns & Exchanges</a></li><li> <span>››</span>Return Labels </li></ul>  \t\r\n\t\t<h2>Return Labels</h2>\r\n\r\n<p></p>\r\n\r\n<a href=\"/return-variance\" hqid=\"2604080\">Previous</a> | <a href=\"/returnlabeltracking\" hqid=\"3153241\">Next</a>\r\n<p>&nbsp;</p>\r\n\r\n<div class=\"info\"><ul><li><a href=\"/return-labels$overview\">Overview</a></li><li><a href=\"/return-labels$process-flow\">Process Flow</a></li><li><a href=\"/return-labels$configuration\">Configuration</a><ul><li><a href=\"/return-labels$customizing-nbsp-the-return-shipping-label\">Customizing&nbsp;the Return Shipping Label</a></li><li><a href=\"/return-labels$how-to-add-additional-data-to-the-return-shipping-label\">How to Add Additional Data to the Return Shipping Label</a></li></ul></li><li><a href=\"/return-labels$how-to-generate-a-nbsp-return-shipping-label\">How to Generate a&nbsp;Return Shipping Label</a></li><li><a href=\"/return-labels$implementation-flavors\">Implementation Flavors</a><ul><li><a href=\"/return-labels$suppress-return-label-creation-for-imported-returns\">Suppress Return Label Creation for Imported Returns</a></li><li><a href=\"/return-labels$suppress-return-label-creation-for-nbsp-some-order-types\">Suppress Return Label Creation for&nbsp;Some Order Types</a></li><li><a href=\"/return-labels$emailing-the-return-label-using-nbsp-39-resend-return-label-39-in-the-contact-center-ui\">Emailing the Return Label Using&nbsp;&#39;Resend Return Label&#39; in the Contact Center UI</a></li><li><a href=\"/return-labels$save-return-tracking-number-nbsp-in-a-custom-table\">Save Return Tracking Number&nbsp;in a Custom Table</a></li><li><a href=\"/return-labels$charge-fee-for-return-label-usage-nbsp\">Charge Fee for Return Label Usage&nbsp;</a></li><li><a href=\"/return-labels$generate-return-label-on-return-order-creation-to-get-nbsp-returnlabeldocid\">Generate Return Label on return order creation to get&nbsp;ReturnLabelDocId</a></li></ul></li><li><a href=\"/return-labels$related-articles\">Related Articles</a></li></ul></div>\r\n\r\n<h3><a name=\"overview\" id=\"overview\"></a>Overview</h3>\r\n\r\n<p>When a call&nbsp;center or online return is created, the customer needs a return shipping label to ship their items to the return center. When a return order is confirmed, the Order&nbsp;component integrates with the Parcel component to generate&nbsp;shipping labels and saves these labels as PDF files. Each return label contains the customer&#39;s address, return center address, return order id, and return tracking number. A message is generated to a third-party email marketing system to notify them that a label is ready to be emailed, and the third-party system retrieves the PDF and sends an email to the customer. The customer can print the return label and affix it to their return&nbsp;package. When the package arrives at the return center, the order id is scanned on the shipping label as each item is received, which can be used to match the receipt to the return order.&nbsp;Return labels can be generated for FedEx, UPS, and Agile.</p>\r\n\r\n<h3><a name=\"process-flow\" id=\"process-flow\"></a>Process Flow</h3>\r\n\r\n<p>No return label is generated for return items where the customer does not return the item. These returns are identified by the line-level&nbsp;isReceiptExpected&nbsp;flag set to false. Return labels can also be included with the outbound&nbsp;shipment,&nbsp;so that the customer can simply affix the label to the package and return it if required. These return labels and packing slips are generated by the fulfillment execution system or Store Fulfillment. These return labels also contain identifying order information such as order id&nbsp;which can be used to match the received items to the original order. Refer to the&nbsp;<a hqid=\"1808792\" href=\"/staging-process\">Shipping guide</a>&nbsp;for additional information. Return labels are saved in PDF format. If you require a different format such as PNG, then implement the returns user exit in the parcel component (Parcel:Carrier:UserExit:Return). In this user exit, take the PNG file returned by the parcel returns service and save it in the doc management component directly.</p>\r\n\r\n<p><img src=\"https://dzf8vqv24eqhg.cloudfront.net/userfiles/4665/7671/ckfinder/images/qu/6790/Order%20Return%20Label%20Flow.png?Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly9kemY4dnF2MjRlcWhnLmNsb3VkZnJvbnQubmV0L3VzZXJmaWxlcy80NjY1Lzc2NzEvY2tmaW5kZXIvaW1hZ2VzL3F1LzY3OTAvT3JkZXIlMjBSZXR1cm4lMjBMYWJlbCUyMEZsb3cucG5nIiwiQ29uZGl0aW9uIjp7IkRhdGVMZXNzVGhhbiI6eyJBV1M6RXBvY2hUaW1lIjoxNzU0NzUzOTcwfX19XX0_&Signature=aU5OfvRTNEfbIib2sCKjWDXqtW-rnIEqUas6NAp6kbHsWwBSJ9W~Dg-96a1mYbps4viq3vPulN6cIRu6eeMIbBx46c8R3cTnRl1P373d2MJl8iN55ld3QrF0Xce2G7QBhWOweNMbKF8HT9o9PEYYrHYTGmCblZoUK1UfUW1yfEQpTHLKDC4ya2WRu4IOBsgPfo~OARIs55PSYmO0ZBTAiFrNYmUGHYnkY91RHpoPCZxTfpDX7vw3AQMGzAwno5zBs2OiJVC7DJQIH361xlLIbNhCMQILegOQjearBFO-utXIsfrq9cOJnOvWqmPVpRR2qrmKZv-b2brxEXkPTxscCw__&Key-Pair-Id=K2TK3EG287XSFC\" style=\"width: 600px; height: 614px; border-style: solid;\" /></p>\r\n\r\n<p><img src=\"https://dzf8vqv24eqhg.cloudfront.net/userfiles/4665/7671/ckfinder/images/3rd%20party%20return%20label%20retrieval.png?Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly9kemY4dnF2MjRlcWhnLmNsb3VkZnJvbnQubmV0L3VzZXJmaWxlcy80NjY1Lzc2NzEvY2tmaW5kZXIvaW1hZ2VzLzNyZCUyMHBhcnR5JTIwcmV0dXJuJTIwbGFiZWwlMjByZXRyaWV2YWwucG5nIiwiQ29uZGl0aW9uIjp7IkRhdGVMZXNzVGhhbiI6eyJBV1M6RXBvY2hUaW1lIjoxNzU0NzUzOTcwfX19XX0_&Signature=lJN-sjBkNgVlkvcGhEeSR1zBHsH0Mdvk1dPmxfAiQHQILHtJSzomeCzidau1Te~F~wKhnEX5sgclQgj43Ll1x3r3zFVLfISv8ztAq2iAu6vzDwT524th4fUQLTo3UjOg9vi8rb2PA8I-tdxIZuJjdYOZViml1lKq3SDJkhRgJOAGzmT7NyPNacJWiZSNgm57-cu1IhtLbFqSyOzLeJjCkX-OeTXHmWYeB2ZrhvbfCZSrSWixwD4XrLSX75CcX8f~TwgdltbttZ2fl6ZJflolx5gsWVpcJtGeuCwlw8mBdgO1ikD2HFE3GH3AcT563kmGkjvdkah1kgcqCVJtM~~KOA__&Key-Pair-Id=K2TK3EG287XSFC\" style=\"width: 498.991px; height: 360px;\" /></p>\r\n\r\n<h3><a name=\"configuration\" id=\"configuration\"></a>Configuration</h3>\r\n\r\n<p>To generate return shipping labels when a return order is confirmed, ensure the following is configured:</p>\r\n\r\n<ul>\r\n\t<li>In the order parameters,&nbsp;<a hqid=\"2266216\" href=\"/return_exchange_configurations\">enable the &#39;Generate Return Label on Confirm&#39; parameter</a></li>\r\n\t<li>A shipping method designated as a&nbsp;<a hqid=\"2266216\" href=\"/return_exchange_configurations\">return shipping method</a></li>\r\n\t<li>If creating returns from Contact Center, configure a default return center in the Call Center Config UI</li>\r\n\t<li>If creating returns from Digital Self-Service,&nbsp;configure a default return center in the Self-Service Config UI</li>\r\n\t<li>The return center location should exist in the organization component and have a location type defined</li>\r\n\t<li>A&nbsp;<a hqid=\"2266216\" href=\"/return_exchange_configurations\">facility account should be configured</a>&nbsp;with the carrier credentials for the return center location.&nbsp;Ensure this account is configured for your return shipping method:&nbsp;In the Shipping Methods UI, find the&nbsp;Shipping Method Ship Via configured for your return shipping method. Then, in the&nbsp; Ship Via UI, check the Carrier defined for this ship via. Ensure this Carrier has a valid facility account configured for the shipToLocationId saved on your return order lines.</li>\r\n\t<li><a id=\"Returns against BOPIS POS items\" name=\"Returns against BOPIS POS items\"></a>If returning items against buy-online pick-up in store (BOPIS) or point of sale (POS) orders, configure a default ship-from address to be used. For the return center location, add an address of type &quot;ReturnShippingLabel&quot; in the Locations &gt; Address UI. For returns against parent order lines that do not have a ship-to address (e.g. BOPIS, POS), this address is used as the &#39;ship-from&#39; address in the return label.</li>\r\n</ul>\r\n\r\n<h4><a name=\"customizing-nbsp-the-return-shipping-label\" id=\"customizing-nbsp-the-return-shipping-label\"></a>Customizing&nbsp;the Return Shipping Label</h4>\r\n\r\n<ul>\r\n\t<li>Return labels are generated using&nbsp;JasperReport&nbsp;files, which define the content and layout of the label PDF. A unique report can be configured for each Order Configuration, which enables retailers to customize reports with a unique brand logo for each order type or organization.</li>\r\n\t<li>The return label configuration is stored in the ReturnLabelDocumentId attribute of the Return Configuration and must be configured via API. A sample jasper report is provided out of the box and is used by default. This field is not available on the Order Config UI.</li>\r\n\t<li>To configure a label template for each Return Configuration, post the jasper file as an attachment&nbsp;to:</li>\r\n</ul>\r\n\r\n<div class=\"computer_code\"><code>{url}/api/order/orderConfigId/{orderConfigId}/</code><code>r</code>eturnLabelCustomFileUpload</div>\r\n\r\n<ul>\r\n\t<li>Upon upload, the file is saved in the Document Management component, which returns a&nbsp;documentId&nbsp;reference to the Order Component. The&nbsp;documentId&nbsp;is saved in the&nbsp;returnConfig&nbsp;attribute&nbsp;ReturnLabelDocumentId. Each time a return label is generated for this order type, the configured label template is used to generate the return label PDF.</li>\r\n</ul>\r\n\r\n<h4><a name=\"how-to-add-additional-data-to-the-return-shipping-label\" id=\"how-to-add-additional-data-to-the-return-shipping-label\"></a>How to Add Additional Data to the Return Shipping Label</h4>\r\n\r\n<p>Order:Order:UserExit:ProcessReturnLabelShipmentRequest UE can be implemented to customize the return label for base and non base supported carriers. The inputs to this UE will be Order and ParcelShipRequest and the output is ShipResponse. The UE will have to make a call to Parcel component to get the ShipResponse, modify the image byte array passed in the response to apply any customizations to the original image/doc and return the modified ShipResponse(containing the document in PDF format) to order component.&nbsp;Ensure that the ShipResponse contains the document in PDF format.</p>\r\n\r\n<h3><a name=\"how-to-generate-a-nbsp-return-shipping-label\" id=\"how-to-generate-a-nbsp-return-shipping-label\"></a>How to Generate a&nbsp;Return Shipping Label</h3>\r\n\r\n<p><strong>To test return label generation using a return order</strong></p>\r\n\r\n<ul>\r\n\t<li>Create a return order with receipt expected = true</li>\r\n\t<li>Ensure package count is greater than 0</li>\r\n\t<li>Return center is populated</li>\r\n\t<li>Confirm the return order, and a label should be generated</li>\r\n\t<li>You can validate that a label was generated by making a GET order call, then looking for the order.returnLabel entity which stores the&nbsp;documentId</li>\r\n\t<li>Copy the&nbsp;ReturnLabelDocId&nbsp;from the response and use the API&nbsp;to get the return label:&nbsp;docmanagement/api/documentmanagement/{documentId}</li>\r\n\t<li>You can also&nbsp;copy and paste in the browser URL: https://{environmentURL}/docmanagement/api/documentmanagement/{documentId}. Download the return label file that is generated and open it with a PDF reader.</li>\r\n</ul>\r\n\r\n<p><strong>To directly generate a return label via API</strong></p>\r\n\r\n<ul>\r\n\t<li>Generate the return label using the&nbsp;API order/api/order/order/orderId/{orderId}/returnLabel/generate</li>\r\n</ul>\r\n\r\n<p id=\"ReturnLabels-HowtoRetrieveReturnLabelDocuments\"><strong>To Retrieve Return Label Documents</strong></p>\r\n\r\n<ul>\r\n\t<li>Use this API to get the byte string: order/api/order/order/orderId/(enter orderID)/documents</li>\r\n\t<li>Using a base-64 encoder/decoder (you can find these online), decode and download the file</li>\r\n</ul>\r\n\r\n<h3><a name=\"implementation-flavors\" id=\"implementation-flavors\"></a>Implementation Flavors</h3>\r\n\r\n<h4><a name=\"suppress-return-label-creation-for-imported-returns\" id=\"suppress-return-label-creation-for-imported-returns\"></a>Suppress Return Label Creation for Imported Returns</h4>\r\n\r\n<p>While confirming&nbsp;a return order, if the&nbsp;IsReceiptExpected attribute is set to true and return labels are enabled via the Order Parameters, then a label will be generated. In some instances, it may be desired to suppress label creation. To do this, set the&nbsp;attribute &quot;IsReturnLabelGenerated&quot; to true on your Save Order API call to suppress the return label creation.</p>\r\n\r\n<pre>\r\n<code>&quot;OrderActions&quot;: {\r\n    &quot;IsReturnLabelGenerated&quot;: true\r\n}</code></pre>\r\n\r\n<h4><a name=\"suppress-return-label-creation-for-nbsp-some-order-types\" id=\"suppress-return-label-creation-for-nbsp-some-order-types\"></a>Suppress Return Label Creation for&nbsp;Some Order Types</h4>\r\n\r\n<p>The configuration to enable return labels is in the Order Parameters, which lies at the organization level and is common for all order types within an organization. If there is a requirement to generate return labels only&nbsp;for some orders within an organization, then custom logic is required. The above Order Actions: IsReturnLabelGenerated can be passed as true from an order capture channel, when return labels should not be generated.</p>\r\n\r\n<p>For example, to suppress label creation for returns initiated in the contact center, but generate return labels for returns created in Digital Self-Service, custom logic should set IsReturnLabelGenerated&nbsp;to&nbsp;true on orders created in the contact center.</p>\r\n\r\n<h4><a name=\"emailing-the-return-label-using-nbsp-39-resend-return-label-39-in-the-contact-center-ui\" id=\"emailing-the-return-label-using-nbsp-39-resend-return-label-39-in-the-contact-center-ui\"></a>Emailing the Return Label Using&nbsp;&#39;Resend Return Label&#39; in the Contact Center UI</h4>\r\n\r\n<p>When a user selects the &#39;Resend Return Label&#39; button in the call center, custom implementation is required to retrieve the label and email it to the customer. To do so, implement the following in a custom component:</p>\r\n\r\n<ul>\r\n\t<li>Listen to the &#39;resend return label&#39; event, which is fired when this button is clicked</li>\r\n\t<li>When the event is fired, get the order</li>\r\n\t<li>Identify the documentId of the return label in the order.returnLabel entity</li>\r\n\t<li>Call the doc management component to retrieve the documentId</li>\r\n\t<li>Email the PDF to the customer</li>\r\n</ul>\r\n\r\n<h4><a name=\"save-return-tracking-number-nbsp-in-a-custom-table\" id=\"save-return-tracking-number-nbsp-in-a-custom-table\"></a>Save Return Tracking Number&nbsp;in a Custom Table</h4>\r\n\r\n<p><u>Requirement</u>:&nbsp;Save the&nbsp;generated return tracking number&nbsp;in a custom table</p>\r\n\r\n<p><u>Implementation</u>:<strong>&nbsp;</strong>Return labels are generated on order confirmation, hence we can use the confirm order mod type to achieve this requirement. Below are the&nbsp;2 options:<br />\r\n1. Enable &#39;publish order&#39; and create a queue to catch the outbound messages, filter for returns and save the RTN<br />\r\n2. Implement a customExtensionService for this mod type, if you want synchronous logic on confirm order</p>\r\n\r\n<h4><a name=\"charge-fee-for-return-label-usage-nbsp\" id=\"charge-fee-for-return-label-usage-nbsp\"></a>Charge Fee for Return Label Usage&nbsp;</h4>\r\n\r\n<p><u>Requirement</u>: Charge the customer a fee only if the return label is generated from the call center</p>\r\n\r\n<p><u>Implementation</u>: Use&nbsp;Order:UserExit:CalculateOrderReturnFee user exit to implement this logic. In this user exit, verify if a return label is generated for the order by checking if the return tracking&nbsp;number array is populated on the order, and charge return fee accordingly.</p>\r\n\r\n<h4 data-renderer-start-pos=\"150\"><a name=\"generate-return-label-on-return-order-creation-to-get-nbsp-returnlabeldocid\" id=\"generate-return-label-on-return-order-creation-to-get-nbsp-returnlabeldocid\"></a>Generate Return Label on return order creation to get&nbsp;ReturnLabelDocId</h4>\r\n\r\n<p>Use the following method to generate a return label when creating a return order.</p>\r\n\r\n<ul type=\"disc\">\r\n\t<li>Send Save Order to queue</li>\r\n\t<li>Have custom logic to confirm this return once&nbsp;return order is created</li>\r\n\t<li>Publish Return Order to SFCC to consumer ReturnLabelDocId</li>\r\n</ul>\r\n\r\n<p data-renderer-start-pos=\"312\">Note: It is not recommended to use the Save Order API directly instead of sending a Save Order message via queue, since synchronous label generation may cause&nbsp;low performance.</p>\r\n\r\n<h3><a name=\"related-articles\" id=\"related-articles\"></a>Related Articles</h3>\r\n\r\n<div class=\"info\"><ul class=\"related-articles\"><li><a href=\"/troubleshooting-returns-exchanges\" hqid=\"2696815\">Troubleshooting Returns & Exchanges</a></li><li><a href=\"/returns-overview\" hqid=\"2596240\">Returns Overview</a></li><li><a href=\"/return-variance\" hqid=\"2604080\">Return Variance</a></li><li><a href=\"/returnlabeltracking\" hqid=\"3153241\">Return Label Tracking </a></li><li><a href=\"/returns-shipped-to-distribution-center\" hqid=\"3385085\">Returns Shipped to Distribution Center</a></li><li><a href=\"/returns-restapis\" hqid=\"2597376\">REST APIs and User Exits</a></li><li><a href=\"/exchanges\" hqid=\"2596256\">Exchanges</a></li><li><a href=\"/how-does-return-work\" hqid=\"2619553\">How Returns Work</a></li></ul></div>\r\n\r\n\t  </div>\r\n </div>\r\n <div id=\"ui-page-fb-wrap\"></div>\r\n <div class=\"hiq-footer-wrap\">\r\n    \r\n                \r\n  </div>\r\n\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n",
  "content_length": 17945,
  "scraped_at": "2025-08-09T22:34:30.621516"
}