{
  "id": "1808785",
  "permalink": "shipping-configuration",
  "title": "Shipping Configuration",
  "type": "topic",
  "level": 6,
  "path": "Manhattan Active® Omni/Store/Process & Configuration Guides/Store Inventory & Fulfillment/Store Order Fulfillment/Shipping/Configuration",
  "raw_item": {
    "id": "1808785",
    "text": "Configuration",
    "title": "Configuration",
    "permalink": "shipping-configuration",
    "leaf": false,
    "droppable": true,
    "expanded": true,
    "closed": true,
    "visible": true,
    "editable": true,
    "type": "topic",
    "topicType": "0",
    "status": "1",
    "iconCls": "icon-topic",
    "cls": "",
    "folder_id": "129594",
    "parent": "f;129594",
    "created_date": "1482310596",
    "modified_date": "1751540059",
    "instructor_id": null,
    "loaded": true,
    "haschildren": false,
    "callout": "0",
    "order": "2"
  },
  "success": true,
  "content": "\r\n\r\n\r\n<div class=\"hiq-page-wrap\">\r\n<div class=\"hiq-t-wrap\">\r\n\t\t\r\n  \t  <div class=\"hiq-t \">\r\n\t\t\t\t<ul class=\"breadcrumbs\"><li><a class=\"breadcrumb-links\" hqid=\"1788908\"  href=\"/home\">Home</a></li> <li><span>&rsaquo;&rsaquo;</span><a hqid=\"3500940\" href=\"/omni\" class=\"breadcrumb-links\">Manhattan Active® Omni</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"3426481\" href=\"/store-3\" class=\"breadcrumb-links\">Store</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158412\" href=\"/process-configuration-guides-3\" class=\"breadcrumb-links\">Process & Configuration Guides</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158410\" href=\"/store\" class=\"breadcrumb-links\">Store Inventory & Fulfillment</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158852\" href=\"/store-fulfillment\" class=\"breadcrumb-links\">Store Order Fulfillment</a></li><li><span>&rsaquo;&rsaquo;</span><a hqid=\"2158853\" href=\"/shipping\" class=\"breadcrumb-links\">Shipping</a></li><li> <span>››</span>Shipping Configuration</li></ul>  \t\r\n\t\t<h2>Shipping Configuration</h2>\r\n\r\n<p></p>\r\n\r\n<div class=\"info\"><ul><li><a href=\"/shipping-configuration$master-data\">Master Data</a></li><li><a href=\"/shipping-configuration$request-return-labels\">Request Return Labels</a></li><li><a href=\"/shipping-configuration$disable-packing-slip-print-by-default-on-shipping-label-failure\">Disable packing slip print by default on shipping label failure</a></li><li><a href=\"/shipping-configuration$in-transit-records-for-shipped-packages\">In-transit records for shipped packages</a></li><li><a href=\"/shipping-configuration$ship-packages\">Ship Packages</a></li><li><a href=\"/shipping-configuration$fulfillment-outbound-event-configuration\">Fulfillment Outbound Event Configuration</a></li><li><a href=\"/shipping-configuration$disable-scheduler-to-update-expected-arrival-date-for-expected-packages-from-the-carrier\">Disable scheduler to update expected arrival date for expected packages from the carrier</a></li><li><a href=\"/shipping-configuration$enable-void-label-call-to-carrier-upon-update-package\">Enable void label call to carrier upon update package</a></li><li><a href=\"/shipping-configuration$external-oms-integration-nbsp\">External OMS Integration&nbsp;</a></li><li><a href=\"/shipping-configuration$uis-and-entities\">UIs and Entities</a></li></ul></div>\r\n\r\n<h4><a name=\"master-data\" id=\"master-data\"></a>Master Data</h4>\r\n\r\n<p>Refer to the Basic Carrier Configuration section of the <a hqid=\"3415934\" href=\"/carriers\">Carriers page</a> of the Master Data guide&nbsp;for shipping and parcel configuration necessary for fulfillment functionality.</p>\r\n\r\n<h4><a name=\"request-return-labels\" id=\"request-return-labels\"></a>Request Return Labels</h4>\r\n\r\n<p>Configuration exists in the Fulfillment component to obtain default values for the attributes below if not populated from the Order component and/or user exits.</p>\r\n\r\n<h5>Return Labels Needed by Order Type</h5>\r\n\r\n<p>The&nbsp;<strong>Generate return labels while shipping&nbsp;for order type </strong>field on the Store Fulfillment Configuration UI defines the order type(s) for which a return label should be generated. This field is used to update the fulfillment if the isReturnLabelRequired flag is not already populated.&nbsp;Multiple order types can be entered using comma delimiters.</p>\r\n\r\n<h5>Default Return Center</h5>\r\n\r\n<p>The&nbsp;Default Return Center field on the Store Fulfillment Configuration UI is used to update the&nbsp;fulfillment if the isReturnLabelRequired&nbsp;flag is set to true and the Return Center&nbsp;is not already populated on the fulfillment.&gt;</p>\r\n\r\n<h5>Default Return Service Level</h5>\r\n\r\n<p>The&nbsp;<strong>Default Service Level </strong>field on the Store Fulfillment Configuration UI is used to obtain the return service level if the fulfillment's isReturnLabelRequired flag is set to true. Please note that a&nbsp;return service level attribute&nbsp;is not present on the order or fulfillment.</p>\r\n\r\n<h4><a name=\"disable-packing-slip-print-by-default-on-shipping-label-failure\" id=\"disable-packing-slip-print-by-default-on-shipping-label-failure\"></a>Disable packing slip print by default on shipping label failure</h4>\r\n\r\n<div>The '<strong>Disable packing slip print by default on shipping label </strong><strong>failure</strong>' flag&nbsp;on the Store Fulfillment Parameters&nbsp;UI is used to set the default toggle OFF/ON for printing packing slips when the generation of&nbsp;shipping labels fail.&nbsp;</div>\r\n\r\n<div>&nbsp;</div>\r\n\r\n<p>When set to true, the toggle to print packing slip will be defaulted to OFF. User can manually enable it to print&nbsp;the packing slips. The default value of this configuration is False.</p>\r\n\r\n<h4><a name=\"in-transit-records-for-shipped-packages\" id=\"in-transit-records-for-shipped-packages\"></a>In-transit records for shipped packages</h4>\r\n\r\n<p>The&nbsp;<strong>Create in-transit records for shipping inventory from a store to another location</strong>&nbsp;flag on the Store Fulfillment Parameters UI determines&nbsp;if&nbsp;the system will&nbsp;create in-transit records for packages that are shipped from a store to another location within the retailer's network. By default, this is turned off. When set to true,&nbsp; ASN intransit inventory record is&nbsp;created only when fulfillment package contains a valid Ship To Location&nbsp;and delivery type is NOT&nbsp;Customer PickUp. PLease note that this parameter is not applicable for Ship to Store orders, as intransit inventory for such orders is created by Order Management system.</p>\r\n\r\n<h4><a name=\"ship-packages\" id=\"ship-packages\"></a>Ship Packages</h4>\r\n\r\n<p>The <strong>Move packages after tracking with carrier </strong>flag on the Store Fulfillment Configuration UI controls the trigger of when to update a package's status from \"Built\" to \"Shipped\".</p>\r\n\r\n<p>Set the value to \"On\" if the system should update&nbsp;the package from \"Built\" &nbsp;to \"Shipped\" status based on Track service responses from the carrier. The batch job scheduler controls the interval&nbsp;at which&nbsp;the Track service requests are sent. Packages in \"Built\" status with a tracking number are sent as part of the requests. The Status Map entity maps the various carrier tracking codes/ statuses to Intransit.&nbsp;If the tracking code returned by the carrier matches 'Intransit' status, the package is updated to shipped status. Refer to the&nbsp;<a href=\"https://omni.helpdocsonline.com/master-data-guide\">Master Data guide</a>&nbsp;for additional information regarding carrier status mapping.&nbsp;</p>\r\n\r\n<div class=\"tip\"><strong>Note: </strong>The Track and Ship Scheduler considers partially&nbsp;packed&nbsp;fulfillments as well when the carrier tracking is enabled.</div>\r\n\r\n<p>Set the value to \"Off\" if the trigger to update package status should be based purely on a configured time rather than awaiting a&nbsp;carrier response. Batch job scheduler configuration defines when to trigger the updates.&nbsp;</p>\r\n\r\n<div class=\"tip\"><strong>Note: </strong>The Track and Ship Scheduler considers only those fulfillments that are completely packed (Fulfillment.Minstatus=4000.000) to move them to shipped status.</div>\r\n\r\n<h5 style=\"font-family: &quot;Open Sans&quot;, arial, sans-serif;\">Setting up Batch Job Scheduler</h5>\r\n\r\n<p>A sample JSON to configure the job scheduler is shown below as a<span style=\"color: rgb(255, 0, 0);\">&nbsp;</span>UI is not available. This JSON applies to both configuration scenarios described&nbsp;above.</p>\r\n\r\n<div class=\"computer_code\">POST message</div>\r\n\r\n<div class=\"computer_code\"><strong><code>{{URL}}/fulfillment/api/batch/jobSchedule/save</code></strong></div>\r\n\r\n<div class=\"computer_code\">{&nbsp;<br>\r\n&nbsp; \"JobScheduleId\": \"trackAndShipPackagesJob1\",<br>\r\n&nbsp; \"JobTypeId\": \"trackAndShipPackagesJob\",<br>\r\n&nbsp; \"CronExpression\": \"0 0/15 * * * ?\",<br>\r\n&nbsp; \"TriggerKey\": \"trackAndShipPackagesTrigger1\",<br>\r\n&nbsp; \"JobParameters\": [<br>\r\n&nbsp; &nbsp; {<br>\r\n&nbsp; &nbsp; &nbsp; \"InputKey\": \"QueryString\",<br>\r\n&nbsp; &nbsp; &nbsp; \"InputValue\": \"SELECT DISTINCT fulfillment.fulfillmentId FROM FulfillmentEntity fulfillment JOIN fulfillment.packagesList packages ON fulfillment.fulfillmentId=packages.fulfillmentId WHERE fulfillment.orgId=':OrgId' AND packages.packageStatus.packageStatusId=':PackageStatus' AND packages.trackingNumber IS NOT NULL AND packages.updatedTimestamp &gt;= SQL('? - interval :NumberOfHours hour', CURRENT_TIMESTAMP)\"<br>\r\n&nbsp; &nbsp; &nbsp;&nbsp;<br>\r\n&nbsp; &nbsp; },<br>\r\n&nbsp; &nbsp; {<br>\r\n&nbsp; &nbsp; &nbsp; \"InputKey\": \"PackageStatus\",<br>\r\n&nbsp; &nbsp; &nbsp; \"InputValue\": \"2000.000\"<br>\r\n&nbsp; &nbsp; },<br>\r\n&nbsp; &nbsp; {<br>\r\n&nbsp; &nbsp; &nbsp; \"InputKey\": \"FacilityIds\",<br>\r\n&nbsp; &nbsp; &nbsp; \"InputValue\": \"'FC3'\"<br>\r\n&nbsp; &nbsp; },</div>\r\n\r\n<div class=\"computer_code\">&nbsp; &nbsp; &nbsp; {<br>\r\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\"InputValue\": \"4000.000\",<br>\r\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\"InputKey\": \"MinStatus\"<br>\r\n&nbsp; &nbsp; &nbsp; },<br>\r\n&nbsp; &nbsp; {<br>\r\n&nbsp; &nbsp; &nbsp; \"InputKey\": \"NumberOfHours\",<br>\r\n&nbsp; &nbsp; &nbsp; \"InputValue\": \"48\"<br>\r\n&nbsp; &nbsp; },<br>\r\n&nbsp; &nbsp; {<br>\r\n&nbsp; &nbsp; &nbsp; \"InputKey\": \"AddSecurityCriteria\",<br>\r\n&nbsp; &nbsp; &nbsp; \"InputValue\": \"false\"<br>\r\n&nbsp; &nbsp; },<br>\r\n&nbsp; &nbsp; {<br>\r\n&nbsp; &nbsp; &nbsp; \"InputKey\": \"OrgId\",<br>\r\n&nbsp; &nbsp; &nbsp; \"InputValue\": \"dummyOrg\"<br>\r\n&nbsp; &nbsp; }<br>\r\n&nbsp; ]<br>\r\n};</div>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>Provide these&nbsp;parameters to setup the job scheduler for&nbsp;shipping&nbsp;packages:</p>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width: 692px;\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"col\" style=\"width: 269px;\">Parameter</th>\r\n\t\t\t<th scope=\"col\" style=\"width: 385px;\">Description</th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 269px;\">Job Schedule Id</td>\r\n\t\t\t<td style=\"width: 385px;\">Unique job scheduler Id</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 269px;\">Job Type Id</td>\r\n\t\t\t<td style=\"width: 385px;\">Use 'trackAndShipPackagesJob'&nbsp;job type</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 269px;\">Cron Expression</td>\r\n\t\t\t<td style=\"width: 385px;\">Cron expression decides how frequently job is invoked.&nbsp;&nbsp;Use a website which builds cron expressions, Ex.&nbsp;http://www.cronmaker.com/</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 269px;\">Trigger Key</td>\r\n\t\t\t<td style=\"width: 385px;\">Unique trigger key&nbsp;</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 269px;\">Job parameter - Query String</td>\r\n\t\t\t<td style=\"width: 385px;\">Query which selects fulfillment to be shipped</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 269px;\">Job parameter - Package Status</td>\r\n\t\t\t<td style=\"width: 385px;\">Status of the packages that need to be shipped, typically the status before Shipped status has to be used. Set it as 2000.000 (Packed) if no custom status is introduced between Packed and Shipped status.</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 269px;\">Job parameter - Facility Ids</td>\r\n\t\t\t<td style=\"width: 385px;\">Comma separated facility Ids of the stores that would be on this schedule</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 269px;\">Job parameter -&nbsp;Number of Hours</td>\r\n\t\t\t<td style=\"width: 385px;\">Max number of hours to attempt shipping packages after they were packed</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 269px;\">Job parameter - Add Security Criteria</td>\r\n\t\t\t<td style=\"width: 385px;\">Set it as false</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"width: 269px;\">Job parameter - Org Id</td>\r\n\t\t\t<td style=\"width: 385px;\">Id of the organization for which this scheduler will run&nbsp;</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n<h4 style=\"font-family: &quot;Open Sans&quot;, arial, sans-serif;\"><a name=\"fulfillment-outbound-event-configuration\" id=\"fulfillment-outbound-event-configuration\"></a>Fulfillment Outbound Event Configuration</h4>\r\n\r\n<p></p>\r\n\r\n<h5>Pickup Individual Packages for Ship to Store Orders</h5>\r\n\r\n<p>The<strong> Send fulfillment outbound for each customer pickup package shipped</strong>&nbsp;parameter on the Store Fulfillment Parameters UI&nbsp;controls the number&nbsp;of&nbsp;\"Fulfillment Shipped\" events that are sent from a store for a fulfillment. If set to true, a separate 'Fulfillment Shipped' outbound message is sent for each package on the merge fulfillment. In turn,&nbsp;Order Management creates a separate pickup fulfillment&nbsp;for each package when consuming the outbound. If not set to true, one outbound message is sent for all packages on the fulfillment that are shipped. By default, the&nbsp;configuration&nbsp;is turned off.</p>\r\n\r\n<h4><a name=\"disable-scheduler-to-update-expected-arrival-date-for-expected-packages-from-the-carrier\" id=\"disable-scheduler-to-update-expected-arrival-date-for-expected-packages-from-the-carrier\"></a><span style=\"color: rgb(192, 57, 43);\"><a id=\"ETA Scheduler\" name=\"ETA Scheduler\"></a></span>Disable scheduler to update expected arrival date for expected packages from the carrier</h4>\r\n\r\n<p>The '<strong>Disable scheduler to update expected arrival date for expected packages from the carrier</strong>' flag&nbsp;on the Store Fulfillment Parameters&nbsp;UI is used to disable the scheduler for updating ETA on in-transit&nbsp;packages expected to arrive at the store.&nbsp;</p>\r\n\r\n<p>When set to true, the scheduler will not update ETA. The default value of this configuration is False i.e. by default, the scheduler is enabled.</p>\r\n\r\n<p>Setting up ETA Update Scheduler&nbsp;</p>\r\n\r\n<p>The scheduler can be configured at the organization level. If&nbsp;cross-organization shipments are supported, then there are two options to setup the scheduler:</p>\r\n\r\n<p>1) Configure scheduler for receiving organization and do not pass \"InputKey\":&nbsp;\"OrganizationId\". In this case, scheduler updates ETA for all in-transit expected packages inbound to the store, irrespective of organization of the origin location.&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<div class=\"computer_code\">Post message</div>\r\n\r\n<div class=\"computer_code\">{{url}}/fulfillment/api/batch/jobSchedule/save</div>\r\n\r\n<div class=\"computer_code\">\r\n<p>{</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;\"JobScheduleId\":&nbsp;\"updateETAonPackagesJobSchedule\",</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;\"JobTypeId\":&nbsp;\"updateETAonPackagesJob\",</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;\"CronExpression\":&nbsp;\"0&nbsp;0/2&nbsp;*&nbsp;1/1&nbsp;*&nbsp;?&nbsp;*\",</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;\"TriggerKey\":&nbsp;\"updateETAonPackagesJobTrigger\",</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;\"JobParameters\":&nbsp;[</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"InputKey\":&nbsp;\"QueryString\",</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"InputValue\":&nbsp;\"select&nbsp;packagesEntity.pk&nbsp;from&nbsp;PackagesEntity&nbsp;packagesEntity&nbsp;where&nbsp;packagesEntity.packageStatus.packageStatusId&nbsp;=&nbsp;:StatusCode&nbsp;and&nbsp;packagesEntity.trackingNumber&nbsp;!=&nbsp;null&nbsp;and&nbsp;packagesEntity.shipToLocationId&nbsp;!=&nbsp;null&nbsp;and&nbsp;packagesEntity.deliveryStatus&nbsp;=&nbsp;null&nbsp;and&nbsp;packagesEntity.orgId&nbsp;in&nbsp;(:OrgIds)\"</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"InputKey\":&nbsp;\"ChunkSize\",</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"InputValue\":&nbsp;\"100\"</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"InputKey\":&nbsp;\"StatusCode\",</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"InputValue\":&nbsp;\"'3000.000'\"</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"InputKey\":&nbsp;\"AddSecurityCriteria\",</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"InputValue\":&nbsp;\"false\"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;]</p>\r\n\r\n<p>}</p>\r\n</div>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>2) Configure&nbsp;separate schedulers for origin location's organization and destination location's organization, if both are not the same.&nbsp;</p>\r\n\r\n<div class=\"tip\"><strong>Note:</strong>&nbsp; Origin and destination organizations must belong to the same organization hierarchy.&nbsp;</div>\r\n\r\n<div class=\"computer_code\">Post message</div>\r\n\r\n<div class=\"computer_code\">{{url}}/fulfillment/api/batch/jobSchedule/save</div>\r\n\r\n<div class=\"computer_code\">\r\n<p>{</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;\"JobScheduleId\":&nbsp;\"updateETAonPackagesJobSchedule\",</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;\"JobTypeId\":&nbsp;\"updateETAonPackagesJob\",</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;\"CronExpression\":&nbsp;\"0&nbsp;0/2&nbsp;*&nbsp;1/1&nbsp;*&nbsp;?&nbsp;*\",</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;\"TriggerKey\":&nbsp;\"updateETAonPackagesJobTrigger\",</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;\"JobParameters\":&nbsp;[</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"InputKey\":&nbsp;\"OrgIds\",</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"InputValue\":&nbsp;\"'GMP-Brand1-US'\"</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"InputKey\":&nbsp;\"QueryString\",</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"InputValue\":&nbsp;\"select&nbsp;packagesEntity.pk&nbsp;from&nbsp;PackagesEntity&nbsp;packagesEntity&nbsp;where&nbsp;packagesEntity.packageStatus.packageStatusId&nbsp;=&nbsp;:StatusCode&nbsp;and&nbsp;packagesEntity.trackingNumber&nbsp;!=&nbsp;null&nbsp;and&nbsp;packagesEntity.shipToLocationId&nbsp;!=&nbsp;null&nbsp;and&nbsp;packagesEntity.deliveryStatus&nbsp;=&nbsp;null&nbsp;and&nbsp;packagesEntity.orgId&nbsp;in&nbsp;(:OrgIds)\"</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"InputKey\":&nbsp;\"ChunkSize\",</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"InputValue\":&nbsp;\"100\"</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"InputKey\":&nbsp;\"StatusCode\",</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"InputValue\":&nbsp;\"'3000.000'\"</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"InputKey\":&nbsp;\"AddSecurityCriteria\",</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"InputValue\":&nbsp;\"false\"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;]</p>\r\n\r\n<p>}&nbsp;</p>\r\n</div>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h4 style=\"padding: 0px; margin-top: 0px; margin-right: 0px; margin-left: 0px;\"><a name=\"enable-void-label-call-to-carrier-upon-update-package\" id=\"enable-void-label-call-to-carrier-upon-update-package\"></a><a id=\"VoidLabelParameter\" name=\"VoidLabelParameter\"></a>Enable void label call to carrier upon update package</h4>\r\n\r\n<p>The '<strong>Enable void label call to carrier upon update package</strong>' flag&nbsp;on the Store Fulfillment Parameters&nbsp;UI is used to turn on the shipping label cancelation call to the carrier&nbsp;when the shipping option(s) is changed using update package functionality during packing or reprinting flow.</p>\r\n\r\n<p><span style=\"font-family:Arial,Helvetica,sans-serif;\">This parameter is applicable for enabling void/cancel label call during update package in case of following scenarios:</span></p>\r\n\r\n<ol>\r\n\t<li>\r\n\t<p><span style=\"font-family:Arial,Helvetica,sans-serif;\">Packing of shipment orders</span></p>\r\n\t</li>\r\n\t<li>\r\n\t<p><span style=\"font-family:Arial,Helvetica,sans-serif;\">Packing of pullback & transfer orders</span></p>\r\n\t</li>\r\n\t<li>\r\n\t<p><span style=\"font-family:Arial,Helvetica,sans-serif;\">Packing of store initiated transfer orders</span></p>\r\n\t</li>\r\n\t<li>\r\n\t<p><span style=\"font-family:Arial,Helvetica,sans-serif;\">Reprinting of shipping label</span></p>\r\n\t</li>\r\n</ol>\r\n\r\n<p>When set to true, if the provider is configured in the entry condition of the extension handler mentioned in the <a hqid=\"1808795\" href=\"/shipping-process\">Shipping Process</a>&nbsp;guide, then the cancel label call is sent to the associated carrier. The default value of this configuration is False.</p>\r\n\r\n<h4 style=\"padding: 0px; margin-top: 0px; margin-right: 0px; margin-left: 0px;\"><a name=\"external-oms-integration-nbsp\" id=\"external-oms-integration-nbsp\"></a>External OMS Integration&nbsp;</h4>\r\n\r\n<p>There are two ways to enable this functionality - via the 'isExternalOrder' attribute of the Fulfillment or through the&nbsp;'Is Store Inventory Management deployed?<strong>'</strong>&nbsp;configuration in Store Fulfillment Parameters. If&nbsp;the&nbsp;Fulfillment property is true, it overrides whatever value is configured. If the value is passed as false, the configuration determines the behavior.</p>\r\n\r\n<p>For SIF to directly send supply updates to the Inventory component, the value should be set to true (regardless of whether it is set by passing in the Fulfillment or via the configuration.) If the updates should not be set, the value should be false. The default configuration value is false.</p>\r\n\r\n<div class=\"computer_code\">Configuration: “<strong>Is Store Inventory Management deployed?</strong>” configuration in the&nbsp;<strong>External OMS Integration</strong>&nbsp;tab of the&nbsp;<strong>Store Fulfillment Parameters</strong>.</div>\r\n\r\n<div class=\"warning\">In the event that the external OMS is replaced by Manhattan Active Order Management, ensure that this functionality is turned off. Failure to do so may result in double-dipping of the inventory.</div>\r\n\r\n<p data-renderer-start-pos=\"1114\"><strong data-renderer-mark=\"true\">Sample Request:</strong></p>\r\n\r\n<div class=\"computer_code\"><strong data-renderer-mark=\"true\">{<br>\r\n\"FulfillmentId\" : \"Ful001\",<br>\r\n//existing properties<br>\r\n\"IsExternalOrder\" : true<br>\r\n}</strong></div>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h4><a name=\"uis-and-entities\" id=\"uis-and-entities\"></a>UIs and Entities</h4>\r\n\r\n<p>The configuration UIs mentioned in this document are listed in the table below, along with information to&nbsp;navigate&nbsp;to the API documentation.</p>\r\n\r\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\">\r\n\t<thead>\r\n\t\t<tr>\r\n\t\t\t<th scope=\"col\" style=\"font-weight: normal; margin-top: 0px; margin-right: 0px; margin-left: 0px;\"><strong><font face=\"Open Sans, Arial, Helvetica, sans-serif\">UI Name</font></strong></th>\r\n\t\t\t<th scope=\"col\" style=\"font-weight: normal; margin-top: 0px; margin-right: 0px; margin-left: 0px;\"><strong><font face=\"Open Sans, Arial, Helvetica, sans-serif\">Component</font></strong></th>\r\n\t\t\t<th scope=\"col\" style=\"font-weight: normal; margin-top: 0px; margin-right: 0px; margin-left: 0px;\"><strong><font face=\"Open Sans, Arial, Helvetica, sans-serif\">Group</font></strong></th>\r\n\t\t\t<th scope=\"col\" style=\"font-weight: normal; margin-top: 0px; margin-right: 0px; margin-left: 0px;\"><strong><font face=\"Open Sans, Arial, Helvetica, sans-serif\">Seed Data Present?</font></strong></th>\r\n\t\t\t<th scope=\"col\" style=\"font-weight: normal; margin-top: 0px; margin-right: 0px; margin-left: 0px;\"><strong><font face=\"Open Sans, Arial, Helvetica, sans-serif\">Seed Data Profile</font></strong></th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td style=\"margin: 0px;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">Store Fulfillment Configuration</font></td>\r\n\t\t\t<td style=\"margin: 0px;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">Fulfillment</font></td>\r\n\t\t\t<td style=\"margin: 0px;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">FulfillmentConfiguration services</font></td>\r\n\t\t\t<td style=\"margin: 0px;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">Yes</font></td>\r\n\t\t\t<td style=\"margin: 0px;\"><font face=\"Open Sans, Arial, Helvetica, sans-serif\">Base</font></td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td style=\"margin: 0px;\">Store Fulfillment Parameters</td>\r\n\t\t\t<td style=\"margin: 0px;\">Fulfillment</td>\r\n\t\t\t<td style=\"margin: 0px;\">FulfillmentParameters services</td>\r\n\t\t\t<td style=\"margin: 0px;\">Yes</td>\r\n\t\t\t<td style=\"margin: 0px;\">Base</td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n\r\n\t  </div>\r\n </div>\r\n <div id=\"ui-page-fb-wrap\"></div>\r\n <div class=\"hiq-footer-wrap\">\r\n</div>\r\n\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n",
  "content_length": 25267,
  "scraped_at": "2025-08-09T22:04:37.523062",
  "content_clean": "Home ››Manhattan Active® Omni››Store››Process & Configuration Guides››Store Inventory & Fulfillment››Store Order Fulfillment››Shipping ››Shipping Configuration Shipping Configuration Master DataRequest Return LabelsDisable packing slip print by default on shipping label failureIn-transit records for shipped packagesShip PackagesFulfillment Outbound Event ConfigurationDisable scheduler to update expected arrival date for expected packages from the carrierEnable void label call to carrier upon update packageExternal OMS Integration UIs and Entities Master Data Refer to the Basic Carrier Configuration section of the Carriers page of the Master Data guide for shipping and parcel configuration necessary for fulfillment functionality. Request Return Labels Configuration exists in the Fulfillment component to obtain default values for the attributes below if not populated from the Order component and/or user exits. Return Labels Needed by Order Type The Generate return labels while shipping for order type field on the Store Fulfillment Configuration UI defines the order type(s) for which a return label should be generated. This field is used to update the fulfillment if the isReturnLabelRequired flag is not already populated. Multiple order types can be entered using comma delimiters. Default Return Center The Default Return Center field on the Store Fulfillment Configuration UI is used to update the fulfillment if the isReturnLabelRequired flag is set to true and the Return Center is not already populated on the fulfillment.> Default Return Service Level The Default Service Level field on the Store Fulfillment Configuration UI is used to obtain the return service level if the fulfillment's isReturnLabelRequired flag is set to true. Please note that a return service level attribute is not present on the order or fulfillment. Disable packing slip print by default on shipping label failure The 'Disable packing slip print by default on shipping label failure' flag on the Store Fulfillment Parameters UI is used to set the default toggle OFF/ON for printing packing slips when the generation of shipping labels fail. When set to true, the toggle to print packing slip will be defaulted to OFF. User can manually enable it to print the packing slips. The default value of this configuration is False. In-transit records for shipped packages The Create in-transit records for shipping inventory from a store to another location flag on the Store Fulfillment Parameters UI determines if the system will create in-transit records for packages that are shipped from a store to another location within the retailer's network. By default, this is turned off. When set to true,  ASN intransit inventory record is created only when fulfillment package contains a valid Ship To Location and delivery type is NOT Customer PickUp. PLease note that this parameter is not applicable for Ship to Store orders, as intransit inventory for such orders is created by Order Management system. Ship Packages The Move packages after tracking with carrier flag on the Store Fulfillment Configuration UI controls the trigger of when to update a package's status from \"Built\" to \"Shipped\". Set the value to \"On\" if the system should update the package from \"Built\"  to \"Shipped\" status based on Track service responses from the carrier. The batch job scheduler controls the interval at which the Track service requests are sent. Packages in \"Built\" status with a tracking number are sent as part of the requests. The Status Map entity maps the various carrier tracking codes/ statuses to Intransit. If the tracking code returned by the carrier matches 'Intransit' status, the package is updated to shipped status. Refer to the Master Data guide for additional information regarding carrier status mapping. Note: The Track and Ship Scheduler considers partially packed fulfillments as well when the carrier tracking is enabled. Set the value to \"Off\" if the trigger to update package status should be based purely on a configured time rather than awaiting a carrier response. Batch job scheduler configuration defines when to trigger the updates. Note: The Track and Ship Scheduler considers only those fulfillments that are completely packed (Fulfillment.Minstatus=4000.000) to move them to shipped status. Setting up Batch Job Scheduler A sample JSON to configure the job scheduler is shown below as a UI is not available. This JSON applies to both configuration scenarios described above. POST message {{URL}}/fulfillment/api/batch/jobSchedule/save { \"JobScheduleId\": \"trackAndShipPackagesJob1\", \"JobTypeId\": \"trackAndShipPackagesJob\", \"CronExpression\": \"0 0/15 * * * ?\", \"TriggerKey\": \"trackAndShipPackagesTrigger1\", \"JobParameters\": [ { \"InputKey\": \"QueryString\", \"InputValue\": \"SELECT DISTINCT fulfillment.fulfillmentId FROM FulfillmentEntity fulfillment JOIN fulfillment.packagesList packages ON fulfillment.fulfillmentId=packages.fulfillmentId WHERE fulfillment.orgId=':OrgId' AND packages.packageStatus.packageStatusId=':PackageStatus' AND packages.trackingNumber IS NOT NULL AND packages.updatedTimestamp >= SQL('? - interval :NumberOfHours hour', CURRENT_TIMESTAMP)\" }, { \"InputKey\": \"PackageStatus\", \"InputValue\": \"2000.000\" }, { \"InputKey\": \"FacilityIds\", \"InputValue\": \"'FC3'\" }, { \"InputValue\": \"4000.000\", \"InputKey\": \"MinStatus\" }, { \"InputKey\": \"NumberOfHours\", \"InputValue\": \"48\" }, { \"InputKey\": \"AddSecurityCriteria\", \"InputValue\": \"false\" }, { \"InputKey\": \"OrgId\", \"InputValue\": \"dummyOrg\" } ] }; Provide these parameters to setup the job scheduler for shipping packages: Parameter Description Job Schedule Id Unique job scheduler Id Job Type Id Use 'trackAndShipPackagesJob' job type Cron Expression Cron expression decides how frequently job is invoked.  Use a website which builds cron expressions, Ex. http://www.cronmaker.com/ Trigger Key Unique trigger key Job parameter - Query String Query which selects fulfillment to be shipped Job parameter - Package Status Status of the packages that need to be shipped, typically the status before Shipped status has to be used. Set it as 2000.000 (Packed) if no custom status is introduced between Packed and Shipped status. Job parameter - Facility Ids Comma separated facility Ids of the stores that would be on this schedule Job parameter - Number of Hours Max number of hours to attempt shipping packages after they were packed Job parameter - Add Security Criteria Set it as false Job parameter - Org Id Id of the organization for which this scheduler will run Fulfillment Outbound Event Configuration Pickup Individual Packages for Ship to Store Orders The Send fulfillment outbound for each customer pickup package shipped parameter on the Store Fulfillment Parameters UI controls the number of \"Fulfillment Shipped\" events that are sent from a store for a fulfillment. If set to true, a separate 'Fulfillment Shipped' outbound message is sent for each package on the merge fulfillment. In turn, Order Management creates a separate pickup fulfillment for each package when consuming the outbound. If not set to true, one outbound message is sent for all packages on the fulfillment that are shipped. By default, the configuration is turned off. Disable scheduler to update expected arrival date for expected packages from the carrier The 'Disable scheduler to update expected arrival date for expected packages from the carrier' flag on the Store Fulfillment Parameters UI is used to disable the scheduler for updating ETA on in-transit packages expected to arrive at the store. When set to true, the scheduler will not update ETA. The default value of this configuration is False i.e. by default, the scheduler is enabled. Setting up ETA Update Scheduler The scheduler can be configured at the organization level. If cross-organization shipments are supported, then there are two options to setup the scheduler: 1) Configure scheduler for receiving organization and do not pass \"InputKey\": \"OrganizationId\". In this case, scheduler updates ETA for all in-transit expected packages inbound to the store, irrespective of organization of the origin location. Post message {{url}}/fulfillment/api/batch/jobSchedule/save { \"JobScheduleId\": \"updateETAonPackagesJobSchedule\", \"JobTypeId\": \"updateETAonPackagesJob\", \"CronExpression\": \"0 0/2 * 1/1 * ? *\", \"TriggerKey\": \"updateETAonPackagesJobTrigger\", \"JobParameters\": [ { \"InputKey\": \"QueryString\", \"InputValue\": \"select packagesEntity.pk from PackagesEntity packagesEntity where packagesEntity.packageStatus.packageStatusId = :StatusCode and packagesEntity.trackingNumber != null and packagesEntity.shipToLocationId != null and packagesEntity.deliveryStatus = null and packagesEntity.orgId in (:OrgIds)\" }, { \"InputKey\": \"ChunkSize\", \"InputValue\": \"100\" }, { \"InputKey\": \"StatusCode\", \"InputValue\": \"'3000.000'\" }, { \"InputKey\": \"AddSecurityCriteria\", \"InputValue\": \"false\" } ] } 2) Configure separate schedulers for origin location's organization and destination location's organization, if both are not the same. Note:  Origin and destination organizations must belong to the same organization hierarchy. Post message {{url}}/fulfillment/api/batch/jobSchedule/save { \"JobScheduleId\": \"updateETAonPackagesJobSchedule\", \"JobTypeId\": \"updateETAonPackagesJob\", \"CronExpression\": \"0 0/2 * 1/1 * ? *\", \"TriggerKey\": \"updateETAonPackagesJobTrigger\", \"JobParameters\": [ { \"InputKey\": \"OrgIds\", \"InputValue\": \"'GMP-Brand1-US'\" }, { \"InputKey\": \"QueryString\", \"InputValue\": \"select packagesEntity.pk from PackagesEntity packagesEntity where packagesEntity.packageStatus.packageStatusId = :StatusCode and packagesEntity.trackingNumber != null and packagesEntity.shipToLocationId != null and packagesEntity.deliveryStatus = null and packagesEntity.orgId in (:OrgIds)\" }, { \"InputKey\": \"ChunkSize\", \"InputValue\": \"100\" }, { \"InputKey\": \"StatusCode\", \"InputValue\": \"'3000.000'\" }, { \"InputKey\": \"AddSecurityCriteria\", \"InputValue\": \"false\" } ] } Enable void label call to carrier upon update package The 'Enable void label call to carrier upon update package' flag on the Store Fulfillment Parameters UI is used to turn on the shipping label cancelation call to the carrier when the shipping option(s) is changed using update package functionality during packing or reprinting flow. This parameter is applicable for enabling void/cancel label call during update package in case of following scenarios: Packing of shipment orders Packing of pullback & transfer orders Packing of store initiated transfer orders Reprinting of shipping label When set to true, if the provider is configured in the entry condition of the extension handler mentioned in the Shipping Process guide, then the cancel label call is sent to the associated carrier. The default value of this configuration is False. External OMS Integration There are two ways to enable this functionality - via the 'isExternalOrder' attribute of the Fulfillment or through the 'Is Store Inventory Management deployed?' configuration in Store Fulfillment Parameters. If the Fulfillment property is true, it overrides whatever value is configured. If the value is passed as false, the configuration determines the behavior. For SIF to directly send supply updates to the Inventory component, the value should be set to true (regardless of whether it is set by passing in the Fulfillment or via the configuration.) If the updates should not be set, the value should be false. The default configuration value is false. Configuration: “Is Store Inventory Management deployed?” configuration in the External OMS Integration tab of the Store Fulfillment Parameters. In the event that the external OMS is replaced by Manhattan Active Order Management, ensure that this functionality is turned off. Failure to do so may result in double-dipping of the inventory. Sample Request: { \"FulfillmentId\" : \"Ful001\", //existing properties \"IsExternalOrder\" : true } UIs and Entities The configuration UIs mentioned in this document are listed in the table below, along with information to navigate to the API documentation. UI Name Component Group Seed Data Present? Seed Data Profile Store Fulfillment Configuration Fulfillment FulfillmentConfiguration services Yes Base Store Fulfillment Parameters Fulfillment FulfillmentParameters services Yes Base"
}