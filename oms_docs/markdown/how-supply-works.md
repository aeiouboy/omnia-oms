# How Supply Works

**Permalink:** how-supply-works
**Path:** Manhattan Active® Omni/Order Management/Process & Configuration Guides/Enterprise Inventory/Inventory/How Supply Works
**Content Length:** 42,900 characters
**Scraped:** 2025-08-09T21:53:52.154605

---

Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Enterprise Inventory››Inventory ››How Supply Works How Supply Works Previous I Next OverviewSupply EventsAbout inventory items and locationsProcess FlowTransaction Types and its Impact on SupplyOn-hand transaction typesRelay Supply InformationReset Inventory ErrorsSupply Event (Replace)Process Flow ExamplesConfigurationFactors Affecting SupplyReplace for a Location Implementation FlavorsTroubleshootingRelated Article(s) Overview Perpetual inventory or Continuous Inventory describes the system of inventory, where the inventory characteristics are updated on a continuous basis. Perpetual inventory communicates the exact quantity of inventory in a given facility (i.e. what you can count physically, regardless of the state). For example, if the perpetual inventory at DC1 for Item A is 5 units, then this means that a DC user could find exactly 5 units of Item A at DC1. Also, any inventory changes are maintained in the Perpetual Inventory.  For example, in a distribution center, the inventory changes due to receipts, adjustments, movements, cycle counts, order fulfillment, etc. Perpetual inventory is the foundation for a retailer's Supply Chain. For Example: For Order Management, the inventory at each fulfillment location is required to ensure accurate allocation and routing of orders to the various locations. For inventory optimization, the inventory planner/buyer needs to understand how much quantity is currently located in each location, in order to plan appropriately and procure the appropriate amount. For ERP or financial systems, inventory is used to calculate the value of end of year inventory. There are no additional rules or manipulations performed on the inventory numbers. For this reason, perpetual inventory is commonly used for accounting and financial systems, since perpetual inventory represents the raw inventory quantity. Before we understand how Perpetual Inventory is bridged in, it is critical to understand the following terms: On-hand Supply: On-hand Inventory refers to the Inventory that is currently available with in a physical location like Warehouse or Store. Inventory within a location gets updated due to movement within a location, adjustments due to cycle counting, Receipt etc. Future Supply: Future Inventory refers to the Inventory that is available in a Warehouse or Store at a future date. Purchase Orders and ASNs are examples of Future Inventory. Retailer creates Purchase Orders to the Suppliers to procure goods to a specified location at a specified date. Suppliers creates an Advance Shipment Notice (ASN) to indicate that the goods are en-route to the specified location. Future inventory offers the additional benefit of promising more and hence potentially selling more, there is also the uncertainty of when inventory will actually be physically available at the specified location. Transaction Types: Inventory gets changed on a continuous basis due to various activities on the Item within a Warehouse/Store or en-route to a Warehouse/Store. For example, Item sold in a store reduces the inventory level or Item(s) received at a store/warehouse increases the inventory level or Item(s) can be moved from one location to another within a store etc. These inventory changes are categorized as Transaction Types. Refer to Supply Event for more details on the transaction types. Inventory Attributes: Inventory attributes help track inventory at a more detailed level for an Item and a location. Example: For an Item - Inventory originating Country like China, India can be tracked. Inventory can also be tracked at a lot number level. Below are the attributes at which an inventory can be tracked. Attributes Details Country of Origin Indicates the Originating Country for the Inventory. Batch Number Indicates the batch number associated with the inventory. The lot or batch number can be assigned to one or many units that are produced or purchased on the same or various dates, and that possibly have a production and/or expiry date Inventory Type Indicates the Inventory type like "Raw" or "Finished Goods" for an Item InvAttribute1...5 These text fields can assist users in providing additional information to enhance inventory tracking with greater detail. Note : When creating an order, it's advisable to pass inventory attributes from the 'OrderLinePromisinginfo' structure. While this isn't mandatory, omitting it may lead to non-persistence, even when allocating from the same supply source. If users pass it on the 'OrderLinePromisinginfo', it gets persisted in the inventory reservation request detail. Supply Type: Supply Type refers to different attributes at which a supply can be tracked. For example, supplies can be tracked at: Future Inventory (PO & ASN) On Hand Inventory Availability dispositions (Available, Available Soon and Unavailable) Inventory dispositions (Damaged inventory, Returned Items, Reserved for customer etc.). This typically indicates the final disposition of the inventory. Lock codes (Quality Audit Hold, Pending Put away etc.).  Supply Type can be used to capture Lock codes if Inventory needs to be tracked at Lock code level. When Enterprise Inventory is not used as the "perpetual system of record" for maintaining inventory at a particular location, then it is likely that the system of record requires the ability to update Enterprise Inventory either in real time or on a scheduled basis. Below are the ways locations can communicate the supply information Supply Events Supply Event (Replace) Inbound Sync Supply Events Warehouses, stores and suppliers communicate different types of inventory updates via a supply event (i.e., the creation of PO inventory or the adjustment of on-hand inventory.). The supply event can be posted via rest end point (inventory/api/inventory/supply/supplyEvent). Supply Event API can process max of 50 payload messages in a rest call. The transaction type field on the inventory event is used to categorize the type of inventory change that occurs. Based on the transaction type, supply records are updated accordingly. PO create, ASN create, Receipt, Adjustments and Movement are some of the examples of transaction types. Inventory is updated differently based on the transaction type. About inventory items and locations Items exist both in the inventory component and in the item component: Whenever an item is created/updated in the item component, it is automatically propagated to the item object in the inventory component. On the other hand, a location needs both interfaces in the organization component and the inventory component to be sent separately. As locations don't change as often as items, there is no automatic propagation process for these interfaces. This is commonly referred to as: "Org Location" interface used to create the location in the organization component "Inventory Location" and "Inventory location attributes" interfaces are used to create and configure the location in the inventory component. If a supply event or an inventory sync contains an item or location that does not exist in the item or organization component, the inventory component creates an "empty shell" of the item/location, so it can accept the inbound supply event/supply sync. The items created directly in the inventory component by a supply event have all the selling attributes set to true by default. They will therefore appear in the available inventory of the views. To mitigate this, it is recommended to always create the items and locations in the item and organization component before a supply event or a supply sync is sent to that item/location. Note: The inventory Attribute1-5 can not be updated. However, since they are text fields, you can pass any text in those attributes. Process Flow Supply Event - Process flow On Hand Supply record(s) is uniquely identified by Item, Location, Supply Type, Segment (if enabled for the location) and Inventory attributes (if enabled for the location). Similarly, future supply record(s) is uniquely identified by Item, Location, Reference Type (PO/ASN), Reference ID (PO/ASN ID), Reference Detail Id (PO/ASN detail ID), Supply Type, Segment (if enabled for the location) and Inventory attributes (if enabled for the location). For future supply - If the location ID is changed for a PO record, then a new supply record is created for the PO and a new location ID. Max recommended supply event in a single JSON is 10 for optimal throughput but Maximum supported is 50 supply events in a single JSON. Transaction Types and its Impact on Supply The below section covers the supply updates for different On Hand and Future transaction types. Below Transaction Types are case insensitive. On-hand transaction types On Hand Transaction Types Transaction Type Supply updates Adjustment There are various factors that leads to adjustment of inventory. Adjustment occurs during cycle count where there will be increase or decrease of inventory, and when the inventory is damaged for various reasons. A positive adjustment leads to increase in Inventory while a negative adjustment leads to decrease in inventory. Adjustment Type can take the following values: A - Positive adjustment S - Negative adjustment R - Replace Movement Physical inventory can be moved across different states. This transaction type moves inventory between dispositions, sublocations and lock codes. For example, inventory can be locked for quality audit or pending putaway (moved from available bucket.) Inventory can move between sublocations such as sales floor to back room, etc. The movement causes decrease in inventory for the origin state and an increase in inventory for the destination state. InvError When inventory is not in sync between the physical location and the inventory system, there is a chance of an order getting shorted due to non-availability of inventory. In these scenarios, the warehouse or store systems typically short the order with a reason code. This transaction type updates the corresponding inventory record with the error code specified on the event. Note: This transaction type is used for stand alone "Inventory" deployment. When used with Orders, Order Event (Short) is used to error out the Inventory. Receipt As part of receiving transaction (when a user receives the inbound shipment), future inventory (PO/ASN) is reduced and on-hand inventory is created or updated. Receipt can be done against an ASN or PO. When the Receipt is against the future supply then the corresponding PO/ASN record quantity is reduced appropriately. Future supply Received quantity is increased accordingly based on the Receipt units. Example - Consider the following supply records Supply: ReferenceID: ReferenceDetailID: Quantity: ReceivedQty Future Supply (PO): PO1:Line1:100 units: 0 units Future Supply (ASN): ASN1:Line1:50 units: 0 units 1. When 20 units are received against ASN1 then supply record is updated as Supply: ReferenceID: ReferenceDetailID: Quantity: ReceivedQty Future Supply (PO): PO1:Line1:100 units: 0 units Future Supply (ASN): ASN1:Line1:30 units: 20 units On Hand:_:_:20 units:0 units No updates to the PO record. 2. When 25 units are received against PO1 then supply record is updated as Supply: ReferenceID: ReferenceDetailID: Quantity: ReceivedQty Future Supply (PO): PO1:Line1:75 units: 25 units Future Supply (ASN): ASN1:Line1:30units: 20 units On Hand:_:_:45 units:0 units No updates to the ASN record. Fulfillment A warehouse or store fulfills an order by physically shipping item(s) from the location. This transaction type reduces the quantity on the corresponding inventory record as the item is no longer available in the location. This leads to decrease in inventory. Note: This transaction type is used for stand alone "Inventory" deployment. When used with Orders, Order Event (Ship) is used to reduce the inventory position on Ship. Relay Supply Information As part of supply event - it is possible to bridge in information from a Warehouse or Store systems and pass the information as-is to another system. These can be achieved by passing the information under Relay Attributes. In addition to this, below attributes in Supply event can be used to capture the information like Transaction ID and Transaction Type from external system. Refer to Supply audit guide for more information. Relay attributes can be published out to external system when Relay is enabled for the location and transaction type. Refer to Publish Inventory - Relay for more details. Note: Extended attributes are not supported in Supply event. Even if the attributes are passed in the Supply Event, they will not be persisted. As an alternative there are two additional fields termed as Inventory Transaction Type & Inventory Transaction Id, which can be utilized to send any text values. These attributes will be persisted against supply record and every update will be overridden with new value. Refer to the attributes (highlighted) in the supply event JSON Supply Event - Sample { "SupplyEvent": [ { "InventoryTransactionId": "string", "InventoryTransactionType": "string", "LastTransDate": "2020-08-24T10:53:49.004Z", "ProfileId": "string", "ResetError": false, "SupplyDefinition": { "Extended": {}, "ItemId": "string", "LocationId": "string", "OriginLocationId": "string", "ParentReferenceDetailId": "string", "ParentReferenceId": "string", "ParentReferenceTypeId": "string", "ReferenceDetailId": "string", "ReferenceId": "string", "ReferenceTypeId": "string", "RelayAttributes": [{ "AttributeName": "string", "AttributeValue": "string" }], "SegmentId": "string", "SegmentTransferRequest": [{ "Quantity": 0, "SegmentId": "string" }], "SupplyAttributes":{ "BatchNumber": "string", "CountryofOrigin": "string", "InvAttribute1": "string", "InvAttribute2": "string", "InvAttribute3": "string", "InvAttribute4": "string", "InvAttribute5": "string", "InventoryType": "string", "ProductStatus": "string" }, "SupplyData": { "ETA": "2020-08-24T10:53:49.004Z", "ErrorCodeId": "string", "ExternalSequenceNumber": 0, "Quantity": 0, "QuantityAdjustmentType": "string", "UOM": "string" }, "SupplyType": { "DispositionId": "string", "LockCodeId": "string", "SupplyTypeId": "string", "TransferFromDispositionId": "string", "TransferFromLockCodeId": "string", "TransferFromSegmentId": "string", "TransferFromSupplyTypeId": "string" } }, "TransactionTypeId": "string"} ] } Reset Inventory Errors Inventory availability picture gives the "available to promise" quantity level details for an order capture channel. This is calculated based on Perpetual Inventory, reducing the existing allocations, protection level, Outages and Errored inventory. There could be scenarios where Perpetual Inventory in OM is not in sync with Fulfillment system. This is inventory shortage scenario, where Short update for an Order is sent by Fulfillment system. Inventory is marked with Error for the shorted items and availability gets reduced to disallow any new order promising. Enterprise Inventory tracks if the supply is error our ot not. It doesn't track the reason code which marked the supply as errored. When a supply record is in error, ALL allocations with matching item/locations will have their reservations temporarily "deferred", resulting in the inventory picture appearing as though the order's allocated quantities are not applied to the available quantity. At that time, if there is inventory available at another location, we will try to keep the order's allocation record so that the reservations will be pegged back to the original source when inventory becomes available again, If there is no inventory available at any other location, we simply backorder and anticipate more supply to promise. To consider inventory again into availability picture and for allocation, error needs to be reset. Based on business needs, error can be reset as part of supply updates or sync process. A Boolean Flag "ResetError" is exposed in the supply event which gives flexibility to reset error for certain transaction types Reset error flag can be sent along with all these Transaction types - Adjustment, Movement, Receipt, Fulfill, ASN Verify (Transactions which affects on hand supply records). All impacted on hand errored supply records can be reset if reset error flag is set to true or sent empty. If set to false then error is not reset for the impacted on hand supply records Note: By default, if the Reset Error flag is not sent, it will reset the error. Supply Event (Replace) Most of the WMS systems sends delta amount which can be positive or negative for updating inventory, but there could be some systems which only maintain absolute inventory picture in their host system. In order to update inventory with an absolute inventory quantity, location needs to be enabled for Adjustment Type Replace in location attributes and supply Event should be sent for adjustment transaction with Quantity Adjustment Type R. Refer How to enable Replace for a location for more details. While processing such events, existing quantity will be completely replaced with quantity received in the input. When supply Events are posted in replace mode, sequence of messages play a vital role. Any "Out of sequence" inventory update which is received late can potentially update the inventory incorrectly. To avoid such situation, host system needs to send a sequence number with every message which should always be greater than previous message. Any message which have sequence number lesser than existing value in Inventory, will be ignored. Refer to the below section on how Replace works with some examples Process Flow Replace - How it works Examples Replace - Examples Configuration Factors Affecting Supply Refer to the below section on the attributes that affect supply. Factors affecting Supply Attributes Description Item ID Indicates the Item for which the supply is maintained Note: If supply event is bridged in with an Item which does not exist, the system will create an Inventory Item record for the bridged supply. Use the below APIs to find the discrepancy between Inventory Item and Item data Item component - {url}}/item/api/item/item Inventory component - {url}}/inventory/api/item/item Location ID Indicates the Location for which the supply is maintained. Location can be a DC, Store, Supplier or any other location where inventory needs to be maintained. There is no limit for inventory locations. 1000+ locations are supported in Active Omni. This is defined on the Inventory Location UI. Inventory Location records can only be deleted if no supply records or item location records exist for that Location. Note: If supply event is bridged in with a Location Id which does not exist, the system creates an Inventory Location record for the Location Id with Location Type "Distribution Center" and Status "Active" to track the supply. There is no option to change the Location Type and Status during supply creation but subsequent location update will ensure these attributes gets updated. Location attributes The location attribute entity captures the attributes required for maintaining inventory for different locations (stores, suppliers, distribution centers, return centers, etc.). Each location may have different requirements for maintaining inventory. For example, Distribution Centers (DCs) may maintain on-hand and future inventory, but stores may maintain only on hand inventory. DC 1 may maintain on-hand inventory by inventory attributes, but DC 2 may not. Based on this configuration, inventory data is persisted. If maintain PO or ASN flag is turned off for a location, then future supply is not maintained for the location. If maintain on hand supply by country of origin is turned off for a location, then country of origin information is not persisted for on-hand supply. To configure location inventory attributes, navigate to the Inventory Location Attribute UI. Location can be configured to maintain the following Maintain on hand supply Maintain ASN supply Maintain PO supply Maintain supply by Inventory attributes Batch number Product status Inventory Type Country of origin Inventory attributes 1..5 Maintain by Segment Maintain by Disposition/Lock code Note: By default, Maintain ASN and PO Supply is turned off for a Location. For merge flows, above flags should be set to true at a merge location for system to create PO/ASN records when shipped to a merge location. Supply Type Supply Type refers to different attributes at which a supply can be tracked. This is a key attribute to identify a supply record. Example, Supplies can be tracked at Future Inventory (PO & ASN) On Hand Inventory Availability dispositions (Available, Available Soon and Unavailable) Inventory dispositions (Damaged inventory, Returned Items, Reserved for customer etc). This typically indicates the final disposition for the inventory Lock codes (Quality Audit Hold, Pending Put away etc.). WM typically doesn't track inventory by lock code. Supply Type can be used to capture Lock codes if Inventory needs to be tracked at Lock code level. Custom supply types can be added based on how the supply is tracked for an implementation. Supply types are configured on the Supply Type Definition UI. Following supply types are available: On Hand Available On Hand Available Soon On Hand Unavailable In Transit On Order DC/Store can track Inventory at a more granular level (Disposition/Lock codes) and  Enterprise Inventory can be configured to track the supply either at a similar granular level or one level above. Irrespective of the levels, supply record(s) are always tracked using Supply Types in Enterprise Inventory. Refer to the Disposition and Lock code to Supply Type mapping below. Currently, Supply Type can be marked as Future supply, but we do not have the flexibility to say the custom supply type belongs to PO or ASN supply.  Hence, custom supply type is supported only for On Hand and not for Future supply Note:  Is Closed flag on the Supply Type determines if the Supply can be updated or not. If Is closed is true marked on a supply type then no more updates is allowed on the Supply with the corresponding supply type Disposition and Lock codes Inventory can be locked or moved to a certain disposition for various business reasons. For example, inventory can be locked for internal quality assurance (QA) audit, or inventory can be moved to a damaged disposition bucket so that these supplies are not allocated for future orders. Typically, Warehouse Management and store fulfillment systems communicate supply information by disposition or lock codes. To cross reference between supply type and disposition or lock code, supply type is fetched from the disposition or lock code sent with the supply record. Dispositions are configured in the Disposition UI. Lock codes are configured in the Lock Code UI. In Enterprise Inventory, there is no direct way to search supply by lock code or disposition as supply is tracked only by Supply Types. Only way is to create specific supply type for lock code or disposition and then search by that specific supply type. Error codes Inventory can be in error for various reasons. For example, a flood in the DC might damage all units of a certain item. When a supply event is sent with an error code, then all supply records corresponding to the item and location is marked with the error code. Error codes are configured in the Error Code UI. Transaction Types Indicates the different transactions supported for a Supply event. Based on the transaction type, Enterprise Inventory updates the supply differently. Every Transaction Type is mapped to a Supply Type. If Supply type is not available in the Supply event then it is defaulted with the supply type from the corresponding transaction type. Note: Custom Transaction Types are not supported Replace for a Location Replace can be enabled by setting Adjustment Type Replace = True in Inventory Location attributes. When Replace is enabled for a location, then: Only the "Adjustment" transaction type is supported. "Movement" & "Segment transfer" can't be used, but all other transactions will work as-is. There won't be any change in behavior. Inventory Inbound Sync & Segmentation can't be used. There will be explicit validation Adjustment type A/S can't be sent for a location. There will be explicit validation. Any internal event which updates inventory, such as Ship Event, does not update the sequence number. Implementation Flavors N/A Troubleshooting n/A Related Article(s) OverviewPublishing InventoryRest APIs & User ExitsAudit & ArchiveSupply SyncHow Future Supply worksInfinite InventorySegmentationHow to Configure Supply ProfilesTroubleshootingReapportionment