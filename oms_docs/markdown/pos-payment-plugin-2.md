# POS Payment Plugin

**Permalink:** pos-payment-plugin-2
**Content Length:** 7,133 characters
**Scraped:** 2025-08-09T22:35:34.329033

---

Home &rsaquo;&rsaquo;Manhattan Active® Omni&rsaquo;&rsaquo;Store&rsaquo;&rsaquo;Process & Configuration Guides&rsaquo;&rsaquo;Point of Sale&rsaquo;&rsaquo;POS Guides&rsaquo;&rsaquo;POS Payment ››POS Payment Plugin POS Payment Plugin Local network protocol (Direct to device)Cloud Payment flowServices POS application communicates to the Payment Terminal (card reader or &quot;Pinpad&quot;) and to the Payment Gateway for authorization/settlement of electronic payment methods via the POS Payment Plugin. There are two communication protocols that are supported; Cloud and Local. The protocol to be used for a gateway can be configured in the Payment Gateway configuration under Gateway implementation.&nbsp; In both flows, the POS application itself is semi-integrated regarding sensitive card data - that is, no credit/debit account numbers are ever handled directly by the POS app. Local network protocol (Direct to device) This is configured by setting the Gateway Protocol value as &quot;Local Https&quot; in the Gateway implementation configuration under payment gateways. With this flow, when a payment type is selected which is configured to process via the terminal, the POS app calls its local payment terminal directly via IP. All communication to the Gateway then occurs from the terminal.&nbsp; The terminal sits between the app and the gateway and manages the request/response. Out of the box we support: Point protocol to communicate to Verifone payment terminals Gateway is Payware Connect (PWC) or Manhattan Adyen Professional Services teams create custom plugin in order to provide any required customer variations on this (ex. different terminals or different gateway). Cloud Payment flow Configure&nbsp;Support Payment Cloud Solution = true With this flow, when payment type is selected which is configured to process via the terminal, the POS app calls a POSService API, which in turn notifies the configured Payment Gateway to engage with the terminal. Communication to/from the Gateway then occurs from the terminal.&nbsp; The resulting response (e.g. successful payment authorization) is returned from the Gateway to POSService. Cloud server API now sits between the app and the gateway.&nbsp; Gateway communicates to the payment terminal. With this architecture, Professional services may use server user exits for custom implementations without necessity of creating a custom plugin. &nbsp; Note: The Cloud Payment flow must be used with a cloud based Gateway such as Verifone POS Cloud or Adyen, and with devices which are configured for such a gateway.&nbsp;&nbsp; Note:&nbsp; Base Resilient Cloud (Edge) application does not support this payment model.&nbsp;&nbsp; The flow diagram shows comparison between Direct&nbsp;Device payment flow (flag OFF) and new Cloud Payment flow (flag ON). &nbsp; Services The following APIs are the key APIs related to POS Cloud Payment plugin.&nbsp;Refer to the API documentation for additional details on&nbsp;each service. &nbsp; Service Component Service Endpoint Payment Posservice /api/storefacade/posservice/gateway/payment/session Payment Posservice /api/storefacade/posservice/gateway/payment/initiateTransaction Payment Posservice /api/storefacade/posservice/gateway/order/refresh Payment Posservice /api/storefacade/posservice/gateway/payment/initiateTransaction &nbsp;