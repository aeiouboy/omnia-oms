# Item Search

**Permalink:** itemsearch
**Path:** Manhattan Active® Omni/Order Management/Process & Configuration Guides/Customer Service/Item Search
**Content Length:** 54,864 characters
**Scraped:** 2025-08-09T21:54:42.652553

---

Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Customer Service ››Item Search Item Search Keyword SearchExact Match Item Search Exact Attribute SearchHosting Item ImagesViewing ResultsView Item Details Store LocationItem AvailabilityItem Options Item PricesSelecting Available Delivery Options Store Locator Selecting a Shipping MethodTimezone of the Time Displayed on the ScreenSending Product Details Page to CustomerAdding an ItemDisplay Product Recommendations and Annotations in Contact Center How to Configure Product Recommendations and AnnotationsHow To Configure Store Locator Pop-upGoogle Maps API KeyConfigure the Maps Key in the SystemAvailable DealsConfigure Available DealsImplementation FlavorsSearch item by extended attributes in keyword search or exact searchConfigure Custom / Extended as an Item OptionPerform Validation While Adding Items to CartPassing Extended Attribute from Customer to OrderTroubleshootingUnable to find all colors for an item, all sizes for an item, item with input color and size, or all item options in Item SearchThe selected organization is not included in the Add & Checkout /Add To Cart command routerNot able to add shipping method to the order when the order lines are more than 60While adding items browser refresh removes items from the cartGoogle map is not loading on UIUnable to perform keyword parameter search with all numeric item IDNot able to see the item on the item search pageRelated Articles In the item search screen, Customer Service Representatives (CSRs) can search for items and view item details. The item search results can be sorted by price or availability. Once an item is found, a CSR can create an order for the selected item by adding it to the order. A common scenario that a CSR faces is a request to place a new order for a customer over the phone. In this case, the CSR first asks the customer which item(s) they are interested in purchasing. The customer describes the name of the item, and possibly some additional qualifying attributes such as style, color, size, and so on. The CSR uses the item search to search for the item. The CSR uses the Item List page to view the item search results as indicated in the Search Items guide. Refer to UI Resources for the required grants to create an order. An item can be searched using keyword search or exact attribute search.  Items can also be searched through customs fields. Check the implementation flavors for more details. For an item to appear in the item search results: The item should have a price defined for the selected organization. To sort by availability in the product list, configure an active View ID in the Call Center Configuration and Search for ATC Views. Keyword Search CSRs can search for items using keywords. When a keyword is entered, it is searched for the item ID, short description, etc. with each attribute tied to a relevancy score. After adding up the relevancy score for the matching attributes, items with the highest relevancy score are displayed at the top of the results list. Below are the relevancy scores for each item attribute: Attribute name Relevancy Score ItemId 4 Description 8 Style 6 Size 2 Color 10 ShortDescription 8 Items can also be searched using extended attributes. Exact Match Item Search Exact Match item search returns only items that meet all of the words included in the search. For example, if the user searches for 'Blue Youth Sandals', the system will only return items that include all three words: Blue + Youth + Sandals. In the example of Blue Youth Sandals, it excludes all items such as 'Youth Hockey Socks', 'Blue Youth Shorts' as the search criteria is not met. The Exact Match item search also supports partial word match, meaning if the user searches for 'Child Hat', the system will return the item 'Children's Hat'. To perform an Exact Match search, the following configuration is required on the Search V2 Configuration for the Item record: set the Score Type ID to 'MultiMatch'. Exact Attribute Search Items can also be searched with exact attribute names like style, color, and size. The system will do an exact match and return the result. An exact search can also be done using extended attributes. Hosting Item Images Item images should be hosted in a third party, publicly accessible location such as a content delivery network (CDN) like Cloudinary. Ensure the image hosting server has a valid certificate, or the image cannot be displayed in the UI. Viewing Results After finding the item the customer wishes to purchase, the CSR will ask the customer for the size, color, and quantity of the item to see if the item is available. The item list panel displays the list of matching products. A product represents a set of items grouped by product class and style. The set of items for a given product can vary by item options like color, size, and style. Two items for the same product can have different prices and availability. The product will have one of the prices and availability stamped on it. The list of products shall be sortable on this stamped price/availability. The availability of the product is computed based on the 'Network level Availability View' configured in Call Center Configuration. It is recommended that every item has a unique combination of item options (such as style/color/size/product class or any other extended item option, if any). If there is more than one item with the same combination of item options, the Item Search page will display only one item based on the first created timestamp. The other items with the same combination would have a created timestamp greater than the first item. So, only one item is displayed on the search results even though multiple items fall under the same combination of item options. Note: The product does not contain the quantity details on the availability aspect and so the sorting does not happen on the quantity of the products/items. The product/item only has the information of whether it is available or not. So, there can be multiple products/items which are available and hence as a tie-breaker, SeasonYear (in descending order) is used for sorting. Note: The items that are discontinued will not show on the Item search screen. Once the item is discontinued, an update to the flag should trigger an item index update to remove the item or add the item back to the index per the flag value. View Item Details When a user selects a particular product from the product/item list, the item details will be available on the screen. Item details provide all the information of the item including, price, availability, different colors and sizes it is available in, different delivery methods and shipping methods it supports, and so on. Store Location Item details allows for a pickup store to be selected for any ship to store/pickup at store orders. If the customer profile has a 'Preferred Store Pickup Location' configured, then the item details page will display that store. If a new store is selected via the store locator, then the 'Preferred Store Pickup Location' section will be replaced with the 'Selected store' section. Item Availability Item details give the availability picture of the item. The availability picture of the item is shown based on the 'Network level Availability View' configured in Call Center Configuration. If the item is available: If there is at least one unit available On Hand, the available quantity from the network view is displayed as "Available" If all the units available are future inventory, the first available quantity from the network view is displayed as "Available" on first available future date from the network view. If the item is out of stock and there is no current inventory available, the system displays the date of first future inventory that is available outside the current view configuration. If the item is out of stock with no future inventory available outside the view configuration, 'Item is currently not available' is displayed. Note: If 'Network level Availability View' is not configured in call center configuration, then the item screen treats it as infinite inventory and does not display any information related to availability. Note: The First Available Future Date and First Available Future Quantity fields are computed in the network availability response only when the network view is configured with "Publish Future Supply Time Window" and/or "Publish Past Due Future Supply Time Window". If these 2 fields are not configured, the available quantity will be displayed as "Available" in the item details screen with no future date. Please refer to Future Availability Visibility for more details on configuration. Note: Configuration needed- In product catalog, all items have red indicator for no availability. Item shows both in network and in stock availability. (If any item within the product style has item availability, the indicator badge should be green. When item is brought into workspace, indicator shows correctly. Item Options A product in the list can contain a set of items with different colors and sizes available. These are called item options and Manhattan Active Omni supports 2,500 item options within each product. The Item options panel displays the list of colors and sizes available for the given product. The currently selected item color and size is highlighted in blue. The remaining are either highlighted in a gray or dotted border or with struck-off text. When the color/size box is highlighted in grey, it indicates that the color or size is available. When the color/size box appears with a dotted border, it indicates that the color or size is not available (as per 'Network level Availability View' configured in call center configuration) for the currently selected size/color. When the color/size box is struck off, it indicates that the color or size is not sold with the combination of the currently selected size/color. Note: By default, item options are shown in swatch mode. If the number of options is too many to display in swatch mode, change the configuration to show it as a drop-down in Call Center Configuration. By changing to drop-down, the options API will also not show the availability picture for performance reasons, as the number of items to get the availability picture increases. Tip: Custom / extended attributes can also be configured as item options. Check implementation flavors below for more details. Note: When displaying extended attributes in item details on the item search page, the UI utilizes either the base attribute name or the extended attribute name as configured in the Call Centre item options to display in item details UI. Consequently, you will need to either rename the extended/custom attribute to something distinct from the base attribute name (for example, 'Size'), or develop custom logic via an Iframe extension to display 'Size' identically to how the base system presents it Note: If Item Attribute Localization is enabled on the Contact Center Configuration UI, the ItemId is passed in the payload of Item options API. Item options API: /customerengagementfacade/api/customerengagementfacade/ds/item/options Item Prices When searching for an item in the Item Search UI, there are two places the CSR can view the price of an item. The first place is the middle of the page in the item tile, and the second is on the right in the item details section. The tile in the middle of the screen displays product level information and displays the maximum or minimum selling price in that product class. For example, if there is an item class, 'Tops' and it contains two unique items, Small/Blue/$20.00, and Small/Red/$30.00, you can sort the items by prices descending/ascending. If you sort the items by price descending, the middle tile will display $30.00 as the price since this is the maximum selling price within 'Tops' product class. The specific item selling prices can be found in the item details section on the right-hand side of the screen. If you sort the items by price ascending, the middle tile will display $20.00 as the price since this is the minimum selling price within 'Tops' product class. The specific item selling prices can be found in the item details section on the right-hand side of the screen. The item details section on the right displays the actual selling price for the specific item (color, size) selected. A CSR should always reference the item details section for real selling price information for any given item. If the tile price should always match the price in the item details, use an extension. Item selling price can be configured in the Item Prices UI. Selecting Available Delivery Options Next, the CSR asks the customer the delivery options if they would like to have the item shipped to their home, or if they would prefer to pick it up in a store. The items in the call center can support the following list of delivery methods. The table below lists the item attributes to be enabled in order to support the corresponding delivery method. Delivery method Item attribute Ship to address SellingAttribute.ShipToAddress Pickup at store SellingAttribute.PickUpInStore Ship to store SellingAttribute.ShipToStore Email SellingAttribute.DigitalGoods The main delivery methods are: Ship-To Address - This delivery method is used when the order has to be shipped to the customer's address. Pick Up at Store - This delivery method is used when the customer would like to pick up the order at the store. Ship to store - This delivery method is used to ship the selected item(s) to a nearby store so that it can be picked up by the customer. Call center application provides the capability to select a store in the store locator pop-up when the delivery method is pickup at store or Ship to store To know more details about delivery methods/options, refer to "Select Available Delivery Options" on the order creation page. Store Locator In the Store locator pop-up for the selected item, users can search for the stores to either pick up or ship to the store. The store can be searched based on radius within the pin code or city/ state/ country combination. The available store is listed, and the user can select the pick or ship to store option. The store price of a selected item is displayed for each store on the store locator pop-up. However, if the store price for an item is unavailable for a particular store, then the web price will be displayed. Store locator uses Google Maps to locate the stores on the map. Click here to understand how to configure the store locator pop-up and maps. For the stores to appear in the store locator pop-up, the following attributes must be set: LocationFulfillmentAttribute.PickupAtStore - To support pick up at the store LocationFulfillmentAttribute.ShipToStore - To support ship to store Note: Check UI Resource page for more details grants and other configurations that impacts store locator pop-up. Selecting a Shipping Method Finally, the CSR asks the customer for a preferred shipping speed and selects a shipping method. The shipping rates for each item are configured by the system based on different attributes, such as weight, volume, and value of the item. The call center displays the list of shipping methods supported by the item sorted by charge in ascending order. Check Shipping Method for more details. Note: Only the Item Search page displays the shipping methods sorted by charge in ascending order. This does not apply to the Order Edit UI. Timezone of the Time Displayed on the Screen Section Field Timezone Item details, below quantity spinner ETA Logged in user time zone To select the shipping method for the selected item, perform the following steps: On the Item Search page, search and select an item. After the delivery option is selected for the item, the shipping methods are enabled along with the estimated delivery date. Select the necessary shipping method. Sending Product Details Page to Customer When interacting with a customer over the phone, the customer may want to see the item being discussed. A share icon is displayed on each item image to allow the CSR to easily send item details to the customer. Upon clicking the share icon, the CSR can enter the email or phone number of the customer, and click the 'Share with Email' or 'Share with SMS' button. This will send the link to that product's product details page, so the customer can view it. Refer to Transactional Emails for the configurations required to enable emails. To view this 'Share with Email' or 'Share with SMS' field in the item details screen, CSR needs to have the grants enabled on their user. Refer to UI Resources for more details on grants. For Email: customerservice::order::itemsearch::sendproductrecommendationlink. For SMS: customerservice::order::itemsearch::sendproductrecommendationlinksms Adding an Item Once all of these selections have been made, if the customer wishes to add more items to the order, the CSR clicks the Add to Cart button which allows them to remain on the item search screen while they build a shopping cart. If the customer confirms that this is the only item for the order, the CSR clicks Add to Order and Proceed, which advances the user to the next order creation screen. The Search Items guide includes additional details about the Add and Checkout buttons. There are 3 buttons: Checkout - enabled once the item is added to the cart Add & Checkout - adds item to cart and checkout item, navigates to the order detail page Add to cart - adds multiple items to the cart with separate order lines each time it is clicked Based on the checkout option selected, the Cart items number will be updated in the top right corner of the item details section. Before navigating to the order details screen, the customer details pop-up will be displayed for customer information. In the Item search screen, click on add & checkout/checkout button, this pop-up is prompted. If the customer is - Existing Customer - Search customer based on name/email/phone. Searches both registered/anonymous customers. The Customer IsActive flag has no impact on this pop-up. New Customer - create a customer by entering the first name, last name, email, and phone number. The following fields are mandated in UI based on the configuration CustomerConfig.CustomerIdGenerationStrategy (EMAIL, PHONE, AUTO - case insensitive) Phone number is mandatory when CustomerConfig. CustomerIdGenerationStrategy is PHONE Email is mandatory when CustomerConfig. CustomerIdGenerationStrategy is EMAIL Either of them is mandatory when CustomerConfig.CustomerIdGenerationStrategy is AUTO Once the customer information is captured, CSR is redirected to edit order screen to capture shipping and payment information. Capturing email Email in customer dialog mentioned above is validated against the regular expression /^([^@\s\."'\(\)\[\]\{\}\\/,:;]+\.)*[^@\s\."'\(\)\[\]\{\}\\/,:;]+@[^@\s\."'\(\)\[\]\{\}\\/,:;]+(\.[^@\s\."'\(\)\[\]\{\}\\/,:;]+)+$/ Display Product Recommendations and Annotations in Contact Center CSRs can view recommended products while working with items in the Item Search, Edit Order, or Return/Exchange Summary pages. Product Recommendations display a list of recommended products while working with a selected item. Agents can also see annotations for each of the items displayed in the recommended products section. Annotation refers to appending additional information about the recommended products sent by the recommendation engine to provide more information to the user or customer. The annotations available are as follows: 'Available at your store': When looking at annotations for a registered customer ID, this annotation will appear indicating that the item is available at that customer's preferred pickup store. The preferred pickup store is configured on the customer's account. If no registered customer is present, this annotation will appear when a pickup location is selected from the location search page. The product recommendations will use this selected location to display the 'Available at your store' annotation. To learn more about this annotation, see Product Recommendations. 'Ships with your order': This annotation will appear when an order is already present, and an estimated ship from location has been calculated. This annotation indicates items that are projected to ship with the items already present in the cart. This is in an effort to limit split shipments. To learn more about this annotation, see Product Recommendations. 'Product Deal Name': The product deal name annotation provides a list of eligible deals from the Manhattan Active® promotion engine that could be applied to each recommended product. To learn more about this annotation, see Product Recommendations. The number of annotations being displayed for a recommended item will affect how they are displayed. See the following: Single Annotation: If an item has only one annotation, the agent will see a chip displaying the full annotation name. Multiple Annotations: If an item has multiple annotations, each annotation will be represented by an icon within a chip. The description of each annotation can be viewed by hovering over the chip, which will display the tooltip. This allows agents to easily identify annotations at a glance and access detailed information when needed. Refer to the product recommendations guide to enable product recommendations and annotations while working with selecting items in the contact center application. Note: Items in the recommended section may be shared via phone number or email the same as items in Item Search. How to Configure Product Recommendations and Annotations Recommendation and annotation configuration is managed in the Product Recommendations Configuration user interface. Items may also be filtered out of the list of recommended items displayed based on the annotations. If the desire is to not see any recommended products which are not available at the preferred pickup store, then this may be configured. If the desire is to not see any recommended products which will not ship with your cart, this may also be configured. See Configuration for details. How To Configure Store Locator Pop-up Google Maps API Key Store locator pop-up uses Google Maps out of the box to show the locations on the map. To access Google Maps, provide a Google Maps API key. Obtain a new key for the production environment by following these steps: Get Google Maps API key. Google offers premium plans which will increase the daily limit of accessing the maps from 25,000 to higher value. Configure the Maps Key in the System Since customers may not directly have access to the consul or KV store. They can ask the services team to help with the below Configuration. The services team can add the API key in consul server under the following location: /config/com-manh-cp-customerengagementfacade/ for the key maps.GOOGLEMAPS. To add an API key for Google Maps, follow the below steps. Services team can navigate to the KV store consul KV property to be used for Google Map API Key is : maps.GOOGLEMAPS.apikey The property is to be created inside config/com-manh-cp-customerengagementfacade/ Enter the key that was procured from the link above section in the text area in kv consul and click on create folder. Restart the customerengagementfacade component from portainer Available Deals Available deals are displayed in a collapsible panel within the Item Search results page. The deals displayed are based on items in the customer's cart, and are retrieved from the promotions configured in the promotion engine. Only deals that are specifically configured to prompt the user and that contain a prompt text are displayed to the CSR. Note: Available deals are supported for promotions configured in the Manhattan Active Omni promotion engine. Configure Available Deals Deals are configured in the Manhattan Active Omni promotion engine. Details on deal configuration can be found here. For a CSR to view the available deals, they must have the below permission assigned to their role. customerservice::order::viewavailabledeals Implementation Flavors Search item by extended attributes in keyword search or exact search Out-of-the-box keyword search allows users to search by certain attributes. However, keyword search can also be configured using custom / extended attributes as well. Step 1: Update the template for item search in the item component to ensure that the attribute gets indexed. (to update the template, log in to systemadmin@system.com) For item: DefaultItemSearchTemplate For customers: DefaultCustomerSearchTemplate Step 2: Update the search config entity with the attribute that needs to be searched with RelevancyScore more than 2 (this can be updated by logging in with systemadmin@system.com, but make sure to pass ‘Organization' in the request parameter for the organization that needs this change. ex …/searchconfig/save?Organization=’sophias-us') { "AttributeName": "Attribute1", "RelevancyScore": 4, "SearchIndexTypes": "item", "MatchType": { "MatchTypeId": "Both" }, "AttributeType": { "AttributeTypeId": "Text" } } Provide the Match Type that is required. The following match types are available out of the base: Partial - Text Partial Analyzer Phrase - Text Phrase Analyzer Original - Text Original Analyzer Phone - Phone Analyzer ExactPhone - Exact Phone Analyzer Both - Both Analyzer Note: The query attribute will always perform an exact match (case insensitive), regardless of the SearchConfig settings. The MatchType in SearchConfig is used to determine if an attribute should be included in the search when a keyword is used. For example, If an attribute is marked as "partial," it will be included in the search when a keyword is used. If an attribute is marked as "phrase," it will be excluded from the search when searching by keyword. Making VariableDescription as partial includes VariableDescription attribute while searching in keyword. Information  on analyzers Phrase: Text exact matches. Partial: Text partial matches as one type. Both: Text matches both phrase and partial. GeoLocation: Location, with geo-point/geo-hash, matches. None: Text does not require an analyzer." Once the changes are made, re-index the entity if the indexes are already calculated. To add these custom/extended attributes as a specific search attribute, add the attribute in Call center config Item Search fields. Column Comments Search Field Id Any unique ID Search Field The actual search field to search for an item. Also, the field gets displayed as a label(it is possible to add localization entry in customerengagementfacade/common-bundle) Note: The keys for custom fields added to call center item search localization should be same as the search field in the contact center configuration. Display Sequence The position where this field should be displayed Note: When displaying extended attributes in item details on the item search page, the UI utilizes either the base attribute name or the extended attribute name as configured in the Call Centre item options to display in item details UI. Consequently, you will need to either rename the attribute to something distinct from the base attribute name ('Size'), or develop custom logic via an Iframe extension to display 'Size' identically to how the base system presents it Configure Custom / Extended as an Item Option Out of the box base provides the following item options Color and Size. To configure new items options: In omnifacade, go to Manage Call Center Configuration. Refer Call Center Configuration for more information. Select the default config and click the View button. Click ITEM OPTIONS. Out of the box, there are 2 item options configured. However, more options can be added too. Important fields to populate Attribute - An item direct attribute - sub object attribute is not supported (extended attribute is supported like Extended.Attribute1) Related Attribute - not used in base Display Sequence - sequence in which these options should be displayed on UI Sort Attribute - An item direct attribute that will be used for displaying the item options sorted. For example, if the colors have to be sorted in a specific sequence,  add 'ColorSort'Sequence' here and ensure it is populated in item object with the proper value as per requirements. With this, the new item option can be seen on the screen. Perform Validation While Adding Items to Cart For example, Restrict add Item if entered quantity is more than the available quantity. Implement the iframe (ScreenId: ds::item-search,ExtensionId: item-search-iframe) as a hidden iframe (height:0,width:0). Refer to How to use IFrame extension for more details. Listen to onAddItemEvent and onAddItemAndCheckoutEvent events, the events will be fired when the Add to Cart, Add and Checkout buttons are clicked respectively. Perform the required validations with the received payload. If the validation fails, open a pop-up using MAExtension.PopupsScreen.actions.open(). Refer to MA Extension Util Functions for more details. If the validation is a success, send the acknowledgment via respective action. Example: MAExtension.ItemSearchScreen.actions.ackAddItem({ "ackAddItemBool": true, "Order": data.payload.Order, "OrderLine": data.payload.OrderLine }); Passing Extended Attribute from Customer to Order An iframe can be implemented in the item screen and listen to the add & checkout / add event in the iframe. You will also have access to customerId passed in parameter in the iframe, use this to load the customer information in the iframe and populate it in the desired field in the order component and call the corresponding acknowledgment. Troubleshooting Unable to find all colors for an item, all sizes for an item, item with input color and size, or all item options in Item Search The item screen uses an api called /itemOptions to display the item options like Color / Size on UI. This API internally loads all the items with different options (size/color) for given combination of product class and style based on the property ‘cefacade.maxGetItemOptions’ ‘cefacade.maxGetItemOptions’ property out of the box is set to 2500 (as per most business use cases). This means UI will display colors and sizes of 2500 items. However, if you have configured more than 2500 items, then not all colors and sizes will be displayed. In order to fix the issue, you can first try to identify the count of items for the given combination of product class and style by hitting the item component. Identify if all the items are required for given combination of product class and style, if yes, then check If the count is more than the value in cefacade.maxGetItemOptions, then set cefacade.maxGetItemOptions to the count that was returned from above query. You can set this in the kvstore or config repo to make it permanent. Work with services to do the same Before enabling this in prod, ensure to do required PE exercise The selected organization is not included in the Add & Checkout /Add To Cart command router Out of the box does not pass selected organization always. Use the custom approach to get the organization. Pass the selected organization to your custom API from user context. The url is {{url}}/customerengagementfacade/api/user/context, it is a GET call with no body. The call is made on any page reload in Customer Engagement facade, you can fetch it from the network tab. Not able to add shipping method to the order when the order lines are more than 60 Increase the containers in com-manh-cp-customerengagementfacade component from 1 to 2 While adding items browser refresh removes items from the cart Whenever you are adding an item and refresh there is no placeholder to hold the item, which is the expected behavior as per current design. Google map is not loading on UI Step 1- Check and follow what message is shown on UI. Step 2- Check in browsers developer console for any errors related google maps. Step 3- Refer google documentation to resolve the problem. Unable to perform keyword parameter search with all numeric item ID Save the search configuration with AttributeTypeId as IdField by following the steps below: Navigate to Menu > Manage Search Configuration > SearchV2 Configurations On the SearchV2 Configuration page, select the "<Component>" component record and click Edit. On the Search Config Details page, click Cancel and then expand the Search Attribute Config. In the Search Attribute Config section, click Add. Enter the Attribute Name as <AttributeName> Select IdField in the Attribute Type ID drop-down. Select Match Type ID as Both Enter Search Index Types as Item and Click Submit. Not able to see the item on the item search page If the item price record was interfaced/created before the related item in the item master, perform item sync operation. Otherwise, the items will not be displayed on the item search page. Related Articles Overview and NavigationUI ResourcesOrder ModificationsTransactional TextsOrder Status InquiryCustomer Service Insights DashboardReturns and ExchangesTroubleshooting Call Center ConfigurationTransactional EmailsKits in Call CenterCross-Organization Visibility