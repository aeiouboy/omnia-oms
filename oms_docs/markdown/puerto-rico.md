# Puerto Rico

**Permalink:** puerto-rico
**Path:** Manhattan Active® Omni/Store/Process & Configuration Guides/Point of Sale/POS Guides/POS Fiscalization and Globalization/Puerto Rico
**Content Length:** 37,426 characters
**Scraped:** 2025-08-09T22:02:43.117413

---

Home ››Manhattan Active® Omni››Store››Process & Configuration Guides››Point of Sale››POS Guides››POS Fiscalization and Globalization ››Puerto Rico Puerto Rico OverviewTerminologyConfigurationIntegration ConfigurationSoftek Terminal ConfigurationFiscal ConfigurationLocal tax configuration for Puerto RicoReceiptsPuerto Rico FiscalizationSupported/Not Supported Features for Puerto RicoServices Overview All fiscal transactions with applicable Sales and Use Tax (IVU) must be digitally signed and reported to the Treasury Department of Puerto Rico. To achieve this, Manhattan Active Omni® POS has partnered with Softek to achieve fiscal compliance in Puerto Rico. With Softek's tax solutions, the business will have devices authorized by the Department of the Treasury to capture and transmit tax data for the Sales and Use Tax (IVU) and generate the fiscal control number required by the Department of the Treasury of Puerto Rico. Softek's Fiscal Network is an independent and unique mechanism designed to automate the capture and sending of fiscal data to the Government of Puerto Rico. It is used to periodically record and communicate the transactions that take place in those businesses that are connected to the Fiscal Network. Key highlights: 1. All PR transactions must be reported, and the "control number" must be printed on the customer copy receipt. 2. If the Control Number code cannot be obtained or generated for any reason (usually interrupted communications), the following information must be printed on the receipts instead: "CONTROL NUMBER NO DISPONIBLE" Terminology PR - Puerto Rico IVU - Sales and Use Tax (Impuesto a las Ventas y Uso) Control number - Unique identification number assigned by the Hacienda (Department of Treasury) Configuration Below are the Manhattan Active® Omni POS application configurations required if the store is located in Puerto Rico. Integration Configuration Below configuration is required to integrate with Softek. This integrates the transaction data from Manhattan Active® Omni POS application to Softek. Define URL in KV store Add the configuration below to the KV store property: File: fiscal.config Details: [ { "url": "https://txportwst.txhubpr.com/txserver/2", "countryId": "PR" } ] Fiscal Template Config This template config is used to map transaction details from MAO as a SOAP request that is sent to Softek at order confirmation. Note: This is base seed data and should be available as part of bcf::fiscal profile purpose. Payload: {{url}}/backoffice/api/backoffice/fiscalTemplateConfig FiscalTemplateConfigId: "SoftekFinishTransactionTemplate". If this is not present, recommend do a profile sync or import manually from base seed data. Payment type Configuration Payment used for transactions in Puerto Rico needs to be sent to Softek. There are specific payment type which needs to be repported to Softek and that needs some map. Below configuration is used for mapping Manhattan Active® Omni POS to Softek. Note: This is base seed data and should be available as part of bcf::fiscal profile purpose. Payload: {{url}}/backoffice/api/backoffice/fiscalAttributes/save PR-PaymentType{ "CountryId": "PR", "FiscalPartner": "Softek", "GroupName": "Payment", "AttributeName": "Cash", "AttributeValue": "CASH" }, { "CountryId": "PR", "FiscalPartner": "Softek", "GroupName": "Payment", "AttributeName": "Credit Card", "AttributeValue": "CREDIT" }, { "CountryId": "PR", "FiscalPartner": "Softek", "GroupName": "Payment", "AttributeName": "Debit", "AttributeValue": "DEBIT" }, { "CountryId": "PR", "FiscalPartner": "Softek", "GroupName": "Payment", "AttributeName": "PaymentDefault", "AttributeValue": "UNKNOWN" } Softek Terminal Configuration The Fiscal cashbox i.e. register in the PR stores needs to be registered with Softek. Retailers are required to work with Softek team to get this activation process. After the Terminals is registered with softek, it is required to map it back on Manhattan Active® Omni POS application. This basically involves 3 type of data MerchantId TerminalPassword RegisterId Merchant Id This configuration need to be set at store level. For each store, merchantId configuration is needed. Use can use the fiscal Attributes configurator UI or below payload. {{url}}/backoffice/api/backoffice/fiscalAttributes/save { "CountryId": "PR", "FiscalPartner": "Softek", "AttributeName": "MerchantId", "AttributeValue": "{value}", "LocationId": "{locationId}" } Terminal Password This configuration need to be set at store level. For each store, TerminalPassword configuration is needed. Use can use the fiscal Attributes configurator UI or below payload. {{url}}/backoffice/api/backoffice/fiscalAttributes/save { "CountryId": "PR", "FiscalPartner": "Softek", "AttributeName": "TerminalPassword", "AttributeValue": "{value}", "LocationId": "{locationId}" } TerminalId This configuration needs to be set at each register level. For each "stores register", existing registerId will be used as the terminalId. Fiscal Configuration "EnableFiscal" should be enabled from the Fiscal Business Configuration MUP UI. Currency Configuration Currency Configuration: Configure both the cart and the back office to work in the USD currency code. For Backoffice to be set up as USD currency, i.e. BO Store Configurations > Store Base Currency = USD For Cart, use POS Store Configurations > Store Common Config > “Default Store Currency” = USD Make sure that Store Currency (e.g. “USD)” has all denominations set if counting is by denominations, via Backoffice > “Store Currency” and Currency Denomination configurations. Locale Configuration Store Locale: To set up store locale, POS Store Configurations > Store Common Config >Default Store Locale= en-PR, es-PR Tax Configuration PR's Tax system is sales and use tax. No specific configuration is needed for this. Order Configuration > Tax Engine -Set up the Tax engine for “mPOSConfig“ as “Vertex” or “LocalTax” is also supported. For tax configurations setup, refer Local Tax guide. *Tax rates in PR are as follows as of December 2024: Sales Tax :10.5% Municipal Tax: 1% Local tax configuration for Puerto Rico If system needs to execute transactions using local tax engine due to tax engine being down or other reason, you will be required to define tax rates in PR region in the Advanced Tax rate V2 configuration. Below are pre-liminary setup required to acheive this. Enable AdvanceTaxRate V2 POST - {{url}}/tax/api/tax/advancedTaxConfiguration/save { "EnableAdvancedLocalTaxV2": true, "EnableAdvancedLocalTax": false, "TaxConfigId": "DEFAULT", } Add Jurisdiction Type:  Jurisdiction type needs to be defined. Below are the types of jurisdiction that will be used by system to map taxes to softek. POST - {{url}}/tax/api/tax/jurisdictionTypes/import { "data":[ { "JurisdictionTypeId":"TERRITORY", "JurisdictionTypeDesc":"Territory" }, { "JurisdictionTypeId":"COUNTY", "JurisdictionTypeDesc":"County" } ] } Sample tax rates for PR region Use below sample tax rates. Modified the content as needed to import local tax rate into the system. POST - {{url}}/tax/api/tax/advancedTaxRateV2/import PR_Localtaxrate{ "data": [ { "VatTaxCode": null, "Description": null, "TaxSequence": { "TaxSequenceId": "1" }, "TaxCode": "ALL", "RateClassification": null, "TaxRateType": null, "AdvancedTaxRateDetailV2": [ { "Rate": 0.105, } ], "LocationId": "tm-demo-us:80228-1448", "EndDate": "2030-01-12T12:01:00", "IsNonTaxable": false, "BeginDate": "2000-01-12T12:01:00", "Jurisdiction": "PUERTO RICO", "TaxType": { "TaxTypeId": "SALES" }, "IsInformational": false, "IsExemptable": true, "BookId": "Default", "IsIncremental": false, "JurisdictionType": { "JurisdictionTypeId": "TERRITORY" }, "Country": "PR" }, { "VatTaxCode": null, "Description": null, "TaxSequence": { "TaxSequenceId": "1" }, "TaxCode": "ALL", "RateClassification": null, "TaxRateType": null, "AdvancedTaxRateDetailV2": [ { "Rate": 0.01 } ], "LocationId": "tm-demo-us:80228-1448", "EndDate": "2030-01-12T12:01:00", "IsNonTaxable": false, "BeginDate": "2000-01-12T12:01:00", "Jurisdiction": "BARCELONETA", "TaxType": { "TaxTypeId": "SALES" }, "IsInformational": false, "IsExemptable": true, "BookId": "Default", "IsIncremental": false, "JurisdictionType": { "JurisdictionTypeId": "COUNTY" }, "Country": "PR" } ] } Receipts Receipts in Puerto Rico includes additional details as per the Puerto Rico fiscal regulations. Look into receipt sample here. Puerto Rico Fiscalization To support POS pay and Carry transaction in Puerto Rico, Puerto Rico Treasury Department mandates merchants to submit sales transaction information via a fiscal terminal device and print receipts The following are the current receipt specification are required and supported by Manhattan Active® Omni POS application The Control number needs to be printed in the receipt as "Control number" and the value will be the data provided by Softek Web Services API Response. The Processor code i.e. (processed by Softek) needs to be present in the receipt. Refer to sample receipt link in the receipt section for more information. Pre-Requisites: The retailer must register all the terminal used in store locations with SOFTEK to get MerchantId TerminalPassword TerminalId All PaymentType supported in "Puerto Rico" store location needs to be mapped in fiscal Attributes. All other Puerto Rico specific configuration list in the configuration section is completed. Failure Handling If a message is attempted to be sent to softek but failed because of communication failure. Such transactions will be logged in the fiscalRequestLog in backoffice component with details of failure. However, the transaction will be completed as "CONTROL NUMBER NO DISPONIBLE" Supported/Not Supported Features for Puerto Rico Below is the list of features which are supported and not supported in Puerto Rico by Manhattan Active® Omni POS application, where : ✅ : Supported and Fiscalized : Supported But Not Fiscalized ❌ : Not Supported Feature Status Sales flow with cash, Credit card, Debit card, Personal cheque,Traveller's check, Gift card ✅ Sale transaction using foreign currency cash ✅ Sale transaction by activating customer ✅ Sale transaction with guest check out ✅ Sale transaction by linking sale associate ✅ Sale transaction with price override ✅ Sale transaction with one or more quantities ✅ Sale transaction with line void or mid-void ✅ Sale transaction with mid-payment void ✅ Sales flow with VAS ✅ Sales flow with non-merchandise items ✅ Void Transaction ✅ Sale with transaction/ line discounts ✅ Sale with Promo ✅ Tax Override ❌ Tax Exempt ❌ Return with receipts-Return from single order ✅ Return with receipts-Return from multiple orders ✅ Return with receipts-Return Ship To Address, Pick up In Store orders created from POS - single order/multiple order ✅ Return with receipts-Return e-com Ship To Address, Pick up In Store orders in store ✅ Return with receipts-Return e-com Ship To Address, Pick up In Store along with POS sale orders in store ✅ Return Refund to same tender paid originally or any other tender irrespective of original payment ✅ Return with receipt, but return has restocking or other fees ✅ Return without Receipt ✅ Exchange -customer is returning item/items and buying new items in the same return transaction ✅ Print/Email Receipt ✅ Print/Email Gift Receipt ✅ Reprint receipts from historical transactions ✅ Reprint receipt of last transaction on the register ✅ Reprint Gift receipt ✅ Re-send email of receipts ✅ Resend Gift receipt ✅ Gift Card activation ✅ Gift Card Reload ✅ GC Balance inquiry Gift Card Cash Out All Back Office Transactions All Manager Function-No Sale Suspend/Resume ✅ Omni Transaction-Sale with InStore purchases and Ship to Address lines ✅ Omni Transaction-Pick up at store lines ✅ Omni Transaction-Ship to Store lines ✅ Omni Transaction-Buy Online, Pick up in Store + Purchase more while in store ❌ Order deposits, i.e. Pay in partial deposits ❌ Order quote Post void Exchange Tender, I.e. exchange 2 gift card and issue 1 gift card ❌ Price Check ❌ Offline Transaction-Standalone transaction creation without internet connectivity ✅ Out of Order, Manual Transaction ❌ The features which are not supported should be controlled via grants or Business Flags. Refer to Configuration and Resources guide for more details on the configurations. Services The APIs listed below are related to Puerto Rico Fiscalization at Manhattan Active® Point Of Sale and are referenced in this document. Refer to API documentation for additional details on each service. Service Component Group Service Endpoint FiscalConfig Order FiscalConfig {{url}}order/api/order/fiscalConfig OrderConfig Order OrderConfig {{url}}order/api/order/orderConfig Job Scheduler batch Job Scheduler {{url}}/backoffice/api/batch/jobSchedule Trigger Adhoc batch Job Scheduler {{url}}/backoffice/api/batch/jobSchedule/triggerAdhoc fiscalAttributes Backoffice fiscalAttributes {{url}}/backoffice/api/backoffice/fiscalAttributes Fiscal Process Backoffice Fiscal Process {{url}}/storefacade/api/storefacade/backoffice/fiscal/processFiscal Register devicemanagement register {{url}}/devicemanagement/api/devicemanagement/register/save