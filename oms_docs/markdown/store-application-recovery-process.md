# Store Application Recovery Process

**Permalink:** store-application-recovery-process
**Content Length:** 11,003 characters
**Scraped:** 2025-08-09T22:36:33.650256

---

Home &rsaquo;&rsaquo;Manhattan Active® Omni&rsaquo;&rsaquo;Store&rsaquo;&rsaquo;Process & Configuration Guides&rsaquo;&rsaquo;Store Common ››Store Application Recovery Process Store Application Auto Recovery Customers&nbsp;using older iOS devices to run store application may complain about iOS killing the store application while it is in the background, forcing the store users to login again.&nbsp;Manhattan Active&nbsp;Store&nbsp;solutions provide an ability to recover and automatically re-login the user to the store app in the&nbsp;event of such unusual termination. This guide covers the scenarios when&nbsp;the store application can be&nbsp;recovered. OverviewRecovery ConfigurationRecovery ProcessWorkflowServices Overview Some certified devices for Manhattan Active&nbsp;Store application have&nbsp;less RAM as compared to the newer devices from Apple. These devices can also be used by the retailers for other mobile&nbsp;applications installed on the same devices. iOS optimizes the memory utilization on its&nbsp;devices and&nbsp;automatically terminates&nbsp;background applications to support a foreground app as necessary. Before this feature, when this happens for&nbsp;Active Omni Store app&nbsp;(or if the associate accidentally terminates the app) upon relaunching the app, the store associate must login again. &nbsp;Additionally,&nbsp;any cart transaction that was in progress was&nbsp;abandoned and could not be retrieved. The associate will have to create the transaction from the beginning again. To alleviate this inconvenience, in the event of such termination, the store app re-logs the user with the app recovery feature. Note: While we have noticed these app terminations are mostly apparent on&nbsp;older device models (iPhone 6/7 , iPod touch 6) &nbsp;due to its limited RAM, this can happen to any apple device as users can always launch more (and more memory intensive) foreground apps with store app in background. Recovery Configuration Business Flag: This behavior is controlled by a Business Flag &ldquo;Time Duration For Store App Recovery (in minutes)&ldquo; in&nbsp;&quot;Store Common Configuration&quot; (i.e. under&nbsp;component-store-facade &gt; storeCommonConfig) which is also&nbsp;available as part of store common static data - storefacade/api/storefacade/storecommon/staticdata. The Default value = null for the business flag, When blank or null or 0 or &lt; 0 consider as BF = false. Only if value set is &gt;= 1, BF is treated as&nbsp;enabled or true. The store users will enter time duration in minutes. (Expectation is that the associate knows the token expiration criteria from AuthServer and enters realistic number. Data Recovery:&nbsp;The behavior to reload or retrieved POS transaction data is controlled by another flag &ldquo;Reload Application Data&rdquo;, Default = true,&nbsp;this will considered only&nbsp;when business flag above is enabled.&nbsp;This is available in POS General Config &gt; Common Config, when this is false, i.e. no transaction will be reloaded. UI Grant:&nbsp;Store users should have access to existing ui grant &quot;ui::posservice::menu:pos-cart&quot; to reload application data. Recovery Process When this feature is enabled, application records&nbsp;appLastUsedTimeStamp at regular intervals&nbsp;and when the app is terminated - whether killed manually by user or&nbsp;any iOS driven ungraceful termination of app etc, the authentication token from the previous login is still intact in local storage for a period of time. &nbsp;When the app is opened again, rather than directing the user to the login page, the app will compare the&nbsp;appLastUsedTimeStamp&nbsp;with the configured recovery&nbsp;time, and when the app is relaunched within the configured recovery time and then the app will&nbsp;use the token to login internally. Depending on whether there was a transaction in-progress before the app was killed by iOS, the app will redirect the associate to either:&nbsp; POS Cart page - if the application was terminated within the configured &#39;time duration&#39; (and obviously within the period that the authentication token persists), the process will use the authentication token from the previous user to auto-login the user and auto-resume the cart from the termination point. The Home Page - if the associate was not in the cart (ex. Order Summary payment screen with full or partial payment initiated) the process will not attempt to resume from that exact state.&nbsp; That transaction will be abandoned and users will need to repeat it.&nbsp; However, the previous authentication will be used to auto-log the previous user&nbsp;to the Home Page, saving the login step. Clearing of local storage data i.e. &quot;application last time stamp&quot; and &quot;transaction&quot; will happen when the user logs&nbsp;out of&nbsp;the application. Transaction is cleared from local storage when it is canceled, suspended,&nbsp;successfully completed or when the&nbsp;business flag &quot;reload application data&quot; is false. Key Highlights of this feature Key Highlights Out of Scope This feature&nbsp;is applicable only when the app has been terminated and not by our Inactivity Timeout functionality.&nbsp; Navigation to the exact screen/pop-up from which the app was&nbsp;terminated.&nbsp; Ex. discount popup. The configurations (StoreCommonStaticData and POSStaticData) based on which the associate is auto-logged in will be read from local storage. The updated config will only be available in the StoreCommonStaticData after the login operation while the home screen is being loaded. Resuming a transaction for which partial payment was already done or even a requestLog was created for payment. This will retrieve below transaction with conditions Order is not canceled/post voided Order is not suspended or put on hold Order is not confirmed or completed Regular Sales, Omni Sale orders Transaction with modifications i.e customer attached, loyalty number, price modified, VAS attached, Tax exempted or override, Discount or promo applied etc Order as Employee transaction This will NOT retrieve any of the below transaction Backoffice or Manager till functions Exchange tender GC enquiry transaction Post void transaction, Returns and BOPIS Upon auto login, there will be no restriction in making existing APIs - storeAppRoot, grants, Feature flags, listForLocations, POS/SIF/StoreCommon static data etc.&nbsp; All these existing calls will be not be impacted by this feature. &nbsp; &nbsp; Note: Store application recovery is applicable for online store applications only on iOS devices. This&nbsp;solution is not certified for&nbsp;Android or Windows operating devices nor&nbsp;is it applicable for offline store application recovery. Workflow Services Service Component Group Service Endpoint App Reload Controller posservice App Reload Controller posservice/api/posservice/reloadAppData &nbsp;