# Curbside Pickup

**Permalink:** curbsidepickup
**Path:** Manhattan Active® Omni/Order Management/Process & Configuration Guides/Digital Self-Service/Curbside Pickup
**Content Length:** 89,741 characters
**Scraped:** 2025-08-09T21:55:21.411202

---

Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Digital Self-Service ››Curbside Pickup Curbside Pickup OverviewFunctional FlowNotifying Stores when Customers are 'On The Way'Curbside Order Capture & ProcessingCapturing Curbside Pickup Orders in Contact CenterCapturing Curbside Pickup Orders in E-CommerceCurbside Pickup in Store FulfillmentCustomer ArrivedText MessagingNotification SoundsOptional StepsExceptionsDigital Self-Service AuthenticationCustomizing for your BrandDigital Self-Service UI Field MappingsDigital Self-Service LocalizationUsing Digital Self-Service & Store Fulfillment with Cross-Org VisibilityConfigurationOrder ConfigurationDigital Self-Service ConfigurationStore Fulfillment ConfigurationText MessagingTwo-way Text MessagingLocation ConfigurationImplementation VariationsExisting Email/Text with Custom Curbside Pickup UIAllowing Customers to Switch from Curbside to In-Store, In-store to CurbsideFeature ScopeRFIDServices Overview Curbside pickup is a fast-growing alternative to the traditional buy online pick up in store (BOPIS) process. With curbside pickup, a customer places a store pickup order, drives to the store to pick up the items and notifies the store once he has arrived. A store associate is notified that the customer has arrived, who then locates the items and brings them outside to the customer's vehicle. In recent times, contact-less curbside pickup has become a safe alternative to in-store pickups. Manhattan Active® Omni delivers a seamless curbside pickup experience through Digital Self-Service (DSS) in conjunction with Store Inventory & Fulfillment (SIF). Here's how it works: A customer places an order online or in a Contact Center and designates it as a ‘Curbside Pickup’. Once the store picks the items, the customer receives an email or text message notifying that items are ready for pickup. This email/text contains a link to the DSS Curbside Pickup page. When the customer opens the DSS webpage, a push notification is then sent to the store to notify them that the customer is on the way. Once the customer arrives at the store, they click on the link which launches the DSS Curbside pickup page in a web browser on their device. In DSS, the customer inputs some information to help the associate locate the customer (i.e., description of their car or parking spot number) and clicks a button to indicate they have arrived. The store associate receives a push notification on their device that the customer has arrived to pick up the order. The associate can send a text message to the customer to confirm that their arrival message was received (i.e. "On the way" or "Need a few minutes"). If the customer replies to the message sent, a push notification arrives on the devices to alert the store associates. The associate carries the order items to the customer's vehicle, completing the pickup process. This guide gives an overview of the curbside pickup flow in Manhattan Active® Omni's Contact Center, Order Management, Digital Self-Service, and Store Inventory & Fulfillment applications. However, if third party applications are used instead of Manhattan applications, then integration details are provided to accomplish different plug-and-play variations. Note that Manhattan's Digital Self-Service application currently only integrates with Manhattan Store Fulfillment and does not provide hooks to integrate with third party store fulfillment applications. See the Implementation Variations section below for details. To know more on the  curbside pickup activity during offline mode, please refer to the Store Offline Support page. Functional Flow Curbside Flow Notifying Stores when Customers are 'On The Way' Two variations of the curbside pickup flow can be used: Notifying stores when customers are on their way and when they arrive: In this flow, a link to the 'I'm on my way' DSS page is included in the customer's ready for pickup email. When the customer opens the DSS Curbside page, the store is notified that the customer is on their way and is given an ETA*. When the customer inputs their car/parking information and clicks 'I'm at the store', the store is notified that the customer has arrived. Notifying stores when customers arrive: In this flow, a link to the 'I'm at the store' DSS page is included in the customer's ready for pickup email. When the customer opens the DSS page and inputs their car/parking information and clicks 'I'm at the store', the store is notified that the customer has arrived. Here, the store does not receive a notification that the customer is on their way. *The customer's ETA is provided to the store associate only if the customer consents to share their browser location on the DSS page. If the customer does not share their location in the browser prompt, the store still receives a notification that the customer is on the way, but no ETA is shared. If the customer notifies the store that they are coming, the 'Is Customer On The Way' attribute on the fulfillment is updated to true. If the optional ETA (in minutes) is sent, the 'Pickup ETA Date and Time' attribute is converted to a date/time by adding ETA minutes to the current time (in UTC format). A 'Curbside pickup customer is on their way' push notification is also sent to the store. A Google API Distance Matrix license is required to get the customer’s location and calculate their ETA. If a Google API license is not configured, the store can still be notified that the customer is on their way, but no ETA is provided. To enable the 'On My Way' notifications to stores, follow the steps here. When the customer notifies the store that they are on the way to pickup their curbside order, store can also optionally accept latitude and longitude and distance attributes and save geographical information about the customer that can be used for reporting purposes. Curbside Order Capture & Processing An item is designated as curbside pickup at the order line level. For a BOPIS order, the order line attribute "Delivery Method Sub Type" defines whether the line is a curbside pickup or an in-store pickup line. This field is used by downstream systems including: Email or text service providers (i.e., to include curbside instructions vs. in-store instructions in emails or texts) Sales audit or reporting systems This field is populated in the Release in Release Lines and the Release will be grouped by the Delivery Method Sub Type attribute along with other attributes that are currently used to group the Release. Please refer to the Release Guide - Release Grouping for more information. Delivery method sub-type values of 'Curbside' and 'InStore' are hard coded in the system and are not configurable. Delivery method sub-type should be populated only for lines with delivery methods 'PickUpAtStore' or 'ShipToStore'. If this field is populated with any unsupported values or for any other delivery methods, an error is returned. Capturing Curbside Pickup Orders in Contact Center In-store pickup items ordered at the contact center can be designated as curbside or in-store. The delivery method sub-type (curbside or in-store) can be captured on the Item Details UIweb while adding an item to an order. This attribute currently cannot be edited after an item is added, so a user must delete the line and add it again to modify the order. Delivery method sub-type is currently not visible on the Order Status, Order Details, or Edit Order pages. Curbside order capture can be enabled in the contact center at two levels: Organization level, if all locations in an organization are eligible for in store, curbside, or both options Location level, if only some stores support curbside Organization Level Curbside Pickup If the organization-level configuration is being used, then the curbside vs. in-store selection is made using radio buttons on the Item Details page. When a user selects 'pick up at store' as the delivery method for an item, they are presented with additional options between curbside or in-store. For the 'pick up at store' delivery method, there is an existing configuration to indicate what delivery method sub-types are supported (curbside, in-store, or both). To configure the delivery method sub types for each organization and their display sequence, use the Call Center Configuration > Delivery Method Sub Types UI. The lowest number in the sequence is displayed first. For example, if 'Curbside' has sequence 1 and 'In Store' has sequence 2, then the 'Curbside' radio button is the first option displayed in the list. The 'Is Default' attribute defines which Delivery Method Sub Type is selected by default. The following combinations can be configured: Delivery Method Available Sub-Type Selections Pick up in store Curbside In Store Curbside & In Store None Ship to store Curbside In Store Curbside & In Store None Location Level Curbside Pickup If curbside support is managed by location, then the ‘Curbside Pickup’ attribute is displayed on the store locator popup. If a location allows curbside pickup, an option to select 'Curbside' is displayed in the store locator popup. When curbside support is managed by location, the delivery method sub type options are not enabled on the Item Details page, even if Delivery Method Sub Types are configured in the Call Center Configuration. If managing curbside order capture at a location level, the following configurations are required: Configuration UI Configuration Parameter Description Location Location Fulfillment Attribute > Curbside Pickup To make a location eligible for curbside pickup, set "Curbside Pickup" = true in the Org Location. See detailed configuration steps here. Call Center Restrict Pickup Options by Location This parameter indicates if the Curbside pickup is managed at a location level. If this parameter is enabled, the ‘Curbside Pickup’ attribute is displayed on the store locator popup with an option to select 'Curbside' if the location allows curbside pickup. If this parameter is disabled, the "Curbside Pickup" column is not displayed on the Store Locator. This parameter is disabled by default. The curbside pickup options behave as follows in the store locator. These scenarios assume inventory is available for the Pickup At Store view. If inventory is not available, Pickup At Store cannot be selected. Org Location Pickup At Store Action Curbside Pickup Options Curbside Pickup - Disabled Pickup At Store - Disabled Pickup At Store action button is disabled. None (there are not any options to select) Curbside Pickup - Disabled Pickup At Store - Enabled Pickup At Store action button is enabled. None (there are not any options to select) Curbside Pickup - Enabled Pickup At Store - Disabled Pickup At Store action button is enabled. "Curbside Only" is visible for the location. This cannot be de-selected Curbside Pickup - Enabled Pickup At Store - Enabled Pickup At Store action button is enabled. A "Curbside" checkbox is available for selection. By default, it is de-selected The Ship To Store button behavior in the store locator is not impacted by the "Curbside Pickup" parameter. If Ship To Store is not enabled at a location, it cannot be selected in the Store Locator. Capturing Curbside Pickup Orders in E-Commerce For orders imported from e-commerce or other order capture systems, the delivery method sub-type should be populated as 'Curbside' for BOPIS and Ship to Store items which require curbside pickup. Mapping Details Interface: Create Order Attribute: Order.OrderLine.DeliveryMethodSubType How to Populate: Set to 'Curbside' for items requiring curbside pickup. Leave null or set to 'InStore' for traditional in-store pickups. Populate only for lines with delivery methods 'PickUpAtStore' or 'ShipToStore'; Do not populate for ShipToAddress lines. Note: This attribute currently cannot be modified in the contact center. Once an order is released, this attribute cannot be updated. However, the customer can switch from in-store to curbside or vice-versa by using email or text communications. See more details here. Curbside Pickup in Store Fulfillment Curbside pickups follow the same process for releasing the store and picking as in-store orders. Refer to the Picking guide for additional information. The processes BOPIS and curbside pickup orders differ only after the customer arrives for pickup. The key pieces of information below are saved on the fulfillment for curbside pickups: The ‘Delivery Method Sub Type’ attribute on the fulfillment differentiates ‘Curbside’ versus ‘InStore’ pickup orders. If the customer indicates that they are en route to the store, the 'Is Customer On The Way' attribute on the fulfillment is updated. The customer's ETA (in minutes) can optionally be included and is saved as a timestamp in the 'Pickup ETA Date and Time' attribute on the fulfillment. The ‘Pickup Arrival Date and Time’ attribute on the fulfillment is updated with the customer's arrival time. The ‘Pickup’ fulfillment instruction type stores any information that the customer provides to help the associate locate them, such as vehicle description or parking spot number. Customer Arrived Once the customer notifies the store that they have arrived at the store, they can either walk-in and pick up their order in the store or select "Curbside". If "Curbside" is selected, the 'Delivery Method Sub-Type' attribute is updated with the value 'Curbside', the ‘Pickup Arrival Date and Time’ is updated with the customer's arrival time (in UTC format), and a push notification is sent to the store's devices. Note: Only fulfillments in Picked (3000.000) or Sort (3300.000) status are eligible for curbside pickup. If the fulfillment status is not Picked or Sort, the error message “Order [fulfillment number] with status (status ID) is not valid for pickup” is returned when SIF is notified that the customer has arrived. Store associates use the Curbside Pickups menu to confirm the pickup process for curbside orders. If the store associates tap on the push notification, they navigate directly to the Curbside Pickup screen. As with other push notifications, the push notification bell icon's badge count on the Store home screen is updated for each unread notification. The menu is protected by a resource; hence, store associates must have the corresponding grant to confirm the pickup for these orders. Upon entering the Curbside Pickup UI, the screen only displays curbside orders which are ready for pickup and the customer has either arrived or has notified that they are on the way. Of these orders, arrived orders are listed first in order of their arrival, followed by orders with a customer who is on the way. On the way orders that contain a provided ETA are shown first and are sequenced by their expected arrival time. Any on the way orders that do not have an ETA provided are shown last. The customer arrival time and pickup instructions are displayed on the Curbside Pickup and Order Detail screens. The menu count for Curbside Pickups menu considers only arrived status fulfillments. It does not include those whose customers are on the way. Display Primary Pickup Person Details When the order creator provides the primary pickup person’s details while placing the order, the curbside pickup UI will display those details on both the order list screen and details screen. Store associates can search for the order using either the primary pickup person’s or the order creator’s details. If the order creator provides details for an alternate pickup person who is not the primary pickup person, the curbside pickup order list screen will show the order creator’s details, and the details screen will display both the order creator’s and alternate pickup person’s details. Summary Points: Curbside Pickup Search: Allows searching order by either Ordered By or Primary Pickup person. Curbside Pickup List UI: Shows Primary Pickup (if provided), or Ordered By (if no Primary Pickup exists). Curbside Pickup Details UI: Displays Ordered By, Primary Pickup (if available), or Alternate Pickup (if provided). Examples: Scenario 1: Steve placed an order and listed Amy as the primary pickup person. The curbside pickup UI shows Amy’s name since she is the primary pickup person. Store associates can search for the order using either Amy's or Steve's details. Scenario 2: Steve placed an order and listed Amy as the alternate pickup person. The curbside pickup UI displays Steve’s name, not Amy’s, since she is not the primary pickup person. Store associates can search for the order using either Amy's or Steve's details. Configuration to require parking information: The text field for parking information on the 'I'm at the store' Curbside Pickup UI can be set to required through the DSS configuration UI. Once the configuration field 'Curbside Parking and Vehicle Information Mandatory' is set to true, the customer can not select 'I'm at the store' until that information is provided. There is an asterick on the field along with text 'required' once this feature is enabled. Automatic Refreshing The Curbside Pickups screen can be enabled to reload automatically at a defined interval. Refer to Automatic Refreshing Of Curbside Pickups for additional information. Text Messaging Once the store receives the notification that the customer has arrived, store associates can send a text message to the customer confirming that the store is aware of their arrival. The associate can choose from out of the box text message templates, a template created by the retailer, or directly type a message to the customer. The ability to send a text message and the ability to directly type text messages are controlled by two separate grants. Texts can only be sent to the phone number saved on the order. Texting to alternate pickup contacts is not supported. For an associate to be able to text a customer, the customer must have opted into the retailer's text program. Two-way Text Messaging When a customer replies to a store's message, retailers can configure the system to notify store associates on their devices. If the store associate taps on the push notification, the conversation popover is displayed. It lists the text messages exchanged between a store and the customer. The latest message is listed at the bottom and (visible by default) and the previous messages can be viewed by scrolling up. If the customer sends another message while the conversation popover is open, the screen automatically refreshes to show the latest message. In addition, if an associate opens the conversation popover but another associate has already replied to the customer, the screen shows the earlier reply as well. This helps to avoid multiple replies to the same message. After the popover is closed, the control navigates back to the page where the notification was tapped. As with other push notifications, the push notification bell icon's badge count on the Store home screen is updated for each unread notification. If the customer is not registered within the MAO application, the customer name will be replaced by the phone number from which the messages were texted. For example, the notification will be shown as a new message from 9921349322 instead of New message from Jack Reacher. Note: Customers can reply to the messages but cannot initiate a conversation with stores. Notification Sounds Specific sound files can be specified to alarm the store associates for notifications. Refer to Push Notifications guide for additional information. Notification sound configuration is available in UI for curbside arrived and, on the way notifications. For incoming text notifications, the notification template needs to have a sound file specified. Refer to the Two-way Text Messaging section for details. Optional Steps Configuration determines if the customer's signature is required to complete the curbside order. Also, the verify customer ID configuration determines if the store associate must verify the customer ID in the Order Detail screen before the 'Confirm Pickup' button is enabled to complete the process. Based on configuration, associates can also be prompted to capture the actual pickup type (i.e., curbside or in store) that occurred for the order after the pickup is completed. Exceptions Cancellation For curbside pickups, the store associate can cancel a line item or the entire order during the pickup process if the customer does not want the item/order. If the associate needs to investigate an order that isn't listed (i.e., if a family member has already picked up the order, or the customer didn't notify the store upon his/her arrival), he/she can search for orders by order id, name, phone, or e-mail, which returns both curbside pickup and in-store orders. Substitution during Picking If an in-store substitution occurred, the substitute item is displayed in place of the ordered item in the Curbside Pickups Order Details UI. Such lines are also denoted by a red substituted indicator. If the store associate taps on such a line, the item details UI also displays the substitute item details along with a substituted indicator. For more details on substitution in stores, refer to its documentation here. Curbside Pickup in Digital Self-Service Digital Self-Service Authentication See the Overview & Authentication Guide for information on accessing Digital Self-Service and for steps to configure authentication. Customizing for your Brand Digital Self-Service can be customized to reflect the look and feel of an individual brand. See the UI Theming & Customization Guide for information on how the logo, fonts, colors, and labels can be customized. Digital Self-Service UI Field Mappings The text box for the customer to input their car and parking spot details is optional. A customer can click 'I'm at the store' without inputting any information into the text box. Curbside Pickup Field Mappings UI Field Name Entity/Attribute Max Length Additional Logic Order Order.OrderId 50 Store Name Organization.Location.Address.DisplayId 50 Store Address Organization.Location.Address N/A Address is concatenated with comma ( , ) between all the fields (Address1 + Address2 + City + State) Phone Icon/Call Button Organization.Location.Address.Phone 50 Map Icon/Get Directions Organization.Location.Address N/A Search String is concatenation of (Address1 + PostalCode + City + State + Country) Item Image Order.OrderLine.SmallImageURI 750 If null, UI shows 'no item' image Item image is linked to web URL if orderLine.itemWebURL is populated item Description Order.OrderLine.ItemShortDescription 50 If null, UI do not display Item Size Order.OrderLine.ItemSize 100 If null, UI shows: "Size: --" Item Color Order.OrderLine.ItemColorDescription 100 If null, UI shows: "Color: --" Item Price Order.OrderLine.UnitPrice 16,2 Currency symbol displayed based on Order.Currency If currency is null, then defaulted to USD Quantity Sum of quantity from fulfillment N/A Quantity in Picked status I'm at the Store Action button to notify the store that the customer has arrived N/A Enabled regardless of vehicle/parking spot info entered. Vehicle/parking spot info text is not mandatory. Digital Self-Service Localization Digital Self-Service can be translated into languages which are currently supported in Manhattan Active® Omni. See the UI Theming & Customization Guide for information localization. Using Digital Self-Service & Store Fulfillment with Cross-Org Visibility If cross-organization fulfillment is enabled (see more details here: Cross-Organization Fulfillment Guide), then the order organization can differ from the fulfillment organization. This section describes how DSS supports cross-org fulfillment. How Organization Switching works in Digital Self-Service Digital Self-Service has the following logic to support cross-organization fulfillment, wherein the order organization differs from the fulfillment organization: Take location from DSS URL Get/Search location from the organization component (the location can always be retrieved regardless of in which org it exists, because the location entity is not profile-based) Get parentOrg of the location, set context with parentOrg Call Fulfillment with parentOrg in the context For example, if the following organization structure is in place: Europe Organization Store A France Organization Store B Parent Org = Europe Italy Organization Store C Parent Org = Europe When an order is placed by a French customer, the order has organizationId = France. The order is allocated to the Italy store C, so the fulfillment is released to store C with organization = Italy. The DSS URL will include orgId = France (from the order); hence DSS will check for the configured user for the France org. This configured user needs to have access to the Europe and Italy orgs so that DSS can retrieve fulfillments from those orgs. Required Configuration for Cross-Org Fulfillment in DSS If cross-organization fulfillment is enabled, then the following needs to be taken care of for DSS to be able to access and update fulfillments across different organizations. Cross-organization fulfillment must be enabled for all organizations which require cross-org access. LocationId values must be unique across all organizations. The configured DSS user has access to all organizations within the entire org structure. For example, if the user in the below org structure is admin@france-org.com, then this user needs to be granted access to Europe-org and Italy-org in the Organization Users configuration (Users > Organization Users in the application). Configuration Below is a checklist of all configuration or interface mapping changes required to enable curbside pickup. *Indicates that help is required by Manhattan services to complete this configuration. Otherwise, configuration can be done within the application or on external, customer-owned systems. Order & Email Populate the self-service host name, so the outbound order messages can form the full DSS URL* Enable the outbound Email Message or Publish Order messages for generating emails/texts Add the curbside pickup URL to existing Publish Order templates, to use in emails or texts Map the URL to existing emails or text messages to include a link to the Digital Self-Service curbside pickup In the inbound order interface, map Delivery Method Sub Type = Curbside for relevant order lines (optional) Add Delivery Method Sub Type to existing Publish Order templates, to use in emails or texts (optional) Configure required component properties for component-email and component-message if using email/texts Update any downstream mappings to consume the order line-level ‘Curbside’ attribute (e.g. Sales Postings, for reporting purposes) (optional) Enable 'On my Way' notifications to stores See detailed configuration steps here. Digital Self-Service Enable required feature flags* Modify CSS fonts, colors, and logo to match your brand* Link the header logo to your e-commerce site or other URL (optional) Map the item webURL on the item interface to link item images to e-commerce (optional) Configure a user to be used by the Digital Self-Service UI for authenticating with backend APIs* If localization is required, verify, and update localized labels for supported locales. * If localization is required, ensure the orderLocale is populated with imported orders. Review the UI labels and error messages, and customize as needed to fit your branding. Add a curbside-specific phone number for the store, instead of the phone number on the store location (optional) Configure a Google API license key in the KV store under selfservice.mapsKey (optional)* See detailed configuration steps here. Store Fulfillment Install the new mobile application* Add grant for Curbside Pickup menu option to required user groups Enable/disable sending text messages Add grant "ui-fulfillment::fulfillment::curbside-sendtext-message" for sending text messages to customers Add grant "ui-fulfillment::fulfillment::curbside-sendtext-custom-messages" for allowing store associates to send custom text messages to customers. The grant to send text messages (above) must also be added for this work. Enable push notifications, if not already enabled Enable/disable signature capture for curbside pickup orders as desired If two-way texts are required Inbound queue from Customer Interaction to push notifications should be configured The notification template should be configured to push a notification when customers reply to the text messages sent from the stores. Enable automatic refreshing if required See detailed configuration steps here. Location Enable/Disable Curbside PickUp for a specific location in the organization location entity The Curbside Pickup attribute is exposed in the pickup notification email so that customers can configure email templates based on the location level attribute. Setup contact number for contact type StoreInteractionContact See detailed configuration steps here. Customer Service Add Delivery Method Sub Type configurations if curbside options are the same for all locations Enable "Restrict Pickup Options by Location" parameter if curbside options are controlled at a location level See detailed configuration steps here. Customer Interaction If two-way texts are required Enable push notifications on store devices for incoming text messages from customers to a store Configure outbound queue to push notifications should be configured See detailed configuration steps here. Order Configuration Include DSS Link in Outbound Messages for Emails or Texts For customers to access the self-service curbside pickup page, a link to this page must be provided in the email or text message which they receive. If pick up in a store is already supported, then existing emails or text messages are likely to be sent to customers when items are ready for pickup. This is typically triggered when items are picked by store associates, who updates the item to 'Picked' status on the order. The DSS URL is populated in the SelfServiceUrl and ShortSelfServiceUrl fields, which are included in publish order outbound messages as well as relevant outbound email messages. The SelfServiceUrl and ShortSelfServiceUrl fields included in the publish order outbound messages will be populated any time the Picked quantity increases, irrespective of the delivery method sub type (for curbside and in-store pickup lines). Note: The SelfServiceUrl and ShortSelfServiceUrl fields are never populated as part of the GET Order response. These URLs are formed dynamically as part of certain publish order or email message outbound messages. To trigger an outbound and to publish order message when items are ready for pickup, enable the Publish Order checkbox for Picked status on the Order Configuration > Modification Rules UI (select the Quantity radio button). Outbound messages are generated any time the quantity moves to Picked status, so filtering logic needs to be added to the email layer to filter out for non-BOPIS flows. For example, emails or texts should not be triggered when stores pick items which are shipping to a customer's home, or in case WM systems also send Picked status updates. To add the curbside pickup URL and Delivery Method Sub Type to existing Publish Order templates: Find the template id being used for publishing outbound messages by navigating to Order Configuration > General > Publish Options Get the template using GET /order/api/fwcore/responseTemplate/templateId/{TemplateId} Add the following attributes to the template json: "SelfServiceUrl": null (add in the order line section) "DeliveryMethodSubType":null (add in the order line section) Upload the updated template json to POST: /order/api/fwcore/responseTemplate/save: { "TemplateId": "{TemplateId}", "BaseEntity": "Release", "TemplateJson": "{Your Template Goes Here}" } With the help of services, populate the component property order.selfServiceHostName with the host information for Digital-Self Service in Order Component (path: CONFIG/COM-MANH-CP-ORDER,OM-SIDE/ ). This ensures that the DSS URL is ready to be included in emails or text messages. In the order component consul server config, add a value such as "https://abc.manh.com" for the selfServiceHostName property. Be sure to configure this with "https:" not "http:". Enabling 'On My Way' notifications to stores: If using Active Omni email templates, upload the updated email templates for ready for pickup and pickup reminders If embedding the DSS 'On My Way' link using the outbound Email Message, read the new SelfServiceOnMyWayUrl in your integration layer to include the link in your ready for pickup and pickup reminder emails If forming your own DSS URLs in your integration layer/email provider, add &onMyWay=true to the curbside URL included in your customer communications Digital Self-Service Configuration For the above list of required configurations in Digital Self-Service, below are some additional details. Configure a User for the Digital Self-Service UI to authenticate with backend APIs* See the Overview & Authentication Guide for steps to configure authentication. Configuration to Customize for your Brand For instructions to modify CSS fonts, colors, and logo to match your brand, see the UI Theming & Customization Guide. To apply the updated CSS styling, work with services to update your environment. Update Localized Labels If multiple locales are required, view the Digital Self-Service UI in different locales by replacing the "locale" variable in the URL. For instance, to view the UI in French, replace "locale=EN" in the URL with "locale=FR". After testing the UI in all required locales (typically the same list as e-comm supports), work with services to make any required updates to the localized values by following steps in the UI Theming & Customization Guide. Store Phone Number for Curbside The customer has the option to call the store while viewing the Digital Self-Service page. By default, the phone number used is the store location's general phone number. However, it may be desired to use a different phone number, in case the store has a phone number specific for curbside, or if the store location phone number is used for other purposes. To add a curbside-specific phone number: Navigate to the Locations page and search for the store View the store location and select Location Contact Add a contact with Location Contact Type = Curbside Pickup and the desired phone number Save Store Fulfillment Configuration Work with the services team to enable the feature flag and install the latest mobile application to use this feature. Resources for Update Pickup Fulfillments and Notify API An API is called to indicate that the customer has arrived at the store and it performs the updates described earlier in this document. This API is invoked by DSS but can also be invoked by a custom screen. This API can also be used to indicate that the customer is on the way to the store along with an optional ETA in minutes. This API internally calls the notification method to send the notifications to the Firebase. This API is protected by the resource below. API Name: URL: “/fulfillment/api/fulfillment/fulfillment/updatePickupFulfillmentsAndNotify” Resource Name: api::fulfillment::updatepickupfulfillmentsandnotify::admin Resources for Curbside Pickups Menu Assign grants (resources) from the curbside pickups menu to the required user groups. Resource Name: ui-fulfillment::fulfillment::menu-curbsidepickups Assign grants (resources) to allow texting to customers to the required user groups. Resource Name: ui-fulfillment::fulfillment::curbside-sendtext-message Push Notification for Curbside Pickup For more information on how to enable push notifications, refer to the push notification overview document. Customer Signature Capture Configuration in Store Fulfillment Parameters defines whether the customer's signature is captured for curbside pickup orders. The default in this configuration is set as 'Curbside'. Multiple delivery method subtypes can be configured in this configuration. Use colon (:) to separate delivery method subtypes. If the fulfillment has a delivery method subtype as 'InStore' and if the configuration value is set as 'InStore', then it skips the customer signature during the pickup of 'InStore' orders.  If the value is not present in the new configuration, then it reads the OLD configuration (i.e. Skip customer signature capture before confirm pickup) and, based on the configuration, it skips or captures the customer signature. If the fulfillment has the delivery method subtype as NULL, then it always reads the old configuration (Skip customer signature capture before confirm pickup). Configuration Name: Skip customer signature capture for the pickup subtypes Customer Arrived UI Notification Configuration in the Store Fulfillment Parameters defines whether the customer arrived curbside pickup notification should persist on the UI indefinitely or auto-dismiss after six seconds. The default value of this configuration is set as 'disabled', meaning the notification auto-dismisses. If the configuration is enabled, the notification remains on the UI and shows 'Dismiss' and 'View' buttons. Until the associate taps 'Dismiss' or 'View', the notification remains on the UI even upon navigating between screens. If the store associate doesn't tap on the toast message notification, and notifications for pickup order and customer shipment appear on the UI, then the pickup order and customer shipment notification will be shown on top of the curbside notification. After 6 seconds, the pickup order and customer shipment order notifications are dismissed automatically, but the curbside notification remains. The customer "on their way" notification is not controlled by this parameter and is always automatically dismissed after 6 seconds. Configuration Name: Enable 'Dismiss' button for all push notifications. Note: This Store Fulfillment Parameter applies to all push notifications, except “New pickup order”. Automatic Refreshing Of Curbside Pickups Configuration in the Store Fulfillment Parameters defines the interval in seconds to automatically reload the curbside pickups list. A value of less than 30 seconds is treated as a 30 second interval. The refresh interval time starts from the instance when the curbside pickups list was loaded or refreshed (automatic and manual). To stop automatic refreshing of the curbside pickup list, a value of 0 can be used or left with no value. A manual refresh option is always available to reload data anytime. Configuration Name: Refresh interval in seconds for transaction screens that automatically reload Capture Actual Pickup Type (Curbside or In-Store) Immediately after the pickup process has been completed, associates can be prompted to select the actual pickup type (curbside or in-store). Retailers can use this data to analyze how many pickup orders were delivered curbside versus in-store. This is useful in scenarios when customers originally select one method during order capture but choose the other when they arrive at the store. If captured, this value is updated to the delivery method subtype attribute on the fulfillment. The original value of order capture is retained in the order delivery method subtype attribute. This functionality is controlled by configuration in Store Fulfillment Parameters and is disabled by default. Configuration Name: Capture the actual pickup type of the pickup at store order during the pickup Text Messaging Configuration in Store Fulfillment Parameters defines whether stores can send a text to customers to provide updates about the delivery processing of curbside orders. When enabled, store associates with the necessary permissions can send these texts to customers. Configuration Name: Allow store to text customers during curbside pickup For more information on how to enable text messages, refer to the Text Message Configuration. The following are some of the curbside related recommendations Text message templates Use the text message types below to set customized curbside related text message templates SIF-Curbside-CannedMessage - The store associate can just tap on the message to send a message SIF-Curbside-TypedMessage - The store associate can type a custom message to send to a customer Use the Description property on the template to configure the display text. Consider a length that can be easily displayed on mobile devices. To configure text message templates, navigate to Application Configuration > Manage POS Configuration > POS Customer Engagement Configuration > Text Message Template Configuration in configuration UI or use the below API API Name: URL: “/text/api/text/textMsgTemplate/import” Sample: Below sample sends order information only when fulfillment information exists as incoming messages don't have fullfillment context and replies to such messages can't have a fulfillment object. Sample also sends DO NOT REPLY at the end of the message when only one-way text is required. MiscellaneousData.IsOneWayEnabled is true when no push notifications are enabled for incoming text messages Interaction Configurations. { "data": [ { "TemplateMsgId": "OnMyWay", "Name": "OnMyWay", "Description": "On my way", "MessagePrefix": null, "MessageSuffix": null, "MessageBody": "We are getting your order now and will be out in 5 minutes. <#if Fulfillment??>Order ${Fulfillment.FulfillmentList[0].FulfillmentLine[0].OrderId}</#if>.<#if MiscellaneousData.IsOneWayEnabled == \"true\"> DO NOT REPLY </#if>", "ConditionalExpression": "TextMsgTemplate.TemplateMsgId == \"OnMyWay\"", "MessagePrefixInterval": 0, "MessageSuffixInterval": 0, "SequenceNumber": 7, "TextMessageType": { "TextMessageTypeId": "SIF-Curbside-CannedMessage" } }, { "TemplateMsgId": "NeedFewMinutes", "Name": "NeedFewMinutes", "Description": "Need a few minutes", "MessagePrefix": null, "MessageSuffix": null, "MessageBody": "We need a few minutes to get your order <#if Fulfillment??>${Fulfillment.FulfillmentList[0].FulfillmentLine[0].OrderId}</#if>.<#if MiscellaneousData.IsOneWayEnabled == \"true\"> DO NOT REPLY </#if>", "ConditionalExpression": "TextMsgTemplate.TemplateMsgId == \"NeedFewMinutes\"", "MessagePrefixInterval": 0, "MessageSuffixInterval": 0, "SequenceNumber": 6, "TextMessageType": { "TextMessageTypeId": "SIF-Curbside-CannedMessage" } }, { "TemplateMsgId": "WeAreCallingYou", "Name": "WeAreCallingYou", "Description": "We are calling you", "MessagePrefix": null, "SequenceNumber": 9, "MessageSuffix": null, "MessageBody": "We are calling you regarding your order <#if Fulfillment??>${Fulfillment.FulfillmentList[0].FulfillmentLine[0].OrderId}</#if>.<#if MiscellaneousData.IsOneWayEnabled == \"true\"> DO NOT REPLY </#if>", "ConditionalExpression": "TextMsgTemplate.TemplateMsgId == \"WeAreCallingYou\"", "MessagePrefixInterval": 0, "MessageSuffixInterval": 0, "TextMessageType": { "TextMessageTypeId": "SIF-Curbside-CannedMessage" } }, { "TemplateMsgId": "PleaseCallStore", "Name": "PleaseCallStore", "Description": "Please call the store", "MessagePrefix": null, "MessageSuffix": null, "MessageBody": "Please call the store at <#list Location.LocationContact as contact><#if contact.LocationContactType.LocationContactTypeId == \"StoreInteractionContact\"> ${contact.PhoneNumber}</#if></#list> with regards to your order.<#if MiscellaneousData.IsOneWayEnabled == \"false\"> DO NOT REPLY </#if>", "ConditionalExpression": "TextMsgTemplate.TemplateMsgId == \"PleaseCallStore\"", "MessagePrefixInterval": 0, "MessageSuffixInterval": 0, "SequenceNumber": 8, "TextMessageType": { "TextMessageTypeId": "SIF-Curbside-CannedMessage" } }, { "TemplateMsgId": "MsgCustomer", "Name": "MsgCustomer", "Description": "Message Customer", "MessagePrefix": null, "MessageSuffix": null, "MessageBody": "<#if Fulfillment??>Regarding your order ${Fulfillment.FulfillmentList[0].FulfillmentLine[0].OrderId}.</#if> ${CustomMsg.Msg}.<#if MiscellaneousData.IsOneWayEnabled == \"true\"> DO NOT REPLY </#if>", "ConditionalExpression": "TextMsgTemplate.TemplateMsgId == \"MsgCustomer\"", "MessagePrefixInterval": 0, "MessageSuffixInterval": 0, "SequenceNumber": 10, "TextMessageType": { "TextMessageTypeId": "SIF-Curbside-TypedMessage" } } ] } Setup a phone number for each store when configuring text message service providers such as Twilio. Set the same phone number as Store Interaction Contact in the contact section for the store. When only one-way texting is required, setup an auto responder in the text message service provider to be used if a customer replies back to a message sent by the store. Two-way Text Messaging Store Fulfillment Configurations Following is the inbound queue that needs to be setup in the fulfillment component if not already setup. API Name: {URL}/fulfillment/api/ServiceDefinition/inBoundMessageType/save { "MessageType": "PushNotificationMSGType", "NoOfConsumer": 10, "MinNoOfConsumer": 1, "MaxDesiredInstances": 6, "ScaleUpTimeWindow": 10, "ScaleDownTimeWindow": 20, "ServiceId": "PushNotificationListener", "InBoundQueues": { "QueueName": "queue.PushNotification" } } Notification templates have to be setup in order to understand the messages in the push notification queue and push the notifications to the right devices. The following is the base template which can be modified. API Name: {URL}/fulfillment/api/fulfillment/notificationTemplate/import { "data": [ { "NotificationTemplateId": "PushNotificationForIncomingTextMessage", "Name": "PushNotificationForIncomingTextMessage", "TopicName": "common-notification.<#if StackName??>${StackName}.<#else></#if>${TextMessage.OrgId}.${TextMessage.LocationId}", "Description": "Push notification template for incoming text message", "NotificationTitle": "New message from<#if TextMessage.CustomerFirstName??> ${TextMessage.CustomerFirstName}<#else></#if><#if TextMessage.CustomerLastName??> ${TextMessage.CustomerLastName}<#else></#if>", "ConditionalExpression": "Interaction.InteractionType.InteractionTypeId == \"TextMessage\" && TextMessage.IsIncoming == true && TextMessage.BusinessChannelId.BusinessChannelId == \"Store\" && (TextMessage.CustomerFirstName != null || TextMessage.CustomerLastName != null)", "NotificationSound": "curbsidenotificationsound.mp3", "NotificationPriority": "High", "NotificationPayload": [ { "NotificationBody": "New message from<#if TextMessage.CustomerFirstName??> ${TextMessage.CustomerFirstName}<#else></#if><#if TextMessage.CustomerLastName??> ${TextMessage.CustomerLastName}<#else></#if>", "PageId": "text-interaction-popup", "LocalizeLabelKey": "notificationTitleLocalizedLabel", "PagePayload": [ { "PayloadKey": "CustomerId", "PayloadValue": "<#if TextMessage.CustomerId??>${TextMessage.CustomerId}<#else>null</#if>" }, { "PayloadKey": "CustomerPhone", "PayloadValue": "${TextMessage.FromPhone}" }, { "PayloadKey": "CustomerFirstName", "PayloadValue": "<#if TextMessage.CustomerFirstName??>${TextMessage.CustomerFirstName}<#else>null</#if>" }, { "PayloadKey": "CustomerLastName", "PayloadValue": "<#if TextMessage.CustomerLastName??>${TextMessage.CustomerLastName}<#else>null</#if>" }, { "PayloadKey": "CountryCode", "PayloadValue": "${TextMessage.ToCountry}" }, { "PayloadKey": "StoreInteractionContact", "PayloadValue": "${TextMessage.ToPhone}" }, { "PayloadValue": true } ] } ] }, { "NotificationTemplateId": "PushNotificationForMessageFromAnonymousCustomer", "Name": "PushNotificationForMessageFromAnonymousCustomer", "TopicName": "common-notification.<#if StackName??>${StackName}.<#else></#if>${TextMessage.OrgId}.${TextMessage.LocationId}", "Description": "Push notification template for incoming text message from anonymous customer", "NotificationTitle": "New message from ${TextMessage.FromPhone}", "ConditionalExpression": "Interaction.InteractionType.InteractionTypeId == \"TextMessage\" && TextMessage.IsIncoming == true && TextMessage.BusinessChannelId.BusinessChannelId == \"Store\" && TextMessage.CustomerFirstName == null && TextMessage.CustomerLastName == null", "NotificationSound": "curbsidenotificationsound.mp3", "NotificationPriority": "High", "NotificationPayload": [ { "NotificationBody": "New message from ${TextMessage.FromPhone}", "PageId": "text-interaction-popup", "LocalizeLabelKey": "notificationTitleForAnonymousCustomer", "PagePayload": [ { "PayloadKey": "CustomerPhone", "PayloadValue": "${TextMessage.FromPhone}" }, { "PayloadKey": "CountryCode", "PayloadValue": "${TextMessage.ToCountry}" }, { "PayloadKey": "StoreInteractionContact", "PayloadValue": "${TextMessage.ToPhone}" }, { "PayloadValue": true } ] } ] } ] } Topic: the Firebase topic to which store devices are subscribed to NotificationTitle: Shown by the OS when app is inactive NotificationSound: Should have a valid sound file that is packaged within the Store app that should be played when the notification arrives. LocalizeLabelKey: Notification text to be shown in a specific language should be available in the KV store. Values for out of the box template are already available. NotificationTitle: Shown by the OS when app is inactive Customer Interaction Configuration The IsPushNotificationEnabled flag needs to be set to true to send messages to push the notification outbound queue for the applicable channel types. The following is the API and payload required to perform the same for the store channel. API Name: {URL}/customerinteraction/api/customerinteraction/interactionConfig/save { "ConfigId": "defaultConfig", "EmailAddress": "system@dummyorg.com", "PublishInboundTextInteraction": [ { "BusinessChannelId": { "BusinessChannelId": "Store" }, "IsPushNotificationEnabled": true } ] } Following is the outbound queue that needs to be set API Name: {URL}/customerinteraction/api/ServiceDefinition/outBoundMessageType/import { "MessageType": "PushNotificationMSGType", "Transactional": true, "PersistMessageToMsgStore": false, "OutBoundQueues": { "QueueName": "queue.PushNotification" } } Extension point to message type mapping should be set as below. API Name: {URL}/customerinteraction/api/ServiceDefinition/extPointToMessageType/import { "ExtensionPointId": "PushNotification", "MessageType": "PushNotificationMSGType" } Location Configuration Retailers can configure whether a location is eligible for Pickup or Curbside or both. This allows them to configure emails accordingly so that the customer can choose to either pick the package up or opt for a curbside delivery depending on the location once they get the pick up notification. The new attribute CurbsidePickup can be configured in the location fulfillment attribute child entity under the organization location parent entity. Navigate to Menu -> Master Data -> Manage Locations -> Locations. Search for the location that needs to be updated and click on View. Click on the Location Fulfillment Attribute tab and select the Curbside PickUp check box. As part of the curated message created for pickup notification email, the following child entities from the organization location entity are exposed. LocationFulfillmentAttr mapped to PickupStoreDetails.LocationFulfillmentAttr in the curated message. This will make sure that the PickupAtStore and CurbsidePickup flags are exposed in the Pickup notification curated messages. Address is mapped to PickupStoreDetails.Address in the curated message. Additionally, the location's address and postal code are also exposed on the PickUp notification curated messages. Implementation Variations Below are some examples of implementation variations in which Active® Omni curbside capabilities can be integrated with existing emails, texts, and third-party self-service application. Implementation Variation Notify customer that the order is ready A customer arrives at A store Store associate is alerted Existing Email/Text with Digital Self-Service Curbside Pickup UI Augment existing email with link to Digital-Self Service Digital Self-Service Curbside Pickup UI Push notification in Store application Existing Email/Text with Custom Curbside Pickup UI Augment existing email with link to custom self-service UI Custom self-service app calls Store "I'm at the store" API Push notification in Store application Existing Email/Text with Custom Curbside Pickup UI If using an external curbside pickup UI instead of Manhattan's, here are some integration pointers. The self-service application should make a few calls to Active® Omni Store Fulfillment: Step 1: An authentication call to retrieve an OAuth token Step 2: A call to get the list of fulfillments which are ready for pickup - POST to /fulfillment/api/fulfillment/fulfillment/search. Provide query input parameters such as the below to retrieve relevant curbside fulfillment: { "Query": "FulfillmentLine.OrderId = :orderID AND ShipFromLocationId = :locationID AND ((DeliveryMethodId ='PickUpAtStore') OR (DeliveryMethodId ='ShipToStore' AND DestinationActionId='Pickup'))"} Step 3: A call to let the store know that the customer has arrived or the customer is on the way to the store to pick up certain fulfillment(s) - POST to /fulfillment/api/fulfillment/fulfillment/updatePickupFulfillmentsAndNotify. Parameters to updatePickupFulfillmentsAndNotify along with corresponding status updates: Request parameters (not an exhaustive list) Status updates Dates/times updates A customer is on the way flag is not sent "Arrived" Arrival date and time are saved The customer is on the way flag is provided as true ETA (in minutes) is null "On the way" Arrival date and time are not updated. Pickup ETA date and time are not updated The customer is on the way flag is provided as true ETA (in minutes) is provided "On the way" Arrival date and time are not updated. Pickup ETA date and time is saved The customer is on the way flag is provided as false Reset to "Ready for pickup" Arrival date and time not updated Pickup ETA date and time is cleared Refer to the Fulfillment API documentation for more details on these APIs. Allowing Customers to Switch from Curbside to In-Store, In-store to Curbside You can offer the option for customers to change their mind at the time of pickup by including instructions or links in the emails/texts. In the email/text delivered when the items are ready for pickup: If the original order is designated as curbside pickup, but you want to provide the option for the customer to pick up in-store, then add verbiage to your email/text to make the customer aware of this option. If the customer walks into the store without using the DSS prompts to let the store know that they've arrived, then the pickup can be completed. After the pickup, the store associate can use the prompt to mark the pickup as 'In-Store'; otherwise, the pickup will remain categorized as curbside. If the original order is designated as in-store, but you want to provide the option for curbside pickup, then include a link to the DSS URL (or short URL if in text). This provides the customer to remain in their vehicle and request a curbside delivery upon arrival. When the customer uses the DSS UI to notify the store of their arrival, the fulfillment is automatically updated to 'Curbside'. The delivery method type actually chosen by the customer can optionally be captured by the store associate using a post-pickup prompt. Feature Scope The following features are not supported in the Curbside Pickup feature: Designating certain stores in MAO that support curbside pickup and others that do not Designating an order line as 'curbside' in Manhattan Active® Omni Point of Sale Calculating the ETA for other modes of transportation such as walking, cycling, or public transit is not supported within DSS RFID Store associates can fulfill curbside orders by reading their unit-level RFID tags using an RFID reader. When these orders are picked up by their respective customers, the units picked up as part of these orders are moved to "Departed" status. Please refer to the Store RFID guide for more information on the RFID support available in Stores. Note: Any units which are cancelled right through the Curbside Pickup process or returned to shelf are moved back to "Available" from "Reserved". Services The APIs listed in the following table are referenced in this document. Refer to the API documentation for additional details on each service. Service Component Group Service Endpoint Update Pickup Fulfillments And Notify Fulfillment fulfillment-process-controller fulfillment/api/fulfillment/fulfillment/updatePickupFulfillmentsAndNotify