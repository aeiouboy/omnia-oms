# Prioritization

**Permalink:** prioritization
**Path:** Manhattan Active® Omni/Order Management/Process & Configuration Guides/Order Processing/Order Fulfillment/Order Allocation/Prioritization
**Content Length:** 27,788 characters
**Scraped:** 2025-08-09T21:57:10.759261

---

Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Order Processing››Order Fulfillment››Order Allocation ››Prioritization Prioritization Previous I Next OverviewProcess FlowPrioritization Template EvaluationEffective Rank CalculationConfigurationConfiguring PrioritizationImplementation FlavorsRelated Article(s) Overview Prioritization is the process by which the effective rank is computed for each order line based on order and order line attributes. This is computed as part of Order create and Order updates. This effective rank is used to prioritize the Orders as part of Batch allocation, Reallocation, De-allocation, and Transfer allocation process (in case of constrained inventory). For example, order line A and order line B are both placed for the same red sweater. Order line A has effective rank 111, while order line B has effective rank 222. If there are 100 units of the red sweater available in the network, then both order line A and order line B will successfully allocate, and the effective rank does not have an effect on the outcome of allocation. However, if there is only 1 unit of the red sweater available, then allocation uses the effective rank to select which order line gets the 1 unit. If order lines are allocated immediately as opposed to in batch mode, then the 1 unit gets allocated to the order line which enters allocation first (FIFO) If batch allocation/ re-allocation mode is enabled, then allocation gives the 1 unit to the highest priority order line, which is order line A. Also, this information is passed to the Fulfillment system as part of Release outbound to prioritize the Order line(s) during Picking and Packing activities. During release, OM calculates an effective rank at the release level by taking the highest rank from the order lines which are included in the release. For example, if order line 1 has effective rank 10000000017 and order line 2 has effective rank 2000032451, then when a release is created with 1 unit from line 1 and 1 unit from line 2, the release effective rank is calculated as the minimum of 10000000017 and 2000032451, which is 10000000017. Both the release-level rank and release line-level ranks are published on the release outbound message, so that downstream fulfillment systems can use either rank for their prioritization processes. Fulfillment-level priority is used for prioritizing which orders to work on first Line-level priority is used to determine which lines should be shorted, in case of constrained inventory System does not have any default prioritization logic other than the effective rank. Orders and reservation requests: - The effective rank for reservations created by an order when the prioritization is not in scope of the project will always be "Not Applicable" - But if the reservation is created by a direct reservation request, the effective rank is always going to be the one passed on the API. If the effective rank of the reservation request is null or empty, that reservation is prioritized after all the reservations with effective rank "Not applicable". Process Flow The following set of actions is executed as part of Prioritization Prioritization Template Evaluation Prioritization configuration defines the priority rules which is used to stamp an Effective Rank on each order line. Example - Priority rule may be defined to compute effective rank based on Order capture date (asc). This way Orders are given priority in the order they are created. Each prioritization template is given a rank, which represents the priority of the template. If an order line meets the rule condition of more than one template, then the template with the lowest numeric rank is selected. If an order line meets none of the rule conditions for the templates, then the template marked as default is selected. If there is no default template, and an order line does not meet the criteria for any of the prioritization templates, the Effective Rank is stamped with "Not Applicable". Each prioritization rule template has a rule condition, which defines the eligibility criteria for order lines. For example, if a prioritization template with Delivery Method = "shipToAddress", only orders with "shipToAddress" as the Delivery Method would be eligible for that template. Only order and order line attributes can be used in the rule conditions. Refer How to set up Prioritization Template for more details. User Exit (Order:UserExit:PrioritizeOrder) is available to bypass the Prioritization Rule evaluation and redirect it to external system for effective rank calculation. Effective Rank Calculation Effective rank is computed for each order line based on order and order line attributes and is used in Allocation (Batch and Reallocation), Inventory rise/drop, Fulfillment system. The prioritization service takes the priority rules for a given template and forms an effective rank for each order line. The first two digits of effective rank are stamped with the rank of the template, and then the priority rule values are appended in sequence. Only Date and Numeric types are used for effective rank calculation. Below are the details on the max length used for every data type Data Type Attribute Length used for Calculation Sample Attribute Date 8 Chars Requested Delivery Date Promised Delivery Date Timestamp 14 Chars Order Capture Date Order Create Date Confirmed Date Integer, Long 12 Chars Quantity Double, Big decimal 16 Chars, 4 Chars (decimal) Order Total Attributes can be evaluated in Ascending or Descending order. If ascending, the appended values are padded with zeroes so that they reach the maximum number of characters allowed for that field. If descending, the priority rule values are first subtracted from the max field value and then are appended in sequence. Attribute Sort Order Data Type Max char Attribute value Evaluated Value Requested Delivery Date Asc Date 8 Chars 2020-01-01 20200101 Requested Delivery Date Dsc Date 8 Chars 2020-01-01 99999999 - 20200101 = 79799898 Quantity Asc Integer 12 Chars 10 000000000010 Quantity Dsc Integer 12 Chars 10 999999999999 - 000000000010 = 999999999989 Order Total Asc Decimal 16 Chars, 4 Decimal 10.23 Append remaining digits with 0) + (1023) + (Append remaining decimal digits with 0) Effective Rank = 00000000000000102300 Order Total Dsc Decimal 16 Chars, 4 Decimal 10.23 (Append remaining digits with 9) + (99.99 - 10.23) + (Append remaining decimal digits with 9) Effective Rank = 99999999999999897699 Effective Rank calculation: All attributes are evaluated as above and appended in sequence along with the Template rank. Examples - When the sort order is ascending for the priority rule,  the priority rule is stamped just as they are on the order line. The appended values are padded with zeroes so that they reach the maximum number of characters allowed for that field. For example, consider a prioritization template with rank = 1, and a template with three priority rules with values listed as follows: Attribute Sort Order Values Order capture date asc 10/16/2020 09:28 UTC Requested Qty asc 5 Unit price asc $249.99 The effective rank is calculated as follows: Template rank + order capture date + requested qty + unit price = 01 + 20201016092802 + 000000000005 + 00000000000002499900 = 012020101609280200000000000500000000000002499900 When the sort order is descending for the priority rule, the priority rule values are first subtracted from the max field value and then are appended in sequence. For example, consider a prioritization template with rank = 1, and a template with three priority rules with values listed as follows: Attribute Sort Order Values Order capture date desc 10/16/2020 09:19 UTC Requested Qty desc 5 Unit price desc $249.99 The effective rank is calculated as follows: template rank + (max order capture date - order capture date value) + (max requested qty - requested qty value) + (max unit price - unit price value) = 01 + (99999999999999-20201016091944) + (999999999999-5) + (99999999999999999999-2499900) = 01 + 79798983908055 + 999999999994 + 99999999999997500099 = 017979898390805599999999999499999999999997500099 When the sort order is a mix of ascending and descending for the priority rule : Attribute Sort Order Values Order capture date asc 10/16/2020 08:17 UTC Requested Qty desc 1 Unit price desc $87.99 The effective rank is calculated as follows: template rank + order capture date value + (max requested qty - requested qty value) + (max unit price - unit price value) = 01 + 20201016081730 + (999999999999-1) + (99999999999999999999-879900) = 01 + 20201016081730 + 999999999998 + 99999999999999120099 = 012020101608173099999999999899999999999999120099 If no matching template defined then effective rank is stamped as "Not Applicable" and it is given the least priority during Order prioritization during Allocation (Batch and Reallocation), Inventory rise/drop and Fulfillment systems. Effective rank is stamped for all the Order Lines (Effective rank may get truncated to 500 chars because of size limitation) Effective rank is recomputed if there are any changes to the Order line attributes (which are part of the Order prioritization template). Effective rank can also be recomputed as part of Order or Order Line modification by configuring "Calculate Effective Rank" in Order Modification Rules. User Exit (OrderLine:UserExit:CalculateEffectiveRank) is available to bypass the above Business rules and have custom Effective rank evaluation. Configuration Configuring Prioritization Each template can have up to six priority rules which define the attributes used for calculating the Effective Rank. These are used to define the attributes used in prioritization and the sequence in which they should be used. Any attribute existing in Prioritization Attributes can be selected in the Priority Rules. Refer to Prioritization Configuration UI for details. Prioritization Rule attributes Data used for Rank calculation Requested Delivery Date Use Order Line - Requested delivery date (orderLine.requestedDeliveryDate) If null, Use Order - Requested delivery date ( orderPromisingInfo.requestedDeliveryDate) Only Date is considered and Timestamp is not considered during effective rank evaluation Promised Delivery Date Use Order Line - Promised delivery date (orderLine.promisedDeliveryDate) If null, Use Order - Promised delivery date (orderPromisingInfo.promisedDeliveryDate) Only Date is considered and Timestamp is not considered during effective rank evaluation Latest Delivery Date Use Order Line - Latest delivery date (orderLine.latestDeliveryDate) If null, Use Order - Latest delivery date (orderPromisingInfo.latestDeliveryDate) Only Date is considered and Timestamp is not considered during effective rank evaluation Order Captured Date Use Order Capture Date (Order.capturedDate) If null, Use Order - Created Timestamp (order.createdTimestamp) Both Date and Timestamp is considered during effective rank evaluation Order Line Quantity Use Order Line Quantity (OrderLine.quantity) Priority Use Order Line - Priority (orderLine.priority) If null, Use Order - Priority (order.priority) In addition to above attributes, additional attributes (extended and attributes part of Order/Order Line) can be added to Effective rank computation (Note. Attributes of type Date and Integer alone can be added). Only six attributes can be selected in the Prioritization Rules on Order Prioritization Configuration. Refer to the below section on how to add additional attributes to evaluate effective rank. Effective Rank - Add additional attributesIn addition to the base six attributes (Order Capture Date, Requested delivery date, Latest delivery date, Promised delivery date, Quantity and Priority), additional attributes (including extended attributes) of type (Date and Numeric) can be included from the following sections Order Order Line Order Promising Information Order Line Promising Information Below are the steps to include the additional attributes - Add Prioritization Attributes - Prioritization attributes section contains the attributes to be part of the Prioritization rule evaluation. New attributes (type - Date and Numeric) from Order, Order Line, Order Promising Information, Order Line Promising Information can be added via Prioritization attribute UI. Prioritization attribute section taken the following Attributes Description Attribute ID Unique identifier Attribute Name The Attribute Name on the Prioritization Attribute will be displayed on the Order Prioritization Configuration - Prioritization Rules Attribute name is user defined field and is not validated. This need not match the attribute name in Order/Order Line/ Order Promising info/ Order Line Promising info Mapping Path The Path for the attribute has to be entered with reference to Order Line Entity. Some examples of the attribute in various Entities and their Paths are illustrated below: Attribute Name: Latest Business Date (Entity: Order Line) Path: businessDate Attribute Name: Capture Date (Entity: Order) Path: parentOrder.CapturedDate Attribute Name: Latest Delivery Date (Entity: Order Line Promising Info) Path: orderLinePromisingInfo.latestDeliveryDate Attribute Name: DoNotShipBeforeDate (Entity: Order Promising Info) Path: parentOrder.orderPromisingInfo.DoNotShipBeforeDate Only the Path and Data type is Validated. If the Path is valid and of type Date or Numeric then the attribute can be added. Attribute name is user defined field and is not validated. There is NO validations performed to verify if the Attribute/Path being saved is already present in the Prioritization Attribute; which may result in duplicate entries in the Prioritization Attribute Note: Attributes once added to the Prioritization Attribute cannot be deleted or modified from UI Implementation Flavors N/A Related Article(s) REST APIs and User ExitsContinuousMass AllocateOverviewImmediate