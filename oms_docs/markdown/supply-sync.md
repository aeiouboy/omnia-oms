# Supply Sync

**Permalink:** supply-sync
**Path:** Manhattan Active® Omni/Order Management/Process & Configuration Guides/Enterprise Inventory/Inventory/Supply Sync
**Content Length:** 37,371 characters
**Scraped:** 2025-08-09T21:53:55.337300

---

Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Enterprise Inventory››Inventory ››Supply Sync Supply Sync Previous I Next Inbound SyncProcess FlowInventory VarianceHandle Message Sequence MismatchesResetting Inventory ErrorsReviewing Pending Review Inventory RecordsConfigurationInbound Sync ConfigurationSmart Sync ConfigurationRelated Article(s) Inbound Sync The warehouse or store system communicates real-time on-hand supply changes such as adjustments, movements and receipts using inventory events. The warehouse/store system can choose to communicate the inventory snapshot as part of a batch job. This process is referred to as inventory sync. Inventory sync helps to reconcile the inventory snapshot between the warehouse or store system and Enterprise Inventory. Inventory syncs are typically scheduled at regular intervals throughout the day. The external system has the option to send the complete inventory snapshot, or only the affected inventory record(s) since the last snapshot. An inventory sync should be communicated in JSON format. Refer How to set up Inventory Sync for more details Two types of Inventory Sync are supported: Full Sync - Full sync performs a full replacement of the inventory record(s). If an inventory record is not found in the inventory sync message, the following attributes are considered to determine how to reconcile the Enterprise Inventory: rfidSync - A true value indicates that the sync is generated as a result of an RFID Store Count. All other syncs are denoted by a false value. If this attribute is missing from the sync, it's considered as false. If this attribute's value is true, only those "missing" records whose corresponding items are RFID tagged (Is RFID Tagged = true in the Items configuration) are reconciled. Non-RFID tagged items' missing records are left untouched. On the other hand, when this attribute's value is false, all the missing records, irrespective of whether their items are RFID tagged or not, are reconciled. missingItemAction - This attribute determines how the inventory records which are missing from the full syncs are to be reconciled. It takes three values; markForReview, zeroOut, and ignoreMissingItem. If an inventory record is missing from the sync, it's defaulted to markForReview and zeroOut for RFID and non-RFID syncs respectively. markForReview - Missing non-zero inventory records are marked for further review by the retailer's inventory team. The review flag is reset to false if a marked for review record's supply is updated by a subsequent inventory transaction. Refer to the Reviewing Pending Review Inventory Records below to learn more about how the inventory team can review and take action on the marked for review inventory records. zeroOut - Missing inventory records' quantity is systemically updated to zero. ignoreMissingItem - Missing inventory records are ignored, and no action is taken on them. Partial Sync - Partial sync only updates the inventory record(s) specified in the inventory sync message. If an inventory record is not found in the inventory sync message, the quantity for that inventory is not altered. Note: Inventory sync is done for on hand supply. However, we do not sync for future supply (PO and ASN). Inventory inbound sync will not create any supply record (new supply) with zero quantity. The inventory sync message consists of three events which need to be sent as three different messages by invoking the Rest end point (/inventory/api/inventory/supply/sync) Event Description Start Sync Indicates that sync has been initiated for a particular location. Contains the following information: Sync start date/time Sync location Full or partial sync Sync Details Contains the sync details - inventory records with quantity (absolute). The recommended number of records per JSON is 500 End Sync Indicates that sync is completed for a particular location. Contains the following information: Total number of inventory record(s) sent Sync end date/time Note: If within the sync detail multiple records are sent for the same item and supply attributes (batch, segment, inventory attributes 1..5, country of origin, etc.), these multiple records will all affect the supply table. Example: If a sync is sent with the following lines: Line 1 => item a => 100 qty Line 2 => item a => 100 qty Line 3 => item a => 150 qty After the sync is processed, the location will contain 350 qty of item a Process Flow Refer to the below section to understand how inbound sync works. Inbound Sync - Process flow Start Sync - Indicates that sync has been initiated for a particular location. As part of this, a snapshot of the Enterprise Inventory is taken and an entry is made into Sync Process Control to indicate "Sync has Started". As part of the Start Sync message, Enterprise Inventory takes a snapshot of the current picture of the inventory for that location. Supply snapshot cannot be scheduled, and it is always taken as part of the Start Sync message. Note: If a new sync message is sent to the location for which the sync is in progress, then the old sync is aborted with the status of "Aborted". To avoid the status 'Aborted', make sure that a sync process isn't currently running for the location. If the sync process receives a duplicate sync for the same location currently running a sync, the old sync will be aborted. Sync Details - Sync details can come in one or more files. All sync details are staged in a temporary location. End Sync - End sync is typically initiated after all sync details are messaged. As part of end sync, the below processes are performed. End Sync is mandatory for the sync process to continue. As part of End Sync, the following processes take place: Validations - If sync fails Business/Data validation, then Sync is aborted with the status "Validations failed", else the Sync process is updated as "Sync In progress" Business Validations: Validates the information like Item, Location, Lock code sent in the inventory sync message. If the item or the location does not exist in the inventory component, it will be created automatically. If the lock code/disposition/supply type does not exist, this sync detail will be ignored. Data Import Validations: Validation that the inventory sync process receives and stages the appropriate number of records. This validation can be turned on/off by configuring "Validate Sync Import" under Supply configurations. Smart Sync Validations: There can be scenarios where inventory record(s) could be sent in batches and one of the batches doesn't reach the Enterprise Inventory system for various reasons. In this scenario, instead of marking the inventory record(s) as zero, the system can perform a smart sync if enabled and apply partial sync or abort the sync if it crosses the threshold. All on-hand records, irrespective of supply type or error, are included in the smart sync calculation. Zero supply records are considered based on the above parameter. Future supply is not considered for this calculation. Threshold can be defined for specific Location ID, Location Type, and All Locations in "Smart Sync Configurations". For example, the configuration for Location ID, Location Type, and All Locations is as shown below in "Smart Sync Configuration": Threshold Value Threshold Type Action ID Location ID : Atlanta DC 20 Percentage Do not apply sync Location Type : DC 15 Absolute Switch to Partial Sync All Locations 10 Percentage Do not apply sync How are the Rules Evaluated The rules will be evaluated first for Location ID, then for Location Type, and finally for all locations. Example 1: Consider that there are 1000 records in the "Atlanta DC" SUPPLY table and only 400 records are sent as part of the sync process of "Atlanta DC", then in this scenario the threshold is [20% of 1000 = 200]. Now, 600 records that would have been zeroed out (because of non-availability in sync) is greater than the threshold value of 200; it will look for the "Action ID" configured for "Atlanta DC" that says "Do not Supply sync". Hence, in this specific scenario, the sync would be aborted. Example 2: Consider that there are 1000 records in the "Store A" SUPPLY table and only 950 records are sent as part of the sync process of "Store A". In this scenario, the above rules will be evaluated - first the system will check for "Location ID", if no match is found, it will look for "Location Type", and if no match is found for Location Type, it will look for "All Locations". Now, in this scenario, the threshold value will be calculated as [10% to 1000 = 100]. Since 50 records that would have been zeroed out(because of non-availability in sync) is less than the threshold value of 100, it will not look for Action ID and will continue to perform the sync process. For the "Absolute" threshold configuration, the smart sync gets applied if the "Number of records in supply - Number of common records in Sync and supply > Threshold configured" For the "Percentage" threshold configuration, the smart sync gets applied if the "((Number of records in Supply - Number of common records in Sync message & Supply)/Number of records in Supply) x 100 > Threshold percentage configured". Get Smart Sync Configuration Services Services API Details Get smartSyncConfig Details /inventory/api/inventory/smartSyncConfig Get the smart sync rules configured for "Location I'd", "Location Type", and "All Locations" under "Smart Sync configurations" Sample Response: { "Description": "Atlanta DC", "ApplyForAllLocations": false, "CreatedBy": "admin@ecomorg.com", "CreatedTimestamp": "2024-03-20T14:03:51.707", "SmartSyncConfigName": "Atlanta DC", "LocationId": "ecomorg:AtlantaDC", "Rank": 1000, "Process": "/smartSyncConfig/save", "SmartSyncConfigId": "Atlanta DC", "UpdatedBy": "admin@ecomorg.com", "SmartSyncThresholdValue": 10.0, "SmartSyncActionId": { "SmartSyncActionId": "0" }, "ConsiderZeroInventory": true, "Unique_Identifier": "7109434317079137414__Atlanta DC" } Post smartSyncConfig Details /inventory/api/inventory/smartSyncConfig/save This is used to save rules for "Location Id", "Location Type", and "All Locations" under Smart Sync Configuration. Sample Response { "Messages": null, "ProfileId": "ecomorg", "SmartSyncThresholdTypeId": { "SmartSyncThresholdTypeId": "0" }, "Description": "Sanjose DC", "ApplyForAllLocations": false, "SmartSyncConfigName": "Sanjose DC", "LocationId": "ecomorg:SanjoseDC", "Rank": 1000, "Process": "/smartSyncConfig/save", "SmartSyncConfigId": "Sanjose DC", "SmartSyncThresholdValue": 40.0, "SmartSyncActionId": { "SmartSyncActionId": "0" }, "ConsiderZeroInventory": true } Note: Smart sync is triggered based on the values set on the "Smart Sync Configuration", but there is no indicator to send an alert when smart sync is triggered. During smart sync evaluation, systems compare the supply records available in Active Inventory and the sync feed sent from external systems to evaluate if the smart sync needs to be applied or not. The smart sync is going to deprecate soon in supply configuration. Please configure "smart sync" under the "Smart Sync Configuration" page with an enhanced ability to configure Threshold for specific “Location I'd”,“ Location Type “, and “All Locations”. Till the time deprecation happens, the system will first look for configuration present in the "Smart sync configuration". If nothing is configured, then it will fall back to "supply configurations". If values are not passed for "Threshold Type", "Threshold Value", and "Action ID" while configuring a rule for Smart Sync, the values will be persisted from the seed data. Apply Sync: System compares the staged Supply details and Snapshot taken as part of Start sync. For any difference in quantity (positive or negative), the system internally creates an Adjustment event (positive or negative adjustment) to update the supply quantity. Regular Supply events can be processed along with Inbound Sync as inbound sync or supply events are processed as delta units. At any point, only delta units are updated from Sync or Supply events. For this reason, Supply event (Replace) and Sync will not work together in the same location. If sync is sent to the location configured to process "Replace", then sync is not processed. Refer to Supply Events - Replace for more details. Note: Sync cannot be sent for a particular segment or with segment details. If the location is maintained by supply by segments, then upon sync, the default segment (configured against transaction type - adjustment) is updated. If a segment strategy is defined by percentage criteria, then Sync updates will be segmented based on the rule. Refer to Segmentation for more details. There can be scenarios where Start Sync, Sync details and End Sync may not follow a proper sequence. To know more about how sync handles message sequence mismatches, refer to Handle Message Sequence Mismatches. Note: As part of end sync, all records from the Variance table for the location and all transactions except current transaction Id are purged. Inventory Variance Enterprise Inventory supports Inventory variance report (review the quantity changes) either as part of any particular inbound sync run or even before the actual inventory sync is executed. This can be configured by providing the "Sync Mode" in the inbound sync. Sync Mode can be available as part of all the three events(Start Sync, Sync Details, and End Sync) of inventory sync message, but End Sync takes the higher preference. Sync mode can take the following values: SyncOnly: This mode informs that the user is interested in running sync only and doesn't want to generate any variance information for reporting/monitoring purposes. null/empty: This is the default behavior, similar to that of the "SyncOnly" mode. ReportOnly: This mode informs that the user is running sync only for reporting/monitoring purposes and doesn't want to apply the inbound sync. Inventory variance report can be accessed from the API below by passing the Location ID and Transaction # ReportAndSync: This mode informs that the user is running sync for reporting/monitoring purposes and also wants to apply the quantity details on the current inventory. Inventory variance report can be accessed from the above API by passing the Location ID and Transaction # Search all Inventory Variances GET {{url}}/inventory/api/inventory/inventoryVariance Search Inventory Variance for a particular transaction number and location /api/inventory/inventoryVariance/search { "Query": "LocationId = '<LOCATION_ID>' and TransactionNumber = '<TRANSACTION_NUMBER>'" } Purging: Since the information in the inventory variance table is meant only for reporting/monitoring purposes, before running the actual inbound sync process, the information is purged in between two individual syncs. Example : Time 0: Inventory variance is generated by sync of 'Location A' and transaction number 'Sync1'. Time 1: Inbound sync came from 'Location A' with transaction number 'Sync2'. Time 1: Purge all the older inventory variance for 'Location A' except transaction number 'Sync2'. Time 1: Inventory variance is generated by sync of 'Location A' and transaction number 'Sync2'. This purge process ensures that we have inventory variance for only the latest run, to monitor and run reporting tools. Handle Message Sequence Mismatches Typically, the inventory sync message comes in a sequence - Start Sync, Sync Details, and End Sync, as mentioned above. Every sync message is designed to perform some business actions. There can be exceptional scenarios where messages can come in the wrong sequences because of multi-threading. Example - End Sync can come before Start Sync, Sync details can come post End Sync. The Enterprise Inventory system is designed to handle these message sequence mismatches, thereby ensuring the above business actions are performed correctly. If for any reasons, business actions cannot be continued, then sync is aborted. When End Sync messages come before Sync details messages - If the End sync message is processed before all sync details, message(s) are processed (Count record(s) sent in the end sync doesn't match the staged sync details), then the system is designed to retry for six times (after a gap of 60 seconds each) to ensure all sync details are received by the system. If all sync details are not received as per the count records, then sync is not processed. When the End Sync message comes before Start Sync - End sync takes the snapshot of the Enterprise Inventory system and validates if all the Sync details are available (as above) for the sync process to kick-start. Resetting Inventory Errors The inventory availability picture gives the "available to promise" quantity level details for an order capture channel. This is calculated based on Perpetual Inventory reducing existing allocations, protection level, outages and Errored inventory. There could be scenarios where the Perpetual Inventory in OM is not in sync with the fulfillment system. This is an inventory shortage scenario, where short updates for an Order are sent by the Fulfillment system. Inventory is marked with errors for the shorted items and availability gets reduced to disallow any new order promising. To consider inventory again in the availability picture and for allocation, errors need to be reset. As part of sync, inventory mismatch between the systems is typically resolved and as part of this, an error can be reset by setting the "ResetError" to True. If the reset error is true or not sent, then the error is reset for all the impacted on-hand supply records. As part of Sync, adjustment events are created internally for the supply record(s) where there is a quantity mismatch between the systems. But for supply record(s) with no quantity mismatch, adjustment events are not created, and an error doesn't get reset by default. To reset errors for zero delta record(s), the Inventory Configuration "ResetErrorOnZeroDelta" should be turned on. This will reset the error for record(s) with no inventory mismatch. Note: For Supply Sync Event, a flag can be sent in both Start Sync & End Sync messages . If the values differ, the flag value in End Sync will be considered. Reviewing Pending Review Inventory Records Whenever any syncs are received with the missingItemAction as markForReview, the following process comes into effect: RFID Syncs - Non-zero inventory records which exist in the current inventory picture but are missing from the sync are marked as pending review provided that the missing records' corresponding items are RFID tagged (Is RFID Tagged = true in the Items configuration). Non-RFID tagged items are not marked for review. Non-RFID Syncs - Inventory records which exist in the current inventory picture but are missing from the sync are marked as pending review, regardless of whether the corresponding items are RFID tagged or not. Retailers' inventory management team can review the pending review records by leveraging the Supply UI. In the UI, input the Location ID whose supply records need to be reviewed, change the "Display Pending Review?" filter's value to "Yes", and then tap on "Apply". This loads all the pending review inventory records for the given location ID. The inventory management team can reach out to the respective fulfillment location to confirm the inventory discrepancy. If the discrepancy exists, they can utilize the "MARK OUT OF STOCK" button in the bottom left corner of the UI to zero out the selected inventory records. This update, in turn, resets the pending review flags of the selected inventory records to false. Moreover, the fulfillment location can trigger inventory adjustments to rectify the overall inventory picture for the required item IDs. If the discrepancy doesn't actually exist, the inventory team can leave the pending review records as they are and any subsequent supply updates to the discrepancy records will systemically reset the pending review flags on them. Note: The "MARK OUT OF STOCK" button is protected by permission and is available only when the "Display Pending Review?" filter's value is "Yes". Configuration Inbound Sync Configuration All factors affecting the Supply Event will also impact Inbound Sync. Refer to Factors Impacting Supply for more details. Following is the additional setting for Inbound sync. This can be configured in the Supply Configuration UI. Factors affecting Sync Attributes Description Validate Sync Import This validation is done to ensure the number of sync detail records expected to be sent by external system (via count records field on Start Sync/End Sync) matches the number of sync detail records actually persisted in the Enterprise Inventory system. This validation can be turned on/off. If the validation is turned on and if a sync fails this validation, then the sync is not applied. By default, validate sync import attribute is false. Note: If the validation is turned on and the count records is not sent in either the Start Sync or End Sync, then the sync gets applied with no validation. Apply Smart Sync Validates that the number of inventory records that the Inventory component zeros out (due to the external system not sending the SKU - see below for an example) does not exceed the configured threshold. This is applicable for full syncs. This validation can be turned on/off. If the validation is turned on and if a sync fails this validation, there are two options: The sync is not applied The sync is applied for the valid records (switch to partial sync) Smart Sync is to ensure the inventory doesn't get zeroed out because of any failures in the messages. Smart Sync - Threshold Type This applies when smart sync validation is turned on. Threshold type can be Absolute or percentage based Smart Sync - Threshold value This applies when smart sync validation is turned on. Indicates the Threshold value post which the smart sync action will be performed. Smart Sync - Action When the threshold is crossed, and smart sync is enabled then the full sync can be either aborted or converted to a partial sync. Refer to the Smart Sync process for more details. Consider Zeroed Inventory for Smart Sync Host system may not send the Inventory records which are already zeroed out in the Enterprise Inventory system.  To exclude these records from Smart Sync Validation, disable "Consider Zero Inventory flag". If disabled, then system will not consider the zero supply records for smart sync calculation. If enabled, then system considers the zero supply record also for smart sync calculations. Supply event batch size At the end of sync process, supply event (type - adjustment) messages are generated to update the supply record(s) in the Enterprise Inventory system based on the sync records. This attribute controls the number of supply event messages per batch. Recommended number is 50 Smart Sync Configuration Smart Sync Configuration can be configured in the Smart Sync Configuration UI Related Article(s) Publishing InventoryAudit & ArchiveTroubleshootingInfinite InventoryReapportionment OverviewHow Future Supply worksHow Supply WorksSegmentationRest APIs & User ExitsHow to Configure Supply Profiles