# Italy

**Permalink:** fiscalization-italy
**Path:** Manhattan Active® Omni/Store/Process & Configuration Guides/Point of Sale/POS Classic Guides/POS Classic Fiscalization and Globalization/Italy
**Content Length:** 36,351 characters
**Scraped:** 2025-08-09T22:03:33.486493

---

Home ››Manhattan Active® Omni››Store››Process & Configuration Guides››Point of Sale››POS Classic Guides››POS Classic Fiscalization and Globalization ››Italy Italy OverviewTerminologyPrinter Details and ConfigurationsItaly specific configurationsItaly specific functional features Z report Lottery CodeCurrency RoundingError handling ReceiptsSupported/ Not supported Features in ItalyServices Overview Manhattan Active® Omni POS Fiscal compliance for Italy includes integration with a fiscal printer which takes care of fiscalizing the order and printing the receipt in the predefined format. A dedicated hardware device - Registratore Telematico printer should be in place to process POS transactions, to record them and finally report them to the tax authorities. To ensure adherence to fiscal regulations, retailers are required to obtain a fiscal printer provided by a government authorized service provider. Authorized service providers will have their own technicians or field service representatives who are designated to do the set-up and the maintenance. The printer technicians must configure the receipt header and footer information, particular address, VAT number etc. Manhattan Active® Omni POS supports the following printer models as fiscal printers in Italy: Epson FP-90III Series Terminology RT = Registratore Telematico Printer Details and Configurations To set up the integration of fiscal printers into the Manhattan Active® Omni POS application to print the fiscal documents, you should do the printer configuration setting using the below API and request payload details: API:{{url}}/devicemanagement/api/devicemanagement/printerType/import HTTP: POST { "Data": [ { "PeripheralDevice": "ItalyEpsonRTPrinter", "PeripheralIntegrationType": { "IntegrationType": "HttpLocal" } } ] } API: {{url}}/devicemanagement/api/devicemanagement/peripheralIntegrationType/import HTTP : POST { "Data": [ { "IntegrationType": "HttpLocal" } ] } API : {{url}}/devicemanagement/api/devicemanagement/registerToPeripheral/import HTTP: POST "Data":[ { "RegisterDeviceType":"RP9", "PeripheralTypeID": "Printer", "PeripheralDevice": "ItalyEpsonRTPrinter" }, { "RegisterDeviceType":"iPad", "PeripheralTypeID": "Printer", "PeripheralDevice": "ItalyEpsonRTPrinter" }, { "RegisterDeviceType":"Windows", "PeripheralTypeID": "Printer", "PeripheralDevice": "ItalyEpsonRTPrinter" }, { "RegisterDeviceType":"Android", "PeripheralTypeID": "Printer", "PeripheralDevice": "ItalyEpsonRTPrinter" } ] The printer should be configured from the API using the below sample request payload details. It is required to show the printer in the POS setting while SDM is on, in order to connect the register with the printer for the particular store. Printer Configuration API: {{url}}/devicemanagement/api/devicemanagement/printer/save HTTP method: POST // Sample Request Payload// { "Scheme": "http", "Address": "10.85.24.79", "UrlPath": "cgi-bin/fpmate.cgi?devid=local_printer&timeout=12000", "Port": 1001, "PrinterID": "P1006", "Type": { "PeripheralDevice": "ItalyEpsonRTPrinter" }, "PrinterName": "Printer 006", "StoreID": "tm-demo-us:80228-1028", } Note: To ensure seamless operation, it is essential to set up the fiscal printer with a static IP address. If IP address is dynamic, it requires reconfiguration every time it changes. Note : Retailers should ensure that they have a backup fiscal printer in the stores so that they will not be blocked if the current fiscal printer stops working. Italy specific configurations These are the configurations required if the store is located in Italy. EnableFiscal" should be enabled using the API details provided below through Postman. Enable Fiscal Configuration API: {{url}}/order/api/order/fiscalConfig/save HTTP Method: POST //Request Payload// { "EnableChaining": false, "EnableFiscal": true, "ConfigId": "Default" } POS Configuration > Store Currency: Configure both the cart and the back office to work in the EUR currency code. To Set up POS Store Configurations > Store Common Config > “Default Store Currency” = EUR Store Backoffice to be set up as EUR currency, i.e. BO Store Configurations > Store Base Currency = EUR Make sure that Store Currency (e.g. “EUR)” has all denominations set if counting is by denominations, via Backoffice > “Store Currency” and Currency Denomination configurations. POS Configuration > Store Locale: To set up store locale, POS Store Configurations > Store Common Config >Default Store Locale= it POS Tax Configuration : Configure Tax system as VAT by enabling “Primary Tax as Info” from POS Store Configurations > Store Common Config Order Configuration > Tax Engine -Set up the Tax engine for “mPOSConfig“ as “LocalTax” For tax configurations setup, refer  Local tax guide. Order Configuration > Tax Engine -Set up the Tax engine for “mPOSConfig“ as “Vertex” is also supported. When sending item information to the RT Printer, it is essential to include the Department ID of that particular item. The RT Printer utilizes the Department ID to determine the tax rate for printing on the receipt, as it has a mapping of Department IDs to tax rates. So it is mandatory that all items are  assigned to a Tax Department, which corresponds to its Department ID under the selling attribute in the Item master data. Below is an example of how an item (900101) was assigned to the Tax Department 14 through Postman. Tax Department API:{{url}}/item/api/item/item/save HTTP method: POST //Sample Request Payload// { "ItemId": "900101", "SellingAttributes": { "TaxDepartment": "14" } } To configure the receipt template, use the seed data from the  receiptTemplateConfig from the receipt component. Refer to the API details below. API : {{url}}/receipt/api/receipt/receiptTemplateConfig/import Note: RT Printer Tax rate-Department mapping and Manhattan Active® Omni Tax rate-Department mapping should match Assumption : POS Application will run only when simple device management is ON One register is connected to one RT printer device. Italy specific functional features Z report A Z report is generated at the end of each business day at the store, and includes a detailed log of all transactions done in the store for the day. This generating of the report is initiated by Manhattan Active® Omni POS and the RT printer generates the report in the predefined format. To print the report, Tap Back Office> Reports> End of day(Z) report > Print Users can print  Z report only when the store is closed for the particular business day. Use the API  and Request Payload detailed below to configure Italy Z report in Manhattan Active® Omni POS application. Z report Config API:{{url}}/backoffice/api/backoffice/storeReportConfig/save HTTP method: POST Request Body: { "ReportName": "Z Report", "DependsOnStoreClose": "true", "IsEnabled": true, "ReportLabel": "End Of Day (Z) Report", "ReportGenerator": "ReceiptPrinter" } A sample Z report can be found here Note: The Z report is not supported for handheld devices. Lottery Code Manhattan Active® Omni POS application allows users to set a lottery code for each transaction in Italy. After completing the purchase at the time of the check-out process in the application, users will be prompted to input the lottery code on the customer lottery information screen. If a customer doesn't have a lottery code, the user can simply skip this step. Once the user enters the lottery code, it will be saved and updated in the Manhattan order database. This means that if they revisit their cart to make modifications, the previously entered lottery code will be prepopulated on the customer lottery information screen. However, users can always edit the prepopulated lottery code and enter a new one if needed. During return transactions, if the original sale transaction included a lottery code, it will be printed on the return receipt for reference. The lottery code is sent to the RT Printer only when the transaction contains an electronic payment and the transaction amount is more than 1 euro, only when these criteria meet the lottery code is printed on the receipt. Add item to cart>>Checkout>> Customer lottery information>> Add lottery code>>Skip and Proceed>> Order Summary In Italy, the lottery code must be precisely 8 characters in length, case-sensitive and comprise a combination of alphanumeric characters. Currency Rounding In Italy, currency rounding is a process used to round the total amount of a transaction to the nearest five cents. This practice aims to simplify cash transactions and eliminate the need for one- and two-cent coins. Rounding applies exclusively to transactions completed using cash.It is applied at the completion of the payment process to the entire total order. It is mandatory to do the rounding configuration both in the Manhattan Active® Omni POS application and in the RT printer, which is a fiscal device to ensure compliance with local regulations and enhance user convenience. RT Printer Rounding Configurations : As the Manhattan Active® Omni POS application is integrated with an Epson FP-90III Series RT Printer, there are four possible values for parameter settings in RT printer. • 0 = No rounding * • 1 = Standard Rounding • 2 = Round Down only • 3 = Round Up only Retailers must enable the "Standard Rounding" in the RT Printer. An example of an XML query to configure "Standard Rounding" in the EPSON RT Printer using postman is provided below: XML Request Example: Configuring standard rounding for RT printer URL: http://10.85.24.79/cgi-bin/fpmate.cgi?devid=local_printer&timeout=12000 HTTP Method : POST // Sample request payload// <s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"> <s:Body> <printerCommand> <directIO command="4015" data="27001" /> </printerCommand> </s:Body> </s:Envelope> Note: Please ensure to use the specific URL of the printer for which rounding configuration is required. Manhattan Active® Omni POS application Rounding configuration : In countries like Italy, where rounding for cash transactions to a specific denomination is required, refer to the Currency/Cash Rounding  section to configure the currency rounding in Manhattan Active® Omni POS application. Error handling The Manhattan Active® Omni POS application provides the following options to handle failures during transactions. An error can occur anytime during the process of submitting a transaction to the RT printer or while getting  a response back from the printer. Retry – The user can choose this option when the failure can be resolved, and the fiscal transaction can be reattempted. This option becomes particularly useful when the fiscal device is temporarily disconnected, or the fiscal printer runs out of paper. By choosing the Retry option, the user can efficiently address these specific challenges and re-execute the fiscal transaction with the expectation of successful completion after resolving the identified issues. Cancel –The Cancel option provides the user with the ability to proceed with the subsequent transactions if the current one fails.   This option is useful in scenarios where resolving the issue immediately may not be feasible. By choosing Cancel, the user can navigate back to the cart screen, allowing for a more convenient and controlled approach to addressing the encountered issues. Handling the confirmed order, failed to Fiscalize in RT printer - Manhattan Active® Omni POS application will cancel the confirmed orders which failed to fiscalize in RT printer,  (for example: the transaction didn't make it to the RT printer), and it will cancel the order at the relaunch of the application. The process of initiating a refund for the customer will typically be triggered at the time of cancelation. Canceling a transaction in a Point of Sale system involves reversing the sale and undoing any associated financial transactions. Handling confirmed fiscalized  order, failed to update the database - Manhattan Active® Omni POS application will fetch the fiscal information from the RT printer and updates the database.  This does not result in an order cancelation. Receipts Receipt is predefined by Italy "Registratore Telematico" fiscal printer and cannot be customized. The sample receipt for Italy is found here Note :The sample receipt is printed in the Test mode RT printer and the production mode RT printer will print more human-readable receipts. Supported/ Not supported Features in Italy Below is the list of features which are supported and not supported in Italy. The features which are not supported are controlled via grants or business flags. Features Supported/Not Supported Sales flow with Cash, Credit card, Debit card, Personal cheque, Gift card and Store credit ✅ Sales flow with Traveler's Check ❌ Sale transaction Foreign currency Cash ✅ Sale flow by activating customer, guest checkout, link sale associate, price override, add quantity key, line void or mid-void, mid-payment void ✅ Sales flow with VAS ❌ Sales flow with non-merchandise items ✅ Sale with transaction/ line discounts ✅ ( Partially supported, discount applied to all the items with the same VAT rate) Sale with Promo ✅ ( Partially supported, promo applied to all the items with the same VAT rate) Tax Override ❌ Tax Exempt ❌ Return with receipt from one original transaction ✅ Return Refund to same tender paid originally or any other tender irrespective of original payment ✅ Return with receipt from more than one original transaction ❌ Return without Receipt ❌ Return with receipt, but return has restocking or other fees ❌ Print receipts ✅ Gift receipts ❌ Email ❌ Return receipt-Store Copy ❌ Return receipt-Customer Copy ✅ Reprint receipts from historical transaction ❌ Reprint receipt of last transaction on the register ✅ Gift Card Activation ✅ Gift Card Reload ✅ GC Balance Inquiry ❌ Gift card cash out ❌ Currency rounding ✅ Back Office-Store Open, Store Close, Till Open, Till Reconcile, Till close, Bank Deposit ✅ Suspend and Resume ❌ Manager Function-PayIn, Payout ✅ Manager Function-No sale, Till Loan, Till pick Up ❌ Omni Transaction ❌ BOPIS ❌ Order deposits, i.e. Pay in partial deposits ❌ Post void ❌ Exchange Tender, I.e. exchange 2 gift card and issue 1 Gift card ❌ Price Check ❌ Offline Transaction ❌ Z report - Generated by RT printer ✅ Save the sale orders ❌ Reprint non fiscal receipt ❌ Exchange ❌ Employee transaction ✅ Lottery Code ✅ The features which are not supported should be controlled via grants or Business Flags. Refer to Configuration and Resources guide for more details on the configurations. Additional configurations are noted below: Italy does not accept sale and returns in single receipts. The below business flag should be enabled. “Do Not Allow Sale And Returns In Single Transaction” under POS General Configuration > Common Configuration Italy does not support Store copy return receipts, so Business Flag needs to be setup: POS Store Configuration>>Receipt Configuration>>Print Receipt On Return=Customer_Copy In Italy GC cashout is not supported.  Business Flag : POS general configuration-> Common Configuration-> Gift card cashout threshold=0 Don't allow return from multiple orders Services The APIs listed below are related to Italy fiscal sales at Manhattan Active® Point Of Sale and are referenced in this document. Refer to API documentation for additional details on each service. Service Component Group Service Endpoint PrinterType devicemanagement PrinterType devicemanagement/api/devicemanagement/printerType/import peripheralIntegrationType devicemanagement peripheralIntegrationType devicemanagement/api/devicemanagement/peripheralIntegrationType/import registerToPeripheral devicemanagement registerToPeripheral devicemanagement/api/devicemanagement/registerToPeripheral/import printer devicemanagement printer devicemanagement/api/devicemanagement/printer/save storeReportConfig backoffice storeReportConfig backoffice/api/backoffice/storeReportConfig/save receiptTemplateConfig receipt receiptTemplateConfig receipt/api/receipt/receiptTemplateConfig/import Fiscal Process backoffice Fiscal Process storefacade/api/storefacade/backoffice/fiscal/processFiscal