# Forecast Assignment Criteria

**Permalink:** forecast-assignment-criteria
**Path:** Manhattan Active® Supply Chain Planning/Process &amp; Configuration Guides/Demand Forecasting/Forecast Assignment Criteria
**Content Length:** 33,498 characters
**Scraped:** 2025-08-09T22:07:19.460490

---

Home ››Manhattan Active® Supply Chain Planning››Process & Configuration Guides››Demand Forecasting ››Forecast Assignment Criteria Forecast Assignment Criteria I Next OverviewProcess FlowConfigurationUIs and EntitiesServicesRelated Articles Overview The Forecast Assignment Policy allows for overriding the default Smoothing Policy, Forecast Control Policy, and Forecast Exception Policy configured in a Forecast Policy. These overrides can be temporary or permanent for a subset of the entity population. Additionally, an automatic re-initialization of the forecast can be triggered when one or more attributes of the Forecast Assignment Policy are modified. The rule conditions include various attributes such as annualDemandForecast, currentDemandForecast, forecastStandardDeviation, seasonalIndex, velocityCode, itemLocationGroups, itemLocationGroup, LocationId, and ItemId. These attributes can be evaluated with different operators and values. If multiple attributes are specified, all conditions must be met for the actions (such as applying policies) to be triggered. If any condition fails, the policies will not be applied. When a Forecast Initialization (FI) or Forecast Update (FU) occurs, the system checks for the presence of an applicable assignment policy. If a policy exists, it evaluates the rule conditions and, based on the results, applies the relevant policies to the forecast. Once applied, the Assignment Policy ID will be recorded in the forecast entity. The UI will display the applied Forecast Assignment Policy, along with the Smoothing Policy, Forecast Control Policy, and Forecast Exception Policy that have been applied as actions from the forecast assignment policy. When the Revert on End Date option is set to true, both the Start Date and End Date become mandatory fields. If the end date is earlier than the current business date, the Smoothing Policy, Forecast Control Policy, and Forecast Exception Policy, as defined in the Forecast Policy, will be applied to the forecast process. When the Recur Annually option is set to true, both the start date and end date are also mandatory. If the current business date falls between the start date and the end date, the Smoothing Policy, Forecast Control Policy, and Forecast Exception Policy defined in the Forecast Assignment Policy will be applied in the forecast process. Process Flow 1) Forecast Assignment Policy Flow 2) Revert On End Date Flow 3) Recur Annually Flow Configuration In this section, we will provide a step-by-step implementation of all necessary APIs and their configuration details for the Forecast Initialization process with Assignment Policy, along with examples. Save the Master Data Save the Demand Metrics Save the Demand Cleansing Policy {url}}/ai-forecast/api/ai-forecast/demandCleansingPolicy/save                                                                                         { "BusinessEventSmoothing": true, "RemoveOutliersForRegular": true, "NewThresholdPeriods": 13, "ControlDataUpperPercentile": 0.95, "LowerOutlierThresholdForRegular": 6.0, "YearFourWeight": 25.0, "DemandCleansingPolicyId": "DemandCleansingPolicy_1", "ForecastHistoryToDate": null, "UpperOutlierThresholdForRegular": 6.0, "YearTwoWeight": 20.0, "UpperSpikeThresholdForRegular": 4.0, "ForecastHistoryUsedType": { "ForecastHistoryUsedTypeId": "A" }, "IntermittentSlowMoverThreshold": 1.0, "SpikeSmoothingLengthForRegular": { "DemandSmoothingPeriodTypeId": "NO_SMOOTHING" }, "LowerSpikeThresholdForRegular": 4.0, "InactiveThresholdPeriods": 26, "ConsistentOutlierPeriodLength": 0, "LowerOutlierThresholdForIntermittent": 4.0, "Description": "Desc", "RemoveOutliersForIntermittent": true, "YearOneWeight": 25.0, "LastNumberOfPeriods": null, "SmoothenSpikesForIntermittent": true, "ZeroDemandPeriodsThreshold": 30.0, "UpperSpikeThresholdForIntermittent": 4.0, "ConsistentOutlierMinimumOccurrenceLength": 4, "YearThreeWeight": 30.0, "DisableSpikeSmoothingForSeasonalDemand": false, "ForecastHistoryFromDate": null, "RegularSlowMoverThreshold": 1.0, "SmoothenSpikesForRegular": true, "SpikeSmoothingLengthForIntermittent": { "DemandSmoothingPeriodTypeId": "NO_SMOOTHING" }, "DemandCleansingFilterCondition": [ { "Description": null, "EntityType": "Item", "FilterAttribute": "ItemId", "FilterValue": "Item_1" }, { "Description": null, "EntityType": "Location", "FilterAttribute": "LocationId", "FilterValue": "Store_1" } ], "UpperOutlierThresholdForIntermittent": 4.0, "LowerSpikeThresholdForIntermittent": 4.0, "MetricGroupId": "MetricGroup-34" } Trigger the Demand Cleansing Policy to get Demand Cleansing Results {{url}}/ai-forecast/api/ai-forecast/demandCleansingPolicy/triggerDemandCleansing/DemandCleansingPolicy_1 Save the Forecast Policy {{url}}/ai-forecast/api/ai-forecast/forecastPolicy/save                                                                                                { "SmoothingPolicy": { "SmoothingPolicyId": "Fast" }, "Description": "{{ForecastPolicyId}}", "ForecastControlPolicy": "Normal", "ForecastPolicyRank": 117, "LastNumberOfPeriods": null, "LocationHierarchyId": "Primary", "ForecastMethod": { "ForecastMethodId": "UNIFIED_FORECASTING" }, "MetricGroupId":  "MetricGroup-34", "ForecastPolicyId": "{{ForecastPolicyId}}", "ForecastHistoryToDate": null, "ForecastHistoryFromDate": null, "ItemHierarchyId": "ForecastHierarchy", "ItemHierarchyLevelId": "ItemId", "LocationHierarchyLevelId": "LocationId", "ForecastPeriodType": { "ForecastPeriodTypeId": "1_WEEKLY" }, "ForecastFilterCondition": [ { "Description": null, "EntityType": "Item", "FilterAttribute": "ItemId", "FilterValue": "{{ItemId1}}" }, { "Description": null, "EntityType": "Location", "FilterAttribute": "LocationId", "FilterValue": "{{StoreLocationId1}}" } ], "ForecastHistoryUsedType": { "ForecastHistoryUsedTypeId": "A" }, "UpdateTrendFactor": false, "ForecastPurpose": { "ForecastPurposeId": "Replenishment" }, "ForecastPolicyLevels": null, "ForecastExceptionPolicy": "Normal" } This API saves a new Forecast Assignment Policy. A forecast assignment policy defines how forecasts are assigned within the system based on parameters like control policy, smoothing policy, exception policy. Save the Forecast Assignment Policy {{url}}/ai-forecast/api/ai-forecast/forecastAssignmentPolicy/save                                                                                      { "ForecastAssignmentPolicyId": "ForecastAssignmentPolicy_1", "Description": "ForecastAssignmentPolicy_1", "ForecastAssignmentPurpose": "FORECASTING", "ForecastExceptionPolicy": "Tight", "ForecastControlPolicy": "Tight", "SmoothingPolicy": "Fast", "RecurAnnually": false, "RevertOnEndDate": false, "StartDate": "2020-02-01", "EndDate": "2020-02-20" } This API saves a new Forecast Assignment Policy. A forecast assignment policy defines how forecasts are assigned within the system based on parameters like control policy, smoothing policy, exception policy. Save Rule Group. {{url}}/ai-forecast/api/rules/ruleGroup                                                                                                                  { "RuleGroupId": "RuleGroup_1", "RuleGroupDescription": "Forecast assignment Policy rules" } This API creates a Rule Group, which is a collection of rules that define conditions and actions for specific forecasting processes. Rule groups allow the system to apply a set of rules based on logical associations. Save Rule Action {{url}}/ai-forecast/api/rules/ruleAction                                                                                                                  { "RuleActionId": "RuleAction_1", "ActionDescription": "Override with action values ", "ActionValue": "ForecastAssignmentPolicy_1" } This API saves a new Rule Action. A rule action defines what happens when a condition in a rule is met. For example, it might override certain forecast values or apply policies. Save Rule Condition {{url}}/ai-forecast/api/rules/ruleCondition                                                                                                             { "RuleConditionId": "RuleCondition_1", "ConditionValue":"{\"logicalOperator\":\"and\",\"conditions\":[{\"lhs\":{\"attribute\":\"forecast.annualDemandForecast\",\"operandType\":\"attribute\"},\"operator\":\">\",\"rhs\":{\"value\":200,\"operandType\":\"constant\"}}]}" } This API saves a new Rule Condition. A rule condition defines the "if" part of the rule, specifying when the rule should be triggered based on certain logical conditions (e.g., annual demand forecast > 200). Save Rule. {{url}}/ai-forecast/api/rules/rule                                                                                                                                                        { "RuleId": "Rule_1", "RuleGroupId": "RuleGroup_1", "RuleDescription": "RuleGroup_1", "Component": "com-manh-cp-ai-forecast", "RuleStatus": "active", "Salience": "1", "DisplaySequence": "1", "RuleConditionId": "RuleCondition_1", "RuleActionId": "RuleAction_1" } This API saves a new Rule. A rule combines a condition and an action within a rule group. The rule will be applied when its condition is met. Save Rule Type {{url}}/ai-forecast/api/rules/ruleGroupRuleTypeXref                                                                                                    { "RuleGroup": { "RuleGroupId": "{{RuleGroupId}}" }, "RuleType": { "RuleTypeId": "ForecastAssignmentPolicy" } } This API maps a Rule Group to a Rule Type. A rule type categorizes the group of rules for specific purposes (e.g., "ForecastAssignmentPolicy"). Adding Rule Group to Forecast Policy {{url}}/ai-forecast/api/standardconfig/configRuleGroupXref                                                                                               { "ConfigGroupType": "ForecastPolicy", "ConfigType": "ForecastAssignmentPolicy", "RuleTypeId": "ForecastAssignmentPolicy", "ConfigGroupId": "ForecastPolicy_1", "RuleGroupId": "RuleGroup_1" } This API is used to link a Rule Group to a Forecast Policy. A Rule Group contains a set of rules that can override default forecast settings such as Smoothing Policy, Forecast Control Policy, and Forecast Exception Policy for a given Forecast Policy. By associating the Rule Group with the Forecast Policy, the system can apply specific forecast behaviours or exceptions based on the rules defined in the Rule Group. Trigger Forecast Initialization process to get Forecasts After the above steps, if the conditions mentioned in the assignment policy are met during the forecast initialization process, the forecast entity will stamp the assignment policy ID. The forecast record will also show the forecast assignment policy ID in the UI. The table below illustrates a forecast record for an item at a specific location, which will serve as a reference for the Forecast Initialization process with Assignment Policy flow. Item Location Forecast Policy Id Current Business Date Forecast Process Forecast Forecast Assignment Policy Id Item_1 Store_1 ForecastPolicy_1 03-02-2020 Forecast Init 74.41 ForecastAssignmentPolicy_1 UIs and Entities The configuration UIs mentioned in this document are listed in the following table, along with information to navigate to the API documentation. UI Name Component Group Seed Data Present? Seed Data Profile Forecast Assignment Policy ai-forecast No Services The APIs listed in the following table are referenced in this document. Refer to the API documentation for additional details on each service. Service Component Group Service Endpoint Forecast Assignment Policy ai-forecast {{url}}/ai-forecast/api/ai-forecast/forecastAssignmentPolicy/save Rule Group ai-forecast {{url}}/ai-forecast/api/rules/ruleGroup Rule Action ai-forecast {{url}}/ai-forecast/api/rules/ruleAction Rule Condition ai-forecast {{url}}/ai-forecast/api/rules/ruleCondition Rule ai-forecast {{url}}/ai-forecast/api/rules/rule Rule Type ai-forecast {{url}}/ai-forecast/api/rules/ruleGroupRuleTypeXref Adding Rule Group to Forecast Policy ai-forecast {{url}}/ai-forecast/api/standardconfig/configRuleGroupXref Related Articles Day of Week ProfileForecast ExceptionsFuture Forecast AdjustmentsNew Item Location Auto-AssociatonAggregated Seasonal Profile Forecast UpdateManual Forecast ChangeForecast InitializationExclusions RulesDemand ForecastingSeasonal ProfilingForecast SummaryForecast AnalysisLost Sales for Forecasting Demand Classification & Cleansing