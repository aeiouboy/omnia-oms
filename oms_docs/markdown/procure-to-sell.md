# Procure To Sell

**Permalink:** procure-to-sell
**Path:** Manhattan Active® Omni/Order Management/Process & Configuration Guides/Order Promising/Procure To Sell
**Content Length:** 38,545 characters
**Scraped:** 2025-08-09T21:56:03.198820

---

Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Order Promising ››Procure To Sell Procure To Sell OverviewOrder AllocationVendor Delivery Calendar (DC Receiving Calendar)PromisingCart and Product ATPGet Availability changesOutbound to Planning systemDelivery Dates CalculationDate calculations for Item-Location based VendorLeadTimeDate calculations for Item based VendorLeadTimeConfigurationPromisingAvailabilityVendor Calendar Overview The Procure to Sell feature enables retailers to continue capturing sales even when inventory is unavailable by promising items based on vendor lead times instead of marking them as backordered. When this feature is enabled, the system allows out-of-stock items to be sold by estimating a reliable delivery date using the vendor lead time—the time (in hours) it takes for a vendor to deliver the product to a specific location. This configurable option helps retailers avoid lost sales, improve customer satisfaction through accurate delivery promises, and optimize operations by aligning procurement timelines with customer demand. Order Allocation When an order is created, the system first checks for available inventory for each item. If an item is out of stock, the system evaluates the Procure to Sell configuration. If this configuration is enabled, the item is sent to the planning system to retrieve lead time information across all item-location combinations. The planning system responds with data including LocationId, LeadTime, and VendorId for the item. The system then selects the optimal location based on optimization factors. An outbound request is sent to the planning system to initiate a purchase order (PO) for the item. While this process is underway, the corresponding order line transitions to the 'Awaiting Procurement' (1600) status. Once the inventory is received, the order is automatically allocated and released for fulfillment. Refer here to enable the 'Awaiting Procurement' (1600) status in the order pipeline. Use the API below to save item-location based VendorLeadTime: POST {{url}}/itemlocation/api/itemlocation/itemLocation/save { "ItemId": "item1", "LocationId": "DC1", "LeadTime": "24", "PrimarySource": "vendor1" } Vendor Delivery Calendar (DC Receiving Calendar) Retailers can configure vendor-specific receiving calendars for their distribution centers (DCs). These calendars define the days on which a DC is able to receive shipments from a specific vendor. When an order includes an out-of-stock item, the system consults the corresponding vendor calendar to determine valid receiving days and calculates delivery dates accordingly. If no calendar is configured for a particular vendor, the system assumes that the DC can receive shipments from that vendor on all days. Promising During the promising process, delivery dates are determined using the vendor lead time. If the Procure to Sell configuration is enabled, and a purchase order has not yet been received or inventory has not been replenished, the item remains in the 'Awaiting Procurement' (1600) status. However, if the configuration is disabled, or if no item-location vendor lead time is defined (i.e., null or empty) across all locations, or the item based vendor lead time is not configured entirely, the order line moves to the Backordered (1500) status. An additional boolean flag, ProcureSupply, is included in the response to indicate whether an item needs to be procured. This flag is set to True when the item is out of stock and procurement is required, and False when inventory is available. Additionally, a configurable buffer time (in hours) allows for consideration of purchase orders within the range of 'LatestReleaseDate - BufferTime' and LatestShipDate when the promising request includes a RequestedDeliveryDate. Note: Ensure that Continuous Allocation is enabled for the ability to promise against out-of-stock inventory feature to function. Note: Procurement of out-of-stock inventory will only occur from distribution centers (DCs). If source destinations are configured in the view, but items cannot be procured to any DCs or if scheduling fails, the item will still be marked as back-ordered. Cart and Product ATP The cart and product ATP (Available to Promise) responses have been enhanced to calculate the earliest possible delivery dates by incorporating Vendor Lead Time for out-of-stock items. When a cart request includes items that are not currently in inventory, the system estimates delivery dates based on the lead time required for procurement. An additional boolean flag, ProcureSupply, is included in the response to indicate whether an item needs to be procured. This flag is set to True when the item is out of stock and procurement is required, and False when inventory is available. Refer to the response below for a cart/product ATP call: Sample response for cart/product ATP call{ "data": { "RequestId": "CART", "ShippingOptions": [ { "ShippingMethodId": "Ground", "EarliestShipDate": "2025-02-23T07:55:00",                    // Max (EarliestShipDate) across all the items. "EarliestDeliveryDate": "2025-02-25T07:55:00",                // Max (EarliestDeliveryDate) across all the items "AreAllItemsAvailable": false, "LatestShipByDate": null, "LatestReleaseByDate": null, "LatestReleaseByDateForFutureSupply": null, "CommittedDeliveryDate": null, } ], "ResponseDetails": [ { "DetailId": "1", "ItemId": "Tops-1234-White-S", "ShippingOptions": [ { "ShippingMethodId": "Ground", "EarliestShipDate": "2025-02-23T07:55:00", "EarliestDeliveryDate": "2025-02-25T07:55:00", "LatestShipByDate": null, "LatestReleaseByDate": null, "LatestReleaseByDateForFutureSupply": null, "CommittedDeliveryDate": null, "Quantity": 100.0, "SupplyDetailsInfo": [ { "Eta": null, "Quantity": 5.0, "EarliestShipDate": "2025-02-14T07:55:00", "EarliestDeliveryDate": "2025-02-15T07:55:00", "ShipFromLocationId": "ecomorg:AtlantaDC", "CutOffTime": null, "LatestShipByDate": null, "LatestReleaseByDate": null, "LatestReleaseByDateForFutureSupply": null, "CommittedDeliveryDate": null, "ProcureSupply": false                  //New fag to indicate procure supply, which is false because inv exists } }, { "Eta": 2025-02-22T07:55:00,                    // Current time + Lead time "Quantity": 95.0,                      //Quantity for which there is no inventory and supply has to be procured "EarliestShipDate": "2025-02-23T07:55:00",     // Existing logic + Lead Time "EarliestDeliveryDate": "2025-02-25T07:55:00", // Existing logic + Lead Time "ShipFromLocationId": "ecomorg:AtlantaDC",     //Optimal location where supply can be procured "CutOffTime": null, "LatestShipByDate": null, "LatestReleaseByDate": null, "LatestReleaseByDateForFutureSupply": null, "CommittedDeliveryDate": null, "ProcureSupply": true                 // New fag to indicate procure supply, which is true since there is no inv } ] } ] } } Get Availability changes The Get Availability responses for both network and location views have been enhanced to display infinite quantity for items that are out of stock but eligible for procurement. This reflects the system’s ability to fulfill demand through the Procure to Sell process, indicating that the item can still be promised even without on-hand inventory. An additional boolean flag, ProcureSupply, is included in the response to indicate whether an item needs to be procured. This flag is set to True when the item is out of stock and procurement is required, and False when inventory is available. Refer to the response below to view changes for items that are out of stock but can be procured: Sample response for items that are out of stock but can be procured"data": [ { "ItemId": "Tops-19661-Blue-S", "Status": "AVAILABLE",                           //Status is AVAILABLE since inventory can be procured "StatusCode": 2, "NextAvailabilityDate": null, "ViewName": "Ship to Home", "ViewId": "Ship-to-Home", "TransactionDateTime": "2025-03-10T09:49:47.779", "TotalQuantity": 9999.0,                          //Infinite quantity "TotalIncludingSubstituteItems": 9999.0,          //Infinite quantity "SubstituteItemsAvailable": false, "SubstitutionDetails": null, "FirstAvailableFutureQuantity": 9999.0, "FirstAvailableFutureDate": "2025-04-11T01:32",  //Date is populated based on calculation CurrentTime + LeadTime "OnHandQuantity": 0.0, "OnHandStatus": "OUT_OF_STOCK", "OnHandStatusCode": 0, "FutureQuantity": 9999.0,                        //Infinite quantity "FutureSupplyDetails": [], "AdditionalInfo": null, "Quantity": {}, "NetworkProtectionQuantity": {}, "IsInfiniteAvailability": false, "IsKitItem": false, "ProcureSupply": true                             //True since the item has no inventory and it has to be procured } ] Outbound to Planning system An outbound request is sent to the planning system, aggregating all items that are out of stock along with their respective quantities and target procurement locations. This outbound JSON payload enables the planning system to evaluate and initiate purchase order creation for each item as needed. The outbound is triggered according to the job schedule configured by the retailer. Refer to the outbound json below for an item: Outbound json for an item{ "ItemId": "Tops-19681-Blue-S", "TotalCommitedQuantity": "10",                               //Total quantity for which procurement is required "CommitedQuantityDetails": [ { "LocationId": "AtlantaDC", "CommitedQuantity": "5", "SupplyDetails": [ { "Quantity": "1", "AllocatedQuantity": "0" "Eta": null, "SupplyTypeId": "On Hand Available" }, { "Quantity": "1", "AllocatedQuantity": "0" "Eta": "2025-03-27T00:00:00", "SupplyTypeId": "On Order" } ] }, { "LocationId": "SanjoseDC", "CommitedQuantity": "5", "SupplyDetails": [ { "Quantity": "2", "AllocatedQuantity": "1" "Eta": "2025-03-27T00:00:00", "SupplyTypeId": "On Order" } ] }, { "LocationId": "BostonDC", "CommitedQuantity": "0",                          //We are letting planning system know regarding available quantities across all locations "SupplyDetails": [ { "Quantity": "2", "AllocatedQuantity": "1" "Eta": null, "SupplyTypeId": "On Hand Available" } ] }, { "LocationId": "GeorgiaDC", "CommitedQuantity": "0",                           //We are letting planning system know regarding available quantities across all locations "SupplyDetails": [ { "Quantity": "10", "AllocatedQuantity": "5" "Eta": null, "SupplyTypeId": "On Hand Available" } ] } ] } NOTE: Manhattan Active® Omni does not maintain a hard linkage between a specific purchase order (PO) and an order. Once the outbound JSON is sent to the planning system, Active® Omni does not track whether a PO has been created for a particular item. The order line is allocated automatically when inventory becomes available for the item. Delivery Dates Calculation The 'VendorLeadTime' attribute in item master represents the time (in hours) required for a vendor to deliver an item to a location. The Distribution Centres can be configured with Vendor delivery calendars that indicate when the DCs receive shipment from the vendors, which are categorized by vendor Ids. Refer here for Vendor calendar configuration. Additionally, a configurable buffer time(in hours) allows for consideration of purchase orders within the range of "LatestReleaseDate - BufferTime" and "LatestShipDate" when the request includes a RequestedDeliveryDate. Date calculations for Item-Location based VendorLeadTime Impacted Delivery Date Calculations: EarliestShipDate = CurrentTime + LeadTime + (Check DC’s calendar for receiving from vendor) + LocationProcessingTime EarliestDeliveryDate = EarliestShipDate + TransitTime Impacted Delivery Date Calculations when order Line/order has RequestedDeliveryDate: LatestShipDate = RequestedDeliveryDate - TransitTime LatestReleaseDate = LatestShipDate - LocationProcessingTime - (Check DC’s calendar for receiving from vendor) - VendorLeadTime Impacted Calculations When Buffer Time is Configured: LatestShipDate = RequestedDeliveryDate - TransitTime LatestReleaseDate = LatestShipDate - LocationProcessingTime - (Check DC’s calendar for receiving from vendor) - VendorLeadTime - BufferTime Date calculations for Item based VendorLeadTime Impacted Delivery Date Calculations: EarliestShipDate = CurrentTime + LocationProcessingTime + VendorLeadTime EarliestDeliveryDate = EarliestShipDate + TransitTime Impacted Delivery Date Calculations when order line/order has RequestedDeliveryDate: LatestShipDate = RequestedDeliveryDate - TransitTime LatestReleaseDate = LatestShipDate - LocationProcessingTime - VendorLeadTime Impacted Calculations When Buffer Time is Configured: LatestShipDate = RequestedDeliveryDate - TransitTime LatestReleaseDate = LatestShipDate - LocationProcessingTime - VendorLeadTime - BufferTime Note: If the item-location level VendorLeadTime is unavailable for all locations, the system falls back to the item-level VendorLeadTime. If the item-level VendorLeadTime is also not defined, then the order line is moved to the Backordered (1500) status. Configuration The Procure to Sell feature is essential for ensuring product availability through procurement when inventory levels are insufficient, enabling seamless order fulfillment. Proper configuration of this feature is critical before setting up Promising, Availability, and Vendor Calendar, as it directly impacts lead times and sourcing decisions. Promising This feature enables to automatically promise and procure items based on the vendor's lead time when inventory is unavailable. To add Vendor Lead Time to an item, follow the steps below: Navigate to Menu > Master Data > Manage Items > Items MUP UI Select the item of choice and click on edit at the bottom right. In the Planning Attributes section, enter the Vendor Lead Time (in hours), and then click Save. To enable the promising and ATP for out-of-stock inventory, follow the steps: Navigate to Fulfillment Optimization. Select the Fulfillment Optimization for which the feature needs to be evaluated and click edit. Select "Promise And Procure Based On Vendor Lead Time" to enable delivery dates calculation during promising and ATP calls. This allows the system to calculate delivery dates based on the vendor-specific lead time for each item, ensuring timely fulfillment even without current stock. Enter time in hours to configure buffer time in "Prioritize inventory procurement if LRD exceeds ____ hours beyond the latest available supply", and then click Save. Availability To configure vendor lead time for availability, follow the steps below: Navigate to "Available To Commerce (New)". On the Availability to Commerce page, double-click the existing view for which you want to enable this feature. The View Configuration page is displayed. In the Publish Availability tab, in the Additional Settings section, select the "Consider Vendor Lead Time for Availability" check box. Vendor Calendar To configure a vendor calendar for a location, follow the steps below: Navigate to Menu > Application Configuration > Manage Inventory Configuration > Location Scheduling Select the location for which the calendar needs to be configured and click Edit. Navigate to Vendor Delivery Schedule and click Create. Vendor Delivery Schedule : Enter VendorID and Timezone (if null UTC is default), and then click Save and Continue. Vendor Delivery Calendar : Click Create > Enter Day of week, Delivery Start Time and Delivery End Time > Submit > Save and Continue Vendor Holidays : Create > Enter vendor holiday date > Submit > Save and Finish