# Troubleshooting

**Permalink:** order-release-troubleshooting
**Content Length:** 18,417 characters
**Scraped:** 2025-08-09T22:34:08.356101

---

Home &rsaquo;&rsaquo;Manhattan Active® Omni&rsaquo;&rsaquo;Order Management&rsaquo;&rsaquo;Process & Configuration Guides&rsaquo;&rsaquo;Order Processing&rsaquo;&rsaquo;Order Fulfillment&rsaquo;&rsaquo;Order Release ››Troubleshooting Troubleshooting Orders are not getting releasedCharge details are not included in the release outboundRemorse period is configured, but orders are still getting released immediatelyRelease failure retryReprocess failed message of release queueThe DoNotReleaseBefore value is not honored, and the order is not releasedOrder Status Not Moving to &quot;Allocated&quot; from &quot;Release&quot; After Cancel Release API InvocationWhy are multiple releases generated after reallocation in the order component?Why is the order stuck in allocated when eligible for release?Why doesn&#39;t the release template prevent the entire order from releasing when all the order lines share the same FulfillmentGroupId, but one of the lines has a different ReleaseGroupId?The entire order is being released when only a partial release is expectedWhy is the order not released automatically despite no remorse period or constraints?Related Article(s) Orders are not getting released Try manually releasing your order by using the Release button in the Order List or Order Line List UI. If the order/line gets released, proceed to step 2. If the order/line is not released, proceed to step 3. Check the scheduler config for the milestone scheduler job. Check if your order is confirmed (order.isConfirmed). If true, then proceed to step 4. If false, then confirm your order. Unconfirmed orders&nbsp;are not eligible for release. Check to see if a release configuration exists for this order by making a GET call to&nbsp;url/order/api/order/releaseConfig/orderId/&lt;order id&gt; If a configuration exists, proceed to step 5. If no configuration exists, then review the release configurations to determine why your order is not released. It could be due to an issue with your order, such as the order not being authorized. It could be due to an issue with the release config, such as the Order Type not being included in the filter. Check if your order has a date in order.DoNotReleaseBefore date that&#39;s in the future. If it&#39;s in the future, then this means your remorse period configuration is preventing your order from being released before the remorse period is over. Refer to the&nbsp;Remorse Periods&nbsp;for more information. Your order will automatically get released when the date is in the past. If the date is in the past or null, then the milestone job should have released this order but did not. Check the milestone job configuration. Check if the supply type for your allocation is eligible for release. Check Release demand type in the Release config. Only the supply type associated with the release demand type is eligible for release. Allocated Supply type information can be obtained using a Get Reservation call (Reservation Match) If using the batch release agent, check the query limit is sufficient. By default, the agent picks up only 50 orders if no query limit is configured. It&#39;s recommended to configure the query limit to 500 or 1000. Verify the order. Get order by order id - {{url}}/order/api/order/order/orderId/RR2-0011111-012920201910 Verify for OrderMileStone entity, check for Expected time = Confirmed time + Expected time rule duration and NextEventTime = Expected time + Monitoring rule duration. Verify for NextEventTime = Expected time + Monitoring rule duration on order header. If null, then verify the order monitoring configuration. {{url}}/order/api/order/orderExpectedTimeRule?query=OrderConfigId=EcommConfig Verify RestrictByDate=true, OrderConfigId and Type=AFTER_MILESTONE&quot;DependentMilestoneId&quot;: &quot;Order::Milestone::Confirmed&quot;, &quot;MilestoneDefinitionId&quot;: &quot;Order::Milestone::Released&quot;, {{url}}/order/api/order/orderMonitoringRule?query=OrderConfigId=EcommConfig Verify &quot;EventName&quot;: &quot;Order:Order:Event:OnReadyForRelease&quot;, &quot;MilestoneDefinitionId&quot;: &quot;Order::Milestone::Released&quot;, &quot;Type&quot;: &quot;EXPECTED_TIME&quot;, Verify DoNotReleaseBefore is not in the future. The system will not override the date if the order is imported with DoNotReleaseBefore already. Verify DoNotReleaseBefore is not null. If it&#39;s null, verify if the RestrictByDate is set to true on ExpectedTimeRule order monitoring configuration. Verify if the Job schedule has run successfully or not by checking OrderMileStoneEvent is present or not. If available, then verify OrderMileStone entity for NextEventTime = null and Order.NextEventTime = null. Verify if there are failed messages for the following message types/queue name: Message Type: ReleaseOrderEventMSGType&nbsp;/ Queue Name:&nbsp;queue.releaseOrder Message Type: ReleaseOrderLineEventMSGType&nbsp;/ Queue Name:&nbsp;queue.releaseOrderLine If the base queue names/message types&nbsp;for release have been overridden, check for message failures under the custom message type setup for the release process. Charge details are not included in the release outbound Verify if the order or order line charge detail is configured in the release outbound template Verify if the GetOrderValue api is returning the value - No, follow step 3 Check the Order json - Verify that the order or order line charge details have both original and sibling charge detail in case they are prorated at the same level. The charge detail with proratedAtSameLevel is not considered for charge calculation and hence you may not find the charge detail records in the release outbound json. Remorse period is configured, but orders are still getting released immediately Check if RestrictByDate is selected in the order monitoring rules&nbsp;and&nbsp;DoNotReleaseBefore is getting populated for the order. If&nbsp;DoNotReleaseBefore is still not getting populated, check&nbsp;the Type on OrderExpectedTimeRule. If it is null, update the Type as AFTER_MILESTONE for OrderExpectedTimeRule configuration. Release failure retry Whether orders are configured for immediate release or batch release, it is possible that the release process initially fails. For example, there is a timing issue with a concurrent update to the order&nbsp;during the release process, causing the release to fail. In this case, a retry of the release process once the concurrent update to the order is completed should&nbsp;be successful. If this is identified to be the issue with orders not getting released, it is recommended to use a failed message repost rule to address such failures. The failed message repost rule can be configured using the following parameters. Message type - the message type of the failed release&nbsp;message Repost interval - the offset (in minutes) of how much time should elapse before trying to repost the failed message Max repost count - the max number of times to attempt reposting of the message Reprocess failed message of release queue If the release process failed because of lock wait timeout exceeded, then configure the Failed Message Repost Rule to repost the message, which is available as part of the generic message framework. In the repost rule, below are the key fields which can be configured. MessageType - Message type for which the configuration is being created repostInterval - Interval (in minutes) to specify how long to wait before reposting a failed message maxRepostCount - Max number of times to repost a failed message for a specific message type and component The DoNotReleaseBefore value is not honored, and the order is not released When you are passing the DoNotBeforeRelease in the line level, ensure that a release agent is configured to pick these orders to get released post this date.&nbsp;Note that, if an order line remorse is configured, then the base stamps this field with a date and after this remorse period is passed, the order gets released based on the next event time. Order Status Not Moving to &quot;Allocated&quot; from &quot;Release&quot; After Cancel Release API Invocation Ensure that the pipeline is properly configured to support transitions from status&nbsp;3000 (pickup) to&nbsp;2000 (drop). Verify that the&nbsp;&#39;Allow Post-Release Cancellation&#39; config is enabled in the Order Configuration. Ensure that the&nbsp;&#39;Allow Late Order Cancellation&#39; config is enabled within the fulfillment parameters. Why are multiple releases generated after reallocation in the order component? Scenario: When an order is released, backordered, and then reallocated from a different location, the allocation and release occur simultaneously. However, the release ID for line 10 is different from the release IDs for lines 20 and 30. This behavior is as expected. When an inventory shortage occurs for all three lines, the system raises an inventory update that is sufficient to allocate only one line at first. As a result, line 10 is allocated and released. Later, when inventory becomes available for lines 20 and 30, they are allocated and released, each with a new release ID. Once a release is created, we do not modify existing releases to add new release lines for subsequent allocations. This ensures that the release outbound message remains consistent and can be processed by the external fulfillment system. Why is the order stuck in allocated when eligible for release? Once the order is confirmed, a release call is triggered based on the pipeline. However, if the payment status update is asynchronous, it may take some time to update the order payment status to &quot;authorized.&quot; In such cases, the order remains in the &quot;allocated&quot; status, and no event is triggered to re-initiate the release. To ensure these orders properly reach the &quot;released&quot; status, the modification rules in the Order Configuration UI should have the &quot;resubmit Pipeline&quot; option set to true for any modifications made between the &quot;open&quot; and &quot;released&quot; stages. Why doesn&#39;t the release template prevent the entire order from releasing when all the order lines share the same FulfillmentGroupId, but one of the lines has a different ReleaseGroupId? Although the FulfillmentGroupId is assigned to the order lines based on the combination of &quot;deliveryMethod,&quot; &quot;shipToLocationId,&quot; &quot;addressId,&quot; and &quot;shippingMethod,&quot; the ReleaseGroupId will take precedence over the FulfillmentGroupId that the system has already evaluated. The entire order is being released when only a partial release is expected This is due to &quot;Hold the release until all the units are allocated for the Order&quot; release rule on the Release Configuration page.&nbsp;All the other rules in the release configuration are ignored, if &quot;Hold the release until all the units are allocated for the Order&quot; is enabled. Why is the order not released automatically despite no remorse period or constraints? This may occur because the release configuration has a condition of the payment status as &quot;Not Applicable&quot; or &quot;Authorized&quot; for the order to be released. When the order is confirmed, a release call is made based on the pipeline. However, since the payment status update is asynchronous, it takes longer to update the payment status to &quot;Authorized,&quot; preventing the release from happening. As a result, there is no event to re-trigger the release, and the order remains in the &quot;Allocated&quot; status. To resolve this, update the &quot;Resubmit Pipeline&quot; to true in the order configuration for this modification type. This will ensure that the release is retried, allowing the order to move to &quot;Released.&quot; ModType: { &quot;ModTypeId&quot;: &quot;Order::PaymentStatus::Authorized&quot; } Related Article(s) Publish ReleaseREST APIs and User ExitsHow Release WorksRelease Grouping and CreationOverviewMass Release