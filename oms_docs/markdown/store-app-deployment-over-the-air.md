# Store App Update - Over the Air

**Permalink:** store-app-deployment-over-the-air
**Path:** Administrator Tools/Store/Store - Over the Air Updates
**Content Length:** 34,124 characters
**Scraped:** 2025-08-09T22:11:45.554361

---

Home ››Administrator Tools››Store ››Store App Update - Over the Air Store - Over the Air Updates OverviewPrerequisitesLimitationsComparing Over the Air vs Mobile Device ManagementCapabilitiesConfigurationApp Deployment TypesApp Deployment Rule SpecificationsProfile IDs for App Deployment RuleGrants for App Deployment RuleApp Deployment Rule UIHow to apply MA services custom extensions using deployment rulesHow to apply customer developed extensions using OTA RulesDevice Info Audit upon OTA UpgradeSamplesScenario 1Scenario 2Services Overview The MAO Active Omni Store app deployment process is now easier and hassle-free since the binaries can now be downloaded over the air (a.k.a OTA) i.e without the manual intervention of installing or upgrading the app on a device through MDM. The new store app deployment process enables you to create, update or rollback the application version on devices via configured rules. On application login, these devices will be updated to the specified application version. The store app deployment process works by configuring a set of rules where the device checks these rules during every login process and simply downloads the new application if available. On the next launch of the store app, the latest app will be available to use. Currently, OTA is not supported for plugin changes ( Native layer changes). If there is a change in the plugin layer , you will use the existing method to deploy the app thru MDM. Prerequisites OTA can be used for any application upgrades after the initial install of the store application  (>24.1 release) on a device. In other works, store app >=24.1 release build should be available on the device. Limitations 1. Currently, OTA is not supported for plugins since any changes to plugins files require manual app installation or upgrade. If there is a plugin update from base or custom plugin, a full binary installation thru MDM is needed. This can be identified using the fw-ui-plugin version between the app versions. 2. For browser version of store app, if you use specific CDN URL to a particular store app version, follow the same process of updating the CDN URL obtained by the build process. Comparing Over the Air vs Mobile Device Management Customers would still need MDM to perform the initial installation of the binaries to the devices. However, an OTA is a helpful tool to take incremental base/custom enhancements automatically as they become available thru simple steps. You can skip the process of resigning the application (relevant to ipa and apk) if you push the app updates over the air. Capabilities 1. You can update new base app updates. You can rollback to previous version of the app 2. You can update new custom extensions that are developed by MA services team 3. If you are building the custom extensions yourself, you can use OTA as a tool to push your changes without having to build the app. Configuration App Deployment Types UPDATE - This deployment type should be chosen to upgrade the MAO Store application to higher versions of base app. A valid base app version is mandatory while choosing "Update". ROLLBACK - This deployment type is chosen to rollback or downgrade the MAO Store application to a lower version of base app. A valid app version is mandatory while choosing "Rollback". ROLLBACK_TO_PREVIOUS_VERSION - This deployment type is chosen to automatically rollback or downgrade the MAO Store application to the previous base app version without providing any app version details. ROLLBACK_TO_INSTALLED_VERSION - This deployment type is chosen to automatically rollback or downgrade the MAO Store application to the originally installed base app version without providing any app version details. However, rollback cannot be done beyond the installed version of the app. App Deployment Rule Specifications App deployment rules have three significant steps. App Deployment Rule - Parent entity that contains rule id, rule name and sequence no. The rules are picked based the sequence, i.e lower the number, higher the priority for selection. Matching Label - This entity is used to set rules for eligible devices to get the update. It is highly recommended to have a rule with few devices for any new app upgrades before rolling out to all devices across the network. App Deployment Configuration app version - The app version to which device should be updated to. deployment type - The various deployment types are explained in the above section. Profile IDs for App Deployment Rule Below are the profileIDs to be copied to the organization profile. This steps is automatically available  for most of the environments. If the rule configuration UI does not list the right values in the dropdowns, the following profile configuration can be copied to ensure the right seed data is available. dvc::eventConfig (from retailDefault profile) dvc::deviceManagementConfigurations (from retailDefault profile) dvc::labelsConfig (from baseDefault profile) Grants for App Deployment Rule The user should have the following grants to create the rule and view the audit pages . omui::devicemanagement::menu::AppDeploymentRule omui::devicemanagement::menu::deviceInfoAudit omui::devicemanagement::appdeploymentrule::* (to access actions like create, edit, delete, details etc) App Deployment Rule UI Navigate to MUP UI with menu name - App Deployment Rule. Creation of the Rule Click on "create" button to create new rule, provide rule id, name and sequence no. Click on "Save" Create configuration in the created rule Select the rule and click on "Details" button, expand app deployment configuration and click on "Add". Provide the app version and select deployment type. Click on "Submit". Matching Label Creation Add a matching label to make the rule apply to only one device or devices in a location etc. The following are supported as matching labels. BaseAppVersion To apply the rule to only those devices which are on the provided baseAppVersion LocationId To apply the rule to only those devices which are in the provided locationId RegisterId To apply the rule to only those devices which are linked with provided registerId DeviceId To apply the rule to some specific devices matching the deviceId Under matching label section, click on "Add" to add a matching label, where the attributes are\ listed from above options, case sensitive and the label fields can have values for the attribute. Labels can be single or multiple separated by a comma. The Matching entity is selected from the drop-down and the attribute provided will be a valid property of the entity (below listed attributes are properties of DeviceInfo entity). When login to the app, the update will be downloaded on the device based on the rules created. On next launch of the app, new version would be used. The changes can be validated by navigating to the "Settings" screen and checking the “About the App” button. Valid deployment configurations Creation of rule is not needed every time, you can select the rule with highest sequence no and keep adding new deployment configurations to it. ( Latest row will take effect) If you want the rule to be applied to specific devices or devices in a location, create rules by giving matching label for location and registerId, so that the rule gets applied to only those. How to apply MA services custom extensions using deployment rules The custom extensions maintained by services today are being generated during the custom mobile build process. As part of the same build process, we will also push the extension zip to the common S3 bucket where it will be stored in the folder same as customer name. (This name is usually present in the build parameter) Once the mobile build is successful, you can navigate to the rule page and provide the extension file name in App Deployment Config add screen. Make sure to provide the same customer name in the rule as well. The Manhattan custom code will be extracted to the same path on device as of now assets/ext/. How to apply customer developed extensions using OTA Rules If the extensions are not maintained by Manhattan services and created by customer IT teams, those changes can also be easily deployed using OTA. Upload the external extension zip file to Manhattan system using the upload API and then once the upload is successful, the version you provided will be listed in the Customer App Version drop down in the App Deployment Config "Add" screen. Upon selection and saving the rule, the changes will be applied on the device. API - {{url}}/docmanagement/api/docmanagement/deployment/app/upload The api takes 3 mandatory params baseAppVersion (the base app version using which extension is developed and compatible) customerFolderName (a unique folder name to identify the group working on the extension, zip will be pushed inside this folder name in cloud storage) customerAppVersion (the version of the zip file being uploaded to the system) And a zip file as part of form-data with key name updateFile and of type File. Once you upload a zip for ex:  customerAppVersion as 1.0.0 ,  then that will be available for selection in the drop down along with the folder name from drop down. On the device external customer zip contents will extracted in to this path assets/customer-ext/. Note: The external update has to be uploaded for each stack since they are pushed to GCS storage, and they are stack specific Device Info Audit upon OTA Upgrade The manual app upgrade and the update/rollback done using OTA are audited using the event producer and saved in DeviceInfoAudit entity, which can be accessed from {{url}}/om/dm-config/screen/devicemanagement/DeviceInfoAudit Samples Scenario 1 Consider we have 2 rules, one with a matching label and one without. The LocationId label is added to make the rule apply to the devices in location LOC-ABC. Here TestRule3 will be picked since it has no matching labels and can apply to any device since it has highest sequence priority. [ { "RuleId": "TestRule2", "RuleName": "to Pilot Test", "SequenceNo": 2, "AppDeploymentConfig": [ { "AppVersion": "224.77.0", "AppDeploymentType": { "DeploymentType": "UPDATE" } } ], "MatchingLabel": [ { "MatchingEntity": { "MatchingEntityId": "DeviceInfo" }, "MatchingEntityAttribute": "LocationId", "MatchingEntityLabel": "LOC-ABC" } ] }, { "RuleId": "TestRule3", "RuleName": "to Pilot Test", "SequenceNo": 1, "AppDeploymentConfig": [ { "AppVersion": "224.77.0", "AppDeploymentType": { "DeploymentType": "UPDATE" } } ], "MatchingLabel": [] } ] Scenario 2 Consider we have 2 rules, both with matching label. The RegisterId label is added to make the rules apply to the devices with registerId 100 or 200. Here TestRule2 will be picked for device linked to register 100 and TestRule2 for device linked to registerId 200. [ { "RuleId": "TestRule2", "RuleName": "to Pilot Test", "SequenceNo": 2, "AppDeploymentConfig": [ { "AppVersion": "224.77.0", "AppDeploymentType": { "DeploymentType": "UPDATE" } } ], "MatchingLabel": [ { "MatchingEntity": { "MatchingEntityId": "DeviceInfo" }, "MatchingEntityAttribute": "RegisterId", "MatchingEntityLabel": "100" } ] }, { "RuleId": "TestRule3", "RuleName": "to Pilot Test", "SequenceNo": 1, "AppDeploymentConfig": [ { "AppVersion": "224.77.0", "AppDeploymentType": { "DeploymentType": "UPDATE" } } ], "MatchingLabel": [ { "MatchingEntity": { "MatchingEntityId": "DeviceInfo" }, "MatchingEntityAttribute": "RegisterId", "MatchingEntityLabel": "200" } ] } ] If you have a rule with a matching label and one without matching label, then the rule which has the highest priority by sequence number gets picked (lower the sequence number, higher the priority). Services The APIs listed in the following table are referenced in this document. Refer to the API documentation for additional details on each service. Service Component Service Endpoint Check for Update DeviceManagement /devicemanagement/api/devicemanagement/deployment/checkForUpdate App Upload docmanagement /docmanagement/api/docmanagement/deployment/app/upload