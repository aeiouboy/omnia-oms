# Discounts 

**Permalink:** discount
**Path:** Manhattan Active® Omni/Order Management/Process & Configuration Guides/Order Selling/Order Pricing/Discounts 
**Content Length:** 23,731 characters
**Scraped:** 2025-08-09T21:58:28.067975

---

Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Order Selling››Order Pricing ››Discounts Discounts Next DiscountsDiscounts OverviewDiscount Application LogicPromotions and CouponsPayment Based Promotion Appeasements and DiscountsDiscountsDiscount OnMax Appeasement AmountTroubleshootingDiscounts incorrectly calculated and proratedPrevent order level coupons and appeasements from getting pro-rated to gift card linesRelated Articles Discounts Overview There are multiple ways to apply a discount in an order: Promotions Coupons Appeasements Discounts Price Overrides Charge Overrides Other than the overrides, each type of discount is represented by a distinct Charge Type, specified on the charge detail entity which is used to reduce the order total. These discounts can be provided at the order level, order line level, or charge level. Discounts can be provided as fixed amount or percentage based, and multiple discounts can be applied on an order, line, or charge (NOT quantity). Price overrides are given on the order line unit price, while charge overrides are given on the charge detail entity. Discount Application Logic If multiple discounts are applied, then the sequence in which they are applied can be defined on the order import. For example, if a $100 item has two discounts, one for 10% and another for $5. If the 10% discount gets applied first, then the total discount is $15. If $5 discount gets applied first, then the total discount is $14.50. Discounts with no charge sequence specified on import are applied before discounts having a charge sequence. As an additional note, charge sequences are not supported through the call center user interface. If the discount has been applied at both order & line level, then all the discounts at line level will be applied before applying order level discount. If the sum of all the discounts applied to an object amounts to more than it's value, then the maximum discount is applied until the value is zero. For example, if a $100 item has two discounts, one for 40% and another for $70, then $40 and $60 discounts will be applied respectively. This sequencing logic is supported for all Charge Types: Promotion, Coupon, Appeasement, and Discount. There are a few ways to control which discounts apply to which items: For charge type 'Discount', there is a feature to control whether header discounts are applied to non-discountable items. For example, if a store associate applies for 10% discount to an order, which has items such as gift cards and non-merchandise, then for these items discount should not be applied. This is not supported for appeasements, promotions, or coupons. For promotions and coupons, there is logic in the Active® Omni promotions engine to ensure promotions and coupons are only applied to merchandise items. Returns, non-merchandise, VAS, and gift card items are not considered for promotional deals. If an external promotions engine is used, then these rules are based on what the engine supports. When selling attributes on an item are null, then "IsDiscountable" is automatically set to true, if there is data in an item's SellingAttributes then "IsDiscountable" must be populated as true/false. If a user updates any data in the item selling attributes, the isDiscountable will be set to false unless the check box is enabled. Promotions and Coupons Promotion and coupon data is maintained by a promotions engine with which the Order component integrates via web service to validate, apply, and remove promotions and coupons. The in-house promotions engine can be used for promotions and coupons, or alternatively an external promotions engine can be used. See the Item Pricing and Promotional Events Process and Item Pricing and Promotional Events Configuration guides for details about the promotions engine. If using an external promotions engine, set isExternalPromotionEngine to true in the Order Parameters UI. This ensures that promotions and coupons are not deleted before making a call to re-evaluate promotions. If false, then promotions and coupons are deleted before making a call to the Active® Omni promo engine, which responds with updated promotions and coupons. Promotions and coupons can be applied at the order or order line level and are modeled as charge details. These discounts can be imported with an order, manually added during order update, or automatically added during order update by using the Evaluate Promotions service. When an order is created or updated, the Order component can reach out to the promotions engine to reevaluate promotions for the order. This Evaluate Promotions service is controlled by the Calculate Promotions attribute in Order Configuration. This configuration provides a set of actions for which promotions can optionally be recalculated. If promotions need to be recalculated for any additional actions or custom attributes, then a user exit can be added. In the response received from the promotions engine, valid promotions are saved as charge details. Invalid promotions are marked as invalid, and no discount is applied to the order. Header-level promotions are saved as order charge details, and order line promotions are saved as line charge details. Payment Based Promotion The Payment Promotion feature provides the ability to configure and execute promotion deals based on the tender types used to make the payment. Click here for more information on payment-based promotions. Preview Promotions Using Cart for Call Center Orders The cart enables customer service agents to see the discounted order total after evaluating payment promotions before saving them on the order. For example, when a CSR agent selects a payment type which has an associated promo deal, promotions will be evaluated and the discounted order total will be displayed in the payment summary section. Refer to Payment Based Promotions in Contact Center for more details. If the customer wishes to continue to pay with the current selected payment type, the order will be updated with OrderPaymentMethod and promotions will be applied on the order. When the CSR agent selects a payment type that does not have a promo deal, then the promotions are re-evaluated. Process Flow Payment Based Promotion for External Promo Engine Retailers who use external promotion engines for promotion evaluation can configure payment-based promotions to provide discounts on any configured payment type, such as credit cards, debit cards, or gift cards. However, retailers cannot configure promotion for Private Label Credit Cards (PLCC) unless configured as a payment type. In such cases, retailers can implement the UserExit PostCalculatePrice to modify the price basket request sent to the external system for promotions evaluation based on a specific card type. Sample Price Basket Request - Payment Based Promo "Payment": [ { "OrderId": "Ord2065", "PaymentMethod": [ { "AccountNumber": "D37F137F587E48E4E053AF598E0A0790", "BillingAddress": { "Address": { "FirstName": "John", "LastName": "Smith", "Address1": "1-1-20Toranomon", "Address2": "ToraToranomonJitsugyoKaikan2F", "Address3": "Minato-ku", "City": "Tokyo-to", "State": "JP", "PostalCode": "105-0001", "County": null, "Country": "JP", "Phone": "4233061973", "Email": "Smithmanhattan@gmail.com" } }, "PaymentType": { "PaymentTypeId": "CreditCard" }, "CardType": { "CardTypeId": "Visa" } } ] } ] For retailers using external promotions engines for promotion and coupon evaluation, when coupons are added through a call center UI, the coupon codes are sent to the third-party engine as follows: Appeasements and Discounts Appeasements are discounts which are typically applied in the call center, in scenarios when a customer is not satisfied with the service provided by the retailer. Appeasements can be given as an attempt to improve the customer's satisfaction in scenarios where a shipment may have arrived late or damaged. Appeasements can be applied at both the order header and line level on an order. Three types of appeasements are supported: Appeasement Type Description Percent Off Appeasements are given as a percentage off on the order or order line. The system calculates the appeasement amount based on the entered percentage. For example, a 10% appeasement can be configured. Amount Off Appeasements are given as a numeric amount which is manually keyed in. Flat Appeasements are selected from a drop-down list of pre-configured appeasement amounts. For example, a $5 appeasement can be configured. A user can apply flat appeasements or $ or % off appeasements. The list of available flat appeasements which can be applied in the call center UIs needs to be defined, while $ or % off appeasements are defined by user inputs. For example, flat appeasements of $5, $15, and $25 may be provided. Flat appeasement values are configured in the Appeasement UI. Appeasement Re-evaluation Scenarios For an order with two lines having a percentage-based header-level appeasement: If one line is in Allocated status and the other is in Released status, and the Released line is shorted, the appeasements will be re-evaluated. However, if the Allocated line is cancelled, appeasements will not be re-evaluated, as the remaining line has a MaxFulfillmentStatus of 3000 (Released). Note: Appeasement values are not inclusive of tax. Meaning, whenever an appeasement is applied on the order, a tax call is made and the CSR can expect a tax total reduction. Note: When a header-level appeasement is applied, only header-level taxes are considered. Similarly, when a line-level appeasement is applied, only the taxes at the line level are taken into account. Discounts Discounts are manually applied and can be given as a flat discount or a percent discount. Discounts can be applied against the order, order line, or charges, so that the taxes are calculated accurately. Currently, discounts can be applied via point of sale, but the equivalent function in customer service is an appeasement. A variety of values and factors can determine how a discount is applied to an order. For flat amount discounts, the total amount of the discount is specified by the user. For percentage amount discounts, the amount is calculated as the percentage of the total money value the discount is applied to, based on the "DiscountOn" value. Discount On The "DiscountOnId" is an attribute applied to the discount record to indicate which money amount values on the order that the discount should prorate against. Refer to the following table for a description of each. Discount On Description Order Discount on order refers to the application of a discount to all applicable values on the order. These include: Item price(s) Charges (Header) Charges (Line) Line Discount on line refers to the application of a discount to all applicable values on the order line. These include: Item price(s) Charges (Line) ItemPrice Discount on item price refers to the application of a discount on the item price(s). These include: Item price(s) Charges Discount on charges refers to the application of a discount to specific charges, at the header or line level. When applying a discount on charges, the related charge type and related charge detail should be specified on the discount to indicate which charge needs to be discounted. Max Appeasement Amount The max appeasement amount refers to the amount of discount that can be applied. This value is tracked separately at the order and order line level. Order Level The max appeasement amount at the order level is calculated as follows: Operation Attribute Exclusions Add Order line subtotal(s) IsReturn = true IsCancelled = true IsDiscountable = false Add Order level charges IsDiscountable = false Add Line level charges IsDiscountable = false Subtract Order level discounts N/A Subtract Line level discounts N/A Line Level The max appeasement amount at the order line level is calculated as follows: Operation Attribute Exclusions Add Order line subtotal(s) IsReturn = true IsCancelled = true IsDiscountable = false Add Line level charges IsDiscountable = false Subtract Line level discounts N/A Troubleshooting Discounts incorrectly calculated and prorated For multi order line charge details with discounts, promotions, and coupons, ensure that the OrderLine charge details are imported with the RequestedAmount attribute. DiscountOnId is a mandatory field to be populated while applying for discounts. Prevent order level coupons and appeasements from getting pro-rated to gift card lines The 'DiscountOn' field value is mandatory for discounts, but it is not required for charges. This is mandatory while importing the order save payload. Discounts: "DiscountOn": { "DiscountOnId": "Charges" }, "ChargeType": { "ChargeTypeId": "Promotion" } Charges: "DiscountOn": null, "ChargeType": { "ChargeTypeId": "Shipping" } Related Articles Currency RoundingChargesTaxOverview & Proration