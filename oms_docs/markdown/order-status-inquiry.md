# Order Status Inquiry

**Permalink:** order-status-inquiry
**Path:** Manhattan Active® Omni/Order Management/Process & Configuration Guides/Customer Service/Order Status Inquiry
**Content Length:** 98,307 characters
**Scraped:** 2025-08-09T21:54:47.275186

---

Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Customer Service ››Order Status Inquiry Order Status Inquiry Order StatusReturn or Exchange Order Status InquiryOrder Timeline Customizing The Order Timeline UIOrder Timeline MetadataLocalizing the Order TimelineOrder Timeline Call Outs and Troubleshooting GuideRelated Return's and Exchange orders status in dropdownOrder ExceptionsConfigurationTrack a Package Resend Emails from Contact center Importing Emails into Active OmniResend Email FlowSend Customer Copy of Invoice PDFSupport for Virtual AssistantsServicesImplementation FlavorHow can we modify the display of Order Timeline UITroubleshootingWhy does resend email process takes 5-6 minutes to reach the customers?Related Articles Order Status One of the most common scenarios for a call center to handle is a customer request for the order status. Typically, the CSR first requests some identifying information about the customer such as the name, phone number, or email address and their past purchases. Customer Service Representatives (CSRs) should use the search orders or customers as indicated in the Search Orders guide. Once the CSR has located the correct customer and executed the search, the CSR will see a list of transactions. The CSR can help locate the correct order based on order creation time, or by having the customer describe the item they want to know about. Once the CSR has selected the correct order, they can click the Order Status link to view additional details about the order. The View Order Status guide includes additional details about this screen. The number of orders displayed in the order list is limited to the orders created in the last 90 days for performance purposes. Orders created before the last 90 days can still be accessed directly by using the order number or by an API search. Sometimes a customer will already know their order number. In this case, the CSR can enter the order number into the search by exact order number as described in the Search Orders guide. Searching by order number allows the CSR to jump directly to the order status screen, which eliminates the step of locating the order by the created date or item. Finally, once the CSR is finished with a call, they will click the Home icon to return to the home page and the CSR is then ready to accept a call from a new customer. Return or Exchange Order Status Inquiry Customers will often call to check on the status of a return or exchange in order to see if their shipment has arrived at the return center. The return and exchange statuses are easily accessible via a few different ways. Using the search order UI, the CSR can search for the return depending on the information the customer has. If the customer already has the return or original order number, this information will take the CSR directly to the Return Status screen. If the customer does not have the return or order number, the CSR searches for the customer by name and this returns a list of all transactions including orders and returns. The Create Returns Orders guide and the Returns and Exchanges Customer service guide include additional information about searching for return orders. Order Timeline The Order Timeline provides a chronological listing of the events which have occurred in the lifecycle of an order. Only events which are relevant to customer service are displayed; this includes basic fulfillment events such as allocation and release, as well as order updates such as quantity updates, address changes, appeasements, price overrides, and so on. For each main event, the Order Timeline displays who initiated the update (whether system or user) and the timestamp of the update in the user's locale. If there are subsequent events, then the list is sorted with user-initiated events followed by system-initiated events. It is important to note that in the order timeline, if multiple distinct events happen at the same time (part of the same order save API for example), they will be clubbed together in a single order timeline event. For example, if a promotion call adds or updates multiple order and order line charge details at the same time, all these updates will be part of the same order timeline entry. The Order Timeline can be accessed from the raindrop menu of the Customer Transaction List, Order Status, Edit Order, and Return Order Status UIs and is controlled through a grant. Customizing The Order Timeline UI The Order Timeline UI is not extensible. No custom buttons, links, or panels can be added, and icons cannot be customized. User name display cannot be customized or localized. The first name and last name are displayed as configured in the user entity in the organization component. There is no way to retrieve additional data such as the middle name. Order Timeline Metadata The events which are displayed in the Order Timeline are derived from the order audit. The raw order audit contains very detailed data about each order update, so a CSR-friendly Order Timeline API filters this audit into events, which are relevant to CSRs and formatted in a user-friendly manner. The Order Timeline event metadata is not extensible. This means that the events displayed in the Order Timeline cannot be modified, added, or removed, and the sequence cannot be changed. Because the order timeline derives from the order audit data, if this data is archived, it will not be accessible in the order timeline anymore. Order audit data is held in the elastic index for a certain amount of time before being removed from the elastic index. If the audit data is removed from the elastic index, it will not be visible in the order timeline. Work with your services and ops team representative to know how long the data is held and eventually change that length if required. Order updates are assumed to be always user-initiated, or always system-initiated. Until the audit is enhanced with data of whether each update is user or system-initiated, each event is defined as either user-initiated or system-initiated. Events that are user-initiated display a person icon and typically contain a user name in the description (for example, "Tanya Matthews added a $5.00 discount"). Events that are system-initiated display the system icon and do not contain a user name in the description (for example, "2 units of an item were released"). There can be some exceptions to the assumptions. For instance, order creation is assumed to be system-initiated, because the majority of orders are imported from e-commerce. However, an order could be created by a user in call center or at the POS, but these orders will display as system-initiated as of now. The Order Timeline API, request is {{url}}/order/api/audit/< order ID>/auditTimeLine and this request can be independently called to retrieve the Order Timeline events. Order timeline content mapping UI field Mapping Comments User info. Refers to org user, first name and last name. If user doesn't exist or org component is down, send firstName = userId, lastName = (inactive), e.g. userid@email.com (inactive) Reason short description Refers to short description for a reason and reason type Location Refers to org, in the following sequence, Location name, if not defined then use Display Id, if not then Location Id. Item Refers to order line Item Short Description Hold name Refers to hold name for a hold type The list of order events supported today for the Order Timeline is below. There is no extensibility capability to add events via customization. Order timeline supported events Audit Event Id Order Update System Or User Message example 10 Order created System Order created 20 Order confirmed User John Smith confirmed order 30 Allocate unit System 5 unit(s) of item DUVAL NOTCH NECKLINE LINEN TOP allocated to Atlanta DC 50 Release unit System 5 unit(s) of item DUVAL NOTCH NECKLINE LINEN TOP released  to Atlanta DC 60 Release digital goods unit System 5 unit(s) of item DUVAL NOTCH NECKLINE LINEN TOP released to external fulfillment system 90 Add line User John Smith added 5 unit(s) of item DUVAL NOTCH NECKLINE LINEN TOP 92 Delete line User John Smith removed item DUVAL NOTCH NECKLINE LINEN TOP 94 Order cancelled User John Smith canceled the order with reason "Confirmation due" and comments "Order not confirmed" 96 Line cancelled User John Smith canceled the item DUVAL NOTCH NECKLINE LINEN TOP with reason "customer request" and comments "customer does not want this anymore" 120 Quantity updated User John Smith updated the quantity of the item DUVAL NOTCH NECKLINE LINEN TOP from 5 to 4 130 Update delivery method User John Smith updateed the delivery method from Ship to Address to Pick up Store for the item DUVAL NOTCH NECKLINE LINEN TOP 140 Update shipping method User John Smith updateed the delivery method from Ship to Address to Pick up Store for the item DUVAL NOTCH NECKLINE LINEN TOP 150 Update pick up store User John Smith updateed the delivery method from Ship to Address to Pick up Store for the item DUVAL NOTCH NECKLINE LINEN TOP 200 Delete header appeasement User John Smith removed a $5.00 appeasement from the order 210 Delete line appeasement User John Smith removed a $5.00 appeasement from the item DUVAL NOTCH NECKLINE LINEN TOP 260 Delete header discount User John Smith removed a $5.00 discount from the order 270 Delete line discount User John Smith removed a $5.00 discount from the item  DUVAL NOTCH NECKLINE LINEN TOP 280 Add header appeasement User John Smith added a $5.00 appeasement to  the order with reason "customer complaint" and comments "Appease customer" 290 Add line appeasement User John Smith added a $5.00 appeasement to the item DUVAL NOTCH NECKLINE LINEN TOP with reason "shipment delayed" and comments "" 320 Delete header promotion System Promotion with promotion code "50 Off" of $10.00 was removed  from the order 330 Delete line promotion System Promotion with promotion code "50 Off" of $10.00 was removed  from the item DUVAL NOTCH NECKLINE LINEN TOP 340 Add header discount User John Smith added a $5.00 discount to the order 350 Add line discount User John Smith added a $5.00 discount to the item DUVAL NOTCH NECKLINE LINEN TOP 360 Update header discount System Discount was updated from $6.00 to $7.00 on the order 370 Update line discount System Discount was updated from $6.00 to $7.00 on the item DUVAL NOTCH NECKLINE LINEN TOP 380 Add header promotion System Promotion with promotion code "50 Off" of $10.00 was added  to the order 390 Add line promotion System Promotion with promotion code "50 Off" of $10.00 was added  to the item DUVAL NOTCH NECKLINE LINEN TOP 400 Delete header coupon User John Smith removed a coupon with coupon code "50 Off" worth of  $5.00 from the order 410 Delete line coupon User John Smith removed a coupon with coupon code "50 Off" worth of $5.00 from the item DUVAL NOTCH NECKLINE LINEN TOP 420 Update header promotion System Promotion with promotion code "50 Off" was updated  from $10.00 to $8.00 on the order 430 Update line promotion System Promotion with promotion code "50 Off" was updated  from $10.00 to $8.00 on the item DUVAL NOTCH NECKLINE LINEN TOP 440 Add header coupon User John Smith added a coupon with coupon code "50 Off" worth $5.00 to the order 460 Add line coupon User John Smith added a coupon with coupon code "50 Off" worth of $5.00 for the item DUVAL NOTCH NECKLINE LINEN TOP 480 Update header coupon System Coupon with coupon code "50 Off" was updated  from $10.00 to $8.00 on the order 490 Update line coupon System Coupon with coupon code "50 Off" was updated  from $10.00 to $8.00 on the item DUVAL NOTCH NECKLINE LINEN TOP 500 Override header S&H User Branden Taylor overrode shipping charges from $8.00 to $0.00 with reason "Manual markdown" and comments "Item is shipped for free from another retailer" 560 Override header return fees User Branden Taylor overrode return fees from $8.00 to $0.00 with reason "Manual markdown" and comments "Item shipped is damaged" 580 Override line return fees User Branden Taylor overrode return fees from $8.00 to $0.00 with reason "Manual markdown" and comments "Item shipped is damaged" 600 Override Price User John smith overrode price from $19.00 to $12.00 with Manual markdown and comments Customer found the item for lesser price in competitor website 620 Update ship to address User John Smith updated the shipping address for DUVAL NOTCH NECKLINE LINEN TOP From Jane Doe, 123 Little Ridge Road Apt #17 1st Floor Duluth GA USA 30099 janedoe@manh.com 444-444-4444 TO Jolene Doe 986 Little Ridge Road Apt #155 1st Floor Duluth GA USA 30097 jolenedoe@manh.com 444-444-1222 630 Delete line VAS User John Smith removed a value added service "Hemming" for $5.00 for the item DUVAL NOTCH NECKLINE LINEN TOP 660 Add line VAS User John Smith added a value added service "Hemming" for $5.00 for the item DUVAL NOTCH NECKLINE LINEN TOP 690 Override line VAS charge User Branden Taylor overrode VAS charge "Hemming" from $8.00 to $0.00 for the item DUVAL NOTCH NECKLINE LINEN TOP with reason "Manual markdown" and comments "Charging lesser" 710 Delete VAS instructions User John Smith removed VAS instructions "Gfit wrap required with red bow" for the item DUVAL NOTCH NECKLINE LINEN TOP 720 Add VAS instructions User John Smith added VAS instructions "Gift wrap required with red bow" for the item DUVAL NOTCH NECKLINE LINEN TOP 730 Update VAS instructions User John Smith updated the VAS instructions from "Gift wrap required with red bow" to "Gift wrap required with blue bow" for the item DUVAL NOTCH NECKLINE LINEN TOP 760 Hold order User John Smith applied a hold for "Address verification failed" on the order with comments "Do not release the order" 770 Unhold order User John Smith resolved a hold for "Address verification failed" on the order with comments "Address verified" 780 Hold line User John Smith applied a hold for "Address verification failed" on the item DUVAL NOTCH NECKLINE LINEN TOP with comments "Do not release the line" 790 Unhold line User John Smith resolved a hold for "Address verification failed" on the item DUVAL NOTCH NECKLINE LINEN TOP with comments "Address verified" 800 Add header note User John Smith added a Gift From note: This gift is from your favorite daughter Lori! Love you mom. 810 Add line note User John Smith added a Gift From note for the item DUVAL NOTCH NECKLINE LINEN TOP: This gift is from your favorite daughter Lori! Love you mom. for the item DUVAL NOTCH NECKLINE LINEN TOP 820 Update header note User John Smith updated Gift From note: From This gift is from your favorite daughter Lori! Love you mom. To This gift is from your favorite nephew Yannister! 830 Update line note User John Smith updated Gift From note for the item DUVAL NOTCH NECKLINE LINEN TOP From This gift is from your favorite daughter Lori! Love you mom. To This gift is from your favorite nephew Yannister! 840 Delete header note User John Smith removed a Gift From note: This gift is from your favorite daughter Lori! Love you mom. 850 Delete line note User John Smith removed a Gift From note from the item DUVAL NOTCH NECKLINE LINEN TOP: This gift is from your favorite daughter Lori! Love you mom. 865 Update header note type User John Smith updated note type From Gift From To Gift To 865 Update line note type User John Smith updated note type for the item DUVAL NOTCH NECKLINE LINEN TOP From Gift From To Gift To 870 Apply header return fee System Return label return fee was applied for $4.00 880 Apply line return fee System Stocking return fee was applied for $3.00 900 Update ship from address (return line) User John Smith updated the ship-from address for DUVAL NOTCH NECKLINE LINEN TOP From Jane Doe 123 Little Road Apt #1 1st Floor Duluth GA USA 30099 janedoe@manh.com  444-444-4444 TO Jolene Doe, 98695 Little Ridge Road Apt #125 1st Floor Duluth GA USA 30099 jolenedoe@manh.com  444-444-1222 910 Apply header surcharge User John Smith added a $4.00 surcharge to the order with reason "manual markup" and charge subtype eco fee 920 Update header surcharge User John Smith updated surcharge from $4.00 to $0.00 with reason "manual override" and charge subtype eco fee 930 Apply line surcharge User John Smith added a $4.00 surcharge to the item DUVAL NOTH NECKLINE LINEN TOP with reason "manual markup" and charge subtype eco fee 940 Update line surcharge User John Smith updated surcharge from $4.00 to $0.00 to the item DUVAL NOTH NECKLINE LINEN TOP with reason "manual override" and charge subtype eco fee 1190 Order total updated System Order total updated  from $10.00 to $20.00 1200 Order subtotal updated System Order subtotal updated  from $10.00 to $20.00 1210 Order taxes updated System Order taxes updated  from $10.00 to $20.00 1220 Order charges updated System Order charges updated  from $10.00 to $20.00 1230 Order discounts updated System Order discounts updated  from $10.00 to $20.00 1240 Line total updated System Line total updated  from $10.00 to $20.00 for the item DUVAL NOTCH NECKLINE LINEN TOP 1250 Line subtotal updated System Line subtotal updated  from $10.00 to $20.00 for the item DUVAL NOTCH NECKLINE LINEN TOP 1260 Line taxes updated System Line taxes updated  from $10.00 to $20.00 for the item DUVAL NOTCH NECKLINE LINEN TOP 1270 Line charges updated System Line charges updated  from $10.00 to $20.00 for the item DUVAL NOTCH NECKLINE LINEN TOP 1280 Line discounts updated System Line discounts updated  from $10.00 to $20.00 for the item DUVAL NOTCH NECKLINE LINEN TOP 1290 Return processed User John Smith processed the return with reason "Expedite refund to appease customer" 1300 Ship unit System 5 unit(s) of item DUVAL NOTCH NECKLINE LINEN TOP shipped from Atlanta DC 1310 Pick up unit System 5 unit(s) of item DUVAL NOTCH NECKLINE LINEN TOP picked up from Atlanta Store 1320 Deliver unit System 5 unit(s) of item DUVAL NOTCH NECKLINE LINEN TOP delivered 1330 Shorted unit System 5 unit(s) of item DUVAL NOTCH NECKLINE LINEN TOP shorted by Atlanta DC with reason "Out of stock" 1340 Return confirmed User John Smith confirmed return order CC10421 1350 Return canceled User John Smith canceled return order CC10421 1360 Payment processed (charged) System $20.00 was charged against Credit Card - Visa - xxxxxxxxxxxx1111 1370 Payment failed System Payment failed for Credit Card - Visa - xxxxxxxxxxxx1111 1380 Payment refunded System $20.00 was refunded to Credit Card - Visa - xxxxxxxxxxxx1111 1390 Refund failed System Refund failed for Credit Card - Visa - xxxxxxxxxxxx1111 Localizing the Order Timeline Localized event descriptions can be configured for each event. The descriptions are returned in the locale of the user, if localized descriptions are configured. For example, the order creation event can have one unique description per locale: Localizing the Order Timeline "Alexi Martinez created the order" for locale "EN" "Alexi Martinez a créé la commande" for locale "FR Optionally, localized event descriptions and date descriptions can be configured for each event and date description. To configure localized event descriptions for order timeline events, make changes in the configuration repo. Contact the implementation team to make the changes to the configuration repo. Services Note: Configuration repo/Localization/com-manh-cp-customerengagementfacade/order-audit-timeline/en/localization.properties Order Timeline Call Outs and Troubleshooting Guide The Order Timeline does not support: Payment events (authorization failure, settlement success, and so on); updates in the payment component are not currently audited Updates to extended attributes, orderAttributes, orderLineAttributes, or extended entities (orderExtension1, releaseExtension1, and so on.) First-time order import with promotion, taxes, discounts or any other objects are not displayed in the Order Timeline. For example, if the order is created with promotions, taxes, charges and discounts then only "Order created" event is displayed in the Order Timeline. This is intended to keep the Order Timeline clean and concise. However, when the order is canceled, then "John Smith canceled the order with reason "Confirmation due" and comments "Order not confirmed", along with subsequent events such as line cancelation, quantity update, order and order line total events are displayed in the Order Timeline. Order Timeline events will not be displayed for orders created prior to the adoption of 19.4 code drop release. For these orders, on click of Order Timeline link, a message "Order timeline is not available for this order" is displayed. The Order Timeline does not display ship to address update event if address 2 or 3 are updated because address 2 and 3 changes do not trigger an order audit event. It will show the ship-to address update event if any other field of the address is updated. Order timeline troubleshoot guide Question Troubleshooting tips I see order audit but I am having trouble seeing user name. I see "{}" displayed in the UI Curly brackets ("{}") will be displayed in the UI if the user first and last name attribute is null in the order audit or if the logged in user does not have the proper grant access. Check your user grants. To display properly the order timeline needs the below grants: customerservice::order::audit::view organization::user::admin::otherusers There is no order timeline available for my order. Where is the information? If the order timeline is not displayed for your order there may be multiple reasons. Let's go over the most common: if your order was created before the 19.4 release, there will be no order timeline available if your order was created after the 19.4 release, check the order audit events using this API : GET {{url}}/order/api/audit/<orderId>/auditTimeLine If this API returns events, they should be displayed in the UI. If they are not check your user has the grant customerservice::order::audit::view in their role. If this API does not return events, that means your order audit data was most likely archived for this environment. Each environment has different retention policy for order audit data so check with your services or ops point of contact to check your policy and/or unarchive the order audit data Related Return's and Exchange orders status in dropdown In the following UIs, all related return and exchange orders will be listed in the dropdown next to the order, with their statuses shown in parentheses. These orders will be sorted by creation date, with the most recent at the top. This allows the CSR to easily distinguish between active and cancelled return or exchange orders: Order Status Order Edit Customer Transaction Customer Dashboard Across all four UIs, the same labels will be used for related return and exchange orders: RELATED RETURNS, EXCHANGE ORDERS, and RELATED ORDERS. Note: If the API responsible for fetching these related returns, exchange orders, and related orders, returns a successful response without any data (which may occur when the orders are not in sync in Elasticsearch), the following message will be displayed: "Unable to fetch orders at this time. Please try again later." Below are the status mapping details for both return and exchange orders. Return order status UI Display Related Return dropdown status Return order header status is Canceled (Canceled) Return order header status is >=Returned and < Canceled (Returned) Except above, all other return order status will be considered as (Active) Exchange order status UI Display Related Exchange dropdown status Exchange order header status is >=Fulfilled &<Delivered, and all return lines status are in  Returned or Canceled. (Fulfilled) Exchange order header status is >=Delivered & <Canceled, and all return lines status are in Returned or Canceled. (Delivered) Exchange order header status is >=Fulfilled &<Returned (example, pending return), and all return lines status are in Returned or Canceled. Ex : Exchange order header status is pending return (Fulfilled) Exchange order header status is >=Fulfilled &<Returned, and all return lines status are not in Returned or Canceled. Ex : Exchange order header status is pending return (Active) Exchange order header status is >=Delivered&<Returned (example pending return), and all return lines status are in Returned or Canceled. Ex : Exchange order header status is pending return (Delivered) Exchange order header status is >=Delivered&<Returned (example pending return), and all return lines status are not in Returned or Canceled. Ex : Exchange order header status is pending return (Active) Exchange order header status is Returned (Returned) Exchange order header status is Canceled. (Canceled) Exchange order status is “Exchange lines canceled” and all return lines status are" Returned" (Returned) Exchange order status is “Exchange lines canceled” and all return lines status are not in Returned and canceled. (Active) Except above, all other exchange order status will be considered as (Active) Note : The statuses for related orders will not be displayed in parentheses, and localization is not supported for any of the statuses shown in parentheses for related return and exchange orders. Order Exceptions Order exceptions is the process where specific events during the order lifecycle are flagged and made available for generative AI summary. When the user loads the status page in customer service for a particular order which has experienced any pre-determined 'exception events', the events can be summarized by selecting the 'Exceptions' option with the badge count indicating the number of exceptions that have taken place. If no exception events have been flagged during order orchestration, no 'Exceptions' option is displayed in the UI. Note that for order exceptions to appear on the order status page, the "Display Exception Summary" checkbox must be enabled in the Call Center Configuration UI. Refer here for more details on the configuration. Exception events are pre-determined and are not currently customizable. The following events are currently supported out of the box for AI summarization: Event Description Canceled Order An entire order is canceled, either systematically or manually. Canceled Order Line An entire order line is canceled, either systematically or manually. Order Line Quantity Decrease Individual quantities on a particular order line are canceled, either systematically or manually. Order Appeasement An appeasement is added at the order level. Order Line Appeasement An appeasement is added at the order line level. Delivery Delay During shipment tracking, the carrier indicates that a delivery delay has taken place, and sends a delivery delay status code. Item Shorted An item(s) is shorted by the original fulfillment system with the intent to re-allocate the item(s) to another fulfillment system. Override SnH A shipping charge is manually overridden to a new value. Override Price The price of an item is manually overridden to a new value. Note: Due to the inherent characteristics of AI, generated messages might not always maintain consistent formatting, grammar, or style. Configuration For Order Status UI display configuration, refer to Call Center Configuration For Customer Service UI permission configuration, refer to UI Resources - Customer Service Track a Package When a package is shipped to a customer, the tracking number is displayed in the order details. CSRs can select the tracking number to view additional details about the package, including each stop and the current status of the package. Out-of-the-box integration exists with tracking services for FedEx, UPS, and USPS. Tracking packages shipped with other third-party carriers can be added customs as part of the project implementation. Note: The date/time displayed on the tracking details UI will be displayed in UTC irrespective of the time zone of the logged-in CSR or the timezone of the Ship To Address. Additionally, it's also not dependent on the time zone of the dates displayed on the carrier's website when the CSR clicks the "View on Carrier Website" button. Resend Emails from Contact center CSRs can resend transactional emails to customers by using the Resend Emails option in the Order Status UI. For example, if a customer calls and indicates they did not receive a shipment confirmation email, a CSR can resend this email to the customer. CSRs can also modify the customer's email address before resending. This updates the email address on the specific email interaction but does not update the customer's email address on the order. The Resend Email UI displays the to-address, email message type, and sent date (in the CSR timezone) for each email. There is no ability to view the email content. Importing Emails into Active Omni To use the resend email feature, emails must be imported into Active Omni from an external system; Active Omni does not automatically save customer emails. Emails are saved in Active Omni in the email interaction entity, which includes key attributes such as the email subject, to-address, and the full email body. Within the email interaction, the email body can be saved in two formats: HTML: This option includes the full email HTML body (without escaping special characters) that is delivered to the customer. Escaped JSON: This option can be used to save the full escaped Publish Order JSON or Email Message JSON, which then gets translated into an email by a third-party email provider. Emails should be saved in Active Omni as an email interaction in one of two ways: via the email interaction save API or the queue. To import email interactions via the customer interaction email save use API: POST/api/customerinteraction/email/save To post the email message to the queue, use queue.EmailInteractionSave with message type EmailInteractionSaveMSGType. Note: For more detailed information on how to handle emails using a 3rd party email service provider, please refer to the 'Transactional Email' page. Sample email interaction JSONs -  with HTML Email body { "OrderID": "OM-19473-202109070999963640", "ToAddress": "James.Smith@gmail.com", "CcAddress": "", "Subject": "Order shipment for OM-19473-20210907063640", "EmailBody": "<div><table width='600' cellpadding='0' cellspacing='0' border='0' align='center'><tbody><tr><td height='20' style='font-size:1px;line-height:1px'>&nbsp;</td></tr><tr><td><table width='560' align='left' cellpadding='0' cellspacing='0' border='0'><tbody><tr><td style='font-family:Helvetica,arial,sans-serif;font-size:30px;color:#333333;line-height:30px'>Hi Tracy!</td></tr><tr><td width='100%' height='20' style='font-size:1px;line-height:1px'>&nbsp;</td></tr><tr></tr><tr><td style='font-family:Helvetica,arial,sans-serif;font-size:16px;color:#666666;line-height:30px'><p>Thank you for shopping with km-demo-us. We've received your order OM-19473-20210907063640 and will be processing it soon. We'll email you as soon as the package is shipped.</p></td></tr></tbody></table></td></tr></tbody></table></div>", "FromAddress": "admin@sophias.com", "SentDate": "2021-08-30T12:54:06.679", "UserId": "admin@globalorg-us.com", "EmailMessageType": "Order shipped", "EmailType": "Transactional", "CaseRequired": false } Sample email interaction JSONs -  with Escaped JSON body { "OrderID": "OM-17229-20210907063640", "ToAddress": "James.Smith@gmail.com", "CcAddress": "", "Subject": "Order shipment for OM-17229-20210907063640", "EmailRequestBody": "{\r\n  \"EmailMessageType\": \"ShipConfirmation\",\r\n  \"OrderId\": \"OM-17229-20210907063640\",\r\n  \"OrgId\": \"ecomorg\",\r\n  \"CustomerFirstName\": \"James\",\r\n  \"CustomerLastName\": \"Smith\",\r\n  \"OrderToken\": \"xxCea4QJNb4zMy5u4xMn\",\r\n  \"CustomerEmail\": \"james.smith@gmail.com\",\r\n  \"OrderTypeId\": \"CallCenter Order\",\r\n  \"IsFinalShipment\": false,\r\n  \"OnTheWayItems\": [\r\n    {\r\n      \"TrackingNumber\": \"1Z12345E6205277936\",\r\n      \"CarrierCode\": \"UPS\",\r\n      \"CarrierName\": \"UPS\",\r\n      \"ShipToAddress\": {\r\n        \"AddressName\": \"\",\r\n        \"Address\": {\r\n          \"FirstName\": \"John\",\r\n          \"LastName\": \"Smith\",\r\n          \"Address1\": \"1302 Riverview Run Ln\",\r\n          \"Address2\": \"\",\r\n          \"Address3\": \"\",\r\n          \"City\": \"Suwanee\",\r\n          \"State\": \"GA\",\r\n          \"PostalCode\": \"30024-3887\",\r\n          \"County\": \"\",\r\n          \"Country\": \"US\",\r\n          \"Phone\": \"(988) 672-6326\",\r\n          \"Email\": \"james.smaith@gmail.com\"\r\n        },\r\n        \"Extended\": {}\r\n      },\r\n      \"Details\": [\r\n        {\r\n          \"OrderLineId\": \"1\",\r\n          \"ItemId\": \"Tops-12238-Blue-L\",\r\n          \"ItemShortDescription\": \"DUVAL NOTCH NECKLINE LINEN TOP\",\r\n          \"ItemDescription\": \"The Duval printed linen cap sleeve top is a summer essential. Wear this with your favorite printed\",\r\n          \"UnitPrice\": 39.99,\r\n          \"ItemSize\": \"L\",\r\n          \"ItemColorDescription\": \"Blue\",\r\n          \"ItemSmallImageURI\": \"http:\/\/res.cloudinary.com\/com-manh-cp\/image\/upload\/12238_poolsidebluebeachwalk_a1.jpg\",\r\n          \"Quantity\": 2,\r\n          \"ShippedQuantity\": 1,\r\n          \"ShippedOn\": null,\r\n          \"GcNumber\": \"\",\r\n          \"GcPIN\": \"\",\r\n          \"SerialNumber\": \"\",\r\n          \"ItemWebURL\": \"\"\r\n        }\r\n      ],\r\n      \"Invoice\": [\r\n        {\r\n          \"FailedAmount\": 0,\r\n          \"InvoiceId\": \"16049075522055361040\",\r\n          \"FulfillmentDate\": null,\r\n          \"SellingLocationId\": \"\",\r\n          \"AmountProcessed\": 0,\r\n          \"TotalCharges\": 0,\r\n          \"InvoiceSubTotal\": 39.99,\r\n          \"ParentOrderId\": \"\",\r\n          \"TaxExemptId\": \"\",\r\n          \"StatusId\": \"Open\",\r\n          \"InvoiceTypeId\": \"Shipment\",\r\n          \"InvoiceTotal\": 42.39,\r\n          \"TotalTaxes\": 2.4,\r\n          \"TotalInformationalTaxes\": 0,\r\n          \"TotalDiscounts\": 0,\r\n          \"PackageId\": \"PKG-CC100001\",\r\n          \"InvoiceLine\": [\r\n            {\r\n              \"InvoiceLineId\": \"16049075522269759433\",\r\n              \"OrderLineId\": \"1\",\r\n              \"OrderedItemId\": \"Tops-12238-Blue-L\",\r\n              \"OrderedQuantity\": 2,\r\n              \"OrderedUOM\": \"EA\",\r\n              \"ItemId\": \"Tops-12238-Blue-L\",\r\n              \"Quantity\": 1,\r\n              \"UOM\": \"EA\",\r\n              \"UnitPrice\": 39.99,\r\n              \"InvoiceLineTotal\": 42.39,\r\n              \"TotalCharges\": 0,\r\n              \"TotalDiscounts\": 0,\r\n              \"TotalTaxes\": 2.4,\r\n              \"PackageDetailId\": \"CC10000\",\r\n              \"IsTaxIncluded\": false,\r\n              \"IsRefundGiftCard\": false,\r\n              \"ShipFromLocationId\": \"ecomorg:AtlantaDC\",\r\n              \"PaymentGroupId\": \"\",\r\n              \"PhysicalOriginId\": \"ecomorg:AtlantaDC\",\r\n              \"InvoiceLineSubTotal\": 39.99,\r\n              \"ProductClass\": \"Tops\",\r\n              \"FulfillmentDate\": null,\r\n              \"GiftCardValue\": 0,\r\n              \"TotalInformationalTaxes\": 0,\r\n              \"InvoiceLineChargeDetailList\": [\r\n                {\r\n                  \"ChargeDetailId\": \"50647457129691772141\",\r\n                  \"OrderLineChargeDetailId\": \"50647457129691772141\",\r\n                  \"FulfillmentGroupId\": \"6e99bd4b3b829957b856cfd4a8f3fda\",\r\n                  \"TaxCode\": \"Shipping\",\r\n                  \"ChargeDisplayName\": \"\",\r\n                  \"ChargeTotal\": 0,\r\n                  \"IsInformational\": false,\r\n                  \"IsTaxIncluded\": false,\r\n                  \"IsOverridden\": false,\r\n                  \"OriginalChargeAmount\": 0,\r\n                  \"IsReturnCharge\": false,\r\n                  \"ChargePercent\": 0,\r\n                  \"ChargeReferenceId\": \"\",\r\n                  \"RelatedChargeDetailId\": \"\",\r\n                  \"RelatedChargeType\": \"\",\r\n                  \"RequestedAmount\": 0,\r\n                  \"ChargeSequence\": 0,\r\n                  \"ParentChargeDetailId\": \"\",\r\n                  \"IsProratedAtSameLevel\": false,\r\n                  \"ChargeTypeId\": \"Shipping\",\r\n                  \"ReasonId\": \"\",\r\n                  \"DiscountOnId\": \"\",\r\n                  \"ChargeSubTypeId\": \"\",\r\n                  \"AssociatedChargeDetailId\": \"\",\r\n                  \"UnitCharge\": 0,\r\n                  \"HeaderChargeDetailId\": \"f3e3f63f8eaf1914aac861fad8bd118\",\r\n                  \"RelatedOrderLineId\": \"\",\r\n                  \"IsLineDiscount\": false\r\n                }\r\n              ],\r\n              \"InvoiceLineTaxDetailList\": [\r\n                {\r\n                  \"TaxDetailId\": \"Vertex-179789642\",\r\n                  \"FulfillmentGroupId\": \"6e99bd4b3b829957b856cfd4a8f3fda\",\r\n                  \"TaxTypeId\": \"SALES\",\r\n                  \"TaxCode\": \"\",\r\n                  \"TaxableAmount\": 39.99,\r\n                  \"TaxAmount\": 1.6,\r\n                  \"RecordedTaxAmount\": 0,\r\n                  \"TaxRate\": 0.04,\r\n                  \"Jurisdiction\": \"GEORGIA\",\r\n                  \"JurisdictionTypeId\": \"STATE\",\r\n                  \"TaxDate\": \"2020-11-09T00:00:00\",\r\n                  \"HeaderTaxDetailId\": \"\",\r\n                  \"IsInformational\": false,\r\n                  \"TaxIdentifier1\": \"Sales and Use Tax\",\r\n                  \"TaxIdentifier2\": \"\",\r\n                  \"TaxIdentifier3\": \"\",\r\n                  \"TaxIdentifier4\": \"\",\r\n                  \"TaxIdentifier5\": \"\"\r\n                },\r\n                {\r\n                  \"TaxDetailId\": \"Vertex46724414\",\r\n                  \"FulfillmentGroupId\": \"6e99bd4b3b829957b856cfd4a8f3fda\",\r\n                  \"TaxTypeId\": \"SALES\",\r\n                  \"TaxCode\": \"\",\r\n                  \"TaxableAmount\": 39.99,\r\n                  \"TaxAmount\": 0.8,\r\n                  \"RecordedTaxAmount\": 0,\r\n                  \"TaxRate\": 0.02,\r\n                  \"Jurisdiction\": \"GWINNETT\",\r\n                  \"JurisdictionTypeId\": \"COUNTY\",\r\n                  \"TaxDate\": \"2020-11-09T00:00:00\",\r\n                  \"HeaderTaxDetailId\": \"\",\r\n                  \"IsInformational\": false,\r\n                  \"TaxIdentifier1\": \"Local Sales and Use Tax\",\r\n                  \"TaxIdentifier2\": \"\",\r\n                  \"TaxIdentifier3\": \"\",\r\n                  \"TaxIdentifier4\": \"\",\r\n                  \"TaxIdentifier5\": \"\"\r\n                },\r\n                {\r\n                  \"TaxDetailId\": \"50652384593739184778\",\r\n                  \"FulfillmentGroupId\": \"6e99bd4b3b829957b856cfd4a8f3fda\",\r\n                  \"TaxTypeId\": \"SALES\",\r\n                  \"TaxCode\": \"Shipping\",\r\n                  \"TaxableAmount\": 0,\r\n                  \"TaxAmount\": 0,\r\n                  \"RecordedTaxAmount\": 0,\r\n                  \"TaxRate\": 0,\r\n                  \"Jurisdiction\": \"GEORGIA\",\r\n                  \"JurisdictionTypeId\": \"STATE\",\r\n                  \"TaxDate\": \"2020-11-09T00:00:00\",\r\n                  \"HeaderTaxDetailId\": \"Vertex1780917167\",\r\n                  \"IsInformational\": false,\r\n                  \"TaxIdentifier1\": \"Sales and Use Tax\",\r\n                  \"TaxIdentifier2\": \"\",\r\n                  \"TaxIdentifier3\": \"\",\r\n                  \"TaxIdentifier4\": \"\",\r\n                  \"TaxIdentifier5\": \"\"\r\n                },\r\n                {\r\n                  \"TaxDetailId\": \"50652402002917865498\",\r\n                  \"FulfillmentGroupId\": \"6e99bd4b3b829957b856cfd4a8f3fda\",\r\n                  \"TaxTypeId\": \"SALES\",\r\n                  \"TaxCode\": \"Shipping\",\r\n                  \"TaxableAmount\": 0,\r\n                  \"TaxAmount\": 0,\r\n                  \"RecordedTaxAmount\": 0,\r\n                  \"TaxRate\": 0,\r\n                  \"Jurisdiction\": \"GWINNETT\",\r\n                  \"JurisdictionTypeId\": \"COUNTY\",\r\n                  \"TaxDate\": \"2020-11-09T00:00:00\",\r\n                  \"HeaderTaxDetailId\": \"Vertex-418607279\",\r\n                  \"IsInformational\": false,\r\n                  \"TaxIdentifier1\": \"Local Sales and Use Tax\",\r\n                  \"TaxIdentifier2\": \"\",\r\n                  \"TaxIdentifier3\": \"\",\r\n                  \"TaxIdentifier4\": \"\",\r\n                  \"TaxIdentifier5\": \"\"\r\n                }\r\n              ]\r\n            }\r\n          ],\r\n          \"InvoiceChargeDetail\": [\r\n            {\r\n              \"ChargeDetailId\": \"f3e3f63f8eaf1914aac861fad8bd118\",\r\n              \"OrderChargeDetailId\": \"f3e3f63f8eaf1914aac861fad8bd118\",\r\n              \"FulfillmentGroupId\": \"6e99bd4b3b829957b856cfd4a8f3fda\",\r\n              \"TaxCode\": \"Shipping\",\r\n              \"ChargeDisplayName\": \"\",\r\n              \"ChargeTotal\": 0,\r\n              \"IsProrated\": true,\r\n              \"IsInformational\": false,\r\n              \"IsTaxIncluded\": false,\r\n              \"IsOverridden\": false,\r\n              \"OriginalChargeAmount\": 0,\r\n              \"IsReturnCharge\": false,\r\n              \"ChargePercent\": 0,\r\n              \"ChargeReferenceId\": \"\",\r\n              \"RelatedChargeDetailId\": \"\",\r\n              \"RelatedChargeType\": \"\",\r\n              \"RequestedAmount\": 0,\r\n              \"ChargeSequence\": 0,\r\n              \"ParentChargeDetailId\": \"\",\r\n              \"IsProratedAtSameLevel\": false,\r\n              \"ChargeTypeId\": \"Shipping\",\r\n              \"ReasonId\": \"\",\r\n              \"DiscountOnId\": \"\",\r\n              \"ChargeSubTypeId\": \"\"\r\n            }\r\n          ],\r\n          \"InvoiceTaxDetail\": [\r\n            {\r\n              \"TaxDetailId\": \"Vertex-418607279\",\r\n              \"FulfillmentGroupId\": \"6e99bd4b3b829957b856cfd4a8f3fda\",\r\n              \"TaxTypeId\": \"SALES\",\r\n              \"TaxCode\": \"Shipping\",\r\n              \"TaxableAmount\": 0,\r\n              \"TaxAmount\": 0,\r\n              \"RecordedTaxAmount\": 0,\r\n              \"TaxRate\": 0,\r\n              \"Jurisdiction\": \"GWINNETT\",\r\n              \"JurisdictionTypeId\": \"COUNTY\",\r\n              \"TaxDate\": \"2020-11-09T00:00:00\",\r\n              \"TaxEngineId\": \"\",\r\n              \"IsProrated\": true,\r\n              \"IsInformational\": false,\r\n              \"TaxIdentifier1\": \"Local Sales and Use Tax\",\r\n              \"TaxIdentifier2\": \"\",\r\n              \"TaxIdentifier3\": \"\",\r\n              \"TaxIdentifier4\": \"\",\r\n              \"TaxIdentifier5\": \"\"\r\n            },\r\n            {\r\n              \"TaxDetailId\": \"Vertex1780917167\",\r\n              \"FulfillmentGroupId\": \"6e99bd4b3b829957b856cfd4a8f3fda\",\r\n              \"TaxTypeId\": \"SALES\",\r\n              \"TaxCode\": \"Shipping\",\r\n              \"TaxableAmount\": 0,\r\n              \"TaxAmount\": 0,\r\n              \"RecordedTaxAmount\": 0,\r\n              \"TaxRate\": 0,\r\n              \"Jurisdiction\": \"GEORGIA\",\r\n              \"JurisdictionTypeId\": \"STATE\",\r\n              \"TaxDate\": \"2020-11-09T00:00:00\",\r\n              \"TaxEngineId\": \"\",\r\n              \"IsProrated\": true,\r\n              \"IsInformational\": false,\r\n              \"TaxIdentifier1\": \"Sales and Use Tax\",\r\n              \"TaxIdentifier2\": \"\",\r\n              \"TaxIdentifier3\": \"\",\r\n              \"TaxIdentifier4\": \"\",\r\n              \"TaxIdentifier5\": \"\"\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n  ],\r\n  \"PreviouslyShippedItems\": null,\r\n  \"InProcessItems\": {\r\n    \"Details\": [\r\n      {\r\n        \"OrderLineId\": \"1\",\r\n        \"ItemId\": \"Tops-12238-Blue-L\",\r\n        \"ItemShortDescription\": \"DUVAL NOTCH NECKLINE LINEN TOP\",\r\n        \"ItemDescription\": \"The Duval printed linen cap sleeve top is a summer essential. Wear this with your favorite printed\",\r\n        \"UnitPrice\": 39.99,\r\n        \"ItemSize\": \"L\",\r\n        \"ItemColorDescription\": \"Blue\",\r\n        \"ItemSmallImageURI\": \"http:\/\/res.cloudinary.com\/com-manh-cp\/image\/upload\/12238_poolsidebluebeachwalk_a1.jpg\",\r\n        \"Quantity\": 1,\r\n        \"ItemWebURL\": \"\"\r\n      }\r\n    ]\r\n  },\r\n  \"CurrencyCode\": \"USD\",\r\n  \"OrderTotal\": 211.96,\r\n  \"OrderSubTotal\": 199.96,\r\n  \"TotalTaxes\": 12,\r\n  \"TotalDiscounts\": 0,\r\n  \"TotalCharges\": 0,\r\n  \"Order\": null\r\n}\r\n", "FromAddress": "admin@sophias.com", "SentDate": "2021-07-30T12:54:06.679", "UserId": "admin@globalorg-us.com", "EmailMessageType": "Order Shipped", "EmailType": "Transactional", "CaseRequired": false } Note: The email save interaction API has the attribute 'CaseRequired'. This attribute is set to true by default and is used when a new case has to be created in customer engagement for the email interaction in the interaction create flow. For transactional emails, if cases need not be created, then this attribute must be set to false while importing the email interaction so that no new case will be created for transactional order-related emails in customer engagement. Resend Email Flow When a CSR clicks the 'Resend' button, the email interaction is published outbound, so the email provider can deliver it to the customer. If the email body is saved in HTML format, then the email provider can simply deliver it to the customer as-is. If the email body is saved in JSON format (Publish Order or Email Message), the email provider must translate the JSON into the email body before delivering it. After a CSR resends an email, a new email interaction is saved with an indicator that the email has been resent. The newly-sent email appears on the top of the Resend Emails list in the UI. When emails are resent, they are published to a different queue than the typical outbound email flows: * Queue used for resending emails : ci-eml-ResendEmailInteraction * Email Message Service queue: queue.EmailMessageService * Message type for resending emails: ci-eml-ResendEmailInteraction * ExtensionPoint for resend Email : Customerinteraction:Email:Event:ResendEmailInteraction On resending an email, when the email interaction is sent back to the resend email interaction queue, the email interaction JSON is updated with the "IsDuplicate:" flag set to 'true'. This can be used by an external system to understand that the email interaction JSON is a resent email and not an original email sent for the first time. Click here to know about the Resource ID that is needed to view the resend emails button in the order status page. Send Customer Copy of Invoice PDF Contact center agents can send shipment invoices to customers using the Send Invoices option available in the Order Status UI and the Order Edit UI. If a customer requests for the shipment invoices, the agent can use this button to send an email with the invoice attached. Clicking the Send Invoices button opens a popup with a pre-filled email field and a Send button. The pre-filled email ID is the one already available on the order. If the order does not have an email, the customer’s email ID is displayed if available. The email field is editable, allowing agents to enter a different email address if the customer wants the invoice to be sent to a different address. Updating the email in this popup only affects the current interaction and does not update the email address on the order. The Send Invoices button is available only for customer orders and exchange orders and is not displayed for return orders. The button is protected by permission. If the agent has the necessary resources, the button is visible; otherwise, the button remains hidden. Refer UI Resource for more details on grants. Once the agent reviews or updates the email address, they can click Send to send the invoice. The system then emails the invoice as an attachment to the specified email address. Note: In case of orders across multiple organization, the child org should have the Invoice Receipt Pdf Email template to receive the email. To add this email template, copy eml::emailTemplate from the base profile to your profile. If you prefer not to copy the profile, you can import the template using the template body provided on the Transaction emails page. Support for Virtual Assistants Virtual assistant integration is supported for the following use cases: Customer Authentication Where is my Order? Call Me back Return my order Customer Authentication The first time a customer uses a retailer skill with an Alexa device, their device must be authenticated. This is done by asking the customer to say the phone number of their account or order. After saying the phone number, a verification code is sent as a SMS message. The customer then reads the code from the SMS message to Alexa. If the code is successful, the device is authenticated. Once the device is authenticated, the customer may proceed with other actions (such as order status request or "Call me back"). Where is my Order? Customers may state "Alexa ask [skill name] where is my order?" or "Alexa ask [skill name] what is the status of my order". If the customer's device is already authenticated, Alexa responds with the status of the latest order (i.e. most recently placed). If the customer has not yet authenticated their device, they are asked to provide a phone number and the authentication flow is initialized. Call Me Back If a customer would like to receive a call from a customer service agent, they may say "Ask [skill name] to call me back". If the customer's device is already authenticated, the device will read the phone number used for authentication and ask if this is the phone number where they would like to be reached. If the customer says yes, a case is created in 'Open' status where a customer service representative should monitor the case queue. If the customer says "No", indicating they would like to be reached at a different number, Alexa asks to provide an alternate phone number. After a final confirmation of the phone number, a case is created in 'Open' status. Note that the "Call Me Back" feature requires Customer Engagement to be enabled to view and modify the resulting case created. Services Service Component Group Service Endpoint Save Email interaction Customer Interaction Email Services POST/api/customerinteraction/email/save Send Shipment invoices Order POST order/api/order/invoiceReceipt/generate Implementation Flavor How can we modify the display of Order Timeline UI Intercept the response from the API below, which is responsible for displaying the order timeline based on the order status: {{url}}/order/api/audit/<orderId>/auditTimeLine Troubleshooting Why does resend email process takes 5-6 minutes to reach the customers? If the customerInteraction component is not used for a long time, it goes down and takes time to start the container. Hence, a delay in resending the email for the first time. However, the process will be faster going forward. Related Articles Transactional EmailsItem SearchOverview and NavigationCross-Organization VisibilityUI ResourcesCustomer Service Insights DashboardCall Center ConfigurationKits in Call CenterOrder ModificationsTransactional TextsTroubleshooting Returns and Exchanges