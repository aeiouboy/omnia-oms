# Returns and Exchanges

**Permalink:** returns-and-exchanges-in-contact-center
**Path:** Manhattan Active® Omni/Order Management/Process & Configuration Guides/Customer Service/Returns and Exchanges
**Content Length:** 84,858 characters
**Scraped:** 2025-08-09T21:54:48.837590

---

Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Customer Service ››Returns and Exchanges Returns and Exchanges In Contact Center ReturnsExchangesRefund on Carrier ScanQuantity Variance on Carrier Scan     Return or Exchange Order Status InquiryActions Available on Return OrdersReturn Order Details and Overrides Capture Return Specific InformationCapturing Ship From Details For Return Items Capture Ship-to Details and Confirm Order for Exchange ItemsReceipt Not Expected due to ThresholdPrinter-less ReturnsConfigurationResolve Refund FailureRefund By LinkCredit CardImplementation FlavorHow to perform a synchronous call to evaluate return fees and fraud during return order creationTroubleshootingI am creating a return (same style exchange) order for a single line order having 2 quantities. Now, if I click on "select change" item and change the color or size of that item, even exchange is being converted to an uneven exchangeWhy is return creation failing for an order that's not fully paid?Why is hazmat charged again on my order when exchanging the order line?When creating a return, the 'Return' and 'Exchange' radio buttons are not enabled/disabled as expectedI created a standalone return (return without a parent order) in an external system/custom UI. When I load the Return Status UI, I see that the refund will be issued to a new gift card, but no payment header exists. Where does this gift card come from? When we create a same style exchange with the receipt expected as true, and if there is any pending return fee after adding payment for the remaining amount, the confirmed return is disabled. How can this be enabled?We need to replicate the return credit on the created return UI in a custom component. How is it calculated?Can I create exchanges for items which are out of stock? Not able to override VAS charges for return/exchange orders? How is Refund Total calculated? When return is in the process of being created, the order line status gets updated to 'Delivered'In a custom flow, an exception error occurs on clicking the confirm return button on the return screenThe order status UI shows a misleading error message if the item returned is not returnable.Non-Sequential return order IDs due to return age policy popupRelated Articles Returns A common contact center scenario is for a customer to call to initiate a return. In a return scenario, typically the customer is expected to ship the ordered item back to a return center, and upon receipt, the customer is refunded for the returned item. To do this, the contact center associate must first locate the original order which the customer would like to return and then click the Return link. The CSR selects the items and quantity that the customer would like to return. By default, the reason and condition field will be null. The user can select the reason and condition explicitly, but it is not a mandatory field. If the return reason and item condition should be mandatory for the contact center agent, then the configuration can be enabled in call center configuration for that organization. The configuration must have validate reason and validate item condition set to true. The Create Return Orders guide includes additional information about the steps required to create a return. Item condition (for example, new, damaged, and so on) is captured at the return line level. If multiple conditions are required for a single line (for example, one unit is damaged, and one is new), then two separate returns can be created to select two different conditions. Refer to the Call center return flow for more details The CSR can create a return order from a fulfilled order. If the CSR does not have the right resources, then return order creation is not permitted. Refer to resource for return order creation. The return type selected by the CSR is not stored in the order line. The order component determines the return type based on the overall lines in the order. Refer to how the return type is calculated by clicking here. Return orders cannot be confirmed if the original order is not paid. If the order is partially settled, then return order confirmation is allowed only for the settled amount. When returning an order line where substitution occurred, the substituted item (instead of the originally ordered item) is displayed in the available list of items. Note: The maximum number of order lines supported for a call center returns is 20. Exchanges A variation for returning an order is exchange. In exchange scenarios, rather than requesting a refund for the returned item, the customer would prefer to exchange the item for either the same style item (even exchange), or a new style item ( uneven exchange). For example, customers will typically exchange for the same style if they received a damaged item, and it did not fit or was the wrong color. Exchange for a new style may be used if the customer would like to exchange for a completely different item. To initiate an exchange order, first, the contact center agent must locate the original customer order by searching in the customer service home screen or orders UI. Once the order is located, the CSR clicks Return to initiate the exchange order. On the next screen, the CSR will either be changed to the same Style or New Style as explained in the Create Exchange Orders guide. Refer to the Exchanges order process guide for more details on how the exchange order creation and process flow works. Note: The return by order created from the UI is restricted by selecting both even and uneven exchange returns. This needs product enhancement. Refund on Carrier Scan Active® Omni provides the flexibility to refund the customer for returns early in the return order cycle when the return package(s) is carrier scanned through an automatic return tracking process. When return labels are carrier scanned, the return order event type "CarrierScanned" is used to move all the quantities of all the return lines in the return order with isReceiptExpected = true to Carrier Scanned (14000.000) status. The return invoice is created immediately, and the customer is refunded. The carrier scanned donut can be seen across the lines with the respective quantity. When the return labels are successfully carrier scanned. The system assumes that all quantities of all the return lines in the RO with isReceiptExpected = true are carrier scanned. Partial line or partial quantities are not allowed to be moved to this status. Return lines in the RO with isReceiptExpected = false cannot be moved to carrier scanned status. Contact center agents can also filter for carrier scanned orders across the omnifacade order search page. Quantity Variance on Carrier Scan In case a return invoice is generated on carrier scan status, a chargeback invoice will be generated for the quantity that was invoiced and refunded in the return invoice. A chargeback invoice is generated only when the received and the verified quantity is less than the expected quantity, resulting in quantity variance. For example: If a return order has a return line with isReturnExpected = true with 10 qty and invoicing on carrier scanned status is enabled, the return invoice is generated for 10 qty when the return line moves to carrier scanned status. Later, when the package is received and verified in the return DC, if only 8 qty is received and verified, a chargeback invoice is created for the 2 qty for which a refund was issued in excess by prorating the dollar amount from the return invoice created earlier. On the contact center UI, the chargeback invoice can be seen under the return invoice section on the order. To highlight the variance, the invoiced donut status across the order line will change from green to orange to indicate not all expected quantities were actually received after the carrier scan.  In this scenario, the invoiced donut will show only the actual quantity that was eventually received, with more details in the tooltip across the invoiced status donut. Configuring a payment type as eligible for charge back allows the system to refund returns on carrier scanned status and create a charge back invoice in case the verified quantity is less than the quantity for which the customer was refunded on carrier scan. Refer to Charge Back Invoice for more details. The "CarrierScanned" event cannot be processed if the return order includes any return line with isReceiptExpected = false or if the parent order does not have a payment method belonging to Payment Type configured for - Eligible For Chargeback = true or the MaxReturnStatus of the return order is greater than Awaiting return (11000.000) Agents also have the ability to mark orders as "Received” to move items to final status in case the items were never received. This can be done if the agents have the necessary permission/grant to use the mark as received button on the return/exchange menu entry. This button is different from the "Process" button, which actually processes the return and generates invoices. The contact center UI will show a maximum of only 4 status donuts across lines in the return/exchange order. Currently, we have Return qty, Carrier scanned, Received and Invoiced status donuts. Note: Chargeback invoice is supported only if 'TaxGateway' is configured as Vertex. If local tax is used, implement the user exit 'Order:Order:UserExit:CallDistributeTaxService' and return the same invoice. Return or Exchange Order Status Inquiry Customers will often call to check on the status of a return or exchange in order to see if their shipment has arrived at the return center. The return and exchange statuses are easily accessible in a few different ways. The contact center associate can search for the return depending on what information the customer has. If the customer already has the return or original order number, this information will take the contact center associate directly to the Return Status screen. If the customer does not have the return or order number, the CSR searches for the customer by name and this returns a list of all transactions including orders and returns. The Create Return Orders guide includes additional information about searching for return orders. For all related return and exchange orders will be listed in the drop-down next to the order, with their statuses shown in parentheses. These orders will be sorted by creation date, with the most recent at the top. This allows the CSR to easily distinguish between active and canceled return or exchange orders. Click here for more information. Actions Available on Return Orders Return Order Details and Overrides Add New Style Items New style items can be selected by navigating to the item search screen from the create return screen. Refer item search to the screen to understand more details on how item search works. Note: The delivery option that is supported for new style items is "Ship To Address". Select Same Style Items The same style items are equivalent to exchanging the items for a different color or size. Any change in color or size will result in a new item and the lines go through a new allocation. Check Returnable Quantity Returnable quantity is the quantity that can be returned or exchanged. Refer here to understand how a returnable quantity is calculated. CSR can update the return quantity (increase or decrease) until the return order is confirmed. Check Return Order Number The return order number is generated from the customer service component. Retailers can configure "Order ID Prefix" to be used for order number generation in the call center configuration. Refer here to knowing how order numbers are generated for orders created from the customer service component and how to customize order IDs. Check Return Order Type The default order type from the call center configuration is used during the return order creation. All the return orders are created with the order type specified in the default order type. Delete Return Line CSR can delete the return line(s) during the return creation process. CSR is not allowed to cancel all the return lines(s), there should at least be one return line in the order (use cancel return option in such case). If there is the associated same style line when a return line is deleted, the same style will also be deleted. If there is an uneven line, then the CSR can delete these lines independently. Note: When a return or uneven exchange order line is deleted, then the order total is recalculated. Override Items as Returnable or Exchangeable While creating the order, if an item is marked as non-returnable (Orderline.IsReturnable = false) then, while creating a return order, the item cannot be returned. Similarly, if an item is marked as non-exchangeable (Orderline.IsExchangeable = false) then the creation of an exchange order is restricted. However, these items' return or exchange eligibility can be overridden if the CSR has the right resource. If the CSR does not have the right resource then the override icon will not be available. Note: An order imported with these fields as false will override the item configuration within Manhattan Active™ Omni . Override Return Fee If there is any return fee applied on an order, those fees can be overridden prior to return order confirmation, if the CSR has the right resource. These fees can be individually overridden (each header or line level fees) or the fees can be overridden to zero charges all at once. User can also revert the overrides, and the system will re-instate the original fees. To waive fees after a return is confirmed, the user will need to be associated with the grants required to access the Return UI in edit mode and to waive the fees. Note that if a fee is overridden after the return order is confirmed, it cannot be reverted and the fee override will be final. If a return has multiple fees, the CSR can remove any or all fees; however, a fee cannot be partially removed. For example, if Return Order ABC has Fee 1 for $4 and Fee 2 for $3, the CSR can remove both fees or just Fee 1 or Fee 2; but she cannot change Fee 1 to any value other than $0. Override New Style Price Any new style exchange line can be overridden if the CSR has the right resources and the call center configuration "Allow overrides on new style exchange" is enabled. By default, this configuration is disabled. When a new style line item price is overridden, then the order line and order total are recalculated. Override New Style Order Shipping Charges Any new style lines resulting in shipping charges can be overridden if the CSR has the right resources and the call center configuration "Allow overrides on new style exchange" is enabled. By default, this configuration is turned off. The new style of shipping charges can be overridden up to zero or anything less than the current charges. When new style charges are overridden the existing charge detail is marked as overridden with a new charge. Override Return Aging Date Many retailers cannot accept returned items if the order is over a certain number of days, such as 30 days, 60 days or 90 days. While this accommodates most scenarios, some situations require more flexibility. For example, if a gold level customer wants to return an item, refusing the transaction could put the relationship at risk. Perhaps the aging date recently expired and the customer has extenuating circumstances for the delay. In such situations, key CSR can perform an override of the return aging rule and accept the return or exchange. The CSR will need to have the appropriate grant and the organization enabled the grant using the 'Allow Override of Return Age Policy' checkbox on the Call Center Configuration record. If the CSR chooses to perform the override, the system will display a verification message confirming the acceptance of the return/exchange. The user can also provide an optional reason code for the override, which is helpful in reporting later. Override Return Payment Method Most organizations have defined rules regarding return payment methods; for example, the money is refunded to the original credit card unless the item is marked as gift. Unfortunately, some customers require more flexibility; sometimes gifts are not marked as gifts in the system. Or the customer wants the money returned to his original credit card, but the configuration requires that he receive a gift card. In such situations, key CSR can override the return payment method if they have the appropriate grant and the grant is enabled using the 'Allow Override of Return Age Policy' on the Call Center Configuration record, and if the Refund Age is not in the past. If the Refund Age is in the past, and the retailer would still like to refund to the original form of payment, then the Force Original flag must be sent as part of the request. The two payment methods supported are the original credit card and electronic gift card. Capture Return Specific Information Receipt Expected The default behavior, if an item should be sent back to DC or not, is controlled through the "ReceiptExpected" flag in the call center configuration. The default value is false, which means every time a return order is initiated, the item is not expected back from the customer. The configuration can be changed based on business requirements. Return Reason During the return order, the creation return reason can be captured. The default behavior will not mandate the user to enter or specify a return reason. However, this can be made mandatory based on business requirements. This is controlled through a flag "Validate Return Reason" in the call center configuration. The list of return reasons is configurable. Return reasons can be configured in addition to the order reasons seed data as reason type ID "return". Item Condition During return order creation, the item's condition can be captured. The default behavior will not mandate the user to enter or specify an item condition. However, this can be made mandatory based on business requirements. This is controlled through a flag "Validate Item Condition" in the call center configuration. The list of item conditions is configurable by accessing the item conditions UI within a managed order configuration. For more information on item conditions, refer to this page. Capturing Ship From Details For Return Items Ship From Address The ship address is copied from the first parent order line. However, the user can choose to add a completely new address. Note: When an existing address is modified or a new address is entered in the ship to address, address verification will be called. If you are returning an item that was originally picked from a store and a preferred address is not registered for the customer, then a return address must be entered. The address is required to generate the return labels in case the items are expected to go back to the return center. When digital goods are returned, a return address is not applicable or required. Return Shipping Method While returning the items back to the retailer, a return shipping method has to be specified to determine any charges that may be included if the return shipping charge calculation is based on the shipping method. Refer here to understand how return shipping methods are listed for return lines. Note: Return shipping method is copied from the parent order line when a return order is created. However, the same can be updated from the CSR UI. Return Shipping Method Selection in Call Center UI When creating a Return Order (RO) in the Call Center UI, the system retrieves all applicable return shipping methods based on the configuration and item eligibility. The selection logic is as follows: Multiple Return Shipping Methods Available: If more than one return shipping method is configured and valid for the items in the return, the system lists all applicable options. However, it automatically selects the first method from the list as the default. Note: A default return shipping method cannot be explicitly configured when multiple valid return methods are available. Single Return Shipping Method Available: If only one return shipping method is applicable, it is used as the default without prompting for selection. No Valid Return Shipping Methods Available: In cases where no return-specific shipping methods are valid for the selected items, the system defaults to using the shipping method from the first order line of the original customer order (CO). Email to Send a Return Label Specify the email to send return labels when items are returned to DC or the store. Note: For more information on email integration and using the out of the box email component, refer here. Number of Packages Specify the number of packages that the return items are expected back. The return labels generated will be based on the number of packages specified. Capture Ship-to Details and Confirm Order for Exchange Items Ship to Address The ship-to address is copied from the first parent order line when a return order is created for an even or uneven exchange. However, the user can choose to add a completely new address. The Shipping Address and Shipping Method on Return summary UI will be editable only if the return order IsConfirmed flag is false as part of the below API response. API: /api/customerengagementfacade/ds/order/orderWithCalculatedValues Note: When an existing address is modified or a new address is entered, address verification is done. If the validation is not required, then turn off the configuration "Validate Shipping address" in the call center configuration. Shipping Method While exchanging an item, the shipping method has to be specified to determine if there are any shipping charges (this is if the charge calculation is based on a rate basis shipping method). For an even exchange, the shipping method is copied from the parent order line, and for uneven exchange lines, the shipping method is specified on the item search page. These values can be edited in the created return order UI before return order confirmation. Return Shipping Charges Return shipping charges are calculated for return lines. Click here to understand how return shipping charges are calculated. Exchange Shipping Charges Exchange line shipping charges are calculated for even or uneven lines. Click here to understand how return shipping charges are calculated. Return Center A Default Return Center can optionally be configured in the call center configuration. Locations which are marked "Accepts Return" or "Accepts Online Return" as true are listed in the drop-down list. During return creation, this default return center can be modified as needed. Capture Payment Applicable to exchange order resulting in payments in case the refunds are less than actual sale items. Refer here for capturing payment details. Confirm Return The final step of return order creation is confirmation. Confirm return order will trigger return label generation if items are expected back. Refer to how return labels are generated here Cancel Return During return order creation, if the customer changes his mind before confirming the order, CSR can cancel the return. The call center only supports full return or exchange order cancelation. Order lines can not be canceled by the call center UI. Receipt Not Expected due to Threshold Retailers can configure the system to exclude return receipt for items under a defined dollar threshold. If a line is under the dollar threshold and the agent chose the 'Receipt Expected' checkbox, the return page will display a 'No Return Required' icon next to the order line. If the threshold is set to the order level and the order is under threshold, the system will display the 'No Return Required' icon next to each line in the order. The agent can tell the customer that they can keep the items when no return is required. When the agent confirms the return, the system confirmation message indicates that the customer may keep some order lines; if the threshold is set at the order level, the confirmation message states that the customer may keep all the inventory. Note that the receipt not expected due to threshold applies only for returns and exchanges. Note: The system determines if the threshold is met after the agent selects the 'Receipt Expected' checkbox. Therefore, if the agent already set the 'Receipt Expected' checkbox to No, the system won't display the 'No Return Required' icon as the agent has already determined the item won't be shipped back. For information on configuring Receipt Not Expected Threshold, see Return Configurations. Printer-less Returns Printer-less returns can now be initiated through the Contact Centre UI for customers who do not have access to a printer to print their shipping label. When the printer-less return option is enabled and the Customer Service Representative (CSR) selects "Receipt Expected" as true while creating the return, two options will be available: "Mail with a printed label" and "Mail with printer-less drop-off" under "Select A Return Method" section. By default, the "Mail with printer-less drop-off" option will be pre-selected in the Contact Centre UI. Note: If the 'Evaluated Receipt Not Expected' configuration is enabled and the order or order line total is below the defined threshold, then even if "Receipt Expected" is selected as true, the options "Mail with a printed label" and "Mail with printer-less drop-off" will not be displayed. In such cases, the return creation will follow the existing standard flow. The "Mail with Printed Label" option is provided to ensure backward compatibility and to maintain the existing return order creation process for Customer Service Representatives (CSRs). When the CSR selects "Mail with printerless drop-off" and chooses a program name or return carrier option like "FedEx Label-only" or "UPS Label-only," the customer is expected to pack and seal the return items, and the associate at the drop-off location will print the shipping label for the package. Upon confirming the return, a shipping label call is made to the carrier, similar to the mail-in return flow. After a shipping label is successfully generated, depending on the shipping carrier, contact centre has a different workflow to generate different types of digital return code images associated with the shipping label. In the case of FedEx, it creates a QR code image associated with the return order ID (RMA number) and notifies the carrier that there is a QR (Quick Response) code affiliated with the shipping label. In the case of UPS, system makes a request to the carrier to obtain the source text for generating the Data Matrix code image. The customer is sent a return confirmation email with the shipping label attached. Additionally, depending on the carrier, a 2D digital return code image, either a QR code or a Data Matrix code, is attached as well. They can present the digital return code at the carrier location and the carrier will print the shipping label for the customer. Note: When the printerless return option is enabled, and the CSR selects "Mail with a printed label" while creating the return, if there are no eligible common return shipping methods for the return items, the system will not copy the return shipping method from the parent order (CO order) hence shipping method will be null in the "Return Items From" and the  "Confirm Return" button will be disabled. If the CSR selects "Mail with printerless drop-off," the number of packages cannot be updated, as this option supports only one package.  And the return shipping method can be populated from the printerless return option configuration. If no return shipping method is configured, the shipping method will be null in the "Return Items From" and "Confirm Return" button will be disabled, and the return order cannot be confirmed. Note : Printer-less returns are currently supported only by FedEx and UPS from base. For a retailer to interface with a different carrier/program, services are expected to develop a custom extension handler for the extension point - Order:Order:UserExit:ProcessPaperlessReturnRequest. This custom extension is supposed to take care of generating the carrier/program-specific request and connect to the provider for the required operation. Note : Re-sending the return label is not supported in the base implementation. A custom solution is required to retrieve the label and email it to the customer. If the retailer also wants to resend the QR code or data matrix along with the return label, the custom implementation must be further enhanced accordingly. Configuration To enable the "Mail with printerless drop-off" feature, copy the pcl::carrier profile from base to the respective organization's profile. If the Printer-less Return Option MUP UI contains at least one value, it indicates that the feature is enabled and hence contact the services team to perform the following set up. For Carrier Code - FedEx: Ensure that the return shipping method has been selected for the respective printerless return option. Set up the User Exit in Order component. Set up the credentials in XBoundAuth. Refer to the Printer-less Returns Configuration section for more details. For Carrier Code - UPS: Ensure that the return shipping method has been selected for the respective printerless return option. Set up the User Exit in Order component. Set up the client credentials in the order component's KV store. Set up the value of 'demoFlag' API request parameter in the order component's KV store. Note : When a return shipping method has multiple ShipVia, the system will always consider the first ShipVia for tracking number generation. Ensure that the first ShipVia is associated with the selected provider in the configuration. Note : The UPS's API, which is called for 'UPS-Label Only' option, does not have a separate sandbox and live environment, so the 'demoFlag' parameter is needed to indicate if the shipment package for which the Data Matrix code is being generated is a live package or demo package. To disable this feature, simply delete all records from the Printer-less Return Option MUP UI. Below are the seed data for "FedEx Label-only" or "UPS Label-only options. Printer-less Return Option Seed Data{ "ProfileId":"base", "Data": [ { "PrinterlessReturnOptionId": "FedEx - Label Only", "Provider": "FedEx", "Description": "This is the one of the 2 options provided by the Simple Label API used to integrate FedEX carrier for  Printerless returns.This option indicates that the drop-off item is required to arrive at the store packed and sealed." }, { "PrinterlessReturnOptionId": "UPS - Label Only", "Provider": "UPS", "Description": "This is one of the 3 options provided by the Direct To Mobile API used to integrate UPS carrier for Printerless returns. This option indicates that the drop-off item is required to arrive at the store packed and sealed." } ] } In the Printer-less Return Option MUP UI, all available providers configured in the system will be listed in the dropdown. Once a provider is selected, only the associated Return Shipping Methods—i.e., those with the Return Shipping Method flag set to true—will be displayed in the Return Shipping Method dropdown. Note : Only one program name can be configured per provider, and the system will not allow configuring multiple return shipping methods for the same program name. Make sure below User Exit & Credentials are configured for FedEx and UPS User Exit & Credentials Configuration for carrier code - FedEx : Step 1: Create extension handler POST message https://{{url}}/order/api/ServiceDefinition/extensionPoint/save { "ComponentId": "Order", "ExtensionPointId": "Order:Order:UserExit:ProcessPaperlessReturnRequest", "IsEvent": false } Step 2: Configure Extension Handler POST message https://{{url}}/order/api/ServiceDefinition/extensionHandler/save { "RegisteredExtensionPoints": [ { "ExtensionPointId": "Order:Order:UserExit:ProcessPaperlessReturnRequest" } ], "ExtensionhandlerRoute": [ { "Destination": "PaperlessReturn", "SourceId": "ON_EVENT", "IsSync": true, "IsDisabled": false, "Process": "/ServiceDefinition/extensionHandler/save", "DestinationId": "paperlessReturnRoute0", "Source": "ON_EVENT", "DisplayName": "PaperlessReturn", "ExtensionhandlerRouteId": "paperlessReturnRoute0" }, { "Destination": "FedExService", "SourceId": "paperlessReturnRoute0", "IsSync": true, "IsDisabled": false, "Process": "/ServiceDefinition/extensionHandler/save", "DestinationId": "paperlessReturnRoute1", "Source": "PaperlessReturn", "DisplayName": "FedExService", "ExtensionhandlerRouteId": "paperlessReturnRoute1" } ], "ExtensionHandlerId": "paperlessReturn", "ManhattanOwnedExtension": true, "ComponentId": "order" } Step 3: Order Service Definition POST message https://{{url}}/order/api/ServiceDefinition/serviceDefinition/save { "ComponentId": "COMPONENT-ORDER", "Url": "COM-MANH-CP-XBOUND:8080/fedexAuthorization", "ServiceId": "FedExService", "ServiceDefinitonParams": [ { "ParameterName": "PROTOCOL", "ParameterValue": "HTTP" }, { "ParameterName": "HTTPMETHOD", "ParameterValue": "POST" }, { "ParameterName": "ISEXTERNAL", "ParameterValue": false } ], "ServiceAuthParams": [ { "ParameterName": "oAuth.serviceId", "ParameterValue": "{:FedExAuthServiceId}" } ] } Step 4: Set up Credentials in XBoundAuth The following credentials, used in the set-up below, will be provided by FedEx to the retailer. The services team should obtain these from retailer. UsernameForFedExService PasswordForFedExService ClientIdForFedExService ClientSecretForFedExService POST message https://{{url}}/xboundauth/api/ServiceDefinition/serviceDefinition/save { "ComponentId": "Xboundauth", "Url": "https://api-sandbox.supplychain.fedex.com/api/sandbox/fsc/oauth2/token", "ServiceId": "FedExAuthService", "ServiceDefinitonParams": [ { "ParameterName": "PROTOCOL", "ParameterValue": "HTTP" }, { "ParameterName": "HTTPMETHOD", "ParameterValue": "POST" }, { "ParameterName": "ISEXTERNAL", "ParameterValue": true } ], "ServiceAuthParams": [ { "ParameterName": "xbound-basic.username", "ParameterValue": "{:XBoundBasicUsernameForFedExService}" }, { "ParameterName": "xbound-basic.password", "ParameterValue": "{:XBoundBasicPasswordForFedExService}" }, { "ParameterName": "x-org-name", "ParameterValue": "ManhFedexRTRestAPITest" } ], "ServiceFormDataParams": [ { "ParameterName": "Content-Type", "ParameterValue": "application/x-www-form-urlencoded" }, { "ParameterName": "grant_type", "ParameterValue": "{:GrantTypeForFedExService}" }, { "ParameterName": "username", "ParameterValue": "{:UsernameForFedExService}" }, { "ParameterName": "password", "ParameterValue": "{:PasswordForFedExService}" }, { "ParameterName": "client_id", "ParameterValue": "{:ClientIdForFedExService}" }, { "ParameterName": "client_secret", "ParameterValue": "{:ClientSecretForFedExService}" }, { "ParameterName": "scope", "ParameterValue": "{:ScopeForFedExService}" } ] } User Exit & Credentials Configuration for carrier code - UPS: Step 1: Create extension handler POST message https://{{url}}/order/api/ServiceDefinition/extensionPoint/save { "ComponentId": "Order", "ExtensionPointId": "Order:Order:UserExit:ProcessPaperlessReturnRequest", "IsEvent": false } Step 2: Configure Extension Handler POST message https://{{url}}/order/api/ServiceDefinition/extensionHandler/save { "RegisteredExtensionPoints": [ { "ExtensionPointId": "Order:Order:UserExit:ProcessPaperlessReturnRequest" } ], "ExtensionhandlerRoute": [ { "Destination": "UPSPaperlessReturn", "SourceId": "ON_EVENT", "IsSync": true, "IsDisabled": false, "Process": "/ServiceDefinition/extensionHandler/save", "DestinationId": "UPS_DTM_API_HandlerRoute0", "Source": "ON_EVENT", "DisplayName": "UPSPaperlessReturn", "ExtensionhandlerRouteId": "UPS_DTM_API_HandlerRoute0" }, { "Destination": "UpsDTMServiceForReturnBarcode", "SourceId": "UPS_DTM_API_HandlerRoute0", "IsSync": true, "IsDisabled": false, "Process": "/ServiceDefinition/extensionHandler/save", "DestinationId": "UPS_DTM_API_HandlerRoute1", "Source": "UPSPaperlessReturn", "DisplayName": "UpsDTMServiceForReturnBarcode", "ExtensionhandlerRouteId": "UPS_DTM_API_HandlerRoute1" } ], "ExtensionHandlerId": "UPS_DTM_API_Handler", "ManhattanOwnedExtension": true, "ComponentId": "order" } Step 3: Set up credentials in KV Store In Key-Value store of the Order component, create the following keys: ups.iShip.logon.name ups.iShip.encrypted.password The values for these keys will be provided by UPS to the retailer. The services team should obtain these from retailer. Step 4: Set up value of the request parameter 'demoFlag' In Key-Value store of the Order component, create the following key: ups.iShip.demoFlag : The value of this key is sent as the value for the request parameter 'demoFlag' in the API call to UPS. It should be set to '0' if the request for a live drop-off package, and it should be set to '1' for a demo drop-off package. Resolve Refund Failure A CSR can resolve any refund failures by sending a refund by link to the customer or by capturing a new payment method (credit card) from the return order edit screen to process the failed refund. For the CSR to capture a new payment method on a return order for refund processing, the below-mentioned conditions have to be satisfied. Payment Status for the return order should be "Awaiting Refund". The return order should not have any open refund transactions. All the refund retries for the refund transaction should be exhausted and the status of all the refund transactions should be failed. "RefundDue" should be greater than zero for the return order. If any one of the conditions mentioned above is not satisfied, CSR will not be able to capture any new payment method for failed refund processing. To enable the refund processing options, the below-mentioned grants have to be provided for the CSR. UI Button/Section Grant Notes Edit Return Order ⇾ Return Summary Add Payment Method Button customerservice::order::payment::addpaymentmethod Mandatory Edit Return Order ⇾ Return Summary ⇾ Add Payment Method Refund By Link Panel (drop-down) customerservice::order::payment::addpaymentmethod::refundbylink Optional Edit Return Order ⇾ Return Summary ⇾ Add Payment Method Credit Card Panel (drop-down) customerservice::order::payment::addpaymentmethod::creditcard Optional The CSR can be provided grants to either Refund By link OR Credit Card, or to both of them. However, the grant for the Add Payment Method has to be provided to access any options from the edit return order screen. If the required grant is not provided for any of the options, the respective panel will not be displayed. The Payment Types and the sequence will be displayed in the Add Payment Method panel, which is controlled by the configuration on Payment Capture Configuration: permitAssistedRefund = true assistedRefundSequence = 1 CSR can access the refund processing options by clicking on "Order Actions" (rain drop menu) on the Return Order Status UI and selecting "Edit" option, and then click the Add Payment Method button on the Summary panel. When CSR clicks the Add Payment Method button, the Add Payment Method panel will be displayed with the below-mentioned options depending on the configurations for the CSR in the system: Refund By Link (drop-down) Add Credit Card (drop-down) Note: Currently, only Credit Card can be configured for refund processing on Payment Capture Configuration. Gift Cards and other payment types are not supported for refund processing. Refund By Link Refund By Link will be the topmost panel displayed on the Add Payment Method panel and all other payment types configured will be displayed below the Refund By Link panel, in accordance with the sequence configured in Payment Capture Configuration. If the grant is not provided for Refund By Link, the Refund By Link panel will not be displayed and any other Payment Type configured in Payment Capture Configuration will be displayed, provided the respective grants are provided as per the sequence configured in Payment Capture Configuration. Refer to Refund by Link for more information on Refund By Link Credit Card CSR can also call the customer and capture a new credit card for processing failed refund transactions. On the Add Credit Card panel, CSR can capture the following details before capturing the actual credit card information on the hosted checkout screen: Billing Address can be pre-populated by selecting the same as ship from address checkbox - to populate the Ship From Address from the return order. CSR can also enter the address manually and modify the pre-populated address. Customer Email and Phone number Card Type (visa, master card, etc.) The amount will be pre-populated with the Refund Due and the CSR will not be able to modify or change it. CSR can click on Reset button to reset any information captured except for the amount. The CSR can then click the Add Card Information Button to capture the credit card details on the hosted checkout screen of the configured Payment gateway and add the credit card. Given below is the process flow for capturing a new credit card for processing refund failures for return order. Implementation Flavor How to perform a synchronous call to evaluate return fees and fraud during return order creation Intercept the following API call https://omreg01.cp.manh.cloud/customerengagementfacade/api/customerengagementfacade/ds/order/saveOrder?templateName=defaultCallCenterOrderTemplate In the custom code, load the order by passing a template to get all the attributes required for the fraud call. In the intercepted call, perform the fraud check. If a fraud check fails, show the required pop-up; add the Return Fee to the order and proceed to save the order or cancel/delete the return order as per CSR’s input on the custom pop-up. If a fraud check passes, proceed with regular flow. Troubleshooting I am creating a return (same style exchange) order for a single line order having 2 quantities. Now, if I click on "select change" item and change the color or size of that item, even exchange is being converted to an uneven exchange Even Exchange got converted to Uneven Exchange because the CSR changed the Color of the Item and because of this, the Return Type was converted to Uneven Exchange which is the expected behavior as per current design. Whenever CSR changes Color/Size  - or any other attribute selected in Call Center Config - Item Options - of the Item, the Item ID will be different. Why is return creation failing for an order that's not fully paid? The UI currently prevents an RO from being confirmed if the parent CO is not fully paid (payment status = Paid). This could happen in scenarios where a settlement failed, or in scenarios where an order is partially shipped. Why is hazmat charged again on my order when exchanging the order line? Because of the double handling of the hazmat item, if there is a hazmat charge on the order, then it is added again on the even exchange order. When creating a return, the 'Return' and 'Exchange' radio buttons are not enabled/disabled as expected The 'Return' and 'Exchange' radio buttons in the call center are linked to item configuration and imported order details. If the CSR would like to place a return or exchange and the radio buttons are disabled, the user should confirm Item.SellingAttributes.IsExchangeable, Item.SellingAttributes.IsReturnableAtStore, and Item.SellingAttributes.IsReturnableAtDC are set to true. Users should also confirm if an order was imported by OrderLine.IsExchangeable and OrderLine.IsReturnable fields, that these are sent as 'true'. If radio buttons are enabled and item selling attributes are configured as false, importing order line details with IsExchangeable and IsReturnable as true will override the item configuration. I created a standalone return (return without a parent order) in an external system/custom UI. When I load the Return Status UI, I see that the refund will be issued to a new gift card, but no payment header exists. Where does this gift card come from? For standalone returns (returns without parent orders) like this one, the return credit API uses the 'standalone return payment method' configured in the payment parameters. This is used by POS for businesses to define their standalone return refund policy. When we create a same style exchange with the receipt expected as true, and if there is any pending return fee after adding payment for the remaining amount, the confirmed return is disabled. How can this be enabled? Navigate to “GO BACK TO RETURN DETAILS”, then the confirm return is enabled. We need to replicate the return credit on the created return UI in a custom component. How is it calculated? Use the /api/order/order/getOrderValue API for the break-up. This API does not account for non-returnable charges. Can I create exchanges for items which are out of stock? An exchange can be created even if the item is out of stock. In this case, a new order is created, and it will go to "Backordered" status. For uneven exchanges, items which are out of stock are not displayed on the item search screen as part of the selection of a new item. So, an uneven exchange may not be created for out of stock items. Not able to override VAS charges for return/exchange orders? Overriding of VAS charges on return/exchange is not supported out of the box. How is Refund Total calculated? The system verifies the conditions mentioned below for the payment transaction's for it to be considered as a refund and Amount from the PaymentTransactionDetail to be  added to the Refund Total. The TransactionType of the payment transaction must have its PaymentTransactionTypeId set to 'Refund'. The InvoiceType of the associated invoice data must have its InvoiceTypeId set to 'Return'. The PaymentResponseStatus of the payment transaction must have its PaymentResponseStatusId set to "Success". The refund is issued against a gift card, but the gift card is created as a new payment method, not as a line item In Order parameters, "Gift Card Refund item Id" should be populated. Additionally, the refund gift card line will be added once the return invoice is created. When return is in the process of being created, the order line status gets updated to 'Delivered' In the call center UI, when a fulfilled order line is returned, the status of the donuts on the order line will move from fulfilled to delivered. When the order status of the line is more than or equal to 7500, the delivered donut will turn green. Since the status of the line is 8000 and above when you create a return order, the parent order will automatically move from fulfilled to delivered in the UI. In a custom flow, an exception error occurs on clicking the confirm return button on the return screen Check if the parent order line has "ShipToAddress" populated. If it is null, the request payload passed in the base save order call to save return order does not have shipFromAddress populated, and gives an exception in response.  Make sure that the ship from address is passed on the return order line. If it is not possible to pass the ship from address on the return order line, a default ship-from address can be configured to solve this issue. For the return center location, add an address of type "ReturnShippingLabel" in the Organization Address tab of the Organization UI, for returns against parent order lines that do not have a ship-to address (for example, BOPIS, POS), this address is used as the 'ship-from' address in the return label. The order status UI shows a misleading error message if the item returned is not returnable. Some of the messages displayed on the UI are more generic in nature, generated by the backend and do not reflect specific information. Non-Sequential return order IDs due to return age policy popup When creating a return order via Call Center, the "Item Past Return Age" override popup causes the return order ID counter to increment twice—once when the return order is created and the popup is triggered, and the user selects "Proceed Anyway." In contrast, return orders that do not trigger the popup increment the counter only once, resulting in sequential return order IDs. Related Articles Transactional EmailsCall Center ConfigurationUI ResourcesCross-Organization VisibilityTransactional TextsTroubleshooting Item SearchKits in Call CenterOrder Status InquiryOrder ModificationsOverview and NavigationCustomer Service Insights Dashboard