# Authentication Guide

**Permalink:** authentication-guide
**Path:** Administrator Tools/Authentication Guide
**Content Length:** 79,706 characters
**Scraped:** 2025-08-09T22:13:51.818474

---

Home ››Administrator Tools ››Authentication Guide Authentication Guide IntroductionSupported Login ModesConfigurationIdentity TypesLogin ModesLogin Types Native Login Mode with Manhattan Active Cloud External Login Mode with Open IDExternal Login Mode with SAMLMixed Login Mode via User DiscoveryWith Open IDWith SAMLDefaultsManhattan Active Cloud Platform Authentication FeaturesCreate UserPassword EncryptionPassword PolicyLevels of Password PolicyDefaultOrganization LevelAccount Type LevelPassword Policy HierarchyPassword Policy ConfigurationPin Policy ConfigurationLevels of Pin PolicyDefaultOrganization LevelReset PasswordChange PasswordBrute Force Login ProtectionUser Lock / UnlockConsul KV Store Properties- User LockUnlocking UsersIP Lock / UnlockConsul KV Store Properties - IP LockUnlocking IPAdmin EmailsOther PropertiesEmail SettingsServicesUser PinAuthentication Using Postman Introduction Manhattan Active™ Cloud Platform supports a variety of authentication modes. Auth Server is a component of the platform that acts as a bridge between the supported authentication mode and the application running on the cloud platform. Today, this is used by Manhattan Active™ Omni but will be extended to other products as they adopt the Manhattan Active™ Cloud Platform. This document describes the various authentication (or login) modes, the configuration that enables these modes, and protection against brute force attacks. Supported Login Modes Login Mode Open ID SAML SAML JIT Description Manhattan Active Cloud Platform ✅ ❌ ❌ User credentials are maintained by the Cloud Platform's Organization component (also known as "native", "internal" or "database" login mode) Azure AD ✅ ✅ ✅ User credentials are maintained in Azure AD, or are federated to a 3rd party identity provider or corporate directory. Ping Identity ✅ ❌ ❌ User credentials are maintained in Ping Identity, or are federated to a 3rd party identity provider or corporate directory. Okta ✅ ✅ ❌ User credentials are maintained in Okta, or are federated to a 3rd party identity provider or corporate directory. IBM Security Access Manager ❌ ✅ ✅ User credentials are maintained in IBM Security Access Manager, or are federated to a 3rd party identity provider or corporate directory. CA SiteMinder ✅ ❌ ❌ SiteMinder SAML support may be added in future based on requirements, or can be supported as a custom solution. Mixed ✅ ❌ ❌ User credentials are maintained in the Cloud Platform's Organization component for a sub-set of users, while the rest of the users are maintained by an external identity provider. The Native + Azure AD combination is tested as the default solution. However, additional combinations may be added in future based on requirements, or can be supported as a custom solution. Configuration The variety of login modes that the Cloud Platform supports are configured via a combination of 3 properties as described below: Identity Types The manh.security.login.identity-type can be set to one of the three supported values: database for configuring the identity type (or source) as database. This configuration tells Auth Server that the user's identity is being managed in the Organization app's database external for configuring the identity type (or source) as an external identity provider such as Azure AD or Okta. This configuration tells Auth Server that the user's identity is being managed in an external/3rd party identity provider mixed for configuring the identity type (or source) as a combination of database and external. This configuration tells Auth Server that the user's identity could be managed internally or externally, and that Auth Server must route the user to the appropriate login mode based on the user discovery. Login Modes The manh.security.login.openid-login-mode can be set to a boolean value as shown below: true enables Open ID as the identity protocol false disables Open ID as the identity protocol The manh.security.login.saml-login-mode can be set to a boolean value as shown below: true enables SAML as the identity protocol false disables SAML as the identity protocol Login Types In certain cases, Auth Server needs more specifics about the login type in addition to the identity type and login mode configuration. The manh.security.login.openid-login-type can be set to one of the supported values as shown below: AZUREAD (or leave it <empty>) to tell Auth Server to integrate with Azure AD (default if this property is unset) PINGUSERINFO to tell Auth Server to integrate with Ping Identity (special configuration required as Ping requires a somewhat different integration logic to use UserInfo object) PINGJWT to tell Auth Server to integrate with Ping Identity (special configuration required as Ping requires a somewhat different integration logic to use JWT) Note: Ping Identity is very close in supporting true/generic Open ID protocol. Due to this, other Open ID integrations (non-Azure AD) – such as Okta – that do not require any special code-level changes to support also use PINGUSERINFO as the Login Type property. Native Login Mode with Manhattan Active Cloud The Native Login Mode is a login configuration where the user is exclusively authenticated via the internal (a.k.a. native or database) authentication source managed by the Organization app. This "vanilla" deployment of Manhattan Cloud Platform comes with the Native Login Mode enabled as a default. This mode is enabled by setting the following properties in <configuration>/config/com-manh-cp-authserver/application.properties or its overrides. manh.security.login.identity-type=database This mode will: Set the Default authentication type in Auth Server to database. In other words, a user created with default settings in Organization app must sign in with Manhattan Active Cloud. Ensure that the login will always be redirected to Manhattan Active Cloud Platform's native login prompt Note: The Native Login Mode is typically used for the purposes listed below. For production deployments, it is highly recommended to use an externally configured Identity Provider (described in the following sections) for security, flexibility and interoperability: 1) Development environments 2) For accommodating users that are temporary in nature; users that are typically not added in a corporate directory, but require authenticated access to the application for a temporary duration External Login Mode with Open ID The External Login Mode with Open ID is a login configuration where the user is exclusively authenticated via an external Identity Provider using Open ID as the identity protocol. This mode is enabled by setting the following properties in <configuration>/config/com-manh-cp-authserver/application.properties or its overrides. manh.security.login.identity-type=external manh.security.login.openid-login-mode=true This mode will: Set the Default authentication type in Auth Server to Azure AD. In other words, a user created with default settings in Organization app must sign in with Azure AD. Ensure that the login will always be redirected to Azure AD; the Manhattan Active Cloud Platform's native login prompt is never displayed. Refer to the Alternate Login Configuration Guide for additional information. External Login Mode with SAML The External Login Mode with SAML is a login configuration where the user is exclusively authenticated via an external Identity Provider using SAML as the identity protocol. This mode is enabled by setting the following properties in <configuration>/config/com-manh-cp-authserver/application.properties or its overrides. manh.security.login.identity-type=external manh.security.login.saml-login-mode=true manh.security.login.openid-login-mode=false This mode will: Set the Default authentication type in Auth Server to SAML. In other words, a user created with default settings in Organization app must sign in with the configured SAML identity provider. Ensure that the login will always be redirected to the configured SAML identity provider; the Manhattan Active Cloud Platform's native login prompt is never displayed. Mixed Login Mode via User Discovery The Mixed Login Mode is a login configuration where the user identity is managed in either the internal (native) authentication source by Manhattan Active Cloud platform, or it could be managed by an external (3rd party) identity provider. The determination for the actual user login mode is made as part of the login sequence based on the user's username (i.e., user discovery). This mode is enabled by setting the following properties in <configuration>/config/com-manh-cp-authserver/application.properties or its overrides: With Open ID manh.security.login.identity-type=mixed manh.security.login.openid-login-mode=true This mode will: Set the Default authentication type in Auth Server to Azure AD. The user can now be created in Organization app with either the Identity Type as Default, or Database. When attempting to login, the user is always taken to the Manhattan Active Cloud Platform's login screen (username only and no password). Once the user enters the username, if the user was created with Identity Type as Default, the user will be taken to Azure AD login screen. If the user was created with Identity Type as Database, the user will be taken to the Cloud Platform native login screen. Ensure that the login will first show a username prompt (no password) and make the user discovery based on the username before determining the target login source. Mixed Login Mode via User Discovery assumes that the default openid-login-type is AZUREAD. However, this can be configured to enable a different identity provider as shown below (Ping Identity or Okta): manh.security.login.openid-login-type=PINGUSERINFO With SAML manh.security.login.identity-type=mixed manh.security.login.saml-login-mode=true manh.security.login.openid-login-mode=false This mode will: Configure the identity provisioning via SAML protocol instead of Open ID. Defaults Auth Server makes the following assumptions to set the defaults if a given property is not set: If not set, openid-login-mode and saml-login-mode are false by default, and identity-type is database by default. If openid-login-mode=true, then identity-type is external by default. If openid-login-mode=true, then openid-login-type is AZUREAD b Manhattan Active Cloud Platform Authentication Features If using a “native’ login mode, the Cloud Platform’s Organization component offers user and password management. Create User Manhattan Active Omni users should be created only by the administrators. To manage a user natively, set identity type on the user to 'Database' or on the global property. The system sends a link to set the password to the email address associated with the new user. If the user does not receive the Set Password email, the user should check their junk (spam) folder. If the user still doesn't find the email, the Forgot Password option on the login page can be used to resend the email. For User management,  refer to the Master Data Guide Password Encryption The password is encrypted using the BCrypt algorithm with salt before it's saved in the system. Password Policy Password Policy Configuration is a set of rules/conditions that will be applied on the password set for a user. Password Policy is essential to enforce the user to set a strong password there by preventing easy hacks into the system by outsiders. Password policies are part of an organization's formal security regulations. Password Policies can help to reduce the risk of data breaches, account takeovers, and cyberattacks. Password policy validation will be applied only when the password is set for a new user or when a password update/reset happens for an existing user. Any change to the password policy definition will not be applied to existing users immediately. The latest password policy will be applied as and when a user changes the password. Note: The password policy is applicable only to the users who are authenticated natively (by manhattan provided auth server). Levels of Password Policy Default Organization Level Account Type Level Default A default password policy is seeded into the system by the application. This password policy cannot be modified during runtime. Default Password Policy is also called Fallback Password Policy and is applied by default to any user when no specific policy is defined for the user’s account type and organization. Organization Level Organization level password policy can also be created for each organization if overrides are required when compared to the default password policy. When the system tries to identify the password policy to apply for a given user, a password policy matching the user’s account type is not found, then a policy matching the user’s primary organization will be given preference if found. Organization level password policy does not inherit policy from a parent organization to a child organization. Each organization is expected to be configured with a dedicated password policy if overrides are required. Account Type Level With this feature, a password policy can be configured for an Account Type and for users assigned with this Account Type, the account type level password policy will be given priority. When the system tries to identify the password policy to apply for a given user, a password policy matching the user’s account type will be given preference if found. An account Type level password policy cannot be at organization level, this means it is applicable to all users irrespective of the primary organization. By default, the application seeds following account types which can be augmented with customer-defined account types. Regular Temporary Account Type Id Account Type Name Account Type Description Regular Regular Regular User Account Type Temporary Temporary Temporary User Account Type Each Password Policy rule comes with a default value and a threshold limit. Overrides can choose a different value, but cannot violate the threshold limit. Example: PasswordExpirationDays: Default value is 90. One can choose any value from 1 to 90, but cannot go beyond 90. Password Policy Hierarchy While finding the applicable password policy for a given user, first the matching Account Type policy will be identified. If not found, then look for Organization level policy. In the absence of both, the default system level password policy will be honored. Password Policy Configuration Users should adhere to the following password policies when setting their passwords. The password: Must have atleast 8 characters Cannot be the same as the user-id Must have an uppercase letter Must have a lowercase letter Must have a special character Must have numbers included in password Cannot have consecutive identical characters Restrict reusing old passwords Following, additional password policy properties can be configured for each password policy configuration. Password Policy Property Description ResetPasswordExpiration The link in the password reset email expires X hours after they are sent PasswordExpiration Expire Password in X number of days after being set/reset NotifyPasswordExpiringDays Comma-delimited list of integers to indicate an interval in days when the password expiration notification will be sent to the user PasswordReuseLimit The provided value is the minimum number of previous passwords which cannot be reused. Organization and Account Level password policies cannot be weaker than base policy. For example, MiniumPasswordLength cannot be less than 8. PasswordExpiration cannot be greater than 90. Policy, if true, by default cannot be switched to false. Example, UppercaseRequired cannot be made as false. Password Policy Property Allowed Values(Default values) NotifyPasswordExpiringDays Comma separated values in the range of [0-30] inclusive of the limits PasswordExpirationDays <= DefaultPasswordPolicy.PasswordExpirationDays (90) MinimumPasswordLength >= DefaultPasswordPolicy.MinimumPasswordLength (8) AllowPasswordIdenticalToUserId DefaultPasswordPolicy.AllowPasswordIdenticalToUserId (false) ResetPasswordExpiration <= DefaultPasswordPolicy.ResetPasswordExpiration (1) UppercaseRequired DefaultPasswordPolicy.UppercaseRequired (true) LowercaseRequired DefaultPasswordPolicy.LowercaseRequired (true) NumberRequired DefaultPasswordPolicy.NumberRequired (true) SpecialCharacterRequired DefaultPasswordPolicy.SpecialCharacterRequired (true) AllowConsecutiveIdenticalChars DefaultPasswordPolicy.AllowConsecutiveIdenticalChars (false) MinimumSecurityQuestions >= DefaultPasswordPolicy.MinimumSecurityQuestions (5) MinimumSecurityQuestionsReset >= DefaultPasswordPolicy.MinimumSecurityQuestionsReset (3) PasswordReuseLimit >= DefaultPasswordPolicy.PasswordReuseLimit (3) Pin Policy Configuration A PIN is used to log in a user on a handheld device. Certain critical functions of a warehouse execution and store operations need special permissions to perform them. These are the supervisor overrides. This PIN is not the same as the password associated with a given user. A PIN can be set for a user ID using the manage-user user interface. A user can only be assigned one Pin at a time and adding a new PIN will replace the previous one. The PIN can be reset using the option available on the handheld device. Note: The pin policy is applicable only to the users who are authenticated natively (by manhattan provided auth server). A Pin Policy is a set of rules/conditions that will be applied to the Pin for a user. Pin Policy can be configured at individual organization level so that different organizations have different policies based on individual requirements. There is a default Pin Policy which will be applied in the absence of an organization-level pin policy. Levels of Pin Policy Default Organization Level Default A default pin policy is seeded into the system by the application. This password policy cannot be modified during runtime. The default pin Policy is also called Fallback pin Policy and is applied by default to any user when no specific policy is defined for the user’s  organization. Organization Level An organization-level pin policy can also be created for each organization if overrides are required when compared to the default pin policy. When the system tries to identify the pin policy to apply to a given user, a pin policy matching the user’s primary organization will be given preference if found. Organization-level pin policy does not inherit the policies from a parent organization to a child organization. Each organization is expected to be configured with a dedicated pin policy if overrides are required. Pin Policy Property Description organizationId Optional, provide if configuring pin policy for a specific organization Id minimumPinLength Minimum length of PIN required by application Note:: PIN expiration is not supported. Pin Policy governs the minimum length requirement for a PIN. The default value is 4. An organization level Pin Policy will not allow downgrading the minimum length requirement from 4 to a lower number Reset Password The user can use the Forgot Password option from the login page to reset the password. An email is sent to the user with a reset link that expires in an hour. The password can be changed by following the link in the email. Forgot Password service sends email to the user and Reset Password service lets the user set a new password. The existing password associated with the user doesn't change until a reset link is used to change the password. Change Password A user can change the password after login into the application using the change password page. After changing the password, the user will need to re-login with the new password. Brute Force Login Protection Manhattan Active™ Omni solution supports automatic user lock or IP lock after several failed attempts to login using native login. Brute force attacks are a common way to try to find user passwords by trying thousands of passwords for a given user using different techniques. After a determined number of failed attempts, the system will lock either the user or the IP address. Note: This protection only works for native login, either in database or mixed mode. User Lock / Unlock If enabled, a user account will be locked after N failed login attempts. When the user account gets locked and emails are enabled, Authserver will send an email to that user informing the user about the issue. If the user tries to login again, it will show the user a locked error. However, if a user account gets locked, the current application sessions of that user will still work. Upon a subsequent successful login, the failed attempts counter for that user account is reset to 0. Consul KV Store Properties- User Lock The below Consul KV store properties control the user lock function. These configuration properties are within the AuthServer component. Key Sample Value manh.security.login.lock.enabledForUsers false manh.security.login.lock.usersAttempts 5 manh.security.login.lock.usersMinutesToUnlock 30 enabledForUsers: If set to “false”, user accounts will not get locked and previously locked user accounts will be eligible to login. If set to “true”, user account will lock after N number of failed attempts. usersAttempts: Number of failed attempts allowed before locking a user account. usersMinutesToUnlock: Minutes to unlock user accounts automatically from a scheduled job. If set to 0, user accounts will not unlock in the scheduled job. Unlocking Users Users will unlock automatically after 30 minutes by default or as determined in the configuration. To unlock users manually, use the Authserver UI. Within the Authserver UI, click to the “Locked users” menu option and click on the “Unlock” action. It is possible to filter by user using the top filter. IP Lock / Unlock If several failed login attempts in a defined time span come from the same IP, that IP will be locked, and all login attempts from that IP will fail with user account locked. If email is enabled, an email will be sent to the list set up in the IP lock part of Authserver’s Administration UI. Consul KV Store Properties - IP Lock The below Consul KV store properties control the IP lock function. These configuration properties are within the AuthServer component. Key Sample Value manh.security.login.lock.enabledForIp true manh.security.login.lock.ipAttempts 100 manh.security.login.lock.ipLockTimeInMilis 600000 manh.security.login.lock.ipMinutesToUnlock 0 enabledForIp: If set to “false”, IPs will not get locked and previously locked IPs will be able to login. If set to “true”, IPs will lock after N number of failed attempts. ipAttempts: Failed attempts before locking the IP. ipLockTimeInMilis: Time span in milliseconds needed to lock the IP if ipAttempts are made that time. By default, if there are 100 or more failed attempts within 10 minutes, the IP will get locked; however, if there are 100 filed login attempts throughout the day, the IP will not get locked. ipMinutesToUnlock: Minutes to unlock IP automatically from the corner job. If set to 0, IPs will not unlock in the cron job. Unlocking IP IP locks do not unlock automatically by default. To unlock IP manually, use the Authserver UI. Within the Authserver UI, click on the “Locked IPS” menu option and click on the “Unlock” action. It is possible to filter by IP using the top filter. Admin Emails Every time an IP gets locked, the Authserver will send an email to a list of registered admin emails. The steps below detail how to set this up. By default, there is no admin email set. You must set up at least one. On the Locked IPS view, click on tab Administrators Email. Click Add and input a desired email address. When ready, click Save. Other Properties The below Consul KV store properties control additional functionalities. These configuration properties are within the AuthServer component. Key Sample Value manh.security.login.lock.edgeEnabled false manh.security.login.lock.scheduledUnlockRate 60000 edgeEnabled: Enables or disables brute force protection for edge servers. This property is disabled by default. scheduledUnlockRate: Scheduled job in milliseconds that unlocks users and IPs Email Settings The below Consul KV store properties are the most relevant properties used to configure sending emails. These configuration properties are within the AuthServer component. Key Sample Value default.mail.enabled false default.locked.mail.subject Locked User Account default.locked.mail.body This user account has been locked. default.ipLocked.mail.subject Locked IP default.ipLocked.mail.body There is a new locked IP address. default.mail.host 1.0.0.0.1 default.mail.port 1.0.0.0.1 mail.username admin@admin.com mail.password admin default.mail.enabled: If set to “false”, no email will be sent from Authserver. Defaults to false. default.locked.mail.subject and default.locked.mail.body: The subject and the body sent to a user when his account gets locked. default.ipLocked.mail.subject and default.ipLocked.mail.body: The subject and the body sent to the administrator list when an IP gets locked. default.mail.host: Host of the email server default.mail.port: Port of the email server mail.username: Username to send email mail.password: Password of the user. Services The APIs listed below are referenced in this document. Refer to API documentation for additional details on each service. Service Component Group Service Endpoint Change Password Organization User Services /api/organization/user/updatePassword Forgot Password Organization User Credential Controller /api/organization/user/forgotpassword/{userId} Reset Password Organization User Credential Controller /api/organization/user/resetPassword User Pin PIN is used to login a user on a handheld device, certain critical functions of a warehouse execution and store operations need special permissions to perform them. These are the supervisor overrides. This PIN is not the same as the password associated with a given user. A PIN can be set for a user ID using the manage-user user interface. A user can only be assigned one Pin at a time and adding a new PIN will replace the previous one. The PIN can be reset using the option available on the handheld device. Authentication Using Postman The authentication URL is required to authorize or login  a user using a postman. This url is the auth URL which is used on UI where users provide credentials to login into the application. URL Type Parameter Value {auth_url}/oauth/token? Post grant_type Password username login password of the user password user name of the user to login On successful login, the above API will return an auth token, which is a jwt token containing authentication information.