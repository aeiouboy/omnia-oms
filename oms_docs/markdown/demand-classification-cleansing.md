# Demand Classification & Cleansing

**Permalink:** demand-classification-cleansing
**Content Length:** 21,199 characters
**Scraped:** 2025-08-09T22:37:18.221184

---

Home &rsaquo;&rsaquo;Manhattan Active® Supply Chain Planning&rsaquo;&rsaquo;Process &amp; Configuration Guides&rsaquo;&rsaquo;Demand Forecasting ››Demand Classification & Cleansing Demand Classification & Cleansing Previous&nbsp;I&nbsp;Next Process FlowConfigurationHow to configure demand cleansing policyTroubleshootingWhen you run the demand cleansing process, will the system change FE standard deviation?What is&nbsp;the purpose of running the demand classification process in the demand cleansing process?&nbsp;Does the demand cleansing process work in the same way&nbsp;when you run it in demand cleansing policy level Vs. FE level ?What is the role/purpose of the Yearly Weights configuration in demand cleansing policy?Related Articles Forecasting plays a major role in replenishment. Inaccuracies in forecasting are primarily caused by erroneous sales data, which can lead to overstocking or understocking, resulting in unexpected financial expenses. Therefore, refining raw sales data becomes a crucial step in demand forecasting. Raw sales data may contain multiple errors, such as duplicate entries due to system errors or manual entries, or random fluctuations in sales due to promotions or uncontrollable factors. These errors, which may be non-repetitive, can be corrected through demand cleansing. Demand cleansing is the process of refining and correcting historical demand data for item locations. This process helps eliminate errors, inconsistencies, and anomalies in the raw sales data, thereby producing more accurate sales forecasts. Thus, raw sales data is converted into &ldquo;cleansed sales&rdquo; through the demand cleansing process. The cleansed sales data is then used as input for the demand forecasting process, which generates accurate sales forecasts. The demand cleansing process also helps classify item locations into various categories based on thresholds, which can further assist end users in taking specific actions based on these classifications. &nbsp; The classified items include: New item locations -&nbsp;These are excluded from demand cleansing as they do not have enough sales history. Inactive item locations -&nbsp;These are excluded from demand cleansing but are used for classification. Intermittent/Regular item locations -&nbsp;&nbsp;These item locations are part of demand cleansing process and are classified to reveal whether the item at a given location has a consistent sales pattern or experiences sales intermittently. Slow-moving/Fast-moving item locations -&nbsp;The intermittent/regular item locations are further classified to indicate if an item at a location is slow selling or fast selling. Below are the item classification thresholds explained: &nbsp;Note: Maximum of 4 years sales history can be considered for demand cleansing and classification. New Item Location Threshold Periods -&nbsp;The minimum number of demand history periods an &#39;Item-Location&#39; should contain to be included in the &lsquo;Demand Cleansing Process&rsquo;. If it does not meet this threshold, the &#39;Item-Location&#39; is considered &lsquo;New&rsquo; and excluded from the process. Minimum Zero Demand Period for Inactive&nbsp;-&nbsp;The threshold for the minimum number of demand history periods with zero (0) demands recorded after the last non-zero demand to classify the item-location as inactive. Maximum (%) Zero Demand Period for Intermittent&nbsp;-&nbsp;The maximum percentage of zero demand periods recorded in the entire demand history to classify an item location as &lsquo;Intermittent&rsquo;. All others falling below this threshold are considered &lsquo;Regular&rsquo; item locations. Intermittent - Slow Moving Threshold (Units/Period)&nbsp;-&nbsp;The lower boundary for intermittent item locations. Anything below this number is considered a slow-moving item location. Regular - Slow Moving Threshold (Units/Period)&nbsp;-&nbsp;The lower boundary for regular-moving item locations. Anything above this number is considered a fast-moving item location. &nbsp; Demand Cleansing and Classification&nbsp;Setup:&nbsp;The Demand Cleansing Policy&nbsp;can be configured at&nbsp;Forecast&nbsp;Level. Process Flow &nbsp; &nbsp; Demand classification and cleansing is a step prior to forecast initialization. For demand cleansing and classification, raw sales data must be published for the desired item locations with the &ldquo;MetricTypeId&rdquo; set to &ldquo;sales.&rdquo; The demand cleansing policy must be configured with a unique policy ID using the system grouping key. This includes setting the classification threshold configurations with yearly weights for the last 4 years, as well as the outlier smoothing configuration, spike smoothing configuration, and selecting the desired item locations in the filter condition settings for which the user wants demand cleansing and classification performed. If the user intends to cleanse demand for all item locations, the filter condition settings of the policy can be left blank. After publishing the raw sales data, the demand cleansing policy needs to be triggered to cleanse the raw sales data. The policy checks the classification thresholds and classifies the item locations based on the thresholds set by the user. &nbsp; Below is a flow chart that illustrates the flow of item location classification. &nbsp; &nbsp; If an item location is newly added and doesn&rsquo;t have sufficient history, it will be classified as a &#39;NEW&#39; item location based on the settings configured for the new item threshold. If an item location is old and has sufficient history but is inactive, with 0 sales over the defined threshold period, it will be classified as INACTIVE. Both ACTIVE and INACTIVE item locations will be further analyzed and categorized as &ldquo;INTERMITTENT&rdquo; or &ldquo;REGULAR&rdquo; based on thresholds. They will then be grouped into either &ldquo;SLOW&rdquo; or &ldquo;FAST&rdquo; categories based on the set thresholds for units per period. Users can also specify yearly weights by assigning desired weights for each specific year, which will be considered during classification. The default value for all 4 years is set to 25%, but this can be adjusted. The user should ensure that the sum of the weights for all 4 years equals 100%. &nbsp; Configuration &nbsp; How to configure demand cleansing policy Demand Cleansing Policy can be configured at the &lsquo;Leaf Node Level&rsquo; &ndash; i.e. for the Item Hierarchy Level, Item component|Item entiy|&#39;ItemId&#39; and for the Location Hierarchy Level, ItemLocation component|Location entity|&lsquo;LocationId&rsquo;. &nbsp; {{url}}/ai-forecast/api/ai-forecast/demandCleansingPolicy/save { &nbsp;&nbsp;&nbsp; &quot;BusinessEventSmoothing&quot;: true, &nbsp;&nbsp;&nbsp; &quot;RemoveOutliersForRegular&quot;: true, &nbsp;&nbsp;&nbsp; &quot;NewThresholdPeriods&quot;: 13, &nbsp;&nbsp;&nbsp; &quot;ControlDataUpperPercentile&quot;: 0.95, &nbsp;&nbsp;&nbsp; &quot;LowerOutlierThresholdForRegular&quot;: 6.0, &nbsp;&nbsp;&nbsp; &quot;YearFourWeight&quot;: 25.0, &nbsp;&nbsp;&nbsp; &quot;DemandCleansingPolicyId&quot;: &quot;DemandClansingPolicy_007&quot;, &nbsp;&nbsp;&nbsp; &quot;ForecastHistoryToDate&quot;: null, &nbsp;&nbsp;&nbsp; &quot;UpperOutlierThresholdForRegular&quot;: 6.0, &nbsp;&nbsp;&nbsp; &quot;YearTwoWeight&quot;: 20.0, &nbsp;&nbsp;&nbsp; &quot;UpperSpikeThresholdForRegular&quot;: 4.0, &nbsp;&nbsp;&nbsp; &quot;MetricGroupId&quot; :&quot;Default-Sales&quot;, &nbsp;&nbsp;&nbsp; &quot;ForecastHistoryUsedType&quot;: { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;ForecastHistoryUsedTypeId&quot;: &quot;A&quot; &nbsp;&nbsp;&nbsp; }, &nbsp;&nbsp;&nbsp; &quot;IntermittentSlowMoverThreshold&quot;: 1.0, &nbsp;&nbsp;&nbsp; &quot;SpikeSmoothingLengthForRegular&quot;: { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;DemandSmoothingPeriodTypeId&quot;: &quot;NO_SMOOTHING&quot; &nbsp;&nbsp;&nbsp; }, &nbsp;&nbsp;&nbsp; &quot;LowerSpikeThresholdForRegular&quot;: 4.0, &nbsp;&nbsp;&nbsp; &quot;InactiveThresholdPeriods&quot;: 26, &nbsp;&nbsp;&nbsp; &quot;ConsistentOutlierPeriodLength&quot;: 0, &nbsp;&nbsp;&nbsp; &quot;LowerOutlierThresholdForIntermittent&quot;: 4.0, &nbsp;&nbsp;&nbsp; &quot;Description&quot;: &quot;Desc&quot;, &nbsp;&nbsp;&nbsp; &quot;RemoveOutliersForIntermittent&quot;: true, &nbsp;&nbsp;&nbsp; &quot;YearOneWeight&quot;: 25.0, &nbsp;&nbsp;&nbsp; &quot;LastNumberOfPeriods&quot;: null, &nbsp;&nbsp;&nbsp; &quot;SmoothenSpikesForIntermittent&quot;: true, &nbsp;&nbsp;&nbsp; &quot;ZeroDemandPeriodsThreshold&quot;: 30.0, &nbsp;&nbsp;&nbsp; &quot;DemandCleansingFilterCondition&quot;: [ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;FilterAttribute&quot;: &quot;ItemId&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;FilterValue&quot;: &quot;{{ItemId1}}&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;EntityType&quot;: &quot;Item&quot; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;FilterAttribute&quot;: &quot;LocationId&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;FilterValue&quot;: &quot;{{StoreLocId1}}&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;EntityType&quot;: &quot;Location&quot; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp; ], &nbsp;&nbsp;&nbsp; &quot;UpperSpikeThresholdForIntermittent&quot;: 4.0, &nbsp;&nbsp;&nbsp; &quot;ConsistentOutlierMinimumOccurrenceLength&quot;: 4, &nbsp;&nbsp;&nbsp; &quot;YearThreeWeight&quot;: 30.0, &nbsp;&nbsp;&nbsp; &quot;DisableSpikeSmoothingForSeasonalDemand&quot;: false, &nbsp;&nbsp;&nbsp; &quot;ForecastHistoryFromDate&quot;: null, &nbsp;&nbsp;&nbsp; &quot;RegularSlowMoverThreshold&quot;: 1.0, &nbsp;&nbsp;&nbsp; &quot;SmoothenSpikesForRegular&quot;: true, &nbsp;&nbsp;&nbsp; &quot;SpikeSmoothingLengthForIntermittent&quot;: { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;DemandSmoothingPeriodTypeId&quot;: &quot;NO_SMOOTHING&quot; &nbsp;&nbsp;&nbsp; }, &nbsp;&nbsp;&nbsp; &quot;UpperOutlierThresholdForIntermittent&quot;: 4.0, &nbsp;&nbsp;&nbsp; &quot;LowerSpikeThresholdForIntermittent&quot;: 4.0 } &nbsp; The following API is used to trigger demand cleansing and classification policy. &nbsp; {{url}}/ai-forecast/api/ai-forecast/demandCleansingPolicy/triggerDemandCleansing/ DemandClansingPolicy_1 &nbsp; Services The&nbsp;APIs listed in the following table are referenced in this document. Refer to the API documentation for additional details on&nbsp;each service. Service Component Group Service Endpoint Demand Cleansing Policy Forcast &nbsp; {{url}}/ai-forecast/api/ai-forecast/demandCleansingPolicy/save &nbsp; Troubleshooting When you run the demand cleansing process, will the system change FE standard deviation? Ans :&nbsp;No, it will not update FE standard deviation in demand cleansing process. Note:- When you run demand cleansing process, there is no need for FEs to be there in the system. Input for demand cleansing process is SKU &quot;history&quot;. What is&nbsp;the purpose of running the demand classification process in the demand cleansing process? Ans :&nbsp;Based on the demand classification, once the Items are classified as slow mover or regular or intermittent, the user can decide whether to exclude generating SPs for those Items. In other words, demand classification process output will be considered as input in the seasonal profile generation process to decide whether to generate or not a seasonal profile for the Item. &nbsp; &nbsp;Does the demand cleansing process work in the same way&nbsp;when you run it in demand cleansing policy level Vs. FE level ? Ans : No, while running from Forecast Entity, it uses the system demand cleansing parameters, but while running from the Demand Cleansing policy, it uses the configuration from DCP. In that scenario, results may vary for the two cases. &nbsp; What is the role/purpose of the Yearly Weights configuration in demand cleansing policy? Ans: The yearly weights configuration in the Classification of the demand cleaning policy is used for demand classification purposes. Based on demand history available for the FE, this configuration will help the system to be categorized as Regular, Intermittent, New and Inactive.&nbsp; Yearly weights configuration does not play a role in the actual demand cleansing process (in cleansing demand of the FE). &nbsp; Related Articles Lost Sales for Forecasting Day of Week ProfileForecast AnalysisForecast Assignment CriteriaFuture Forecast AdjustmentsForecast SummaryAggregated Seasonal Profile Forecast UpdateForecast ExceptionsNew Item Location Auto-AssociatonDemand ForecastingSeasonal ProfilingManual Forecast ChangeExclusions RulesForecast Initialization &nbsp;