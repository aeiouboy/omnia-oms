# Order Archiving

**Permalink:** order-archiving
**Content Length:** 16,865 characters
**Scraped:** 2025-08-09T22:33:57.400959

---

Home &rsaquo;&rsaquo;Manhattan Active® Omni&rsaquo;&rsaquo;Order Management&rsaquo;&rsaquo;Process & Configuration Guides&rsaquo;&rsaquo;Order Orchestration ››Order Archiving Order Archiving &nbsp; OverviewCriteria for ArchivalArchiving ConfigurationHow Archiving WorksHow&nbsp;Archived Orders are ReinstatedManually Retrieving an Archived OrderArchived Order&nbsp;AttributesCounting Archived OrdersTroubleshootingHow to know if an order is archived or not&nbsp;How do I delete orders from Active® Omni?How to unarchive an order without updating an orderRelated Articles Overview Once orders have finished their life cycle, they are archived to keep system performance at its peak. When an order is archived, it is moved from the active database schema to the archive index. Orders can be kept in the active database for a maximum of one year before being moved to the archive index. If you plan to create more than 30 million order lines per year, then please work with services&nbsp;to re-evaluate this recommendation.&nbsp; Orders can be kept in the archive index for up to five years. Additional years of retention are available for an additional fee. Purge of the archive index is set up by ops team based on each customer's retention requirements. Criteria for Archival An order is eligible for archival if all&nbsp;order lines are in one of the following statuses: Status of each unit of each line is in either 7000&nbsp;(Fulfilled) or 8500 (Returned) status, or an extension of these statuses If order line is canceled (both minimum and maximum fulfillment status is&nbsp;9000) Status of each unit of return line is in status 18000 (Returned), or an extension of this status If return line is canceled (both minimum and maximum fulfillment status is 19000) Note : Order archive does not archive the Promising and Reservation objects, including the Promising Trace.&nbsp; Order archive also does not archive releases and allocations on an order if the order contains 260 or more releases. The rest of the order is archived, but these entities are only purged and not retained anywhere. Archiving Configuration Once the conditions for archiving are met, an order is eligible to be archived. Archiving is triggered based on the configured Number of Days after which an order becomes eligible to archive. When an order becomes eligible for archiving, an archive date is stamped on the order, and the order is archived when that date is reached. Configure&nbsp;Number of Days&nbsp;to archive on the Order Configuration UI in the General tab. The default setting is&nbsp;30 days. For example, if the&nbsp;Number of Days is set as 30, then an order is archived 30 days after every unit on the order has been fulfilled, returned, or canceled. If a two-line&nbsp;order has one line shipped on April 1 and a second line shipped on April 2, then the archive date is stamped on the order as May 2. The order is archived when the archiving scheduler executes on May 2. If the order archiving configuration is changed, any existing orders will continue to have the original archive configuration information. These can be updated manually&nbsp;by submitting&nbsp;a ticket with the dates and interval&nbsp;required. How Archiving Works The steps below describe how an order is archived: Once an order becomes eligible to archive, the Order component sends a message to the Search component to archive it. Just before archiving an order, the order is re-evaluated to ensure it still qualifies for archiving. For example, if a return has been created against it and some units are in status 8000 (Pending Return), then the order is no longer eligible for archive. Archiving checks for the order payment status. It checks for payment status to be either Refunded (7000), Paid (5000), or Not Applicable (0).&nbsp; The Search component picks up the&nbsp;message and reaches out to the&nbsp;Order Component to get the latest copy of an order and index it. The Search component picks up the&nbsp;message and reaches out to the&nbsp;Payment Component to get the latest copy of the payment and index it. After indexing successfully, the Search component sends an acknowledgement message to the Order component to delete the order and the Payment component to delete the payment. The Order and Payment components pick up the acknowledgement message and delete their respective data. The order is finally marked as archived in the Search component. How&nbsp;Archived Orders are Reinstated When a user applies appeasement or returns an archived order, the system automatically moves the order from the archive database to the active database. The retrieval process is where the order and its child entities are restored in the Order component, and order payment information is restored in the Payment component. Manually Retrieving an Archived Order If you need to retrieve details of an archived order, the Get Order API cannot be used, since the order no longer exists in the active database. The below section describes how to get a list of archived orders and post to an external system. Manually Retrieving an Archived OrderFollow the steps below to retrieve archived orders and post to a queue for external consumption. This process retrieves orders one-by-one and cannot be done in bulk. Step 1:&nbsp;Get your list of archived orders. One option is to use the below API and include the relevant year and month. POST&nbsp;{{url}}/searchv2/api/searchv2/ord*{{orgId}}:2022:01*/search { &quot;query&quot;:{ &quot;term&quot;:{ &quot;IsArchived&quot;:&quot;true&quot; } }, &quot;size&quot;:50 } Step 2:&nbsp;Write a custom utility to invoke the endpoint below. This retrieves the order from the archive storage. GET&nbsp;{{url}}/order/api/order/extended/order/orderId/{orderId} Step 3: From the custom utility,&nbsp;invoke your external endpoint to post the order message. &nbsp; Archived Order&nbsp;Attributes By default, the following list of attributes are available for an archived order: Indexed Order Fields Attribute Name OrgId OrderId CustomerId CustomerFirstName CustomerLastName CustomerEmail CustomerPhone CapturedDate CreatedTimestamp SellingLocationId CurrencyCode OrderAdditional.QuoteExpiryDate OrderAdditional.IsPriceCheckOrder OrderLine.ItemId OrderLine.ItemDescription OrderLine.ItemColorDescription OrderLine.ParentOrderId OrderLine.OrderLineSubTotal OrderLine.SmallImageURI OrderLine.IsGift OrderLine.OrderLineId OrderLine.Quantity OrderLine.ShipToAddress OrderLine.ShipToLocationId OrderLine.IsReturn OrderLine.IsCancelled OrderLine.ItemSize OrderLine.ItemStyle OrderLine.ProductClass OrderLine.BusinessDate OrderLine.ItemShortDescription OrderLine.OrderLineAdditional.CapturedDate OrderLine.OrderLineAdditional.QuoteId SellingChannel StoreSaleCount OrderLineCount StoreReturnCount ReturnLineCount CancelLineCount ReturnTotalWithoutFees OrderCaptureDetail.RegisterId TransactionReference.TransactionReferenceId IsCancelled IsPostVoided IsConfirmed OrderType DocType TotalTaxes TotalCharges TotalDiscounts OrderTotal OrderSubTotal Counting Archived Orders It is not possible to directly count the number of orders archived in the system. However, a workaround is possible.&nbsp; Count the number of orders present in the search component: GET&nbsp;url/search/api/search/order?query=(OrderId != null) Count the number of orders present in the order component: Navigate to the Order List UI, the number at the bottom of the page gives the order count which are not archived. The difference of both these numbers will be the total number of orders archived that do not have a copy in the order component anymore. Troubleshooting How to know if an order is archived or not&nbsp; After the archive job is complete, if the PurgeDate is populated for orders, it means that the order is archived. Based on the purge date the order&nbsp;will get purged. How do I delete orders from Active® Omni? You should cancel the orders that you want to delete and have the archive configured for the orders to be deleted. How to unarchive an order without updating an order To unarchive an order, use "OrderActions" : {"IsArchived" : true} along with Order Id and Save Order. Related Articles Order TaggingOrder Orchestration ProcessDelivery TrackingPublishing Order Order Audit Creating and Updating OrderShipping RestrictionHoldsOrder CancellationOrder Orchestration ConfigurationCart and Preview ModeMod Types