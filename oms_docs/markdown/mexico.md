# Mexico

**Permalink:** mexico
**Path:** Manhattan Active® Omni/Store/Process & Configuration Guides/Point of Sale/POS Classic Guides/POS Classic Fiscalization and Globalization/Mexico
**Content Length:** 47,306 characters
**Scraped:** 2025-08-09T22:03:38.028143

---

Home ››Manhattan Active® Omni››Store››Process & Configuration Guides››Point of Sale››POS Classic Guides››POS Classic Fiscalization and Globalization ››Mexico Mexico OverviewTerminologyConfigurationOrder ConfigurationMarketplace configurationsAdditional ConfigurationFiscal ConfigurationReceiptsMexico FiscalizationSupported/Not Supported Features for MexicoServices Overview In Mexico, Fiscalization is based on generating an electronic invoice CFDI (Comprobante Fiscal Digital via Internet) that is validated and certified by a Mexican government authorized certification provider PAC (Authorized Certification Provider). The provider is also responsible for submitting the invoice to the Mexican tax authority Servicio de Administración Tributaria (Tax Administration Service, SAT). Every sale and return transaction in Mexico must be reported to the PAC and the PAC will generate a general e-invoice or an individual e-invoice. The e-invoice is validated and certified by the PAC. Retailers are required to adhere to the e-invoicing regulations to ensure compliance with tax laws.Edicom is a trusted and prominent PAC in Mexico and is responsible for validating and signing the e-invoices and transmitting the same to SAT, while Manhattan Active® Omni POS facilitates compliance by integrating with Edicom. This integration ensures transparency and compliance in transactions, thereby maintaining trust with customers and regulatory authorities alike. Manhattan Active® Omni POS application submits data of completed invoices to the Ediwin service hosted by Edicom. Edicom validates all the invoices sent by Manhattan Active® Omni POS, certifies, signs and submits the same to Mexico SAT. Edicom responds back to MAO with an acknowledgement for every invoice submitted. Terminology SAT - Servicio de Administración Tributaria (Tax Administration Service, SAT) CFDI : Digital Fiscal Document (CFDI or Comprobantes Fiscal Digital por Internet) PAC :  Authorized Certification Provider (Edicom) e.FIRMA /Fiel : The advanced e-Signature is indispensable to carry out any procedure related to the SAT. These are files (private and public keys) used to sign e-Documents. Its function is to identify the issuer of the message legitimately, with the same validity as a handwritten signature. CSD : Digital Stamp Certificate RFC : Federal Taxpayers Registry (RFC or Registro Federal de Contribuyentes). The retailer must have a Federal Taxpayer Registration number (RFC) obtained through its registration with the Mexican Tax Authority (SAT) Digital Stamp Certificate: This specific purpose certificate is used to generate an e-Signature on the CFDI and allows complete  identification of the invoice issuer, guaranteeing the integrity, authenticity, uniqueness, and non-repudiation of the invoice. Configuration Below are the Manhattan Active® Omni POS application configurations required if the store is located in Mexico. Order Configuration Generate eInvoice The entire integration into Edicom for Mexico is based on the eInvoice generation from base. To enable the generation of eInvoices for Mexico, the 'Create and Publish eInvoice' flag should be set to true for the relevant order type. Here is a sample order configuration for reference: { "OrderConfigId": "MposConfig", "CreateAndPublishEInvoice": true } The default "Create And Publish eInvoice" is false/disabled. Note: Generation of eInvoices is tightly coupled with generation of Shipment/Adjustment/Return Invoices in the system. If invoice generation is not enabled in the system, eInvoice generation will not be triggered. Publish eInvoice and eAdjustment Select "PosEInvoiceSalesPostingTemplate" as publish eInvoice Template. This is the base template used in publishing messages to marketplace component. If customization is required, then customize "PosEInvoiceSalesPostingTemplate" and override it at org level. Refer: Publish eInvoice and eAdjustment configuration Outbound message type Add outbound messageType in order component and mark its as isDisabled = false {{url}}/order/api/ServiceDefinition/outBoundMessageType/save mexico_addOutbound    { "MessageType": "EInvoiceSalesPostingMSGType", "Transactional": true, "PersistMessageToMsgStore": false, "IsDisabled": false, "OutBoundQueues": { "QueueName": "queue.eInvoiceSalesPostingMSGType" } } Marketplace configurations Below are the configurations needed in marketplace component. KV Store Configurations ( All in marketplace component) Edicom url and Credentials configuration in KV Store It is configured per organization id and needs to be defined for both publish and poll (Refer purpose field). All the fields are required to be configured. Since authToken, apiKey and apiSecret are confidential follow Encrypt Confidential fields section and encrypt it. mexico-edicom config[{ "url": "https://ipaasgw.edicomgroup.com/api/v1/domain/${domainId}/application/${applicationId}/broker/publish?schema=${schemaId}&duplicates=0&destination=${destinationId}&reference=${referenceId}", "apiKey": "", "apiSecret": "", "purpose": "publish", "orgId" : "${OrgId}", "additionalParams": { "domainId": "${domainId}", "applicationId": "${applicationId}", "destinationId": "${destinationId}", "referenceId": "${referenceId}", "schemaId": "PROPUESTA_MEXICO_CFDI_${referenceId}", "authToken" : "${authToken}" } }, { "url": "https://web.sedeb2b.com/EdiwinWS/rest/EdiwinIntegrationRest/getCustomData/?domain=${domainId}&process=${processId}¶meters=${parametersId}&unzipResponse=true&user=${apiKey}&password=${apiSecret}", "apiKey": "${apiKey}", "apiSecret": "${apiSecret}", "purpose": "poll", "orgId" : "${OrgId}", "additionalParams": { "domainId": "${domainId}", "processId": "STATUS_MANHATTAN" } } Customer need to replace the variable with edicom and application credentials and token information Encrypt Confidential fields Open your browser, and run this: {{url}}/core/encrypt?s=foobar, where 'foobar' is your plain-text credential value mentioned above for authToken. Copy the encrypted value that you see (make sure you don't copy newline characters). For example: c1eaae703259761e90980231a78507042dcb1459cddcd08a5a58445ce1664982 Value will be as below "authToken" : "c1eaae703259761e90980231a78507042dcb1459cddcd08a5a58445ce1664982" External EInvoice Configuration mexico - external EInvoice Config{ "data": [ { "CountryId": "MX", "FtlTemplateName": "EdicomSaleTemplate.ftl", "ConditionalExpression": "CountryId == 'MX' && EInvoiceType == 'Sale'" }, { "CountryId": "MX", "FtlTemplateName": "EdicomReturnTemplate.ftl", "ConditionalExpression": "CountryId == 'MX' && EInvoiceType == 'Return'" } ] } Inbound Message Type {{url}}/marketplace/api/ServiceDefinition/inBoundMessageType/save Mexico - Inbound msg type - Marketplace{ "MessageType": "EInvoiceSalesPostingMSGType", "NoOfConsumer": 10, "MinNoOfConsumer": 1, "Idempotent": true, "ExternalIntegrationRequired": false, "MaxDesiredInstances": 6, "ScaleUpTimeWindow": 10, "ScaleDownTimeWindow": 20, "Description": "This queue is used for posting EInvoices", "ServiceId": "eInvoiceSalesPosting", "InBoundQueues": { "QueueName": "queue.eInvoiceSalesPostingMSGType" } } Job Schedule {{url}}/marketplace/api/batch/jobSchedule/save Mexico - Job Schedule - Marketplace{ "JobScheduleId": "PollFromEdicomSchedule", "JobTypeId": "pollFromEdicomJobType", "CronExpression": "0 0/15 * * * ? *", "TriggerKey": "PollFromEdicomJobTypeTrigger", "IsDisabled" : "false", "JobParameters": [ { "InputKey": "ChunkSize", "InputValue": "1000" } ] } Inbound Message Type - Fetching invoice status {{url}}/marketplace/api/ServiceDefinition/inBoundMessageType/save Mexico - Inbound Fetch invoice{ "MessageType": "FetchEInvoiceStatusMSGType", "NoOfConsumer": 10, "MinNoOfConsumer": 1, "MaxNoOfConsumer": 6, "Description": "This message type is used for fetching EInvoice Status", "ServiceId": "FetchEInvoiceStatus" } Outbound Message Type - Fetching invoice status {{url}}/marketplace/api/ServiceDefinition/outBoundMessageType/save Mexico - Outbound Fetch Invoice    { "MessageType": "FetchEInvoiceStatusMSGType", "Transactional": true, "PersistMessageToMsgStore": false } extPoint To MessageType {{url}}/marketplace/api/ServiceDefinition/extPointToMessageType/save Mexico - Ext Point    { "ExtensionPointId": "Marketplace:Marketplace:Event:FetchEInvoiceStatus", "MessageType": "FetchEInvoiceStatusMSGType" } Additional Configuration Fiscal Attribute configuration AttributeValue needs to be modified accordingly to client details. {{url}}/backoffice/api/backoffice/fiscalAttributes/import mexico - fiscal attribute{ "ProfileId": "base", "Data": [ { "CountryId": "MX", "AttributeName": "BusinessActivity", "AttributeValue": "601", "LocationId": null }, { "CountryId": "MX", "AttributeName": "LegalEntityName", "AttributeValue": "EDICOMUNICACIONES MEXICO", "LocationId": null }, { "CountryId": "MX", "AttributeName": "PostalCode", "AttributeValue": "${RetailerPostalCode}", "LocationId": null }, { "CountryId": "MX", "AttributeName": "TaxId", "AttributeValue": "${RetailerTaxId}", "LocationId": null } ] } Item Attribute configuration MexicoProductKey needs to be updated on all items sold by the retailer. Change the ItemId and value as required. Sample below. {{url}}/item/api/item/item/save mexico - item attribute config{ "ItemId": "${ItemId}", "ItemAttribute": [ { "Type": "MexicoProductKey", "Value": "53101602" } ] } Copy Base-Mexico Profile Country, Mexico specific base seed data is categorized into profile id base-mexico. Please use the below process to copy the seed data to your profileId. {{url}}/posservice/api/fwcore/profiles/copy Mexico - base-mexico{ "FromProfileId": "base-mexico", "ToProfileId": "${profileId}", "ProfilePurpose": "pos::CartEvent" } Fiscal Configuration "EnableFiscal" should be enabled from the Fiscal Business Configuration MUP UI. Currency Configuration Currency Configuration: Configure both the cart and the back office to work in the MXN currency code. For Backoffice to be set up as MXN currency, i.e. BO Store Configurations > Store Base Currency = MXN For Cart, use POS Store Configurations > Store Common Config > “Default Store Currency” = MXN Make sure that Store Currency (e.g. “MXN)” has all denominations set if counting is by denominations, via Backoffice > “Store Currency” and Currency Denomination configurations. Locale Configuration Store Locale: To set up store locale, POS Store Configurations > Store Common Config >Default Store Locale= es-MX Tax Configuration Configure Tax system as VAT by enabling “Primary Tax as Info” from POS Store Configurations > Store Common Config Order Configuration > Tax Engine -Set up the Tax engine for “mPOSConfig“ as “Vertex”. Order Configuration > Tax Engine -Set up the Tax engine for “mPOSConfig“ as “LocalTax” is also supported. For tax configurations setup, refer Local Tax guide. *VAT rates in Mexico are as follows: Standard:16% Reduced rate: 8% Zero:0% Receipts Receipts in Mexico do not include any additional details as per the Mexican fiscal regulations. It's the base receipt with no special changes. Mexico Fiscalization As mentioned earlier in this space, In Mexico, Fiscalization is based on generating an electronic invoice CFDI that is validated and certified by a Mexican government authorized certification provider PAC. Manhattan Active® Omni POS application out of the box is developed to submits data of completed invoices to the Ediwin service hosted by Edicom. Edicom validates all the invoices sent by Manhattan Active® Omni POS, certifies, signs and submits the same to Mexico SAT. Edicom responds back to MAO with an acknowledgement for every invoice submitted. Pre-Requisites: The retailer must register with SAT to issue e-invoices and have a RFC (Federal Taxpayer Registration Number) The retailer must obtain electronic signature(e-firma) and a digital stamp(CSD). These are private and public keys used to identify the issuer legitimately. VAT rate configuration: Store Enum values in MAO, VAT Rates - (Standard - 16%, Reduced - 8%, Zero - 0%) All Items mush have "MexicoProductKey" configured in ItemAttrbite key value pair configuration Mexico fiscalization workflow and assumptions: The Mexico e-invoicing is known as CFDI, an e-invoicing schema that became mandatory in Mexico on January 1, 2014. The CFDI is a structured XML file for the online submission to the SAT(Tax authority) of various documents. The electronic invoice must include information such as the name or corporate name of the issuer and receiver, the RFC (tax identification number) of both parties, the total amount of the invoice, and the type of transaction performed, among other data. It is important to verify that the invoice complies with all the requirements established by the SAT. Manhattan Active® Omni POS application on checkout provides the ability to capture the information below. These are customer details. Customer RFC If the customer does not have RFC, then use the following. For Local Mexico residents : XAXX01010101000 For foreign customers: XEXX01010101000 Fiscal Regimen: This is the business activity Select default- "616: No tax obligations" Customer Business Name Default: Publico en General Customer Billing Postal Code Default for Test account: 06500 The diagram below illustrates the process of conducting a sale and generating a receipt for the transaction. An API call is made to Edicom to generate the corresponding CFDI (Digital Tax Invoice Document) for the transaction. If the user needs the CFDI, Customer directly can login or an store employee can access Ediwin (the Edicom platform) to download the generated document. When a purchase is made in the store, the information is sent to the Certification Service Provider (PAC), which is responsible for validating it. Subsequently, the PAC affixes the necessary fiscal seals and sends the information to the Tax Administration Service (SAT). The SAT validates the received information and assigns a UUID (Unique Universal Identifier). Then, it communicates with the PAC to return the validated receipt along with the UUID. The PAC, in turn, returns the corresponding Digital Fiscal Receipt by Internet (CFDI). Manhattan Active® Omni POS application has a polling mechanism every 15 mins to pull the UUID and save it back on order database. Failure Handling If a message sent to the marketplace is not sent to Edwin because of communication failure. These messages are flagged and are re-triggered for submission when the network is back up. The re-trigger process is applicable for 72 hours once the order is placed. Manual intervention is required when the order itself has wrong data which will fail on the edwin portal. These transactions need manual intervention to correct the order data such item attribute or collecting customer RFC details etc. Supported/Not Supported Features for Mexico Below is the list of features which are supported and not supported in Mexico by Manhattan Active® Omni POS application, where : ✅ : Supported and Fiscalized : Supported But Not Fiscalized ❌ : Not Supported Feature Status Sales flow with cash, Credit card, Debit card, Personal cheque,Traveller's check, Gift card ✅ Sale transaction using foreign currency cash ✅ Sale transaction by activating customer ✅ Sale transaction with guest check out ✅ Sale transaction by linking sale associate ✅ Sale transaction with price override ✅ Sale transaction with one or more quantities ✅ Sale transaction with line void or mid-void ✅ Sale transaction with mid-payment void ✅ Sales flow with VAS ✅ Sales flow with non-merchandise items ✅ Void Transaction ✅ Sale with transaction/ line discounts ✅ Sale with Promo ✅ Tax Override ❌ Tax Exempt ❌ Return with receipts-Return from single order ✅ Return with receipts-Return from multiple orders This is not systematically controlled. ❌ Return with receipts-Return Ship To Address, Pick up In Store orders created from POS - single order/multiple order ❌ Return with receipts-Return e-com Ship To Address, Pick up In Store orders in store ❌ Return with receipts-Return e-com Ship To Address, Pick up In Store along with POS sale orders in store ❌ Return Refund to same tender paid originally or any other tender irrespective of original payment ✅ Return with receipt, but return has restocking or other fees ❌ Return without Receipt ❌ Exchange -customer is returning item/items and buying new items in the same return transaction ❌ Print/Email Receipt ✅ Print/Email Gift Receipt Reprint receipts from historical transactions ✅ Reprint receipt of last transaction on the register ✅ Reprint Gift receipt Re-send email of receipts ✅ Resend Gift receipt Gift Card activation ✅ Gift Card Reload ✅ GC Balance inquiry Gift Card Cash Out ❌ All Back Office Transactions All Manager Function-No Sale Suspend/Resume Omni Transaction-Sale with InStore purchases and Ship to Address lines ❌ Omni Transaction-Pick up at store lines ❌ Omni Transaction-Ship to Store lines ❌ Omni Transaction-Buy Online, Pick up in Store + Purchase more while in store ❌ Order deposits, i.e. Pay in partial deposits ❌ Order quote ❌ Post void ❌ Exchange Tender, I.e. exchange 2 gift card and issue 1 gift card ❌ Price Check ❌ Offline Transaction-Standalone transaction creation without internet connectivity ❌ Out of Order, Manual Transaction ❌ The features which are not supported should be controlled via grants or Business Flags. Refer to Configuration and Resources guide for more details on the configurations. Additional configurations are noted below: In Mexico, GC cashout is not supported.  Business Flag : POS general configuration >>Common Configuration >> Gift card cashout threshold=0 Services The APIs listed below are related to Mexico Fiscalization at Manhattan Active® Point Of Sale and are referenced in this document. Refer to API documentation for additional details on each service. Service Component Group Service Endpoint FiscalConfig Order FiscalConfig {{url}}order/api/order/fiscalConfig OrderConfig Order OrderConfig {{url}}order/api/order/orderConfig Job Scheduler batch Job Scheduler {{url}}/backoffice/api/batch/jobSchedule Trigger Adhoc batch Job Scheduler {{url}}/backoffice/api/batch/jobSchedule/triggerAdhoc fiscalAttributes Backoffice fiscalAttributes {{url}}/backoffice/api/backoffice/fiscalAttributes Fiscal Process Backoffice Fiscal Process {{url}}/storefacade/api/storefacade/backoffice/fiscal/processFiscal Register devicemanagement register {{url}}/devicemanagement/api/devicemanagement/register/save * The fiscal guidelines and numbers (annual turn over, tax rates) are as of Aug-2024, which might be subjected to change as per local laws.