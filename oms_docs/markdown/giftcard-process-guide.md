# Gift Card Process Guide

**Permalink:** giftcard-process-guide
**Path:** Manhattan Active® Omni/Store/Process & Configuration Guides/Point of Sale/POS Classic Guides/POS Order Selling/Special Transactions/Gift Card/Process
**Content Length:** 37,682 characters
**Scraped:** 2025-08-09T22:02:58.303304

---

Home ››Manhattan Active® Omni››Store››Process & Configuration Guides››Point of Sale››POS Classic Guides››POS Order Selling››Special Transactions››Gift Card ››Gift Card Process Guide Gift Card Process Guide Gift Card Process GuideGeneral ConfigurationConfiguring Gift Card ItemsGift card ActivationGift Card ReloadError Handling for Gift Card Activation and ReloadRetry Failed Gift Card Activation/Reload (Activate Gift Card in Cart = False)Retry Failed Gift Card Activation/Reload (Activate Gift Card in Cart = True)Suspend/Resume and Waiting RoomActivate Gift Card in Cart = TrueReturning Gift Card line itemsNonreturnable Gift Card itemsReturnable Gift Card itemsGift Card Balance EnquiryWorkflow for a Gift Card Enquiry:Static Table of Gift Card Activate/Reload AmountsServices Manhattan Active Omni solutions provides its customer's to purchase a gift card which can be pre-loaded, or reload to an existing gift card.  The customer can also perform a balance enquiry on the existing gift card as part of the existing sale. To perform these actions, itemID(s) must be configured as "gift card" actions, to be added to the cart and for which the customer will be charged.   The user will have to add a properly configured item to cart and then the OrderLine.isGiftCard will equal to True. General Configuration For an item to be treated as a gift card, follow the Item set up configurations as stated below:  An item that is required for a Gift card "Activation" or  for a "Reload"  will have the following Verification and Checks to validate and fetch a particular item from the item component, itemEntity.xml. The specific Item IDs shown in this document are for your reference only as these Item IDs are used by Manhattan for their internal testing.  Each retailer should define their own Item IDs as desired by them. Note: There must be at least two zero-priced Gift Card items to enable minimal Gift Card Sale or Reload functionality, one for NEW and one for RELOAD.  Additional items can be defined by the retailer's to either sell pre-valued Gift Cards or reload pre-valued amounts: Configuring Gift Card Items From master data, item record (item>item) these are the settings that must be configured to set up a 'gift card' item. IsGiftcard = True sellingattributes>activationRequired = True or False, is this a new GC item or GC to be reloaded. If TRUE, the item represents value to be added to a new gift card (to be activated). If FALSE, the item represents value to be added to an existing gift card (reload). sellingattributes>valueEntryRequired = True or False, If this is TRUE then the user must provide the value of the Gift Card activate or reload item. Price is provided from a pre-seeded list of prices (ex. 10, 20, 50). The predefined value list is defined in item>giftCardAmount on the server. User will also have ability to type any desired dollar amount and update the Gift Card Value in the table. (For seed values, check below table) If this is FALSE, based on the item identified, the Server can make a call to Price promo and fetch the Gift Card item price, which is assumed to be pre-loaded like any other standard item price. Configuration possibilities for Gift Card items Attributes/Features Activation sample ItemId=900101 <Sample Test Id> Reload sample ItemId=900102 <Sample Test Id> Activation ItemId=900103 <Sample Test Id> Activation ItemId=900104 <Sample Test Id> isGiftCard Yes Yes Yes Yes ActivationRequired Yes No Yes No ValueEntryRequired Yes Yes No and item price record 100.00 exists No and item price record 50.00 exists The Value Entry Required is YES, then, this item is associated to 0.00 price.  User assigns price during transaction, by typing or selecting from predefined value list. The Value Entry Required is YES,  then, this item is associated to 0.00 price.  User assigns price during transaction, by typing or selecting from predefined value list. If the Value Entry is Required as equal to No. Then, this will be a New gift card associated to a predetermined price, i.e. 100.00 If the Value Entry is Required as equal to No. Then, this would be a Reload gift card item associated to a predetermined amount, i.e. 50.00 Gift card Activation Associates can trigger purchasing of gift card from the POS active store application. Gift card amounts can be pre-loaded or the associates can enter the amount manually based on the request from the customer. Gift card purchases are linked to an item which is configured as isGiftCard=True and isActivationRequired=True.  This item will be added to POS cart. Configuration possibilities for Gift Card Activation Application Configuration > Manage POS Configuration > POS General Configuration > Common Config > Activate Gift Card in Cart Activate Gift Card in Cart = False Gift card activation/reload will not occur until the balance due on the order = 0 Activate Gift Card in Cart = True Gift card activation/reload will occur once gift card item is selected, value entered, and account number is entered Note: Application Configuration > Manage POS Configuration > POS General Configuration > Common Config > Allow Order Completion With GC Activation Failure must be set to true for GC Activation in Cart feature to work. Workflow for a Gift card activation (Activate Gift Card in Cart = False): User Selects Gift card > New Card  or the user can scan an gift card item Depending on the Value Entry Required flag, is True, a prompt is displayed to select the amount for the gift card to be activated. If False, the item comes with a default price populated by the server, this item will be added to cart like any other item CHECKOUT and navigate to the tender screen.   When all the payment is completed using the available payment options and balance = 0, a gift card prompt appears requesting the associate to swipe the gift card for activation UI will direct to collect the card number - through the screen or through the terminal - and request will be sent from terminal to the processor to activate the Gift card with the requested amount. Processor sends the response to activate the card including the available balance of this card POS Service maps this response to payment by creating a Payment Transaction Type as "Activate" and Payment Type as "Gift Card" using this Transaction ID. When the transaction is finalized receipts will indicate the Gift Card activation(s) in the GC activation section. Workflow for a Gift card activation (Activate Gift Card in Cart = True): User Selects Gift card > New Card  or the user can scan an gift card item Depending on the Value Entry Required flag, is True, a prompt is displayed to select the amount for the gift card to be activated. If False, the item comes with a default price populated by the server, this item will be added to cart like any other item Immediately upon entering Gift Card line item and price, a gift card prompt appears requesting the associate to swipe the gift card for activation UI will direct to collect the card number - through the screen or through the terminal - and request will be sent from terminal to the processor to activate the Gift card with the requested amount Processor sends the response to activate the card including the available balance of this card POS Service maps this response to payment by creating a Payment Transaction Type as "Activate" and Payment Type as "Gift Card" using this Transaction ID. User may continue on in the cart to add more SALE items (including Gift Cards, which will be immediately activated as described above), or RETURN items. When user ultimately selects CHECKOUT and tenders out the transaction, receipts will indicate the Gift Card activation(s) in the GC activation section. Gift Card Reload Associates can also perform adding more funds to the existing active gift card from the POS active store application. The reload amount can be suggested from the server with pre-defined denominations or the associate can enter the amount manually based on the customer's request. Gift card reloads are linked to an item which is configured as isGiftCard=TRUE and isActivationRequired=FALSE, This item will be added to the POS cart. Workflow for a Gift Card Reload (Activate Gift Card in Cart = False): User Selects Gift card > Reload  or the user can scan a Reload gift card item Depending on the Value Entry Required flag, is True, a prompt is displayed to select the amount for the gift card to be activated. If False, the item comes with a default price populated by the server, this item will be added to cart like any other item CHECKOUT and navigate to the tender screen.   When all the payment is completed using the available payment options and balance = 0, a gift card prompt appears requesting the associate to swipe the gift card for activation. UI will direct to collect the card number - through the screen or through the terminal - and request will be sent from terminal to the processor to reload the Gift card with the requested amount Processor sends the response by adding funds on the card and the new available balance of this card POS service maps this response to the payment by creating a Payment Transaction Type as "Reload" and the Payment Type as "Gift Card" using the Transaction Id When the transaction is finalized receipts will indicate the Gift Card activation(s) in the GC activation section. Workflow for a Gift Card Reload (Activate Gift Card in Cart = True): User Selects Gift card > Reload  or the user can scan a Reload gift card item Depending on the Value Entry Required flag, is True, a prompt is displayed to select the amount for the gift card to be activated. If False, the item comes with a default price populated by the server, this item will be added to cart like any other item Immediately upon entering Gift Card line item and price, a gift card prompt appears requesting the associate to swipe the gift card for activation UI will direct to collect the card number - through the screen or through the terminal - and request will be sent from terminal to the processor to reload the Gift card with the requested amount Processor sends the response by adding funds on the card and the new available balance of this card POS service maps this response to the payment by creating a Payment Transaction Type as "Reload" and the Payment Type as "Gift Card" using the Transaction Id User may continue on in the cart to add more SALE items (including Gift Cards, which will be immediately activated as described above), or RETURN items. When user ultimately selects CHECKOUT and tenders out the transaction, receipts will indicate the Gift Card reload(s) in the GC activation/reload section. Workflow for a Gift Card Void (Activate Gift Card in Cart = True): User selects single GC line or multiple GC lines then Void Items User will be prompted with void item confirmation Upon pressing OK Deactivation API is called to remove funds from the card(s) User does not need to swipe the card again Once deactivation is complete, the order lines will be cancelled. If the user chooses to void the entire order, the deactivation process will be the same as above. Error Handling for Gift Card Activation and Reload Activate Gift Card in Cart = False During Activation of new Gift Card or Reload of existing one users encounter instances where the cards have been added and the payment is tendered however the authorization of the Gift Card fails. One of the probable reasons is a communication failure with the payment gateway. Depending on the activation configuration, it is not always possible to return to the Item entry screen and remove the affected Gift Card from the order. This creates a situation wherein the user sometimes does not have any other choice but to kill the application and start the process afresh. To bypass such a scenario from originating, an alternate flow is created from the base which is driven by posGeneralConfig business flag "Allow Order Completion With GC Activation Failure". If the business flag value is set to True the application allows the users to proceed further even if there is an authorization failure for one or more Gift Card items. Once the user swipes the Gift Card for activation and encounters an error, the application does not halt, instead it displays an error pop window detailing the reason of failure and prompts the user to continue with the flow. The error window displays the Gift Card details, amount for which the card is being issued and the reason of failure for activation. Furthermore, before the user can print the final receipt a pop up window is displayed which shows any failed Gift Card numbers from Activate/Reload line items, along with the associated amount. It also has the sum total amount of all the Gift Cards failed for activation. Additionaly, there is an option to display a configurable message at this consolidated pop screen. One of the probable use case for the message option is to provide some information to the user to guide the customer on the next step once the Gift Card activation has failed.  For example, "Make sure to refund the customer for failed gift cards".  The text is configured via posGeneralConfig, along with the failure flow business flag. When this process flow is selected by enabling the business flag the receipts printed as part of the process has the failed Gift Card transactions listed under the Gift Card activity. The receipt captures the card detail along with the amount for which the activation failed. Activate Gift Card in Cart = True NOTE - This configuration is only compatible with "Allow Order Completion With GC Activation Failure" TRUE. Similar to the activation post tendering flow, activation errors can occur within the cart. Should an activation error occur, the user will be notified and can Cancel or Retry. If they choose to cancel, the gift card line will be automatically removed from the order.  If the gift card was the first and only item in the cart, the entire order will be cancelled and the next item entered will create a new order.  If other items existed within the order, only the failed gift card will be cancelled. The user can attempt to issue again, or can continue with the purchase of the other items. The following errors will be displayed to the user for possible error scenarios Line item deactivation fail in this case, the deactivation fails, and the order line remains in the Cart. if the user attempts to void again, the deactivation is bypassed and only the order line cancellation is called. Line item void failed In this case, the deactivation is successful, but the order line remains in the Cart if the user attempts to void again, the deactiation is bypassed and only the order line cancellation is called if this fails again, user can attempt an order void. if the order void also fails, there may be a communication failure to order. Order with GC deactivation fail In this case the deactivation fails, and the order is successfully cancelled User must notify their manager of possible gift card with funds remaining. Order void failed, but GCs are deactivated In this case, the gift cards are successfully deactivated, but the order is not cancelled User can attempt to cancel the order again, and deactivation call will not occur. Retry Failed Gift Card Activation/Reload (Activate Gift Card in Cart = False) At end of a transaction following full payment, POS attempts to Activate or Reload Gift Card lines.  Once user enters the data, either via pinned swipe or keyboard typing, if the card is decline by the Gift Card provider user has the option to either retry the Gift Card approval, or continue the transaction and retroactively void/refund the failed gift card. Number of retries allowed is configured under POS Store Config>>Store Common Config>>Number of Retries Upon Gift Actication or Reload, which is configured with an integer indicating the number of attempts to allow (ex. 0, 1, 2, 3, etc).  To enable the feature, configure a value > 0. User can re-attempt as many times as specified under the configuration, after which system either moves to the next Gift Card line or to the Receipt screen.  It is not mandatory to retry up to the maximum times allowed, user can skip the retry and continue to the next steps at any time. Two new additional attributes are introduced under PaymentMethodAttribute: "Name": "OrderLineId" : To persist the orderline for which the Gift Card Activation/Reload is performed.  This is used in Receipt to show only the final success or failed payment data. "Name": "IsGCActivationRetried": Indicates if the Declined Activation/Reload is Retried or not.  This is useful for the external systems such as Sales Audit, to know if the store associate Retried in case of failure or not. This whole process is applicable even in case of custom implementation where in the Gift Card is processed via the User Exit, in the backend. Retry Failed Gift Card Activation/Reload (Activate Gift Card in Cart = True) Withing the cart, after capture of gift card account number, POS attempts to Activate or Reload Gift Card lines.  Once user enters the data, either via pinned swipe or keyboard typing, if the card is decline by the Gift Card provider user has the option to either retry the Gift Card approval, or continue the transaction and retroactively void/refund the failed gift card. Number of retries allowed is configured under POS Store Config>>Store Common Config>>Number of Retries Upon Gift Actication or Reload, which is configured with an integer indicating the number of attempts to allow (ex. 0, 1, 2, 3, etc).  To enable the feature, configure a value > 0. User can re-attempt as many times as specified under the configuration, after which system auto cancelled the order line so as not to charge the customer.  It is not mandatory to retry up to the maximum times allowed, user can skip the retry and continue to the next steps at any time. NOTE: If the user chooses to cancel on the retry popup, the order line will be automatically cancelled. Suspend/Resume and Waiting Room Activate Gift Card in Cart = True Due to the nature of the item being sold, any order with an activated gift card in the cart cannot be suspended or added to the waiting room. Users will be prompted with a notification, and will remain in the cart. User can void the gift card and continue with the suspension of the order, or they can continue with the order and checkout Returning Gift Card line items If a Gift Card item is successfully activated or reloaded, that line item is not returnable in the same way a typical merchandise item would be. Nonreturnable Gift Card items When the Gift Card line is successfully loaded with value, system marks the associated orderline.isReturnable=False.  During a validated return of this sale, this line item WILL NOT be displayed as available for return. Returnable Gift Card items Only if the Gift Card line is not Activated/Reloaded successfully, system marks the associated orderline.isReturnable=True.  During a validated return of this sale, this line item WILL be displayed as available for return. Note: Non-validated return of Gift Card is not allowed. Note: UOM must be populated on the Gift Card line in order for the return to be valid. Gift Card Balance Enquiry Customer can present the gift card to the store associates for checking the available balance. Associates can use this functionality as part of same existing sale transaction or a transaction of its own to make a call to the processor to get the balance for this particular gift card. The response will be present on the Payment component, and the customer is informed of the available balance either by print or e-mail. Workflow for a Gift Card Enquiry: User Selects Gift Card C enquiry or the user can enter Gift Card number and click OK A new transaction is generated and saved. This on Order mark isConfirmed = True  (Or) If an existing transaction is present in the session, the same transaction is used for this enquiry UI will direct to MX, and MX will processor (Payware) to get the balance for this gift card Gateway provider sends the response with the available balance of this card POS service maps this response to the payment by creating a Payment Transaction Type as "Balance Check" and PaymentType as "Gift card" using this Transaction ID. Customers will receive receipts from the Gift Card activation section Note: If the balance enquiry is triggered when the cart is empty, always a new transaction number is created just for this functionality. Static Table of Gift Card Activate/Reload Amounts During Activate/Reload of a Gift Card from the menu, user can view the predefined amounts.  These amounts are taken from the static data defined in iGiftCard Amount table in the Item entity and the current initial seed data can be customized by the retailer. Services The following APIs are the key APIs related to Gift Card functions. Refer to the API documentation for additional details on each service. Service Component Service Service Endpoint Gift card activation posService Order Service Controller POST /api/posservice/order/addGiftItemToOrder Gift card activation posService Payment Service Controller POST /api/posservice/payment/issueGiftCard Gift card reload posService Order Service Controller POST /api/posservice/order/addGiftItemToOrder Gift card enquiry posService Payment Service Controller POST /api/posservice/payment/addGiftCardBalance gift card amount item Gift card amount service GET: /api/item/giftCardAmount