# Transfer Reservation

**Permalink:** transferreservation
**Path:** Manhattan Active® Omni/Order Management/Process & Configuration Guides/Enterprise Inventory/Reservation/Transfer Reservation
**Content Length:** 72,963 characters
**Scraped:** 2025-08-09T21:54:24.864534

---

Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Enterprise Inventory››Reservation ››Transfer Reservation Transfer Reservation Previous | Next In this section let's understand how availability is computed and the various factors which affects availability computation ForewordOverviewHow Transfer Reservation WorksForward MovementBackward MovementProcess FlowPrerequisitesStep 1: Evaluate ETA changesStep 2: Transfer ReservationStep 3: Inventory DropStep 4: Inventory RiseTransfer Reservation - Planned Future supply in the Order/ReservationTransfer Reservation - Merge and Ship to Store flowHow To's How De-allocation WorksHow Supply is Evaluated During Transfer ReservationHow Order is Prioritized during Forward and Backward MovementImplementation FlavorsRelated Articles Foreword This documentation is here for backward compatibility only. New and existing projects are encouraged to move to continuous allocation. Please reach out to your Manhattan Associate point of contact if there is an obstacle to you enabling continuous allocation. Overview Enterprise inventory updates the inventory when supply events like PO Create, ASN Update, Adjustments, Receipts, etc. are received. These supply events result in creating a new inventory, increasing the inventory, decreasing the inventory, changing certain key attributes like ETA updates in an existing inventory, moving the inventory from one supply type to another supply type, etc. Because of the supply events, Inventory may increase or decrease resulting in a net change in inventory. When an inventory record increases, OM understands the rise event and identifies a potential for some orders to get allocated against the increased quantity which otherwise were not getting allocated. This is known as 'Re-allocation'. When an inventory record decreases, OM understands the drop event and identifies a possibility of some (or all) allocations tied to this inventory getting de-allocated, and therefore moves the order to 'partially allocated' or 'Back ordered' status. This is known as 'De-allocation'. There is one more scenario where the total network inventory does not change, but the inventory changes its state from one supply type to another. For example, when an ASN is created for a referenced PO, the inventory is transferred from the PO to the ASN resulting in no net change in inventory. In these cases, if allocations are tied to the source inventory, they are not de-allocated but rather transferred to the destination inventory. This guide explains different transaction that leads to de-allocation, re-allocation or transfer allocation in the order management. How Transfer Reservation Works Inventory traverses through multiple states or stages in its lifecycle. These states are also referred as supply types. It can belong to 'On Order' state when ordered. When inventory leaves the origin facility for its destination, it moves to 'In-transit' state. Upon receiving, the inventory changes its state to 'On hand'. This is the forward movement or preferred movement of the inventory. In certain scenarios, the inventory may even traverse backwards from 'On hand' to 'In transit' say upon negative receipt adjustment before the shipment is verified, or from 'In transit' to 'On Order' when the received quantity verified is actually less than the shipped quantity. This is the backward movement of the inventory. OM supports allocation against an inventory at any such stage, whether it belongs to 'On Order', 'In Transit', or 'On hand'. So, when an inventory moves forward or backward, the allocation tied to such inventory moves forward or backward. This process of moving the allocation upon inventory transition is known as 'Transfer Allocation'. Forward Movement As mentioned before, the preferred movement is from 'On Order' to 'in Transit' to 'On hand'. Any event which results in inventory movement in the forward direction may result in forward transfer allocation. Transaction Type Qualifier Movement Description ASN Create PO should be referenced PO → ASN When an ASN is created for a referenced PO, the inventory moves from PO to ASN ASN Update PO should be referenced Adjustment Type = 'A' (Add) PO → ASN When an ASN Update happens and the quantity is increased, the delta (increased) quantity moves from PO to ASN Receipt PO or ASN should be referenced Adjustment Type = 'A' (Add) PO → On Hand ASN → On Hand Upon PO/ASN receipt, the quantity moves from PO/ASN to On hand. If the ASN create/update happens without a referenced PO, or a receipt happens without a referenced ASN/PO, it is just an inventory rise scenario and not a transfer allocation. As the supply moves through each of these states, reservations will also move with those supplies. Quantities allocated to the PO moves to the ASN once it has been created. As the ASN quantities are received, they move to on-hand. The quantities allocated to the ASN also moves to the on-hand supply. Once the ASN has been verified, if all ASN quantities are received, then all inventory is on-hand and all allocated quantities are on-hand. There can be multiple ASNs per PO. In this case, some quantities will move forward while the others remain on the PO until another ASN is created. When an Order is allocated, earliest dates are computed based on the Future Supply ETA or allocation time and latest dates are computed based on Requested Delivery date. Refer to Order Scheduling Guide for more details. Any further actions on the supply like PO/ASN update on ETA, Transfer reservation from PO -> ASN -> On Hand or vice versa does not change the original computed earliest and latest dates Example A PO exists for 1000 units with 800 units allocated against it. Inventory # Item Location Reference Type Reference Id Reference Dtl Id Supply Type Quantity Allocated Quantity 1 Item 1 Location 1 PO PO1 L1 On Order 1000 800 An ASN is created for 300 units for the PO. 300 units of the allocation against the PO is moved to the ASN. Inventory # Item Location Reference Type Reference Id Reference Dtl Id Supply Type Quantity Allocated Quantity 1 Item 1 Location 1 PO PO1 L1 On Order 700 500 2 Item 1 Location 1 ASN ASN1 PO1:L1 In Transit 300 300 100 units of the ASN are received. 100 units move to on-hand and 100 units of the allocation move to on-hand. Inventory # Item Location Reference Type Reference Id Reference Dtl Id Supply Type Quantity Allocated Quantity 1 Item 1 Location 1 PO PO1 L1 On Order 700 500 2 Item 1 Location 1 ASN ASN1 PO1:L1 In Transit 200 200 3 Item 1 Location 1 On Hand Available 100 100 200 units of the ASN are received, and the ASN is verified for 300 units. Inventory # Item Location Reference Type Reference Id Reference Dtl Id Supply Type Quantity Allocated Quantity 1 Item 1 Location 1 PO PO1 L1 On Order 700 500 2 Item 1 Location 1 ASN ASN1 PO1:L1 In Transit 0 0 3 Item 1 Location 1 On Hand Available 300 300 Backward Movement In certain scenarios, the inventory moves backward because of some exception. This movement can be from 'On hand' to 'In Transit' to 'On Order'. Any event which results in inventory movement in the backward direction may result in backward transfer allocation. Transaction Type Qualifier Movement Description ASN Update PO should be referenced Adjustment Type = 'S' (subtract) ASN → PO When an ASN Update happens and the quantity is decreased, the delta (decreased) quantity moves back from ASN to PO. Receipt PO or ASN should be referenced Adjustment Type = 'S' (subtract) On Hand → PO On Hand → ASN Upon receipt, before the shipment is verified, if the received quantity is negative adjusted, the quantity moves back to PO or ASN, whichever referenced, resulting in backward movement. Verification PO should be referenced Variance Quantity (shipped – received quantity) > 0 ASN → PO If ASN is verified and the received quantity is less than the shipped quantity, the variance quantity moves back to the PO from the ASN. ASN Cancel PO should be referenced ASN → PO When an ASN is canceled, the canceled quantity moves back to the PO. If the ASN update/verification happens without a referenced PO, or a receipt happens without a referenced ASN/PO, it is just an inventory drop scenario and not a transfer allocation. For example, if an ASN begins receiving, but then gets verified for a lower quantity (there could have been an error in receiving), the quantity moves from the ASN back to the PO. The allocations do the same. A PO exists for 1000 units with 800 units allocated against it. Inventory # Item Location Reference Type Reference Id Reference Dtl Id Supply Type Quantity Allocated Quantity 1 Item 1 Location 1 PO PO1 L1 On Order 1000 800 An ASN is created for 300 units for the PO. 300 units of the allocation against the PO are moved to the ASN. Inventory # Item Location Reference Type Reference Id Reference Dtl Id Supply Type Quantity Allocated Quantity 1 Item 1 Location 1 PO PO1 L1 On Order 700 500 2 Item 1 Location 1 ASN ASN1 PO1:L1 In Transit 300 300 300 units of the ASN are received. 300 units move to on-hand and 300 units of the allocation move to on-hand. Inventory # Item Location Reference Type Reference Id Reference Dtl Id Supply Type Quantity Allocated Quantity 1 Item 1 Location 1 PO PO1 L1 On Order 700 500 2 Item 1 Location 1 ASN ASN1 PO1:L1 In Transit 0 0 3 Item 1 Location 1 On Hand Available 300 300 The ASN is verified for 200 units. 100 units which had moved to on-hand are now moved back to the PO. 100 units of the allocation also moves back to the PO. Inventory # Item Location Reference Type Reference Id Reference Dtl Id Supply Type Quantity Allocated Quantity 1 Item 1 Location 1 PO PO1 L1 On Order 800 600 2 Item 1 Location 1 ASN ASN1 PO1:L1 In Transit 0 0 3 Item 1 Location 1 On Hand Available 200 200 Process Flow Prerequisites Before going into the Transfer Reservation flow, it is necessary to understand how Order is Allocated in Order and Inventory layer. As mentioned in the Order Fulfillment and Order Promising Guides, when an order quantity is allocated to inventory, a record is created within the Inventory component in the Reservation Request Detail entity for the quantity. A corresponding record is also created in the Allocation entity of the Order component for the same quantity. Both the Reservation Request Detail and the Allocation are specified at the location level. This indicates that they do not store any supply-level information and each record can translate to one or multiple supply records. The supply-level allocation information is stored in the Reservation Request Match entity table (in the Inventory component) where each record notes the quantity, specific supply record, and the associated Reservation Request Detail. This section describes how changes to inventory will update the Reservation Request Match records and how this can affect associated Reservation Request Detail records and Allocations. The diagram below provides an example of how inventory is reserved for an order. Transfer flow is invoked for every Supply event. Example - Create or Update of Future supply and On Hand Supply event (Create, Update of supply quantity, Update of key attributes like ETA, Error, Supply Type etc). Supply Event is sent as an input to the Transfer flow. Refer to the below flow diagram for more details. Transfer Reservation - Flow Step 1: Evaluate ETA changes If the ETA of the new supply is greater than the Latest Release Date, the allocation does not transfer. It will move through the following steps: If the new Supply ETA > Latest Release Date on the order line, the following occurs: Find Eligible Supply against the original allocated Location. If found, the existing Reservation Request Match record reduces its quantity to the supply amount, and a new Reservation Request Match record is created for the new supply. If not found Perform De-Allocation Step 2: Transfer Reservation Based on Forward or Backward movement - Transfer the Reservation match record(s) from PO -> ASN -> On Hand (Forward) or vice versa for Backward movement. Refer to How Supply is evaluated during Transfer Reservation and How Order is prioritized during Forward and Backward movement for more details Step 3: Inventory Drop If there is an inventory adjustment to on-hand inventory which is a "negative adjustment" or if there are changes to inventory which decreases the future inventory records and allocated quantities exist against that future or on-hand supply, then those allocated quantities may be de-allocated. If the new supply qty >= allocated qty, there is no change to the allocations. If the new supply qty < allocated qty, the following occurs: Find Eligible Supply against the original allocated Location. If found, the existing Reservation Request Match record reduces its quantity to the supply amount, and a new Reservation Request Match record is created for the new supply. If not found Perform De-Allocation. Process flow with Examples - Inventory Drop - Flow Step 4: Inventory Rise An order quantity may fail allocation if there is no inventory of an eligible supply type and ETA for the ordered item. If/when inventory becomes available for that item, the order quantity has an opportunity for allocation, so re-allocation is attempted. Order quantities which fail allocation are moved to backorder status, and the order line information also gets logged in the Backorder Line entity in the Order. A copy of this table also exists in the Inventory component. When Substitution is involved, both Original and Substituted Item(s) are persisted in the Back Order Item table in the Inventory side (only the original Item is persisted in the Back order Line entity in the Order). So if a supply event is pubslihed which increases the inventory for either Original or Substituted Item(s) then inventory rise is triggered. When a supply event is published to the Inventory component which increases or transfers inventory from one supply type to another, and if there are records in the Backorder Line table which are eligible to allocate to this inventory, then Inventory tries to allocate the quantity internally based on the entries in the Back Order Item table. If successful, Order Allocation and Back Order Line is updated accordingly. If there are any leftover quantity, then message is sent to Order to resubmit the Order quantities for allocation. Process flow - Inventory Rise- Flow Transfer Reservation - Planned Future supply in the Order/Reservation If an Order or Reservation is planned against a specific PO/ASN, then Reservation would be against that requested PO ID/PO Line ID (or ASN ID/ ASN Line ID). But any subsequent actions like ASN Create should transfer the reservation to the ASN. However, if any other better supply system is available, the preference would be given to transfer the reservation to the better supply. There is a possibility of reservation not getting allocated against the ASN if there are any better supply. If the requirement is for an order to stay allocated to that PO then that ASN, the only solution is to use continuous allocation. Using transfer reservation does not guarantee that an order will be allocated to the ASN created from the PO if better inventory is available. Similarly, if the PO or ASN is closed then any allocation against it should be de-allocated and back ordered. But transfer reservation flow tries to find a better supply for allocation. Refer to How Supply is evaluated during Transfer Reservation for more details. Transfer Reservation - Merge and Ship to Store flow Merge shipment is a concept where the order is merged or consolidated at a location before the final shipment to the customer. There could be varied reasons for routing/hoping such as  "Saving cost by Route Optimization" , "Improving customer service by delivering order in one go" Or "Origin Location without External Carrier facility/VAS ". In such cases, order is allocated from Origin location but then gets routed to a merge location ( one or more ) and eventually shipped from last merge location to destination. A typical merge shipment scenario involves Origin location – The location where the inventory is present Merge Location (or locations) - The consolidation node or the hop node Destination – The destination where the order needs to be shipped The delivery path between each node is called a leg. The leg where the order is shipped to a merge location is a merge leg. This means that all the legs except the final leg are merge legs. The final leg is called delivery leg, where the final delivery happens. Ship to store (AKA Site to Store) scenario is not a merge scenario as there are no intermediary merge location. But a ship to store scenario involves two legs of fulfillment. The first leg is where the order is shipped from the origin location to the store. The second leg is the one where the customer picks the order from the store. Since it involves multiple legs of fulfillment, a parallel can be drawn between a merge shipment and a site to store scenario. Hence, the first leg in the site to store scenario becomes a merge leg, and the second leg becomes a pick-up leg (not a delivery leg!). Refer to Order Promising Guide for more details on Merge and Ship to Store flow Transfer Reservation process - Consider a scenario, an Order is allocated to DC 1 and merged at DC 2 before reaching the final destination Store 1. Let's see how the Reservations are transferred during this process S.no Flow Reservation 1 Order allocated and released to Origin location (DC 1) Reservation (Order 1) is allocated against DC 1 (assume On Hand Supply) 2 Order shipped from Origin location (DC 1) to Merge location (DC 2) Future Supply (PO & ASN) is created when the Order is shipped from DC 1 to DC 2 Inventory attribute - Maintain PO and ASN supply should be set to true for future supply to be created Reservation (Order 1) is transferred to ASN (against merge location DC 2) ** ** - If any better supply (say On Hand supply) is available while transferring the reservations to the future supply then Transfer Reservation process picks the better instead of the recently created ASN supply. 3 Items received at Merge location (DC 2) Future supply is moved to On Hand Reservation (Order 1) is transferred to On Hand (against merge location DC 2) 4 Order shipped from Merge location (DC 2) to Destination (Store 1) Future Supply (PO & ASN) is created when the Order is shipped from DC 2 to Store 1 Reservation (Order 1) is transferred to ASN (against Store 1) ** 5 Items received at Destination location (Store 1) Future supply is moved to On Hand Reservation (Order 1) is transferred to On Hand (against Store 1) There can be scenarios where Origin location (DC 1) can maintain supply by inventory attributes (Let say Inventory Type="Finished Goods") but when it's shipped to Store, store don't have capability to maintain attributes information. Even in this case, reservation gets transferred successfully from origin location to the next legs. How To's How De-allocation Works When an order quantity is allocated to inventory and the inventory record that it is allocated against either decreases, changes supply types, or changes the ETA (for future inventory), the allocation may no longer be valid, and the quantity is de-allocated. Before de-allocating, if the Inventory component can find eligible inventory at the same location of the original allocation, it will re-allocate to that inventory. It will de-allocate completely only if it cannot find eligible supply at that location. The sections below describe the inventory updates which can cause de-allocation and the process by which de-allocation occurs. Refer How Order is prioritized during Forward and Backward movement for more details. Note that any quantities for which the Reservation Request Detail's release Quantity > 0 are not de-allocated. Note - Inventory to order update is asynchronous, hence there is a little lag in the values getting appropriately reflected. Deallocation - Decrease to On-Hand InventoryFor any quantities which cannot be fulfilled at that location, the existing Reservation Request Match record reduces its quantity to 0, but no new Reservation Request Match is created. The existing Reservation Request Detail is reduced by this quantity, and an update is sent to the Allocation in the Order component. This quantity moves to "backordered" status. A promising request is generated for this quantity and it is re-submitted for allocation. For example, assume there are 10 units of Item A on-hand at DC1. An order is created for 7 units of Item A, and it gets allocated to DC1. A Reservation Request Match record is created for this as well as a Reservation Request Detail and an Allocation. An inventory update then decreases the on-hand inventory by 4 units. Now, the supply qty = 6, and the allocated qty = 7. The Inventory component looks for any other supply at DC1 which can fulfill this 1 unit. If it can, the Reservation Request Match record decreases the allocated qty to 6 and creates a new match record for 1 unit and the new supply. The Reservation Request Detail and Allocation record quantities do not change. If Inventory cannot find any other eligible supply at DC1 for the remaining 1 unit, the Reservation Request Match record still decreases to 6 units. However, in this scenario, the Reservation Request Detail qty also reduces to 6, sending an update to the Allocation to also reduce to 6. 1 unit for that item will move to 'Backordered' status on the order, and it is re-submitted for allocation. Changes to Allocated quantity doesn't lead to Inventory rise event. Example - Order 1 is allocated against Item A for 10 units. Order 2 is back ordered. If Order 1 is canceled then the supply allocated quantity decreases but this doesn't trigger an inventory rise event (as there are no changes to the supply quantity) Deallocation - Decrease to Future SupplyIf changes to inventory leads to decrease in the future inventory records, and allocated quantities exist against that future supply, those allocated quantities may be de-allocated. The various transaction types and the impact of future inventory are outlined below. The following lists the transaction types that updates inventory resulting in de-allocation and the scenarios in which de-allocation occurs Transaction Type Effect of Transaction Type on Allocations PO Update: Quantity Update If the new PO supply qty >= allocated qty, there is no change to the allocations. If the new PO supply qty < allocated qty, the following occurs: The Inventory component searches for any eligible supply at the same location which can fulfill the difference (allocated - supply). If found, the existing Reservation Request Match record reduces its quantity to the supply amount, and a new Reservation Request Match record is created for the new supply. For any quantities which cannot be fulfilled at that location, the existing Reservation Request Match record reduces its quantity to 0, but no new Reservation Request Match is created. The existing Reservation Request Match is reduced by this quantity, and an update is sent to the Allocation in the Order component. This quantity moves to "backordered" status. A promising request is generated for this quantity and it is re-submitted for allocation. PO Cancel If a PO is canceled and there are allocated quantities, The Inventory component searches for any eligible supply at the same location which can fulfill the allocated quantity. If found, the existing Reservation Request Match record reduces its quantity to 0, and a new Reservation Request Match record is created for the new supply allocation. For any quantities which cannot be fulfilled at that location, the existing Reservation Request Match record reduces its quantity to 0, but no new Reservation Request Match is created. The existing Reservation Request Detail is reduced to 0, and an update is sent to the Allocation in the Order component. This quantity moves to "backordered" status. A promising request is generated for this quantity and it is re-submitted for allocation. PO Close If a PO is closed and there are allocated quantities, The Inventory component searches for any eligible supply at the same location which can fulfill the allocated quantity. If found, the existing Reservation Request Match record reduces its quantity to 0, and a new Reservation Request Match record is created for the new supply allocation. For any quantities which cannot be fulfilled at that location, the existing Reservation Request Match record reduces its quantity to 0, but no new Reservation Request Match is created. The existing Reservation Request Detail is reduced to 0, and an update is sent to the Allocation in the Order component. This quantity moves to "backordered" status. A promising request is generated for this quantity and it is re-submitted for allocation. ASN Update If the new ASN supply quantity >= allocated quantity, there is no change to the allocations. If the new ASN supply quantity < allocated quantity, the following occurs: The difference in ASN quantity (old quantity - new quantity) moves to the primary PO, and the allocated quantity also moves to the primary PO. The existing Reservation Request Match record reduces its quantity to the ASN qty, and a new Reservation Request Match record is created for the PO allocation. If there is no Primary PO Id for the ASN, the Inventory component searches for any eligible supply at the same location which can fulfill the allocated quantity. If found, the existing Reservation Request Match record reduces its quantity to 0, and a new Reservation Request Match record is created for the new supply allocation. For any quantities which cannot be fulfilled at that location, the existing Reservation Request Match record reduces its quantity to 0, but no new Reservation Request Match is created. The existing Reservation Request Detail is reduced to the ASN quantity, and an update is sent to the Allocation in the Order component. This quantity moves to "backordered" status. A promising request is generated for this quantity and it is re-submitted for allocation. ASN Cancel If an ASN is canceled and there are allocated quantities, The canceled ASN quantity moves to the primary PO, and the allocated quantity also moves to the primary PO. The existing Reservation Request Match record reduces its quantity to 0, and a new Reservation Request Match record is created for the PO allocation. If there is no primary PO Id for the ASN, the Inventory component searches for any eligible supply at the same location which can fulfill the allocated quantity. If found, the existing Reservation Request Match record reduces its quantity to 0, and a new Reservation Request Match record is created for the new supply allocation. For any quantities which cannot be fulfilled at that location, the existing Reservation Request Match record reduces its quantity to 0, but no new Reservation Request Match is created. The existing Reservation Request Detail is reduced to 0, and an update is sent to the Allocation in the Order component. This quantity moves to "backordered" status. A promising request is generated for this quantity and it is re-submitted for allocation. ASN Close or Verify with Allocations If an ASN is closed or verified and there are allocated quantities on the ASN: The quantity on the ASN is reduced to 0 and moves to the primary PO. The allocated quantity also moves to the primary PO. The existing Reservation Request Match record reduces its quantity to 0, and a new Reservation Request Match record is created for the PO allocation. If there is no primary PO Id for the ASN, the Inventory component searches for any eligible supply at the same location which can fulfill the allocated quantity. If found, the existing Reservation Request Match record reduces its quantity to 0, and a new Reservation Request Match record is created for the new supply allocation. For any quantities which cannot be fulfilled at that location, the existing Reservation Request Match record reduces its quantity to 0, but no new Reservation Request Match is created. The existing Reservation Request Detail is reduced to 0, and an update is sent to the allocation in the Order component. This quantity moves to "backordered" status. A promising request is generated for this quantity and it is re-submitted for allocation. Deallocation - Future ETA updatesDe-allocation can also occur when there are ETA updates to future inventory that makes the supply no longer eligible for allocation for certain order quantities. De-allocation can occur in the following scenarios: Transaction Type Effect of Transaction Type on Allocations PO Update: ETA Update If the new PO ETA <= Latest Release Date on the order line, there is no change to the allocations. If the new PO ETA > Latest Release Date on the order line, the following occurs: The Inventory component searches for any eligible supply at the same location which can fulfill the difference (allocated - supply). If found, the existing Reservation Request Match record reduces its quantity to the supply amount, and a new Reservation Request Match record is created for the new supply. For any quantities which cannot be fulfilled at that location, the existing Reservation Request Match record reduces its quantity to 0, but no new Reservation Request Match is created. The existing Reservation Request Match is reduced by this quantity, and an update is sent to the Allocation in the Order component. This quantity moves to "backordered" status. A promising request is generated for this quantity and it is re-submitted for allocation. ASN Update: ETA Update If the new ASN ETA <= Latest Release Date on the order line, there is no change to the allocations. If the new ASN ETA > Latest Release Date on the order line, the following occurs: The Inventory component searches for any eligible supply at the same location which can fulfill the difference (allocated - supply). If found, the existing Reservation Request Match record reduces its quantity to the supply amount, and a new Reservation Request Match record is created for the new supply. For any quantities which cannot be fulfilled at that location, the existing Reservation Request Match record reduces its quantity to 0, but no new Reservation Request Match is created. The existing Reservation Request Match is reduced by this quantity, and an update is sent to the Allocation in the Order component. This quantity moves to "backordered" status. A promising request is generated for this quantity and it is re-submitted for allocation. Deallocation - Supply Type changesIf there is an inventory movement to allocated on-hand inventory which changes the supply type to something which is no longer allocatable for the allocated quantities, those allocated quantities will be re-allocated or de-allocated. If there is a supply type change to an allocated supply and all allocated quantities can be allocated to the new supply type, the quantity remains allocated to the supply. If there is a supply type change to an allocated supply and there are allocated quantities which cannot be allocated to the new supply type (demand type does not map to supply type) each order quantity goes through the following: The Inventory component searches for any eligible supply at the same location which can fulfill the quantity. If found, the existing Reservation Request Match record is reduced by the quantity and a new Reservation Request Match record is created for the quantity and the new supply. For any quantities which cannot be fulfilled at that location, no Reservation Request Match is created. The existing Reservation Request Detail is reduced by this quantity, and an update is sent to the Allocation in the Order component. This order quantity moves to "backordered" status. A promising request is generated for this quantity and it is re-submitted for allocation. For example, assume there is a supply at DC1 of supply type "On-Hand Available" with an allocated quantity of 5 units for an order. The supply is then locked for QA audit and moved to a Supply type of "Unavailable - QA Audit", which is not an eligible supply type against which the order can allocate. The Inventory component looks for any other supply at DC1 which can fulfill the 5 units. If it can, the existing Reservation Request Match record decreases its allocated quantity by 5, and creates a new match record for the 5 units and the new supply. The Reservation Request Detail and Allocation record quantities do not change. If Inventory cannot find any other eligible supply at DC1 for the 1 unit, the Reservation Request Match record still decreases by 5 units. The Reservation Request Detail quantity also reduces by 5 units, sending an update to the Allocation to also reduce by 5. The 5 unit quantity for that order line is moved to 'Backordered' status on the order, and it is re-submitted for allocation. How Supply is Evaluated During Transfer Reservation As part of Transfer Reservation flow, Get supply call is done to fetch the list of eligible supplies for the Demand Type configured under Inventory Parameter "ForwardTransferDemandType". If not populated the eligible supply record(s) based on the demand type populated on the Reservation Detail. These supply record(s) will be prioritized based on the Supply-Demand-Supply match ranking. In case, the system finds a better supply record, Transfer reservation flow will give preference to the better supply instead of the actual supply that can come under forward/backward movement. Example: At T0 - Order is allocated against Purchase Order - PO1 (As there were no On Hand Inventory) At T1 - On Hand Supply is created for 100 units At T2 - ASN 1 is created for the Purchase Order (PO1). Ideally the allocations should have transferred to ASN 1, but since there was a better eligible supply (On Hand) - Reservation is transferred directly to On Hand supply record and no allocation against ASN How Order is Prioritized during Forward and Backward Movement In many instances, many Reservation Request Match records exist for a particular supply and inventory is updated which requires de-allocation or transfer allocation for only some quantities. For example, 10 units may exist on a PO which is completely allocated. There could be two Reservation Request Match records, 6 units for Order 1 and 4 units for Order 2. The system must choose which quantities to transfer or de-allocate. The following logic is used to prioritize which quantities to take action on: Direction of Inventory Movement Order of Allocation / De-allocation Forward: Inventory being received Allocations transferring forward are prioritized by: 1. Effective rank on the order line: Highest rank is transferred first (lowest number is highest rank, no rank is considered lowest rank). If there is a tie, move to #2. 2. Earliest ship by date: Earliest date is transferred first. Backward: Inventory decrease, backward movement during receiving Allocations transferring backward are prioritized by: 1. Effective rank on the order line: Lowest rank is de-allocated first (lowest number is highest rank, no rank is considered lowest rank). If there is a tie, move to #2. 2. Earliest ship by date: Latest is de-allocated first. Implementation Flavors NA Related Articles How Reservation WorksOverviewRest APIs & User Exits