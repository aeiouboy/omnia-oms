# Ship Events

**Permalink:** how-does-ship-event-work
**Path:** Manhattan Active® Omni/Order Management/Process & Configuration Guides/Order Processing/Order Fulfillment/Order Events/Ship Events
**Content Length:** 36,419 characters
**Scraped:** 2025-08-09T21:57:33.795919

---

Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Order Processing››Order Fulfillment››Order Events ››Ship Events Ship Events Previous I Next Ship EventsShip and Pick Up Order EventsSample API for Ship and Pick Up Order EventsShip and Pick Up Event ValidationsShip and PickUp Event ImpactsImpacts on Order and Inventory componentsImpacts on Order and Inventory components for a Ship to Store OrdersShip Event - Digital GoodsOverage (Over Ship)OM and SIF IntegrationFulfillment Updates for ship to store ordersImplementation FlavorsHow to pass additional information on order event to send an email to customers post PickUpIs there a way to pass the order event request without the ReleaseLineId available in the Ship event that is sent from an external system? Implementing the Ship-to-Store flow for both DC-to-store and store-to-store scenarios Ship and Pick Up Order Events The Ship Order event is used when an execution system such as a WMS or Store Fulfillment ships an item for an order and the Pick Up order event is used when a customer picks up an item from the store fulfillment system. A ship or Pick Up event moves the quantity to fulfilled status. The Ship or Pick Up event will contain details about items and quantities which are shipped or Picked Up along with package details of the shipped quantities (For example, 1 quantity is shipped in Package A and another quantity is shipped in Package B). The event also has a fulfillment info section as well, this section can be used to store details such as the Carrier and Service Level code used to ship the items, the tracking number to track the delivery updates, the date when the item was Shipped or Picked Up, tracking number of the return shipment, if a return shipping label is included in the package, and so on. Also, in case a gift card was used for fulfillment, the order event captures the gift card number and pin information, both of which are encrypted in Active® Omni. The order event also includes extended attributes to pass additional information from the fulfillment system that is passed under the fulfillment info section of the order event. The order component stores this in the fulfillment detail entity and when an order outbound is published, the external systems can use the data from extended attributes to send additional information that is not stored in the order component today. Note: The fulfillment info section is mandatory to have on the request API for a Ship or PickUp event, the section can be empty without out any attribute if there are no relevant details to be passed, but the section header is mandatory. Sample API for Ship and Pick Up Order Events Sample for Order Event - Ship { "ExternalMessageId": "CC10381", "OrganizationId": null, "OrderEvent": [ { "ExternalMessageId": "CC10381", "EventTypeId": "Ship", "OrderId": "CC10381", "OrderLineId": "1", "ReleaseId": "CC103811", "ReleaseLineId": "1", "StatusId": "7000", "Item": "Tops-13153-Blue-L", "Quantity": 1, "UOM": "EACHES", "FulfillmentInfo": { "PackageId": "ZPKG000000214", "PackageDetailId": "ZPKG000000214", "TrackingNumber": "1Z12345E0205271688", "ShipViaId": "STD", "ServiceLevelCode": "Ground", "ModeId": "Test", "CarrierCode": "UPS", "ShipmentId": "CC10381", "FulfillmentId": "CC10381", "FulfillmentDetailId": "CC10381", "GiftCardNumber": "123456789", "GiftCardPin": "12345", "SerialNumber": "123456789", "ReturnTrackingNumber": "787810", "Extended": { "storeassociatephonenumber": "12345", "CountryOfOrigin": "US", "BatchNumber": null, "ProductStatusId": null, "InventoryTypeId": null, "InventoryAttribute1": null, "InventoryAttribute2": null, "InventoryAttribute3": null, "InventoryAttribute4": null, "InventoryAttribute5": null } }, "StoreInteraction": { "OrderId": "CC10381", "PickedUpDate": "2020-08-31T10:15:30", "StoreAssociateId": "admin@globalorg100-us.com", "LocationId": null, "CustomerFirstName": "John", "CustomerLastName": "Smith", "CustomerPhone": 14704852213, "CustomerEmail": "john.smith@manh-dev.com", "Extended": null, "CustomerId": "JS1001" } } ] } Sample Order event - PickUp { "ExternalMessageId": "CC10381", "OrganizationId":null, "OrderEvent":[ { "ExternalMessageId": "CC10381", "EventTypeId": "PickUp", "OrderId": "CC10381", "OrderLineId":"1", "ReleaseId": "CC103811", "ReleaseLineId":"1", "StatusId": "7000", "Item": "Tops-13153-Blue-L", "Quantity":1, "UOM": "EACHES", "FulfillmentInfo":{ "PackageId": "ZPKG000000214", "PackageDetailId": "ZPKG000000214", "TrackingNumber": "1Z12345E0205271688", "ShipViaId": "STD", "ServiceLevelCode": "Ground", "ModeId": "Test", "CarrierCode": "UPS", "ShipmentId": "CC10381", "FulfillmentId": "CC10381", "FulfillmentDetailId": "CC10381", "GiftCardNumber": "123456789", "GiftCardPin": "12345", "SerialNumber": "123456789", "ReturnTrackingNumber": "787810", "Extended":{ "storeassociatephonenumber": "12345" } }, "StoreInteraction":{ "OrderId":"CC10381", "PickedUpDate":"2020-08-31T10:15:30", "StoreAssociateId":"admin@globalorg100-us.com", "LocationId":null, "CustomerFirstName":"John", "CustomerLastName":"Smith", "CustomerPhone": 14704852213, "CustomerEmail":"john.smith@manh-dev.com", "Extended":null, "CustomerId":"JS1001" }, "InventoryAttributes":{ "CountryOfOrigin":"US", "BatchNumber":null, "ProductStatusId":null, "InventoryTypeId":null, "InventoryAttribute1":null, "InventoryAttribute2":null, "InventoryAttribute3":null, "InventoryAttribute4":null, "InventoryAttribute5":null } } ] } In addition, the Store Interaction section in the order event is used to capture information from the store fulfillment system that is stored in the interaction component. To override this data or if any other store fulfillment wants to pass additional information then you can implement the "PostConstructionStoreInteraction" user exit. The Inventory Attributes section can be used to capture inventory information from a store or DC. It is used to update the supply record if the location maintains supply by attribute. The location attribute entity has a flag to indicate if the location maintains supply by attributes or not. The same PackageId can be used across multiple orders (in the case of store replenishment) but the PackageDetailId needs to be unique in each package. Note: Multiple order events can be included in a single order event interface, and each order event is processed individually. If one event is invalid, then the remaining events are still processed. Ship and Pick Up Event Validations Validations performed during Ship and Pick Up order event are: Event Type -  Event type is mandatory and should be a valid base event type ”Ship” or ”PickUp” or a valid extended event type defined in the entity extendedEventType. ReleaseId/ReleaseLineId - Mandatory and should be a valid release or release line id Item Id - Mandatory but can be a different item in case of substitution or KIT flow. Quantity - Mandatory Input Data Ship/PickUp OrderId + OrderLineId + Quantity Not Permitted ReleaseId + ReleaseLineId + Quantity + ItemId Permitted ReleaseId + ReleaseLineId Not Permitted ReleaseId Not Permitted Ship and PickUp Event Impacts Impacts on Order and Inventory components When an order event 'Ship' or 'PickUp' is processed, the following Updates occur on the following: Order Updates The Order component creates or updates the fulfillment detail entity to store package and tracking number details of the shipped item. The fulfilled quantity on the release line is increased by the order event quantity. The quantity on the allocation is decreased by the order event quantity. The quantity is reduced from one status and is moved or increased to fulfilled status on a quantity detail record. Order component generates a supply event message to the Inventory component to reduce the inventory by shipped quantity. Order outbound is generated when every item is shipped or picked up and this will include the extended attributes, if any,  passed on order event as well. Publish email service will consume order outbound and generates a shipment confirmation message which is read by an external email system or Active OMNI email component to generate emails to the customer with shipment details. A shipment invoice is created after processing the order event. Inventory Updates For ship and PickUp events, the inventory which was reserved for the respective units is no longer available and needs to be decreased. When these events occur, a supply event message with transaction type "Ship" is sent to Inventory. Upon receiving this message, the available inventory is decreased by the shipped or picked up quantity. For additional details on how Inventory processes the events see the Reservation Guide - Fulfillment (Shipped or Picked up) section. Impacts on Order and Inventory components for a Ship to Store Orders The ship to store flow handles scenarios when a customer wishes to pick up inventory in a particular store, but the required inventory is not currently available in that store. To accommodate the order, inventory is shipped from a location that has inventory to the PickUp store, so that the customer can pick up the order. In the system, each of these quantities has two allocations: one for the shipping location and one for the pickup location. Each of these allocations is released to the corresponding locations for fulfillment. The allocation to the shipping location is eligible for release immediately after allocation, while the allocation for the pickup location can only be released once the inventory has been shipped from the first location. For ship to store orders, the DeliveryMethod attribute is populated as "ShipToStore". The ShipToLocation field on the order represents the pickup store location. Status changes for the order quantities happen differently than with regular single leg orders. Two allocations occur for a ship to store - Merge and PickUp legs For ship to store orders - The status of the first leg determines the order quantity status until "released" (3000) status. After released status, the order quantity updates are based on the updates to the second leg. State Transition for ship to store orders Since there are two allocations for order quantities, the status changes for the order quantities happen differently than with regular, single-leg orders. For ship to store orders, the status of the first leg determines the order quantity status until "released" (3000) status. After released status, the order quantity updates based on the updates to the second leg. For example, assume a ship to store order exists with one line with a ship-to location as Store A. The system creates allocations for DC1 for the first leg and Store A for the second leg. The status of the order quantity is in "allocated" status. The first leg allocation is released to DC1. The status of the order quantity moves to "released". DC1 picks, packs, and ships the quantity and sends order events. The status remains in "released" status. The second leg allocation is then released to Store A. The status remains in "released" status. Store A receives the quantity and the customer comes to the store and picks up the items. The order quantity is updated to "fulfilled" status. Note: For the pickup, leg to move to released status after the merge leg is shipped the following configurations have to be maintained: The Release rules should have Demand Type = Allocation and Future. ( This is the key for ship to store pickup releases) in the release configuration. Inventory Location Attribute "Maintain ASN Supply" must be checked for the ship to store location since we need Intransit inventory for the pickup leg to be allocated against. Note: If the release config has the  Demand Type = Allocation instead of  Demand Type = Allocation and Future, then the Pickup leg will not go to 'released' status automatically when the merge leg is shipped. Instead, the Pick up leg will move to 'Open' status and the line will have to be received using the inventory supply event API. Sample Inventory Supply Event API{ "SupplyEvent": [{ "TransactionTypeId": "Receipt", "LastTransDate": "", "SupplyDefinition": { "ItemId": "Tops-19691-Blue-L", "LocationId": "ecomorg:T1346", "ReferenceTypeId": "ASN", "ReferenceId": "CC10020", "ReferenceDetailId": "Tops-19691-Blue-L", "ParentReferenceTypeId": "PO", "ParentReferenceId": "CC100201", "ParentReferenceDetailId": "1", "SupplyAttributes": { "CountryofOrigin": "US" }, "SupplyData": { "Quantity": "1", "UOM": "U" } } }] } The values of the attributes mentioned in the above supply event API can be obtained from the Inventory supply UI or using the GET Reservation Detail request API. Ship Event - Digital Goods Order event Ship is used to fulfill Digital goods. The order line fulfillment status is updated for the fulfillment of e-goods (for example, egift card was emailed, so the line status is updated to shipped). The fulfilled quantity on the release line is increased by the order event quantity. The quantity is reduced from one status and is moved or increased to fulfilled status on a quantity detail record. Order outbound is generated when every item is emailed and this will include the extended attributes, if any, passed on order event fulfillment info. Publish email service will consume order outbound and generates a shipment confirmation message which is read by an external email system or Active® Omni email component to generate emails to the customer with shipment details. A shipment invoice is created after processing the order event. Note: There will be no impact on allocation or inventory records since these are not created/looked upon for digital goods. Overage (Over Ship) Merchandising & Planning teams might want to pull back inventory from the stores and return to DCs at end of season, as new products are launched when product sales are not as expected, and so on. Similarly, when inventory forecasts are above or below plan at particular stores, inventory is transferred between stores. These orders are shipping inventory or moving inventory from store to store or store to DC. For Pullback and Transfer orders - Stores would want to clear the available inventory. Due to inventory mismatch – stores may end up picking, packing, and shipping more than the order quantity. A new attribute “Overage Allowed” is introduced in the Order Configuration. When the attribute “Overage Allowed” is set to true then the system allows over pick, pack, and ship for the order types associated with the order configuration. Order and Inventory updates will be performed for any overages. Details of the configurations to enable Over-Shipment can be found in Order Orchestration Configuration Turn on "Overage Allowed" in the order config for over shipments It is recommended that payment service is turned off for such order type/order configuration. Order line Quantity detail - Fulfilled qty is updated to accommodate overage quantity. Note: If the config is turned off, we do not allow more quantity to be shipped than what is released during order event processing. OM and SIF Integration When fulfillment is being executed within Store Fulfillment, status and quantity updates are communicated to the Order component via fulfillment outbound messages. These messages are translated into Order Event messages which the order can then process. Based on the update type, a specific type of order event message is created. The following table describes the order events that are triggered by the fulfillment updates. The details of how each order event type updates the order is described here. Multiple messages can be triggered at the same time if there are different kinds of updates during one fulfillment event. For example, during picking, if the store associate finds that not enough inventory is available for a fulfillment order, part of the fulfillment quantity is successfully picked, and the remaining is shorted. Two outbound messages/order events are triggered: one of type "Picked" and one of type "Short" for the respective quantities. When SIF and OM are integrated, each outbound message SIF generates is picked up by the order component and translated into order events which are then processed. For example, in case of a ship or PickUp event, Fulfillment sends an outbound message with Event Name =  Fulfillment Shipped or Fulfillment PickedUp along with change set of records with old and new values. The order will have to compute the delta and determine the quantities and order event type for the order event. Other order event input values will come from the fulfillment outbound message Fulfillment Updates for ship to store orders Once the inventory has been received in the store, the store user stages the items in a separate location until PickUp. The details on receiving the ship to store (customer pickup) order can be found here. Once the customer picks up the inventory, the fulfillment system sends an outbound message update which is translated into an order event of type "PickUp". The order receives the event and makes updates based on the "PickUp" order event. Fulfillment Event Order Event Fulfillment Shipped An order event is created of type "Ship" Fulfillment Pickedup An order event is created of type "PickUp" Note: At the time of fulfillment, if against a correct "ReleaseId", an invalid ItemId is sent by the fulfillment system, then OMS does not validate the ItemId and performs necessary action (pick/pack/short/ship, etc) against the ReleaseId Implementation Flavors How to pass additional information on order event to send an email to customers post PickUp Requirement: Need to communicate the actual pick up person for a pick up in-store order Implementation: Currently, the actual pickup contact on order event under store interaction is stored in the customer interaction component. In order to store this information  on in the order, there are only two options, The order event has extended attributes on the FulfillmentInfo, and the information sent in this section maps back to the fulfillmentDetail extended attributes. This information is published as part of order outbound and the same can be used for customer emails. Implement "Order:Order:UserExit:preOrderEvent" or "Order:Order:UserExit:postOrderEvent" to persist the information on order line extended attribute. This information is published as part of order outbound and the same can be used for customer emails. Is there a way to pass the order event request without the ReleaseLineId available in the Ship event that is sent from an external system? Requirement: Custom change to get the ReleaseLineId when it is not sent from the external system. Implementation: From Base, the ReleaseLineId is mandatory to pass in the ship event, For each release line, the fulfilled/canceled quantity will be updated. Also, the corresponding allocation Id is always present in the release line. Referring to which, the allocation will be fetched and updated. So by removing the validation of the ReleaseLineId, the subsequent flow will not pass through. However, if a business is receiving a ship event without a ReleaseLineId from an external system, custom changes can be done to stamp this data onto the order event, to do so you can intercept the ship messages coming from the host system and generate the order events based on shipped quantity received for each line and post it to the base Order Event receive API. Implementing the Ship-to-Store flow for both DC-to-store and store-to-store scenarios To implement the Ship-to-Store flow for both DC-to-store and store-to-store scenarios, follow these steps: After shipping the merge leg of the Ship-to-Store order, create a fulfillment in the fulfillment system. Receive the inventory for the fulfillment created in the previous step within the fulfillment system. Once the inventory is received, the pickup leg of the order is released to the fulfillment system. Pickup the fulfillment created for the pickup leg of the order and confirm the pickup. Complete the customer pickup process, which will move the order to a fulfilled status.