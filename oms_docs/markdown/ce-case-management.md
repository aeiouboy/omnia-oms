# Case Management

**Permalink:** ce-case-management
**Path:** Manhattan Active® Omni/Customer Engagement/Process & Configuration Guides/Case Management
**Content Length:** 172,649 characters
**Scraped:** 2025-08-09T22:00:43.741053

---

Home ››Manhattan Active® Omni››Customer Engagement››Process & Configuration Guides ››Case Management Case Management Case ManagementOverviewCase StatusCase CreationCase PrefixView Case DetailsManage Columns PopupConfigurationAgent Inbox Edit CaseRe-open Closed CasesPrevent Agents From Working on the Same CaseCase Lock ConfigurationTeam-Based CasesTeam CreationCase Category and Sub-Category SelectionCase Category and Case SubCategory InstructionCase ReasonCase NotesCase Filters Configuration for case filters:Set Default Filters on Case List UIOverdue CasesPhone Number Country Code Capture for Case Creation and EditAbility to View Linked Cases on an Order in Order Status/Edit UIAbility to Add Order Number to CaseBulk Case AssignmentBulk Case CloseAutomatic Case CreationBatch Authorization FailureOrder DelayChatbot MissShipOrder Hold & Order Line HoldConfigurations for Auto Case Creation for Order & Order Line HoldConfigurations for Auto Case Creation for Payment Failure & Order DelayCase Rules to Auto-assign Case Attributes Configuration For Auto Population of Due DateCase Rule Evaluation on Case Imports Agent AvailabilityAgent Availability ChannelsAgent CapacityAgent Capacity ProfilesAgent Capacity ConfigurationRouting Based on Agent Availability/Channel/CapacityQueue and Routing ConfigurationRouting Rules/Criteria:Language-Based RoutingAutomatic Routing of CasesCross Org Support for RoutingExpected Agent Initial Response Time for InteractionsAutomatic BouncingMid-conversation BouncingMandatory Case ColumnsDefining Mandatory Columns for the Case Details UIDisplaying Columns in the Reference Section based on Case CategoryDefining Columns to display in the Reference Section of the Case Details UIConfiguration for Team based casesSample APIAutomatic Case Closure due to Conversation InactivityImplementation FlavorHow to search for users more than1000 in the Cases UIHow to auto populate team on auto case creationAdding new attributes to routing Rules/CriteriaTroubleshootingCase Category and Sub-categoryUnable to see case category or case sub category seed dataCase is imported, but unable to see sub-category on case UITeam-Based CasesUnable to see the assignee in the assignee drop-down even though I assigned them to a team while creating a teamI assigned a user to the team using the user ID while creating the team, but I only see user names while going through the assignee list in the case creation/case edit UIs. Chat Interactions not Appearing in Case Details PageRouting ConfigurationUnable to create interaction routing/queue rules in Queue Configuration UI after upgrading the versionRoutingMid-conversation Bouncing Related Articles Overview Case management involves the process of creating, viewing, and processing customer complaints/requests logged by the contact center agent during the interaction with the customers. The case is a repository of interactions, questions, feedback, service request, or grievances along with details of action taken between the contact center agent and the customer, via different communication channels such as Phone, E-mail, Chat, and Text Message (WhatsApp and SMS).  Cases can be created manually by the contact center agent or created automatically. The system creates a new case when an interaction is routed to the agent in the Agent Inbox (or the system updates an existing case if the customer has an open case). Retailers can also create cases automatically when they want to monitor and detect problems with customer orders before the customer is even aware of the problem. In these situations, an alert should be raised so that the contact center agent can review the situation and intervene before it becomes a larger issue. Cases support the agent to deliver better customer service by providing a queue to work on a daily basis, streamlining customer service activities, and taking appropriate actions to resolve customer service requests. It also helps to increase the business efficiency of the contact center agent by providing data to analyze case resolution patterns of the contact center agent and evaluate them using various efficiency metrics. Note: Cases are organization-specific. If a case is created in one organization, it cannot be viewed or accessed from another organization. Case Status The case status indicates a case's progress in its lifecycle. In addition, case status determines what actions can be taken against a particular case. If a retailer uses interaction routing, the system references a case's status to determine if a new interaction should be associated with an existing case. The Manager Dashboard and SCI reports provide information about agents' workloads and the call center's productivity based on case status. The following statuses are provided: Open - Open status is used for all new cases. In Progress - Agents can set a case to in progress status while they are working on it. Waiting - Agents can use the waiting status while awaiting feedback from a customer. Draft - Additional status that may be used at the retailer's discretion. Closed - Final status for a case when no additional work is required. If necessary, a case may be updated once it is in Closed status. The status may be changed in the event that more work is required. Case Creation Case Creation can happen in the following ways: Manually create a case through the UI using the "Create case" button. Manually create a case through the UI using the Interaction wrap-up window. Create a case using the case creation API  {{url}}/cases/api/cases/cases/save API Automatic case creation when the interaction is routed to the agent and displayed in their Agent Inbox. Automatic case creation for Batch Authorization Failure or Order Delay. Automatic case creation for Order Holds & Order Line Holds. Automatic case creation when customers interact with the chatbot. Refer here for more details. Refer to grants for details on grants for each of the screens and resources. Note: Case values such as case origin, priority, status are system-augmentable data and cannot be removed. However, new values can be added using the APIs. For example: To add a new case origin, the below API can be used: [POST] {{url}}/cases/api/cases/caseOrigin/save Case Prefix When a case is created. It is prefixed with the keyword CASE followed by an auto-generated sequence number (Example, CASE1001, CASE1002, and so on.). Retailers can change this prefix and the sequence using the Case ID counter API. Click here to see an example of the request to change the case prefix. POST :  {{url}}/cases/api/cases/caseIdCounter/save { "Prefix": "MANH", "CurrentSequence": 1139, "Name": "default" } Note: The 'Name' in the above request should always be sent as 'default' View Case Details All cases created by a contact center agent or the system are displayed on the Case Management list page. Cases can be filtered based on the Customer's First Name, Last Name, Assignee, Case Category name, Due Date, Case Status, Case Priority, and so on and additionally, other attributes can be used for filtering the case list. for example, case sub category id. Note: At least one filter (other than the state) has to be applied before clicking the Apply button to view any cases in the Case Management UI The case can be viewed by clicking the View Case Details button on the Case Management Page. The case will be displayed on the View Case page. Along with the case details, the contact center agent can view all the interactions the contact center agent has had in the past with the customer on the case timeline. Manage Columns Popup The Case Management List page includes the ability to define which columns a user wants to see on the page, as well as the order to display them. Column order is defined by user, across all organizations. To define column order, choose the Manage Column button on the Case List action menu (bottom of the page). The system will open the Mange Columns popup. Drag and drop the columns up and down to define their order: the top column appears at the far left of the list. Use the Hide Column to exclude the column from the Case List. Once the user defines their column order, it will persist each time they open the Case Management List, for any organization that they can access. The user can change it at any time. There is no configuration or grants required, since this tool is defined per user. Configuration The Profile Purpose ID: cef::customerEngagementConfig must be mapped from the base profile to the customer's Profile ID to use this feature. Agent Inbox If an interaction is associated with a customer who has previous cases, the agent may access the Case Details UI directly from the inbox for every case associated with the customer. This is especially helpful when the customer has a long-standing concern and the agent wants to understand their history to provide assistance. Edit Case The edit case feature enables the contact center agent to modify all the case fields such as description, notes, resolution name, and priority. The contact center agent can edit the case from the case list page by clicking the Edit button. The contact center agent can also edit the case by clicking View Case Details, and then click Edit on the View Case page. To assign the case, select the assignee field and begin typing the name of a user. As characters are entered, a list of users with a matching name appears. If the user does not have a first name and last name entered into the system, search for the user using an email address. For the case to be resolved, edit the case and select the status as closed. While editing the case, if the agent populates or edits the case category, any instructions associated with the case category are selected automatically and populated on the case. The agent cannot modify or remove the case category instructions from the case once it is populated.  Refer here for more details for case category instructions. Re-open Closed Cases Contact center agents can only reopen or change the status of a closed case if they have permission/grant to do so. Without this grant, agents cannot change the status of a closed case. This permission is needed whenever a user tries to change the status of a closed case by editing the case from the case list page or the case details page. This permission is also needed if the user tries to reopen a closed case through the Text Message screen or the Computer Telephony Integration(CTI) flow, either by turning off the “Follow up” check box or clicking on the More button to change the case status on the interaction wrap-up panel. Note: This permission is only available on the edit flow when the user tries to reopen a closed case and is not applicable when a case is being created for the first time. Prevent Agents From Working on the Same Case Agents will see a warning if they are trying to edit a case that is already being edited by another user. This makes it easier to avoid conflicting updates to cases. You can tell if another agent is working on a case with the help of the warning pop-up. The warning/confirm exit pop-up has two action buttons, i.e. ‘Proceed Anyway’ and ‘Cancel’. Clicking on Proceed Anyway allows the user to go ahead and edit the case even though another user is editing the same case. Clicking on Cancel will take the user back to the previous View Case or Case List screen. The Proceed Anyway button is protected by the “customerengagementfacade::cases::continueEdit“ permission and only users having this grant will be able to “Proceed Anyway'. Users can also set a period of time when the warning pop-up’s lock should expire. For example, agent 1 leaves the browser open but is not actively working on the case. In this scenario, the case should be locked out for edits from other users for the entire time that user 1 is not actively editing the case. Case Lock Configuration The ‘lock’ period in minutes can be set in the Customer Engagement Case Configuration. The lock period can hold 3 values. A valid whole number that indicates the number of minutes that all other users will see the warning message once a case is initially opened for edits by a user. Users can also set the lock period to 0, which means there will be no warning message shown when multiple users are editing the same case. This configuration can be left blank. Leaving it blank or empty means there will be no warning message shown when multiple users are editing the same case. Note: The lock period to show the warning message will auto-expire if the user actually saves or cancels the case edit or if the actual lock period in minutes is completed. The lock period will extend each time a user uses the ‘Proceed Anyway’ button. That is, if the lock period is set as 30 minutes and user 1 edits the case at 10:00 am, then the warning pop-up will show up for all other users that are trying to edit the case until 10:30 am. If user 2 tries to edit the same case at 10:15 am and clicks the Proceed Anyway button, then the lock will be extended by 30 minutes to 10:45 am. The lock period will NOT be erased if the user moves to a new screen without saving or canceling the current case edit or if the user closes the browser or refreshes the page. This feature is also available on the Text message flow when users are trying to edit a case simultaneously from the text message section. If a case is being edited by user 1 and another user tries to edit the same case by accessing the text message from the Messages UI, the Case List, or the Case Details page, then the second user will see the warning pop-up. Not Supported: Concurrency for case edits with Computer Telephony Integration(CTI) flow when the Case Id is sent in the URL Concurrency for case edits on social listening page Indication to user 1 that user 2 has decided to 'Proceed Anyway' with edit of a case that user 1 is editing Expiring the lock if the user closes the browser, refreshes the page, or moves to a different screen while editing a case Team-Based Cases Cases can be assigned to a team. Teams can be created and can also have users attached to them. For Example: The shipment investigation team was created with User A and User B. The fraud team was created by User C and User D. Users A and B can filter for cases belonging to the Shipment Investigations team on the case list page and start picking cases to work on from the list. Similarly, User C and User D can filter for cases belonging to the fraud team on the case list page and start picking cases to work on from the list. Team Creation Teams can be created from the ‘Team' UI by accessing the path ‘Team’ menu entry under the 'Manage Customer Engagement Configuration’. To be able to view teams in your organization, you will have to provide the Organization ID while creating the team. Once the team is created for the organization, users can be assigned to the team by selecting the user Id(s) that will belong to the team. When selecting a team on the case, only related users that belong to the organization that the team belongs to will show up in the assignee drop-down on the Case UI. Note: A team is a profile-based entity and has to be configured to suit the business needs of the client. Refer to Profiles guide to know more about profile-based entities. The team is set to active by default. To make it inactive, the ‘IsActive’ flag can be deselected on the Create New Team UI. Only teams that are active can be seen in the teams drop-down in create case, edit case, or the interaction wrap-up's ‘more’ page. Active and inactive teams can be filtered on the Case list UI. Teams and users can also be modified/deleted from the same page. When a team is created: It can be manually selected and attached to a case through create case, edit case, or the interaction wrap-up’s ‘more’ page. The Team Id entered during creation is displayed in the Team drop-down on these pages. When a team is selected on a case, only users belonging to the selected team and corresponding team organization will be shown in the assignee drop-down selection on create case, edit case, or the interaction wrap-up’s ‘more’ page. The logged-in user can assign any of these associated users (assignees) to a case. The team selection drop-down on the above pages shows results for the latest 1000 teams only. When a team is selected, the assignee on the case has to always belong to the selected team. Modifying the team on a case that already has a different team and an assignee assigned to it will clear out the assignee so that a new assignee belonging to the new team can be selected. Note: If no team is selected in the case details drop-down, a maximum of 1000 users will be shown in the assignee drop-down. If a team is selected, then any number of assignees belonging to the team will be shown in the drop-down. To identify a team as one that is eligible to transfer the interaction from Agent Inbox - enter the following information on the Team record and save it. Attribute Key: Escalation Team Attribute Value: True Note a team which does not have the Attribute Key :Escalation Team and Attribute Value :True configured - will not be displayed in the Transfer popup displayed on click of the Transfer button. Attribute Key : "Escalation Team" Attribute Value : "True" - are mandatory values for transfer feature and any other key & value pair will not make the team eligible for transfer. Case Category and Sub-Category Selection A contact center agent can create a new case via the More button in the Interaction Wrap-up or create a case through Create Case on the case list UI. While creating a case, the contact center agent will have the option to select a case category name and case sub-category name to provide more details on the ticket. Once a category name is selected, the contact center agent can select a sub-category name tied to that specific category. Subcategories are configured by being grouped under a parent category and the UI will only populate the configured sub-category name when the parent category name is selected. Note: The sub-category selection drop-down will always display a maximum of the 1000 latest sub-category names. Case categories and their associated sub-categories can be configured through the Case Category UI. In this UI, you can assign an ID, name, and case category instructions for the new category. Sub-categories can then be set up with the same key attributes as the main case category. This API can also be used to configure additional or edit existing subcategories. API: /api/cases/caseCategory/save Case Category and Case SubCategory Instruction Any standard operating instructions which can be used by the agent to work on a case can be populated on the case category in the Case Category Instructions or the case subcategory in the Case SubCategory Instructions. For example, instructions can be populated to go through a set of verification that has to be completed before applying appeasement for cases where customer are complaining about packages not delivered and lost by carrier. Note: Once the instructions are populated they remain in the case category unless they are removed manually. This instruction will be populated on the case when case category or case subcategory is selected automatically and cannot be modified by the agent. If the instructions are modified/removed, the change will be reflected in the respective case where they are populated as well. If instructions are configured for both case category and case subcategory, the instructions defined for the case subcategory are displayed. Case Reason In addition to the case category and sub-category, a case can also be populated with a "Reason" for which the case was created. The reasonID can be captured from the customer in the interaction (for example Chat) that triggered the case creation. Note: Currently, the system supports capturing a pre-configured reasonID from the customer on Chat interaction. The case reasonId will be automatically populated by the system if the reason was captured in the interaction that gets associated with an existing case or if the case is created due to a new interaction. The case always reflects the reasonID captured on the most recent interaction that was associated to the case. The case reasonID can be used to configure automatic routing of a case and interaction associated with it. Case Notes Contact center agents can add additional notes to the case based on conversations with the customer at various stages of the case. With the "notes" functionality, the agent will have the ability to create and capture a case note from the View Case Details UI, persist the note in the backend and display/modify the note in the case timeline. The notes can be seen as a part of the case in the case timeline section. With each note you will be able to see the entire note, created username and created timestamp. The notes will also have an edit option that the user can click on if the user has permission to edit. If not, the edit button will be grayed out. An edited note will also have information like "updated by username" and "updated timestamp" in the note. Note: If the user does not have the required permission/grant to add a note, then the entire add note panel will not be visible to the user in the case timeline section. Case Filters Contact center agents can save filters on the case list UI as a private filter or a public filter. A visual indicator with the ‘My Filters’ and ‘Shared With Others' sections is available within the saved filter panel for contact center agents to easily differentiate between the two. Filters are organized in numeric-alphabetical order. 'My Filters' can only be seen and used by the user that created the filter. 'Shared with others filters' can be used by any other user accessing the organization. To save the filter as a public filter, verify the 'share with others' checkbox is selected (on the save filter pop-up). Configuration for case filters: The ability to modify or delete shared filters is grant protected. This ensures that commonly used communal filters are not inadvertently modified or deleted. To allow an agent to delete a public filter, they need the following grant: customerengagementfacade::cases::publicfilter::delete. To allow an agent to edit a public filter, they need the following grant: customerengagementfacade::cases::publicfilter::edit. To save the filter as a public filter, select the 'share with others' checkbox on the save filter pop-up. To update a filter after creation, the user can open the filter, edit the filter criteria and save the filter again with the same name. Note: Public filters owned by other users cannot be made private by a different user. Saving a public filter with the same name as an existing public filter will update the old filter with the latest changes, assuming the agent has the grant to update a public filter. The system will currently not throw an error for duplicate filter names. The old filter will be updated with the latest updated filter criteria. Set Default Filters on Case List UI Contact center agents can set default case filters that get automatically applied each time they land on the case list page. A default filter can be set by clicking the star icon next to the private/public filter on the saved filter section on the Case List UI. On setting a default filter, the star icon next to the filter name can be seen in gold on the saved filter section. To remove a default filter being applied, the user can click on the golden star again. This will remove the default filter and the star icon will revert to a black outline to indicate it is NOT a default filter. Note: • The default filter can only be set for the logged-in user. • If there is no default filter, the case list page will load with no cases pre-populated and the user will have to select at least one filter criteria and click on Apply to view case results. • If a user's default filter is deleted by the user itself or any other user (because it’s a public filter), then the case list page will load the same way it would load if there was no default filter. Overdue Cases While displaying results for cases in the Case List UI, the overdue cases, that is, cases where the due date is past the current date and time will be highlighted in red so that users can quickly identify overdue cases from the list of displayed cases. Note: Overdue cases will be highlighted in red only for cases in the Open/Inprogress and Draft status. Closed cases will not be highlighted in red. All due date time display is based on the time zone of the user. Users can also use the "Past" filter selection in the due date filter on the Case List UI to filter out only the overdue cases. While using this filter selection, results will display all cases where the due date is past the current date and time (that includes cases in Open/In progress/Close and Draft status.) Users can filter out cases based on the Status filter to display overdue cases only for specific statuses. Phone Number Country Code Capture for Case Creation and Edit Refer Customer Service Capture Phone Number Country Code for summary and configuration here. When the display phone prefix is enabled in call center configuration, a drop-down option will become available for all case phone number fields. These phone number fields can be edited or provided during case creation or editing. When a case with a new customer is created, the prefix will default to the country code of the configured default country in call center configuration. When a case is being edited, the application displays the phone number in edit mode in the UI with country code separate from the phone number. Because the phone number is saved in e164 format in the database, the GET Case API has logic to separate the concatenated phone number into two values: customer phone country Id and customer phone without prefix. The logic to separate the customer phone value in the case details into customer phone country Id and customer phone without prefix is as follows: If the phone code for the country of the case customer address matches the first digit(s) of the phone's value, then the first digit(s) is separated into the customer phone country Id field in the response. If there is no customer address provided in the case details or the code for that country does not match the first digit(s) in the phone number provided, then the system uses the country from the customer's 'is preferred' saved address and matches the first digit(s) of the phone value, and then the first digit(s) are separated into the phone country Id field in the response. If there is no 'is preferred' address saved on the customer or the code for that country does not match the first digit(s) in the phone number, then the system uses the country on the first customer address saved. If the country phone code for this country matches the first digit(s) of the phone value, then the first digit(s) is separated into the phone, country Id field in the response. If there is no match based on the above logic, the country code is null and the phone number remains as-is. Agents can edit the phone number and provide a country code if necessary. Ability to View Linked Cases on an Order in Order Status/Edit UI Contact center agents can view a list of related cases on an order by accessing the Related Cases field in the Order Details section of the Order Status and Edit Order page. The latest case ID is always shown next to the field in a hyperlinked format, clicking on the case navigates to the case details page in a new tab. If there is more than one related case for an order, the drop-down shows a list of all related cases (latest to oldest). Clicking on any case will navigate to the case details page on a new tab. Note: The related cases attribute is protected by the 'customerengagementfacade::cases::relatedCases' grant. Users that do not have this grant will not be able to access the related cases links populated for the order under related cases. Ability to Add Order Number to Case An order number can be assigned to a case to help manage issues related to orders that require case creation. The order number can be manually entered into the case via the Case List UI. After selecting a case and clicking the 'EDIT' button in the bottom right, the order number can be added. This order number will then appear in the same row as the relevant case on the Case List UI and will be displayed as a hyperlink to the order details page for that order. The order number can also be automatically populated in the following scenarios: An order is created through an interaction with the chatbot, triggering case creation. A case is automatically created due to a payment failure. A case is automatically created due to an order delay. Bulk Case Assignment Sometimes, a manager needs to move several cases from one agent to another. This is commonplace when agents leave the organization, are on vacation or otherwise unable to address their caseload. Managers may assign cases individually, or they can perform a bulk case assignment from the Case List UI. When a manager chooses to perform a bulk case assignment, the system will assign/re-assign the selected cases. The cases can be assigned to a team, to an individual agent or to self. The ability to perform bulk case assignment is grant protected; see the UI Resources page for more information. Please note if a case is reassigned, and it has an active interaction in the Agent Inbox, the interaction itself will not be reassigned. When the case is closed, the case details interaction transcript includes the name of the agent who assisted the customer. For example, Sally is assigned case 123; it has an active live chat in the Agent Inbox, which Sally is working on. The manager bulk assigns the case to Bob. When the case is closed, the case is assigned to Bob. The Case Details' transcript between Sally and the customer identifies Sally as the agent. Note: Up to 200 cases at a time may be selected for bulk case assignment. Bulk Case Close If the manager needs to close multiple cases at one time, perhaps to clear old or erroneous cases, they can choose to use the bulk close action available on the Case List UI. The system will require the manager to provide a resolution; that resolution will apply to all the closed cases.  The manager can also provide a resolution description, if applicable. Any other fields configured as required to close a case (or any other status) will not be required as part of the bulk close. The ability to perform a bulk case close is grant protected; see the UI Resources page for more information. Note: Up to 200 cases at a time may be selected for bulk case close. Automatic Case Creation There are some scenarios where retailers may want to monitor and detect problems with customer orders before the customer is even aware of a problem. In these situations, an alert should be raised, so a contact center agent may review the situation and intervene before it becomes a larger issue. Currently, automatic case creation is supported for all payment failures: Few Examples are: Batch Authorization Failure Order Delay Batch Authorization Failure In the event of an authorization failure, typically retailers must contact the customer to get an alternate form of payment in order to proceed with order fulfillment. There are two common scenarios where a batch authorization may fail: Re-authorization - When an authorization record nears expiry, the system may attempt to re-authorize the credit card before goods are shipped and settlement is attempted. This authorization request may sometimes fail (i.e. the credit limit reached on the card, the card is flagged for fraud, and so on) Advance Authorization - In partial shipment scenarios where part of an order is shipped today and settled, for certain card types, the retailer may need to get fresh authorization for the remaining unsettled amount on the order. This new authorization may fail for similar reasons (i.e. credit limit reached, card flagged for fraud, and so on) In both situations, retailers may want to create a case automatically for follow-up with the customer. This way, contact center agent teams can monitor a queue of cases created by the system rather than monitoring filtered order lists. Creating a case also has the advantage of tracking the work done by contact center agent teams to resolve these issues, such as logging conversations with customers and updating the case and resolution status.  Real time authorization failures such as when creating an order through the call center UI or when importing an order cannot create cases automatically. The diagram below explains the process and sequence of checks done during automatic case creation for payment failure: For any batch authorization failure in the payment component, the component checks to see if the interaction mode is "Customer Not Present = Y". If so, an event is raised to the case component. From here, the case component checks to see if the configuration is enabled for the Payment Failure event type. If so, the case component checks to see if an open case already exists for the given order where the case category is "Payment Failure". If a case already exists, a redundant case is not created. If a case does not exist, the system automatically creates the case with relevant details about the customer and order. The following details are captured on the automatically created case: Customer ID Customer Name, Email, Phone Order Number Case Category = “Payment Failure” Date/Time of payment failure Case Title = “[Case Category] - [Order Number]” Example: “Payment Failure – CC131121” Case Description = Sentence with “[Case Category] occurred for Order [Order Number] on [Date] at [Time]” Example: “Payment Failure occurred for Order CC12412411 on 1/23/18 at 12:31 pm” Refer here for more information on populating teams for auto case creation. Order Delay To make sure orders are fulfilled in a timely manner, retailers may configure order monitoring rules to create a case whenever an order does not reach an expected milestone by a configured time. If the milestone is not met, then an Order Delay Event is triggered and if enabled, a case is automatically created in the case component with details about the order delay. The diagram below details the process of automatic case creation for order delay. The Order Monitoring (milestones) framework is used to trigger the Order Delay event. The milestone framework supports monitoring of order header status for created, allocated, released, and fulfilled statuses. The order delay event can be configured as part of any of these milestones (including multiple statuses at one time). Once the Order Delay event is raised, the case component checks if the configuration is enabled for the event type to create a case. If so, the case component checks to see if an open case already exists for the order with a case category of “Order Delay”. If an open case already exists, the case component does not create an additional case to avoid creating redundant cases. If there is not an open “Order Delay” case for the order, then a case is created with the following details: Customer ID Customer Name Email Phone Number Order Number Case Category = “Order Delay” Date/Time of Order Delay milestone Case Title = “[Case Category] - [Order Number]” Example: “Order Delay – CC131121” Case Description = Sentence with “[Case Category] occurred for Order [Order Number] on [Date] at [Time]” Example: “Order Delay occurred for Order CC12412411 on 1/23/18 at 12:31 pm” Chatbot MissShip When the chatbot generates return or exchange orders for customers, a closed case is automatically created. Below is the basic flow of how this process works. The case created by the chatbot will have the following values populated: Customer Name Customer Email Customer Phone Number Summary Example: 'The customer claimed their item was damaged, and the chatbot created a replacement.' Note: The summary populated is AI-generated and will specify the reason why the chatbot created the case along with the resulting order type (Refund or Replacement). Order Number Case Category = "MissShip" Case Description Order Hold & Order Line Hold If an order or order line is put on hold, retailers can set the system to automatically create a case to ensure that the issue is addressed immediately. The case will include details from the order, such as the Order Id, Customer First Name and Customer Last Name. The case category is defaulted to Order/Order Line Hold. One case is created per order ID/hold type/origin ID. Some rules for how the system creates the cases for order holds: If an order has multiple hold types, multiple cases are created. This ensures that the correct team is working on each hold. For example, if a case is created with Fraud and Customer Info not Available, two different teams will address those concerns. The same holds true for order lines: one order line may have multiple holds types. While multiple holds are uncommon, the situation may arise. If multiple lines on the order have the same hold type, the system will create one case when the record share the same value, such as created date. This minimizes redundancy as resolving the issue for one order line often results in removing the hold for all order lines. For example, the AddressVerificationFailed is defined at the line level; if an order has 10 lines, the Hold state is removed for all 10 lines when it's fixed for one line. This minimizes maintenance time for agents, as they don't have to clean up redundant 'dead' cases. Configurations for Auto Case Creation for Order & Order Line Hold Note: Before beginning, copy the following from the base profile to your profile: cas::caseCategory, cas::caseConfig. Perform a clear cache in MUP UI and refresh the Auto Case Creation Configuration (in MUP UI). Required: On the Hold Type configuration, enable 'Publish Case' Checkbox for the required hold types. Required: On the Order configuration, for Apply hold modtype, select Publish Case option as 'Case creation for hold'. Not Required for Case Creation, but needed for accurate routing: The system includes seed data for the following Case Category: Order/Order Line Hold. Create case subcategories for this record for each of the hold types (that will generate a case). For example, if the Hold Type ID is "AddressVerificationFailed", create a case subcategory = Address Verification Failed. Complete this for all Hold Type Ids that you want the case to be routed to a particular team, such as Fraud, PaymentFailure, etc. Required: Open the Auto Case Creation Configuration in MUP UI. Choose the record where Event Type = Order Hold; select the 'Is Enabled' Checkbox. Not Required for Case Creation, but required to link the Hold Type to the Case Sub Category: Open the Auto Case Creation record where Event Type = Order Hold. Select the Event Sub Type Config + (at the bottom of the page). You will use this to link the Hold Type ID to the Case Subcategory. In the Event Sub Type column, provide the Hold Type Id. In the Case Subcategory column, provide the case subcategory you want to link to the Hold Type ID. For example, set the Event Sub Type to AddressVerificationFailed and the Case Subcategory to Address Verification Failed. This informs the system to set the case's subcategory to Address Verification Failed when the Hold Type ID is "AddressVerificationFailed". Not Required for Case Creation, but needed for accurate routing: To route the cases to the correct team of agents, create a record in the Queue Configuration. Set the Team Assignment (Not to Agent) radio button to Yes. Identify the team(s). Set the Attribute section to identify the case subcategories that the team will support. For example, if the team works on address verification issues, set the Attribute to case. Case Sub Category = Address Verification Fails. Not Required for Case Creation, but helpful for order line holds: Use the extensions for ItemId and Order Line Number on the Case Details screen; the system will populate these for order line level holds.  Note that if multiple order lines are included in the case, the system will display the last item ID and Order Line Number for reference. Configurations for Auto Case Creation for Payment Failure & Order Delay Enable automatic case creation in the case component: To enable automatic case creation, the Auto Case Creation Config entity must be updated to make the "isEnabled = true" for the event types which should create cases automatically (that is, payment failure or order delay) using the API: /cases/api/cases/autoCaseCreationConfig. By default, these configurations are disabled. To finish configuration for automatic case creation for order delay, an order monitoring rule must be configured to trigger an "Order Delay" event. This monitoring rule can be configured for any of the available statuses in order monitoring configuration. Note that there is no additional configuration required in the payment component for automatic case creation due to payment failure. Only the Auto Case Creation Config mentioned above must be enabled. Case Rules to Auto-assign Case Attributes With the help of the team and due date assignment strategies, users can create rules to auto-assign teams to cases based on case category and sub-category and also auto-assign a due date to cases based on case priority. These rules can be sequenced based on priority and also made active/inactive when needed. Base seed data is needed to be able to see the team and due date assignment strategies. This seed data is defined by base and a profile copy will have to be done for users to see this in the respective organization and use the auto-assign team feature. As we are copying these 3 profiles, cas::rules, cas::caseConfig and cas::config, the data of associated entities for these profile purposes will also get copied/overridden to your organization. Click here to know how to do a profile copy for case strategiesFor the Org where the case rules need to be configured , ensure the following profile purposes are available cas::rules cas::caseConfig cas::config Steps to copy profiles: Navigate to the Provisioning profile UI. If you want to configure the rules for 'Org1', In the provisioning profile UI, select 'Org1', view and go to the provisioning profile detail tab, and check for cas::rules, cas::caseConfig, and cas::config. They should be available. Once these profile purposes are available for the org. Copy the profile data for these profile purposes from the base profile Go to provisioning profile UI Select Base Default Provisioning profile Click on View, and go to provisioning profile detail Copy the 3 profile purposes by clicking on the double rectangle copy icon for these 3 individual profile purposes - cas::rules, cas::caseConfig and cas::config to your org profile(In Ex : Org1). For more details on provisioning profiles please refer to the Profiles guide Configuration For Auto Population of Due Date Navigate to the Due Date Assignment Strategy config. (The user should have the required grants to view the Due date Assignment Strategy ID menu entry. ) Select the Due Date Assignment Strategy and click on add/edit rules. Before configuring the rules, users must select the evaluation criteria for the rules within the Due Date Assignment strategy. After the evaluation criteria is set, users can create rules, set the due date that has to be assigned to the case and configure the rules that have to be met for the due date assignment. The due date can be set only in hours or minutes or in a combination of hours and minutes. Note: Rules for automatic due date assignment can only be created based on the case priority. Example : If priority is critical, set due date = 30 minutes. If priority is high, set due date = 4 hours. If priority is medium, set due date = 24 hours and 30 minutes. Note: For case create flow, the current time is considered to populate the due date and for the edit flow, the case-created time is used to calculate the due date. The due date is stored at UTC in the database but is displayed in the users' time zone on the UI. While working on the case on the UI, the rule will be evaluated whenever the user selects the category and/or subcategory when a case is created or edited. The Add New Grouping button can be used to group multiple sets of rules. If required, multiple attributes can be grouped to decide an action. (currently, we have only 1 attribute (case priority), so making a group may not be of much use). But in general, grouping acts as an ‘AND' condition. Example, (A and B) AND (C or D) Case Rule Evaluation on Case Imports The auto-population of teams and due date based on the case rules is also supported in the import flow. To auto-populate attributes and have the evaluation logic, the below action has to be sent as part of the case import. If the action is not sent, then the case rule will not be evaluated. If the action is sent, then the case rule will always be evaluated, even if the incoming case has a pre-defined team or due date. ”CaseActions” : { “EvaluateRules“ : true } Note: Bulk imports are not supported.  Currently, we support only the rule evaluation on single case creation and updating using imports. For all imported cases: If a case is received without a pre-populated team or due date, and the case action 'EvaluateRules' is set to true, the Automatic Team/Due Date Assignment Strategy will evaluate and automatically populate the team and due date on the case. However, if the case already has a predefined team and due date, they will always take priority and the rule for re-populating them will not be evaluated. If an existing case already has a team populated, and the user wants to override it based on the defined rule, the team should be sent as "Team": null and the "CaseActions" should have "EvaluateRules" set to true. Note: All the rules for team and due date assignment should be created via UI only and API is not available Agent Availability Agent availability indicates whether an agent is available to assign interactions or not. Two default statuses, namely "Available" and "Unavailable," are provided out of the box for every agent. The availability status will be displayed for every user on the customer engagement screens next to the agent name - with green color for available status and red color for unavailable status. Alternative custom availability status can be defined only for "Unavailable" status and will be displayed in a red color. Note that the agent availability status is protected by a grant. Note: Custom statuses cannot be created to indicate availability The agent can set the availability status by clicking on the drop-down button and set their availability status by selecting the appropriate availability status radio button. For the Available status, agents can specify the interaction type for which they are available by selecting the specific interaction type below the Available status. CSR managers have the capability to override the availability status for agents, and this can be done from the performance section of the CSR manager dashboard for every other agent. Interaction limits can be set for different types of interactions, and these limits will be visible in the "Available" section of the status UI for each user and the agent can specify the status for each interaction type. Note: When an agent becomes available, the system will try to assign interactions currently waiting in the queue/s of the team/s to which the agent is associated with, as per the capacity defined for the agent automatically. When an agent becomes unavailable, the system will automatically un-assign the interactions assigned to the agent and re-assign to other available agents in the same team to which the agent belongs to, provided they have capacity for the interaction type. If no agents are available at the time or do not have a capacity for the specific interaction type, the interactions will be waiting in the queue for agents to become available with adequate capacity for the given interaction type. Agent Availability Channels The Agent Availability popup includes the interaction channels that the agent is assigned to support. The following channels can be assigned to an agent: Email, Chat, Text. If the agent has the required grant, they can select or deselect channels; during routing, the system will only assign them interactions that are selected. If the agent does not have the required grant, they cannot change their assigned interaction channels. The agent must have the following grant to select or deselect their interactions: customerengagementfacade:interactionavailability:edit Note: a Manager can also select or deselect interaction channels for an agent from the Manager Dashboard. Agent Capacity Agent Capacity refers to the maximum amount of interactions that an agent can handle at any given time for each interaction type. For example, a lower tire agent who is not so experienced can handle a maximum of 3 chats at any given time, but a well experienced agent can handle 5 chat interactions at any given time. Capacity has to be defined for each individual agent in the system who can be assigned an interaction to work on, for each interaction type. Agent Capacity Profiles Retailers can define an agent capacity profile configuration that can be used for defining capacity for a group of users/agents. The following information is required to be entered for creating an Agent Capacity Profile: Agent Capacity Profile Name (mandatory) Interaction Limits (maximum capacity for the interaction type) Interaction Type (type of interaction). Values are Chat, Email, Text Message. Please note that Text Message includes SMS Messages and WhatsApp messages. Limit (maximum capacity for the interaction type) Note: Just creating an Agent Capacity Profile will NOT have the maximum capacity defined for the users/agents. A separate step for applying the Agent Capacity Profile has to be performed on the Agent Capacity Configuration UI. If a retailer wants to apply a particular agent capacity profile configuration to all the users/agents existing in the system across all the organizations, the retailer can click on "Apply to all users" button on the agent capacity profile configuration. This will ensure that all the users/agents existing in the system across all the organizations have the agent capacity profile configuration applied, along with saving the capacity profile configuration. Once the agent capacity profile configuration is applied to the user/agent, the system will consider the maximum capacity defined for a specific interaction type in the agent capacity profile configuration as the maximum number of interactions that the agent can handle at any given time for a specific interaction type. Modifying the capacity in the capacity profile will not have any retrospective impact on the routing process. The changes will be effective only when an interaction gets routed to a user/agent impacted by the capacity profile changes. Provide the below-mentioned grant for accessing the menu omui::casesandinteractions::menu::UserCapacityConfiguration customerengagementfacade::casesandinteractions::interactioncapacity Agent Capacity Configuration On the Agent Capacity Configuration UI, retailers can define the maximum capacity that a user/agent can handle for Chat, SMS (supports WhatsApp and SMS messages) and Email either by associating an agent capacity profile to the users or the maximum capacity can also be defined individually for each user, independent of any agent capacity profile. Note: If 'Apply to all users' button is clicked on the agent capacity profile, the profile is already associated with all the users in the system across all the organization and the step of assigning the profile to individual users is not required. To display the users existing in the system across all the organizations in the system, enter the wild card character '*" in the users search box and click the Apply button; the UI will not be displaying any records in the list to begin with. Users can also be filtered on the agent capacity profile associated with them by selecting the agent capacity profile and clicking on the Apply button. To assign a new capacity profile to one or more users, select the users and click the Assign To Capacity Profile button, select the capacity profile from the drop-down on the popup and click the assign to profile button on the popup. The new capacity profile will be assigned to the selected users and the current capacity profile will be unassigned. To define the capacity for each user, click the Assign Individual Capacity button after selecting one or more users and enter the max chat capacity, max SMS capacity and max Email capacity for the selected users and click the assign individual capacity button to complete the action. Once a user is assigned an individual capacity, any capacity profile assigned to the user is removed from the user. Note: The individual capacity cannot be defined partially for an individual interaction type; the user can be either associated with a capacity profile or will have an individual capacity defined. If capacity is not defined for an interaction type, it will be considered as zero (0). Note: Capacity defined for an agent is for the entire organization hierarchy and is not limited to the organization where the agent capacity configuration is created. While defining the capacity, consider the max capacity that the agent can work on for a specific interaction type across interactions/cases assigned to the agent created in all the organizations to which the agent has access. Increasing or decreasing the capacity for an individual user will not have any retrospective impact on the routing process. The changes will be effective only when an interaction gets routed to a user/agent impacted by the change. User interaction limits (capacity) are dynamically adjusted in response to specific user actions. When a customer issue is assigned to a user, the limit is increased, and conversely, it is decreased based on certain actions. For instance, in the case of text messages, chat, and social interactions, the limit decreases when the user concludes the conversation and submits the wrap-up. On the other hand, for an email assigned to a user, or a case with no interactions is assigned to a user, then the interaction limit decreases upon the closure of the corresponding case. Note: when interaction is wrapped-up by the Agent and the capacity is released - the system will automatically try to assign interactions currently waiting in the queue/s of the team/s to which the agent is associated with, as per the capacity available for the agent automatically. If a case is assigned to a user/agent manually, the system does not have any mechanism to check the availability/capacity for the user/agent and the system also does not consume the capacity for the same. It is mandatory to add the user to at least one team for his capacity to be considered for routing; a user who is not assigned to any team will not be considered for routing the interaction. Provide the below-mentioned grant for accessing the UI customerengagementfacade::casesandinteractions::interactioncapacity Routing Based on Agent Availability/Channel/Capacity Cases and interactions can be routed to specific queues or specific users using the queue and routing feature in customer engagement. Queue and Routing Configuration Navigate to 'Menu > Manage Customer Engagement Configuration > Queue and Routing Configuration' to create and customize queues and routing rules. Refer to Queue Configuration for more details. This configuration module facilitates the creation of queues and the definition of routing rules, allowing seamless categorization of customers into their respective queues. Agents can access cases using the Queue filter in the case list UI. Additionally, this configuration tool provides the capability to associate one or more teams with a queue. When a case is routed to a specific queue, the system intelligently selects an agent from the associated teams. This assignment is based on the agent's availability status and their current workload, optimizing the allocation of cases in accordance with real-time agent capacity. A queue configuration cannot be created without any teams configured in it. If a user/agent belongs to multiple teams configured in the queue configuration, the first team will be considered for populating the team in that case. Any existing queue configurations with the User Groups assigned to them have to be deleted and created again with Teams selected on it. Any queue configuration with a user group assigned to it will not successfully route any interaction/case and will result in failures. Note: Queue configurations are internally sorted/prioritized with the most recent queue configuration rule having the highest priority. Note: Queue and Routing Rule Configuration are prioritized with the most recently created Queue and Routing Rule Configuration record having the last priority and the Queue and the first Routing Rule Configuration created having the highest priority. The priority can be changed on the QueueConfig UI by selecting the Queue and Routing Rule Configuration record displayed on the UI and dragging it up/down to change the priority. If agents of any team are not required to handle fresh interactions coming into the system, since the team is meant only for escalations and or specialized assistance and is reserved only for interaction transfers, do not select such teams in the Queue and Routing Configuration, so that the routing engine does not consider that team for assigning incoming interactions. Team Assignment (Not to Agent): Routing can be used to assign an agent to the case or just assign a team to the case. If the queue configuration has the Team Assignment (Not to Agent) selected as Yes, routing will only assign the case to a Team configured on the queue configuration and will not assign an agent from the team. The default for Team Assignment (Not to Agent) is No/False, that is, the routing will try to assign the case to a specific agent available out of the teams configured in the queue configuration. If Team Assignment (Not to Agent) is configured as Yes/True, it is advisable to have only one single team configured in the queue configuration so that the system knows exactly the team to which the case needs to be assigned to. If multiple teams are configured on the queue configuration, the system will assign the case to the very first team configured on the queue configuration. Team Assignment (Not to Agent) = yes - can be used as an alternative for automatic team assignment that has been depreciated. Note: Team Assignment (Not to Agent) can be used only for interaction type Email, where the agent is not required to immediately answer to a live interaction type like chat. If Team Assignment (Not to Agent) is configured as Yes/True - for a live interaction type like Chat or SMS (WhatsApp and SMS), the live interaction will be lost, and the agent will not be able to complete the conversation in the Agent Inbox. Routing Rules/Criteria: After configuring the team(s) and Team Assignment (Not to Agent) option, the rules or criteria that have to be evaluated by the system to route the incoming case/interaction to the agents/ team configured in the queue configuration has to be specified. The below-mentioned attributes from case and interaction can be used for defining the rules: cases.Case Category cases.Case Origin cases.Case Sub Category cases.Reason Id interaction.Customer Id interaction.Interaction type (isNull OR isNotNull) interaction.interactionType.Interaction Type Id (please note that Interaction Type = TextMessage supports SMS Messages and WhatsApp Messages) interaction.AI Sentiment Score Rules configured with interaction attributes will be evaluated only if the case has an interaction associated with it; if the case does NOT have any interaction associated and rules are configured using interaction attributes, they will be evaluated as false. Similarly, in some scenarios, a case may not have all the attributes populated on it, like case category or case subcategory, and may get evaluated as false. In addition to the above-mentioned routing rules/criteria attributes available out of the box, any existing out-of-the-box attributes, in cases entity including any extended attribute defined in the cases entity can be added to the routing rules/criteria by adding the required atrributes in the available attributes. Please refer to Implmentation Flavour section for adding new attributes to routing rules criteria The Add New Grouping button can be used to group multiple sets of rules. If required, multiple attributes can be grouped to decide an action. Grouping acts as an ‘AND' condition. For example, (A and B) AND (C or D) Examples of Queue Configurations: Scenario 1: I want to import Email interaction with a case and route it to a team depending on the case category and case subcategory populated on the case. I do not want the case to be assigned to a specific agent in the team. Queue Name Coupons Teams Coupons-Email Team Assignment (Not to Agent) Yes Match All/Any of the following conditions All Rules: Attribute Operator Value Rule-1 cases.Case Category = Coupons Rule-2 cases.Case Origin = Email Rule-3 interaction.interactionType.Interaction Type Id = Email Scenario 2: I want to route all live chat interaction to a specific agent in the first tire customer support team. Queue Name CSR-T1-Chat Teams CSR-T1-Chat-G1, CSR-T1-Chat-G2 Team Assignment (Not to Agent) No Match All/Any of the following conditions All Rules: Attribute Operator Value Rule-1 interaction.Interaction type isNotNull - Rule-2 interaction.interactionType.Interaction Type Id = Chat Scenario 3: I want to route internally created cases without interaction to a team depending on the case category and case subcategory populated on the case. I do not want the case to be assigned to a specific agent in the team. Queue Name Coupons Teams Coupons-Email Team Assignment (Not to Agent) Yes Match All/Any of the following conditions All Rules: Attribute Operator Value Rule-1 interaction.Interaction type isNull - Rule-2 cases.Case Origin = Internal Scenario 4: I want to route cases created with reasonId "Cancelation" and interaction type Chat to an agent in the cancelation team. Queue Name Coupons Teams Coupons-Email Team Assignment (Not to Agent) Yes Match All/Any of the following conditions All Rules: Attribute Operator Value Rule-1 interaction.interactionType.Interaction Type Id = Chat Rule-2 cases.Reason Id = Cancelation Scenario 5: I want to route interactions that have Gen AI generated customer sentiment values less than 3 to agents in the experts team. Queue Name Experts Teams Experts Team Assignment (Not to Agent) No Match All/Any of the following conditions All Rules: Attribute Operator Value Rule-1 interaction.interactionType.Interaction Type Id = Chat Rule-2 interaction.AI Sentiment Score < 3 If queue and routing configuration rules are configured to route depending on the interaction reason (cases.Reason Id); it is advised to have all the interaction reasons configured in the queue and routing configuration rules so that all the interactions (chat interaction) have a matching queue and routing configuration rules. If a reason 'None' is configured in the interaction reasons, have a queue and routing configuration rule defined for cases.Reason Id = None as well. Language-Based Routing Language-Based Routing ensures that customer interactions are assigned to agents who speak the customer’s language, improving communication and the overall experience. When a customer initiates an interaction via chat, Message (SMS or WhatsApp), or email, the interaction language is captured and used to route the interaction to a qualified agent. For chat, the retailer provides the language when initiating the interaction. For email, the system automatically detects the language. For text messages, the language is identified based on the phone number used. Once the interaction reaches the appropriate queue, it is assigned to a team based on queue rules. The most suitable agent is selected based on their availability and capacity within the team. If language-based routing is enabled, the system also considers the agent’s language in addition to availability and capacity when assigning the interaction. Note: Language-based routing is only supported for Manhattan Active® Omni-supported Locales. Refer to the supported locales section in the translation guide for more details. Agent/Uer locale Configuration With language-based routing, the incoming interaction language is matched with the agent's user locale to identify which user is most comfortable with the language of the interaction, ensuring it is routed to the appropriate agent. The user locale configuration can be set in the user settings under the available locale section. Chat Interactions Retailers must pass the locale ID through the URL when connecting to Manhattan Active® Omni for live chat. Refer to Language-Based Routing Configurations. Example URL: https://{{env}}/selfservice/ui/app/chat/dsschat?orgId={{orgid}}&locale=fr Email Interactions For email interactions, enable the Detect Locale flag in the Interaction Configuration. This allows the system to automatically determine the language of incoming emails and route them accordingly. Refer to Language-Based Routing Configurations Text (SMS and WhatsApp) Interactions For text interactions, retailers must map each phone number to a specific language in the Interaction Org Mapping configuration. This applies to SMS messages and WhatsApp messages). Refer to Language-Based Routing Configurations. Example: If a customer sends a message to a phone number mapped to the Spanish locale, the system will: Identify the appropriate queue. Route the interaction to an agent proficient in Spanish. Note: Manual Transfer of Interactions: When manually transferring interactions, the queue/language preference will not be evaluated, as manual transfers override automated routing logic. Fallback Mechanism: If no agents are available in the manually selected team, the interaction will return to its original queue, where all initial queue rules (including language-based routing, if enabled) will be re-evaluated. Language Availability in Queues: Once a queue is evaluated and a team is identified, if language-based routing is enabled, and if agents within the team that speak the required language are not currently available, the interaction will remain in the queue until an agent with the required language becomes available. The system will not default to any other language. Automatic Routing of Cases When interaction is created in the system, a new case is created. The case is submitted for automatic routing if queues are defined in the system. At the end of the routing process, the case will be assigned to a specific queue, team and specific agent and the respective information is populated on the case. Once an interaction/case is assigned to the agent, the agent should be able to start working on the case. Queue configuration can also be configured to assign a case to a specific team but not to a specific agent. In that case, routing will assign the queue and team to the interaction/case and the agents can select the cases to work on manually from the case list. Routing an interaction/case to a specific team but not to a specific agent will not work for live interactions like Chat and Text Messages (SMS and WhatsApp). It can be configured for non-real-time interactions like Email. When a new interaction is linked to a pre-existing case with an assigned user, the system conducts a check to ascertain whether the current assignee is still available and possesses adequate capacity to handle the additional interaction. If the assigned user is unavailable or has reached their maximum interaction limit, the case will be reassigned to a new user. Subsequently, the interaction limit for the newly assigned user will be re-evaluated based on the specific interaction type. Note: Queue and Routing Rule Configuration are prioritized with the most recently created Queue and Routing Rule Configuration record having the last priority and the Queue and the first Routing Rule Configuration created having the highest priority. The priority can be changed on the QueueConfig UI by selecting the Queue and Routing Rule Configuration record displayed on the UI and dragging it up/down to change the priority. The routing logic will evaluate the Queue and Routing Rule Configuration records in order of the same priority if there are multiple Queue and Routing Rule Configuration records configured in the system. If multiple Queue and Routing Rule Configuration matches for an incoming case/interaction, the system will evaluate them as per the priority one by one, starting with the highest priority. If the highest priority Queue and Routing Rule Configuration matches, but if agents are not available in the teams configured in the Queue and Routing Rule Configuration OR the agents do not have capacity for the specific interaction type, then the system will stamp the QueueId on the case and will keep waiting for an agent to be available with capacity for the specific interaction type and will assign it; but the system will not evaluate any other Queue and Routing Rule Configurations further. The following configurations are mandatory for routing an interaction/case to a specific agent: Agents: Users defined in the system at required organizations with required permissions to access various organizations where customer, order and interactions and cases are created Agent Capacity Configuration: Capacity defined for agents via Agent Capacity Profiles or individually assigned [org agnostic] Teams: Teams configured in the system with one or more users assigned to them in the required organization [org specific - Parent Org] Queue Configuration: Queue Configurations with team(s) and rules configured defined at the same organization where teams are configured  [org specific - Parent Org] The case will be updated with the outcome of the routing as detailed below: Routing Result Queue Configuration Name Team Id Assignee Routing successfully assigns an agent to the case Populated Populated Populated Routing successfully assigns a team to the case (Team Assignment (Not to Agent) = true) Populated Populated NULL Routing finds a matching queue configuration but fails to assign the interaction to an agent due to: Capacity for the specific interaction type Agent availability Populated NULL NULL Routing does not find a matching queue configuration NULL NULL NULL Note: The system also evaluates routing if interaction is interfaced with or without a case when case action 'EvaluateRules' is set to true. The case action 'EvaluateRules' can also be used when case attributes like case category or case sub-category are updated to trigger routing logic for the case. If routing fails to assign an agent to the case/interaction, it is due to the following reasons: Reason for failure Corrective steps Matching Queue Configuration was not found in the system (none of the queue configuration rules were evaluated to be true). Review the Queue Configurations and add a new queue configuration that satisfies the conditions or update an existing queue configuration and add another rule to match the conditions. Agent was not available: There were no agents available in the team(s) assigned to the Queue Configuration with 'Available' Status Set the status of one or more agents assigned to an appropriate team to 'Available' There were no agents in the team(s) assigned to the Queue Configuration with 'Available' Status' for the specific interaction type. Set the status for the specific interaction type of one or more agents assigned to an appropriate team to 'Available' Agents did not have any capacity: There were no agents in the team(s) assigned to the Queue Configuration with free capacity for the specific interaction type. Update the capacity (increase) for the agents for the specific interaction type If ReasonId is configured to route cases in the queue configuration rules, it is advisable to have at least one queue configuration rule configured for each reasonId to make sure that the case/interaction is routed to the proper team. Process Flow for Automatic Routing Cross Org Support for Routing The system supports case routing across organizations as detailed below provided the below-mentioned prerequisites are met. Users/Agents can be created at any organization level as required for Customer Service Center requirements. Users should have Org Users created for each child/grandchild to access orders, interactions, cases, and so on, so that all the cases assigned to the agent are available in the agent's inbox. Agent Availability, Agent Capacity Profiles, and Agent Capacity Configuration are all org-agnostic. Prerequisite: Team and Queue Configuration should be created at the same organization and users created at different organizations having access to other organizations should be added to the specific teams. Team(s) and queue configuration should be created in the parent/grandparent organization of the organizations where orders/interactions and cases are created. Orders, Interactions, and Cases should be created in the leaf level organizations, below the organization where Team and Queue Configurations are created. Expected Agent Initial Response Time for Interactions Retailers can define the Expected Agent Initial Response Time (first reply SLA) for each interaction type - Chat, SMS (includes SMS and WhatsApp), and Email by configuring the Expected Agent Initial Response Time in seconds. This time represents the maximum time that can be taken by the agent to provide first reply to the interaction after the interaction is assigned to the agent. Note: The Expected Agent Initial Response Time is not applicable if the interaction is not assigned to a human agent. Expected Agent Initial Response Time is used by the system to bounce the interaction automatically to another agent if the assigned agent does not reply (first reply) to the interaction within Expected Agent Initial Response Time after the interaction is assigned. Interaction Type Minimum Expected Agent Initial Response Time (seconds) MaximuExpected Agent Initial Response Time (seconds) Example Chat 10 45 SMS (SMS, WhatsApp) 10 300 (5 minutes) Email 10 172800 (2 days) Expected Agent Initial Response Time is supported only for interaction types of Chat, SMS (SMS and WhatsApp), and Email. Expected Agent Initial Response Time cannot be set less than the stipulated minimum Expected Agent Initial Response Time for any interaction type. Zero(0) is NOT a valid Expected Agent Initial Response Time. If the Expected Agent Initial Response Time is not configured, interaction will not be bounced automatically by the system in case the agent assigned does not reply to the interaction. Any changes to the Expected Agent Initial Response Time on the interaction type will affect only the interactions created subsequently and will not impact interactions that were already created, considering that the Expected Agent Initial Response Time was configured at the time of creating the interaction. Automatic Bouncing Automatic bouncing ensures that customers don't wait for the assigned agent to reply (first time reply) on a live interaction for an unreasonable period of time. The system uses the Expected Agent Initial Response Time configured on the interaction type for automatically bouncing the interaction to another agent. Once the agent assigned to the interaction provides the first reply on the interaction, within the Expected Agent Initial Response Time configured on the interaction type, the interaction is no longer eligible for automatic bouncing. Note: Expected Agent Initial Response Time is populated on an interaction/case even if it was assigned manually; either self-assigned or assigned to the agent by the manager. Automatic bouncing is enabled if the Expected Agent Initial Response Time is populated on the interaction type and does not require any additional steps to enable it or any other configuration and cannot be prevented/disabled unless the Expected Agent Initial Response Time on the interaction type is reset to 'Null'. While automatically bouncing the interaction to another agent, the system considers the same Queue Configuration that was initially used to route the interaction. The system does not evaluate the Queue Configuration again. The system tries to find an eligible new agent to bounce the interaction from the pool of agents configured in the team(s) that are configured in the Queue Configuration; bouncing is NOT restricted to the team that the interaction was initially assigned to and the team may change every time the interaction is bounced if multiple teams are configured in the queue configuration. The agent from whom the interaction is bounced from is not considered for bouncing even though there is capacity and the agent is available. If bouncing fails to find an eligible agent, the interaction is kept unassigned with the Queue Id (Queue Configuration) stamped on the case without the team. The Expected Agent Initial Response Time is reset to the value configured on the interaction type every time the interaction is bounced and assigned to a new agent. The case will have the field isBounced set to true if the interaction was bounced once or multiple times. Bouncing can be skipped irrespective of any conditions, by setting the 'skipBouncing' property in the case to true (skipBouncing = true); once this property is set to true, the system will NOT attempt to bounce the interaction even though the conditions for bouncing are met in future at any given time. Note: Bouncing interaction and case are one and the same. When an interaction is bounced, the case is also bounced and the case assignee is changed. Automatic bouncing will update the interaction/case as detailed below. Bouncing result Queue Configuration Name Team Id Assignee Bouncing successfully assigns an agent to the interaction/case NOT CHANGED Populated Populated Bouncing successfully assigns a team to the case (Team Assignment (Not to Agent) = true) NOT CHANGED Populated NULL Bouncing fails to assign the interaction to an agent due to: Capacity for the specific interaction type Agent availability NOT CHANGED NULL NULL Mid-conversation Bouncing The system will be monitoring the ongoing interactions that are not yet wrapped up, for any inactivity either from the customer side or the live agent side. For any inactivity noticed in the conversation, the system can take specific actions as detailed below. If the live agent is inactive, but the customer is active, bounce the interaction to another live agent. If both the live agent and the customer are inactive, the system will automatically close the interaction, as well as the case. If only the customer is inactive, the agent is notified and can choose to close the interaction. In case of inactivity due to the live agent, the system will automatically bounce the interaction from the current agent to another agent available in the teams configured in the same queue. Retailers can configure an inactivity notification timer that will notify the agent of the inactivity and the impending bouncing in the console property "agent.inactivity.alert.interval.in.seconds" in the customer interaction component. The default value for agent.inactivity.alert.interval.in.seconds is 20 seconds. While automatically bouncing the interaction to another agent, the system considers the same Queue Configuration that was initially used to route the interaction. The system does not evaluate the Queue Configuration again. The system tries to find an eligible new agent to bounce the interaction from the pool of agents configured in the team(s) that are configured in the Queue Configuration; bouncing is NOT restricted to the team that the interaction was initially assigned to and the team may change every time the interaction is bounced if multiple teams are configured in the queue configuration. The agent from whom the interaction is bounced from is not considered for bouncing even though there is capacity and the agent is available. If bouncing fails to find an eligible agent, the interaction is kept unassigned with the Queue Id (Queue Configuration) stamped on the case without the team. Once mid-conversation interaction, bouncing is commenced by the system, the agent can stop the interaction from bouncing only if the conversation is continued by sending some message in the interaction. The mid-conversation bouncing continues till the interaction is wrapped up or automatically closed due to inactivity. Note: Mid-conversation can be configured irrespective of the bouncing in case the agent does not respond to the interaction with the first response. The mid-conversation bouncing feature is heavily dependent on Twilio conversation object and may not work for any other third party chat provider. Bouncing caused by the Expected Agent Initial Response Time or mid-conversation bouncing is not executed by the system when the case or interaction is awaiting a transfer request. The transfer request takes priority over bouncing. Mandatory Case Columns Each organization can configure specific columns to be mandatory on the Case Details UI. Mandatory columns are defined on the Case UI Display Config, available through MUP UI. Both base columns and extended fields may be set as mandatory. There are four types of mandatory columns that can be defined: Column based on Case SubCategory Value: An organization can set the configuration so that when a specific Case SubCategory value is selected, one or more field's on the Case Details UI is made mandatory ) For example, assume that Case SubCategory value 'CallBack' is configured for mandating the Order Number field to be populated. When the user chooses the Case SubCategory value 'CallBack', the UI will set the Order Number field to mandatory. Column based on Case Category Value: An organization can set the configuration so that when a specific Case Category value is selected, the user must provide a value in a different field on the Case Details UI. For example, assume that Case Category value 'Late Order' is configured to require that the Order Number field is populated. When the user chooses the Case Category value 'Late Order', the UI will set the Order Number field to mandatory. Column based on Case Status Value: An organization can set the configuration so that when a specific Case Status value is selected, the user must provide a value in a different field on the Case Details UI. For example, assume that Case Status value 'Closed' is configured to require that the Resolution ID field is populated. When the user chooses the Case Status value 'Closed', the UI will set the Resolution field to mandatory. Any Column on the Case Details UI: An organization can set the configuration so that any column on the Case Details UI is mandatory. For example, an organization can set the Email field as mandatory; this means that when a case record is created, the Email field must be populated. When multiple Case UI Display Config records match the selected case attributes, all applicable mandatory field configurations will apply simultaneously. Specifically: If a configuration exists for a Case Category, it will apply whenever that category is selected—regardless of SubCategory. If a configuration also exists for a specific Case SubCategory, its mandatory fields will apply in addition to the Case Category-level fields. The system does not override or suppress broader (category-based) rules even when more specific (subcategory-based) rules are configured. See some examples below: Example 1 – Category-Level Rule Only If the Case Category is set to "Cancellation" and no Case SubCategory is specified, and a configuration exists that makes ReasonId mandatory for the "Cancellation" category: The ReasonId field will be marked as mandatory. This applies regardless of what subcategory (if any) is chosen. Example 2 – Category + SubCategory Rule If the Case Category is "Cancellation" and the Case SubCategory is "CancelOrderLine", two configurations exist: One that makes ReasonId mandatory for the "Cancellation" category Another that makes CaseResolutionId mandatory when the subcategory is "CancelOrderLine" Both ReasonId and CaseResolutionId will be marked as mandatory. This is expected because both configuration rules apply. Example 3 – Multiple SubCategories If the Case Category is "Cancellation" and the Case SubCategory is "CallBack", two configurations exist: One that makes ReasonId mandatory for all "Cancellation" cases Another that makes OrderNumber mandatory when the subcategory is "CallBack" Both ReasonId and OrderNumber will be required. The system applies both the general rule for the category and the specific rule for the subcategory. Note: If a Case record was created before a field was set to mandatory, the user will need to provide any mandatory fields if the Case is opened in Edit mode. Note: Case UI Display configuration records cannot be edited. If a user wants to update a configuration record, a new record should be added and the original record should be deleted. Defining Mandatory Columns for the Case Details UI Users will define mandatory columns on the Case UI Display Config, available via MUP UI. The table below illustrates how you will define mandatory columns. Case Category Case SubCategory Case Status Column Mandatory Results Value Provided Yes Column is mandatory for all records defined on the Case Details UI, regardless of Case Category or Case SubCategory Value Provided Value Provided Yes Column must be populated when the Case Status is provided. Value Provided Value Provided Yes Column must be populated when the Case SubCategory is provided. Value Provided Value Provided Yes Column must be populated when the Case Category is provided. Value Provided Value Provided Value Provided Yes Column must be populated when the Case Category and Case SubCategory are provided. Displaying Columns in the Reference Section based on Case Category The Case Details UI includes base columns that are relevant to all case categories. In addition, organizations can define specific columns to include a particular Case Category, Case SubCategory, or Case Status. Those columns can be defined on the Case UI Display Config, available through UI; these columns will be displayed under the References section of the Case Details UI when the Case Category and/or Case SubCategory and/or Case Status are selected. For example, for the Case Category 'Fraud', the organization may want to include payment information and other specialized fields. A user will associate those columns with the Case Category 'Fraud'. When a case is created with Case Category = 'Fraud', the payment columns are displayed under the References section of the Case Details UI. If the Case Category is changed, the columns are no longer displayed. Note: Extended columns and base columns not displayed on the Case Details UI can be included in the Reference Section of the Case Details UI. The additional Reference section columns can also be made mandatory columns. Defining Columns to display in the Reference Section of the Case Details UI The table below illustrates how to add columns to be displayed in the mandatory section. It also includes the ability to make them mandatory. Case Category Column Mandatory Results Extended Column/Column not displayed by Default is provided Yes The column is displayed in the Reference Section of the Case Detail UI. It is mandatory for all records defined on the Case Details UI. Extended Column/Column not displayed by Default is provided No The column is displayed in the Reference Section of the Case Details UI. The column is NOT mandatory. Value Provided Extended Column/Column not displayed by Default is provided Yes The column is displayed in the Reference Section when the category value is provided. The column is mandatory. Value Provide Extended Column/Column not displayed by Default is provided No The column is displayed in the Reference Section when the category value is provided. The column is NOT mandatory. Configuration for Team based cases Teams can be created from the ‘Team' UI by accessing the path ‘Team’ menu entry under the 'Manage Customer engagement configuration’. Sample API Sample API for Interaction Reason POST {{url}}/customerinteraction/api/customerinteraction/interactionReason/save { "Messages": null, "ProfileId": "globalorg", "Process": null, "InteractionReasonDesc": "Customer request for catalog to be mailed to them", "InteractionReasonId": "Catalog Request", "InteractionReasonName": "Catalog Request", "CaseCategory": "Catalog Request", "LocalizedData": [ { "LanguageKey": "en", "ParentInteractionReason": { }, "InteractionReasonName": "Catalog Request", "Process": null } ] } Sample API for Case Category POST {{url}}/cases/api/cases/caseCategory/save { "Messages": null, "ProfileId": "globalorg", "CaseCategoryName": "Catalog Request", "Process": null, "CaseCategoryId": "Catalog Request" } Sample API for Case Resolution Get - {{url}}/cases/api/cases/caseResolution Post - {{url}}/cases/api/cases/caseResolution/Save { "Messages": null, "ProfileId": "globalorg", "UpdatedBy": "admin@globalorg.com", "UpdatedTimestamp": "2021-04-07T03:58:08.894", "CaseResolutionId": "OrderModification", "CreatedBy": "admin@globalorg.com", "CreatedTimestamp": "2021-04-07T03:58:08.894", "ContextId": "cd35eb61-5dc7-41ff-99f3-df51f82bc7c5", "Process": null, "CaseResolutionName": "Order Modification", "Unique_Identifier": "6177678888883515108__OrderModification" } Automatic Case Closure due to Conversation Inactivity If the customer attempts to connect with a live agent by clicking the "Connect to Live Agent" button, but is unable to connect due to reasons such as being outside of Hours of Operation, the system will automatically create and close a case. In addition to the scenario mentioned above, the system will be monitoring the ongoing interactions that are not yet wrapped up, for any inactivity either from the customer side or the live agent side. For any inactivity noticed in the conversation, the system can take specific actions as detailed below. If the live agent is inactive, but the customer is active, bounce the interaction to another live agent. If both the live agent and the customer are inactive, the system will automatically close the interaction, as well as the case. Retailers can configure the relevant timers/thresholds in seconds for detecting an inactive conversation and the threshold for automatic closure on the Interaction Configuration → Interaction Types. Refer here for more details. If the interaction is closed by the system automatically due to inactivity, it will no longer be available for the agent to continue the conversation and the chat window will be closed automatically, preventing the customer from continuing the conversation. If the case is automatically closed by the application due to inactivity, the case will be updated with the CaseAutoCloseProcessId. Cases closed due to inactivity will have CaseAutoCloseProcessId populated with the value "ConversationInactivity" Automatically closed interactions / cases will not be routed to an agent later when they become available or the out-of-hours of operation end. The automatic case closure due to the conversation inactivity feature is heavily dependent on Twilio conversation object and may not work for any other 3rd party chat provider. Implementation Flavor How to search for users more than1000 in the Cases UI Out-of-the-box allows search of first 1000 users in the Cases UI. To support more than 1000 users, the size param has to be changed from custom code by intercepting the /api/organization/user API to pass size as a value greater than 1000. How to auto populate team on auto case creation Implement the Cases:Cases:UserExit:postPopulateAttributesForEvent user exit to autopopulate teams in auto-case creation. Adding new attributes to routing Rules/Criteria In addition to the above-mentioned routing rules/criteria attributes available out of the box, any existing out-of-the-box attributes, in cases entity including any extended attribute defined in the cases entity can be added to the routing rules/criteria by adding the required attributes in the available attributes in case component and creating the Xreference for that attribute with rule type - QueueConfigRules. Cases Available AttributeAdd Available Attribute to case component - at the system level: API: {{url}}/cases/api/rules/availableAttribute Request Method: POST Security Scope: System Profile Purpose = systemAugmentable Body: Sample { "AlternateAttributeName": null, "AvailableEntityId": "cases", "ListDataType": null, "SourceType": null, "ListFunctions": null, "AttributeLabel": "cases.sentimentScore", "AttributeDataType": { "AttributeDataTypeId": "shortInteger" }, "AvailableAttributeId": "sentimentScore", "isInUse": false, "Translations": { "en": { "AttributeLabel": "sentimentScore" } } } Create Rule Type and Available Attribute - Xreference - at the org level: API: {{url}}/cases/api/rules/ruleTypeAvailableAttributeXref/save Request Method: POST Security Scope: Profile Profile Purpose = rules Body: Sample { "RuleType": { "RuleTypeId": "QueueConfigRules" }, "AvailableAttribute": { "AvailableEntityId": "cases", "AvailableAttributeId": "sentimentScore" } } Note: After performing the above steps, the attribute will appear automatically in QueueConfig >> QueueConfigRules UI and no additional steps are required. Troubleshooting Case Category and Sub-category Unable to see case category or case sub category seed data Make sure cas::caseCategory profile purpose is copied to the respective organization. If the profile is already copied, perform a sync on the profile. Case is imported, but unable to see sub-category on case UI If the case is imported with invalid data (example: no category on import), then the sub-category will not be visible on the UI as the parent category was not imported in case details. Team-Based Cases Unable to see the assignee in the assignee drop-down even though I assigned them to a team while creating a team Make sure the assignee/user is not a bot. To verify, check if the Is Bot flag is turned off in the user configuration. I assigned a user to the team using the user ID while creating the team, but I only see user names while going through the assignee list in the case creation/case edit UIs. The team creation UI only supports the display of user ID while displaying the user selection drop-down, whereas the cases UI supports the display of user name or User Id. The logic used in the cases UI is that the user first name and last name are displayed by default in the assignee drop-down selection. However, if the user's first name and last name is null, then the assignee drop-down in the cases UI will display the user ID. Chat Interactions not Appearing in Case Details Page Check the format of the ChatConversation attribute on the interaction. If the format isn't correct, it will not appear in the case details page. This is especially relevant if bridging in the chat interaction from a third party chat provider. Please follow the below format for the ChatConversation attribute on the interaction. ChatConversation Value Format for Interaction [ { "Author": "chatbot", "Sequence": 1, "DisplayName": "chatbot", "Body": "Hi there! I’m Sage, your digital assistant. I’ve found your most recent order. How can I help you?", "SenderType": "chatbot", "CreatedTimestamp": "2024-05-23T15:08:40" }, { "Author": "chatbot", "Sequence": 2, "DisplayName": "chatbot", "Body": "__widget__", "SenderType": "chatbot", "CreatedTimestamp": "2024-05-23T15:08:40" }, { "Author": "abrown@manh.com", "Sequence": 3, "DisplayName": "Alec Alecson", "Body": "hi I neeed to changee the address on this order?", "SenderType": "Customer", "CreatedTimestamp": "2024-05-23T15:08:59" }, { "Author": "SYSTEM", "Sequence": 4, "DisplayName": "system", "Body": "Thank you for contacting us. Let me connect you with someone who can help...", "SenderType": "system", "CreatedTimestamp": "2024-05-23T15:09:05" }, { "Author": "SYSTEM", "Sequence": 5, "DisplayName": "system", "Body": "You are now chatting with Agent", "SenderType": "system", "CreatedTimestamp": "2024-05-23T15:09:05" }, { "Author": "chatbot", "Sequence": 6, "DisplayName": "chatbot", "Body": "Please click the button change shipping address\n", "SenderType": "chatbot", "CreatedTimestamp": "2024-05-23T15:09:05" }, { "Author": "chatbot", "Sequence": 7, "DisplayName": "chatbot", "Body": "__widget__", "SenderType": "chatbot", "CreatedTimestamp": "2024-05-23T15:09:06" }, { "Author": "ChatSummary", "Sequence": 8, "DisplayName": null, "Body": "Customer needed to change the address on their order and was transferred to a live agent. \n", "SenderType": "ChatSummary", "CreatedTimestamp": "2024-05-23T15:09:06" }, { "Author": "abrown@manh.com", "Sequence": 9, "DisplayName": "Alec Alecson", "Body": "I cant change address, can I cancel?", "SenderType": "Customer", "CreatedTimestamp": "2024-05-23T15:10:36" }, { "Author": "SYSTEM", "Sequence": 10, "DisplayName": "system", "Body": "Do you want to continue this conversation? If yes, please respond.", "SenderType": "system", "CreatedTimestamp": "2024-05-23T15:15:37" }, { "Author": "SYSTEM", "Sequence": 11, "DisplayName": "system", "Body": "It appears you have stepped away. If you need additional assistance, feel free to start a new chat.", "SenderType": "system", "CreatedTimestamp": "2024-05-23T15:17:38" } ] Routing Configuration Unable to create interaction routing/queue rules in Queue Configuration UI after upgrading the version Use the following API to see the queue in the Queue Configuration UI and to create interaction routing/queue rules POST: {{url}}/cases/api/cases/queueConfig/save { "Description": "Specify queues and define criteria for routing customer issues to the relevant agents.", "QueueConfigId": "Queue Configuration" } Routing Issue Troubleshooting steps Check the agent capacity for interaction types UI:: Agent Capacity Configuration Agent Capacity Profile API:: To check the respective agent capacity details POST: {{url}}/cases/api/cases/userGroupingConfig/userId?userId=ceadmin@globalorg-us.com&templateName=UserGroupingConfigTemplate Check the availability status for agent for specific interaction type UI:: CEF Cases UI - Right Corner Agent Availability can be seen for interaction types. API:: POST: {{url}}/cases/api/cases/agentCurrentStatusByPKorBK?templateName=AgentCurrentStatusTemplate { "UserId": "ceadmin@globalorg-us.com" } Current Allocated Capacity for Agent by Interaction API:: GET: {{url}}/cases/api/cases/taskRoutingUserCapacity/taskType/taskType/Chat/userId/ceadmin@globalorg-us.com Routing is not happening Logger to enable for reason not persisting on case: Customer Interaction : com.manh.cp.customerinteraction.impl.handler com.manh.cp.customerinteraction.adapter Strings to search for updateCaseAttributes save() response data Routing not happening to specific Agent: 1. Check the agent availability w.r.t. Interaction 2. Check the agent capacity w.r.t. Interaction. 3. Check the agents team: 1. Team UI or following API * {{url}}/organization/api/organization/team/listteamsforuser?userId=ceadmin@globalorg-us.com 2. Look for active Queue config for the teams and respective interaction with other conditions from Queue Config UI Logger to enable for routing: Cases: com.manh.cp.routing.service Strings to search for routing related logs routeTask() Check the interaction type config for bouncing the interaction UI: Interaction Type UI Check below for the respective interaction type. Expected Agent Initial Response Time (seconds) API: Get: {{url}}/customerinteraction/api/customerinteraction/interactionType?query=InteractionTypeId=Chat Interactions are not getting routed Queue Config UI -> check if queue config rules exist for this interaction type. Check if Team Assignment (Not to Agent) = Yes If yes, then the first team will be assigned to the respective case of interaction. (No capacity evaluation will happen) If no, then: Check the Teams selected in Rule w.r.t. interaction type. Validate if your agent is part of any of these teams.onTeams UI API: GET: {{url}}/organization/api/organization/team/listteamsforuser?userId=ceadmin@globalorg-us.com In case you want to see if If the agent has responded to the interaction. API:: GET: {{url}}/customerinteraction/api/customerinteraction/agentInteractionDetail?query=CaseId=CASE1198 AgentInitialResponseTime - null represents agent hasn't responded. SkipBouncing - true represents agent has intended to respond. InteractionType - Chat/Email/TextMessage Check if a delayed message for bouncing has been triggered API:: GET: {{url}}/customerinteraction/api/ServiceDefinition/payloadsize=100&query=MessageType=RouteInteractionMessageType Mid-conversation Bouncing Note: Twilio APIs are not owned by Manhattan Associates Q1: Mid Conversation bouncing is not observed for an on going conversation. Can you tell what are the validations to be carried out ? A: Validate the below : Ensure that your Twilio account is active and is configured correctly. Verify that timer is configured and is expired for inactivity or closure for that interaction Type (Conversation Idle Timer) from interaction configuration. Check if you are able to get a response and validate that timers are populated on the conversation object : (Refer Q6) Based on your queue configuration, ensure that the users belonging to that particular team are available and have the required capacity. If the case is still not bounced even after the inactivity timer has expired, you can check the case details if the queue name is populated on that case (this happens when there is no agent available with capacity). Q2 : What is the time interval set for my conversation to go inactive? A: 7200 seconds (2 hours) Q3 : What is the time interval set for my conversation to closure? A: 172800 seconds (2 days) Q4 : What is the alert time interval set for my agent to take action on chat? A: The timer is configured with this property :"agent.inactivity.alert.interval.in.seconds". The default value for this is set as 20 seconds by the base code, if not configured/overridden explicitly (in kv-store). Q5 : Conversation is not going inactive/closed. Where can I check when a conversation is marked for inactivity/closure? A: Assuming that your twilio account is active and is configured correctly, ensure that authentication details are provided in auth headers. API to pull the conversation details from Twilio using the conversation id : https://conversations.twilio.com/v1/Services/<ConversationSID>/Conversations/<ConversationID> and verify if the below properties are populated timers for Inactivity and Closure on a conversation: "timers": { "date_closed": "2024-12-05T09:45:11.559Z", "date_inactive": "2024-12-05T09:35:11.559Z" } Q6 : The conversation became inactive; however, the timers were reset, or it became active again. When can that happen? A: Conversation active timer is reset every time the conversation is updated with a message from participants (live agent, customer, chatbot or system). So, please check for any updated messages added to the conversation, since it last became in-active. Q7 :Agent has started typing a message. Why is the 20s agent alert timer still ticking? A: This is as designed. Unless the agent clicks 'Send', the timer will not reset. Note : Once the 20 seconds timer shows up, it will reset even if customer sends a message within this 20 seconds. Service The APIs listed in the following table are referenced in this document. Refer to the API documentation for additional details on each service. Service Component Group Service End Point Auto Case Creation Config Cases Auto Case Creation Config Controller GET {{url}}/cases/api/cases/autoCaseCreationConfig Create Case Cases {{url}}/cases/api/cases/cases/save API Create Team and Assign Users Organization {{url}}/organization/api/organization/team/save Change case prefix Cases Change case prefix and sequence {{url}}/cases/api/cases/caseIdCounter/save Related Articles InteractionsContact Center Associate DashboardContact Center Manager DashboardContact Center Agent Inbox Customer Profile UI ResourcesCustomer Dashboard and Customer MetricsOverview