# Store-initiated Ship it Instead 

**Permalink:** store-initiated-ship-it-instead
**Path:** Manhattan Active® Omni/Order Management/Process & Configuration Guides/Digital Self-Service/Ship it Instead/Store-initiated Ship it Instead 
**Content Length:** 49,168 characters
**Scraped:** 2025-08-09T21:55:27.567238

---

Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Digital Self-Service››Ship it Instead ››Store-initiated Ship it Instead Store-Initiated Ship It Instead Last updated: 05/21/2025 Store-Initiated Ship It InsteadOverviewProcess FlowProcessEligibilityConversionFulfillment UpdatesOrder UpdatesConfirmation Email and TextPacking and ShippingExceptionsConfigurationStore Fulfillment ConfigurationAllow Pickup to Shipment ConversionDefault Customer's Preferred Shipping AddressConfigure Push Notification TemplateSupport non-US addresses for store-initiated ship-it insteadFeature ScopeUIs and EntitiesImplementation FlavorExclude ShipItInstead link from Pickup Reminders for Hazmat ItemsWhy does Digital Self-service page display the same message for both customer initiated and store short ship it instead flowsTroubleshootingShip Order button is not visible in the Contact Customer Order Details UIFulfillment is successfully converted, but the Order is not    Related Articles Overview This feature allows a store associate to convert a pickup fulfillment (both PickupAtStore and ShipToStore items) to a ship to address fulfillment if the customer is unable to pick up their order up from the store, increasing save the sale opportunities. Here’s how the conversion works when initiated from a store: A customer places an order for store pickup. The store prepares the order and the customer receives an email that the order is ready for pickup. From the Contact Customer UI (SIF), the store associate identifies that the order is nearing or has exceeded the pickup expiration date and calls the customer. The customer tells the associate that they are unable to pickup the item(s.) The associate offers to ship the order to the customer's address. The customer agrees and provides the Shipping Address to the store associate. If the default customer shipping address is available in the customer master, then the associate validates the address. The customer receives an email/text confirming their conversion to shipment is complete. Store associates are notified that a pickup fulfillment needs to be shipped. An associate retrieves the items from the pickup staging location, which can be viewed from the notification. A store associate packs and ships the items. A shipment confirmation email is sent to the customer. Process Flow Store Initiated Ship It Instead - Process Flow Process Eligibility If any item on the fulfillment is not eligible for Ship to Address fulfillment, the fulfillment cannot be converted to a ship to address. This is defined by the Ship to Address attribute in the Item component. Conversion From the Contact Customer UI, the store associate has visibility of fulfillments which are nearing or have exceeded their pickup expiration date. To convert a fulfillment to ship to address, the associate selects the 'Ship Order' button which prompts the user to review and update customer shipping and contact information. The ability to perform conversion is permission controlled. Name, e-mail and phone number are defaulted from the Fulfillment. Address is defaulted if a Fulfillment Address exists with isShippingAddress = true and the configuration to default the customer address is enabled (see Configuration section.) All the fields other than Country are editable. All the fields other than Street Address 2 and Country are mandatory. Fulfillment Updates Once the user confirms the conversion, the following updates are done: Fulfillment Address provided during the conversion process is persisted in the Fulfillment with Is Shipping Address = true If there is any other Fulfillment Address in the Fulfillment with Is Shipping Address = true, its value is changed to false Delivery Method Id is updated to Ship to Address 'Is Pickup Convert to Shipment' flag is updated to true Customer First Name, Customer Last Name, Customer Email, and Customer Phone are updated if they were modified during the conversion process. Ship Via Id is updated based on the following logic: If the Ship Via of the BOPIS fulfillment (before the conversion) was not sent and the default value is not configured, it remains null, and the store associate must enter a carrier and service level during packing. If the Ship Via of the BOPIS fulfillment (before the conversion) was not sent, the default Ship Via Id configured in Store Fulfillment Parameters is used. If Ship Via of the BOPIS fulfillment (before the conversion) was already sent during the release, that value is retained. The converted fulfillment is signified by a "Pickup > Ship" indicator in the Packing UIs along with the picked items' pickup staging area location to help with retrieval. Order Updates A FulfillmentDeliveryMethodUpdated outbound message is generated by the Fulfillment component to communicate the fulfillment conversion to the Order component. This message comprises the change set and the entire Fulfillment object. Refer below for the sample fulfillment outbound message. Once the fulfillment outbound message is received from SIF, the Order component consumes the message from the Fulfillment Outbound queue and converts the message into an Order Event which will further update the Order with updated attributes. Refer here for detailed information on this order event. Once the order event is successfully processed, save order [/order/api/order/order/save] gets called internally, and Order updates are made. Refer to the Customer-initiated Ship it instead guide for further information about which order and order line attributes are updated once conversion is successful. Please refer to the below section for details on the criteria that have to be met for converting the BOPIS order to Ship To Address. Eligibility for ConversionThis section describes the criteria that items must meet to be eligible for BOPIS to shipment conversion. All the order lines in a particular release must meet all the criteria. If even one criterion is not met by any order lines in the release, none of the items in the release can be converted. All the order lines of a given release should be part of the conversion request; converting only some order lines in the release or partial quantities of a line is not permitted. Validation Configuration Comments The store should support conversion of the delivery method from PickupAtStore and ShipToStore to ShipToAddress Location >> Location Fulfillment Attribute >> Ship It Instead This configuration has to be explicitly set up for the store to allow the conversion. All the order lines included in a given release (corresponding to the store fulfillment) must be part of the conversion request Including order lines belonging to a single release at a time is recommended. This is not mandatory but will help with troubleshooting. All the items in the release (conversion request) should support the ShipToAddress delivery method. Order Line >> Can Ship To Address This configuration corresponds to item.fulfillmentAttribute.ShipToAddress in the Item component. The value of this attribute on the order line superceeds the configuration in item master.  By default, all the order lines (item) created will have this attribute set to true and, in case an item is not supported, for BOPIS to Ship To Home conversion this attribute has to be set to false explicitly. If this is null, the system will populate it automatically from Item master. The current delivery method of all the order lines in the release (conversion request) should be PickupAtStore or ShipToStore. Order Line >> Delivery Method The updated delivery method of all the order lines in the release (conversion request) should be ShipToAddress. MaxFulfillmentStatusId of all the order lines in the release (conversion request) should be Picked (3600) Order Line >> Max Fulfillment Status Id Extended statuses are supported, only if its MinFulfillmentStatus >= 3600 and MaxFulfillmentSetatus < 3700 MinFulfillmentStatusId of all the order lines in the release (conversion request) should be Picked (3600) Order Line >> Min Fulfillment Status Id Extended statuses are supported, only if its MinFulfillmentStatus >= 3600 and MaxFulfillmentSetatus < 3700 None of the order lines in the release (conversion request) should have an alternate pickup person. Order Line >> Order Line Pickup Detail >> Is Primary This validation is associated with orderLinePickupDetails.isPrimary. The validation fails if this attribute is set to 'false'. Valid ShippingMethodId should be populated on all the order lines of the release (conversion request) Order Line >> Shipping Method Id The Shipping Method Id should exist in the system Current date/time is less than PickupExpiryDate/Time populated on all the order lines in the release (conversion request) by 'X' hours Order Line >> Order Line Additional >> Pickup Expiry Date The 'X' duration can be configured in the KV store. Default is 4 hours (path: kv/config/com-manh-cp-order/order.bopisToSta.hoursBeforePickupExpiry/edit) This criterion is not applicable for Store-Initiated Ship It Instead due to No-Show The following attributes for ShipToAddress must be populated on all the order lines of the release (conversion request) and cannot be null address.Email address.Address1 address.Country address.State address.City address.PostalCode address.Phone Order Line >> Ship To Address If multiple order lines are included in the conversion request, since they are part of the same Release, the ship to address on all the order lines must be the same. Note : The Fulfillment Address entity in the fulfillment outbound message can contain multiple addresses, including the store address which is sent during the initial release of the pickup order. The isShippingAddress attribute is used to identify the address that the fulfillment is being shipped to. Confirmation Email and Text When a pickup order is converted to a shipment, the customer can be notified via email and text that the order will be "shipped instead." See Transactional Emails and Transactional Texts for more details. Packing and Shipping The converted fulfillment is removed from the Contact Customer, Confirm Pickup, and Curbside Pickup UIs. A "New pickup order to ship" push notification is displayed in the store to notify store associates. The Packing UI, which can be directly accessed from the notification, indicates which orders are converted. The staging location is displayed on the UI to assist with retrieval of the items. Once the order arrives in the packing area, it is packed using the Packing UI and shipped using the normal shipment order flow. Exceptions In the rare scenario of a Pack (3700), Ship (7000) or any extended (above 3700) update coming before the conversion update, the Order component will reject the message and place it in the failed message queue. Once the conversion message is processed, then only subsequent updates are reprocessed. Configuration Product Configuration Link Order Enable "Ship It Instead" in the Order Configuration UI. Refer to Order Orchestration for more details. Enable "Ship It Instead Confirmation" email if required by referring to the Transactional Emails guide. Enable "Ship It Instead Confirmation" text if required by referring to the Transactional Texts guide. Available here Store Inventory & Fulfillment Enable BOPIS to Shipment conversion business flag in Store Fulfillment Parameters UI Configure the "New Pickup Order to Ship" Push Notification Template Optionally configure the default conversion ship via in Store Fulfillment Parameters UI Optionally enable the default customer address configuration in Store Fulfillment Parameters UI Available here Note: To enable ship it instead conversion for both pick-up at store and ship to store orders, select the 'Enable Ship it instead' configuration in the Order Configuration UI. If customers have already enabled this configuration for only pick-up at store conversion, then the 'Enable Ship it instead' configuration should be disabled and re-enabled to activate for ship to store conversions as well. This will enable Mod Type override configurations for the "ShipToStore" and "PickupAtStore" delivery methods. Store Fulfillment Configuration Ensure that the purposes listed below have been copied from the base profile to your custom profile. Profile purposes to copy from base to custom profile ful::processDefinition, ful::fulfillmentConfig, ful::messaging The configuration below can be enabled for all stores in the organization, or can be overridden at the store profile type or location level. Refer to the Config UI guide for additional details. Allow Pickup to Shipment Conversion This configuration in the Store Fulfillment Parameters UI determines whether the store is able to initiate ship it instead conversions. The default value is false. Enable the following configurations: Allow store associate to convert pickup order to shipment Allow listing of ready for pickup orders in contact customer Default Customer's Preferred Shipping Address This configuration in Store Fulfillment Parameters determines if the customer's address should be defaulted on the UI. In order to default an address, this flag must be enabled, and a Fulfillment Address must exist with isShippingAddress = true. If shipping address is not present on the fulfillment (isShippingAddress = false), then the preferred shipping address (isPreferred = true) is fetched from the customer master. If the preferred address ( “isPreferred” true) is not present in the customer master, then the first shipping address is fetched. This configuration is disabled by default. Configuration Name: Send customer address details to UI when converting pickup order to shipment Configure Push Notification Template This template enables the "New pickup order to ship" push notification, which is used to alert the store associates at the store that an existing pickup order is converted to a shipment. Execute the following GET API to check if the PushNotificationForPickupToShipmentConversion Push Notification Template is already configured. API Name: URL: "/fulfillment/api/fulfillment/notificationTemplate" If it's not configured, then execute the following POST API to configure the template. API Name: URL: “/fulfillment/api/fulfillment/notificationTemplate” Payload: { "NotificationTemplateId": "PushNotificationForPickupToShipmentConversion", "Name": "PushNotificationForPickupToShipmentConversion", "TopicName": "common-notification.<#if StackName??>${StackName}.<#else></#if>${OrgId}.${ShipFromLocationId?replace(\":\",\"\")}", "Description": "Push notification template for pickup to shipment Conversion", "NotificationTitle": "New pickup order to ship", "ConditionalExpression": "DeliveryMethodId == \"ShipToAddress\" && IsPickupConvertToShipment == true && (MinStatusId == \"3000.000\" && MaxStatusId == \"3000.000\") || (MinStatusId == \"3300.000\" && MaxStatusId == \"3300.000\")", "NotificationSound": "defaultnotificationsound.mp3", "NotificationPriority": "High", "NotificationPayload": [ { "NotificationBody": "", "PageId": "work-default-list", "LocalizeLabelKey": "pickupToShipmentConversionLocalizedLabel", "PagePayload": [ { "PayloadValue": true }, { "PayloadKey": "workFlow", "PayloadValue": "pack" }, { "PayloadKey": "toastCSS", "PayloadValue": "pickup-to-shipment-pack" } ] } ] } Create Push Notification Template - Response{ "success": true, "header": null, "data": { "Messages": null, "ProfileId": "DZ-Ankit", "UpdatedTimestamp": "2021-09-02T13:07:04.826", "Description": "Push notification template for pickup to shipment Conversion", "NotificationSound": "defaultnotificationsound.mp3", "NotificationPriority": "High", "CreatedBy": "AnkitS", "CreatedTimestamp": "2021-09-02T13:07:04.826", "ConditionalExpression": "DeliveryMethodId == \"ShipToAddress\" && IsPickupConvertToShipment == true && MinStatusId == \"3000.000\" && MaxStatusId == \"3000.000\"", "Process": null, "TopicName": "common-notification.<#if StackName??>${StackName}.<#else></#if>${OrgId}.${ShipFromLocationId?replace(\":\",\"\")}", "Name": "PushNotificationForPickupToShipmentConversion", "UpdatedBy": "AnkitS", "NotificationTemplateId": "PushNotificationForPickupToShipmentConversion", "ContextId": "01a175f9-cd6f-498e-85b0-028dadec95d1", "PK": "6305880248258784570", "NotificationPayload": [ { "ProfileId": "DZ-Ankit", "PageId": "work-default-list", "PagePayload": [ { "ProfileId": "DZ-Ankit", "UpdatedBy": "AnkitS", "UpdatedTimestamp": "2021-09-02T13:07:04.841", "CreatedBy": "AnkitS", "CreatedTimestamp": "2021-09-02T13:07:04.841", "ContextId": "01a175f9-cd6f-498e-85b0-028dadec95d1", "Process": null, "PK": "6305880248408802150", "PayloadValue": "true", }, { "ProfileId": "DZ-Ankit", "PayloadKey": "workFlow", "UpdatedBy": "AnkitS", "UpdatedTimestamp": "2021-09-02T13:07:04.845", "CreatedBy": "AnkitS", "CreatedTimestamp": "2021-09-02T13:07:04.845", "ContextId": "01a175f9-cd6f-498e-85b0-028dadec95d1", "Process": null, "PK": "6305880248458818292", "PayloadValue": "pack", "Unique_Identifier": "6305880248458818292__workFlow" }, { "ProfileId": "DZ-Ankit", "PayloadKey": "toastCSS", "UpdatedBy": "AnkitS", "UpdatedTimestamp": "2021-09-02T13:07:04.846", "CreatedBy": "AnkitS", "CreatedTimestamp": "2021-09-02T13:07:04.846", "ContextId": "01a175f9-cd6f-498e-85b0-028dadec95d1", "Process": null, "PK": "6305880248458824914", "PayloadValue": "pickup-to-shipment-pack", "Unique_Identifier": "6305880248458824914__toastCSS" } ], "UpdatedTimestamp": "2021-09-02T13:07:04.833", "CreatedBy": "AnkitS", "CreatedTimestamp": "2021-09-02T13:07:04.833", "NotificationBody": "", "Process": null, "UpdatedBy": "AnkitS", "LocalizeLabelKey": "pickupToShipmentConversionLocalizedLabel", "ContextId": "01a175f9-cd6f-498e-85b0-028dadec95d1", "PK": "6305880248338795611", "Unique_Identifier": "6305880248338795611__work-default-list" } ], "Unique_Identifier": "6305880248258784570__PushNotificationForPickupToShipmentConversion", "NotificationTitle": "New pickup order to ship" }, "messageKey": null, "message": null, "errors": [], "exceptions": [], "messages": { "Message": [], "Size": 0 }, "rootCause": null, "requestUri": null, "statusCode": "OK" } Default Ship Via This optional configuration defines the Ship Via Id to update to the converted fulfillment if the pickup fulfillment was not originally sent with a ship via. If a fulfillment does not have a ship via defined and this default is not defined, the ship via will remain null, and the store associate must enter a Carrier and Service Level during packing. Configuration Name: Select Ship Via for order which is converted from Pickup to Shipment Support non-US addresses for store-initiated ship-it instead This configuration in Store Fulfillment Parameters determines if the customer's valid shipping address is neither available on the fulfillment nor in the customer master, then the country will be defaulted to the store's country when converting pickup order to shipment. The address fields will be manually entered by the associate in this case. This parameter also allows the customer's address outside of the US to be displayed on the Ship Order UI. This parameter also controls if the store associate can change the country and whether the state and/or postal code must be populated for the country. The country configuration for the organization determines if the postal code and/or state are required for a country. The postal code and/or state fields must be populated only if mandatory for the country,  else these fields could be blank on the shipping address. Note: This parameter is only supported for non-Manhattan Active Omni Order Management System integrations that send shipping addresses as part of the initial pickup release. Feature Scope Shipping charges and taxes incurred in converting BOPIS to Shipment orders are absorbed by the retailer. Same Day Delivery orders cannot be converted. Pickup at store orders whose one or more lines have been substituted cannot be converted. Conversion is only supported for non-Same Day Delivery ship carrier/service levels (ship vias) The entire fulfillment must be converted. Conversion of only some lines or quantities is not supported. Address verification is not performed on the address entered by the associate. Stores outside of the US can leverage store-initiated ship it instead feature, provided the customer address is within the store's country. UIs and Entities The configuration UIs mentioned in this document are listed below. UI Name Component Group Seed Data Present? Seed Data Profile Store Fulfillment Parameters Fulfillment Fulfillment Parameter Services Yes Base Implementation Flavor Exclude ShipItInstead link from Pickup Reminders for Hazmat Items Refer here for the implementation. Why does Digital Self-service page display the same message for both customer initiated and store short ship it instead flows Issue: The Digital Self-Service review page shows the same message, "Enter your preferred shipping address to have your items shipped at no cost to you," for both customer-initiated and store short ship It Instead flows. The issue arises because the system only supports calculating the shipping address for customer-initiated no-show flows, but not for store short flows. Solution: Labels/headers cannot be customized specifically for customer initiated no show or store short ship it instead flows. However, you can modify them using the following path by working with the services team. Path: KV Store > localization> com-manh-cp-selfservice > pickupconversion > en > localization.properties Troubleshooting Ship Order button is not visible in the Contact Customer Order Details UI Confirm that ui-fulfillment::fulfillment::menu-contact-customer::ship-order grant (resource) is assigned to the role of the user who is initiating the Store-Initiated Ship It Instead request. API Name: URL: "/organization/api/organization/grant/list/grantsForUser/{{userId}}" If not, then assign the grant using the System Admin user’s access token: API Name: URL: “/organization/api/organization/grant/import” Payload: OrganizationId,RoleId,ResourceId {{OrgId}},{{RoleId}},api::fulfillment::transaction::admin Note 1: If the above resource is not present, it’s possible that the following resources may not be present as well. ui-fulfillment::fulfillment::menu-contact-customer::update-order ui-fulfillment::fulfillment::menu-contact-customer::edit-shipping ui-fulfillment::fulfillment::menu-contact-customer::confirm-shipment Use the import grant API given above to add these permissions as well. Note 2: Confirm that the fulfillment does not contain an item which is not eligible for ship to address. This can be confirmed by: API Name: URL: “/fulfillment/api/fulfillment/fulfillment/fulfillmentId/{fulfillmentId}” In response, if the CanShipToAddress attribute’s value is false, the Fulfillment contains an item which cannot be shipped to an address. Fulfillment is successfully converted, but the Order is not Ensure that the FulfillmentDeliveryMethodUpdated outbound message is generated properly: Confirm that the FulfillmentDeliveryMethodUpdated Extension Point Id exists API Name: URL: “/fulfillment/api/ServiceDefinition/extPointToMessageType?size=50” If not, then add it by using the access token of the user of the profile which owns the ful::processDefinition profile purpose API Name: URL: “/fulfillment/api/ServiceDefinition/extPointToMessageType/save” Payload: { "ExtensionPointId": "FulfillmentDeliveryMethodUpdated", "MessageType": "FulfillmentDeliveryMethodUpdatedMSGType" } Confirm that the FulfillmentDeliveryMethodUpdated Fulfillment outbound header configuration exists API Name: URL: “/fulfillment/api/fulfillment/fulfillmentHeaderOutboundConfig” If not, then add it by using the access token of the user of the profile which owns the ful::fulfillmentConfig profile purpose API Name: URL: “/fulfillment/api/fulfillment/fulfillmentHeaderOutboundConfig/save” Payload: { "ConfigId": "2", "FulfillmentField": "DeliveryMethodId", "EventName": "FulfillmentDeliveryMethodUpdated", "MvelBooleanExprn": null } Confirm that the FulfillmentDeliveryMethodUpdatedMSGType Outbound Message Type exists API Name: URL: “/fulfillment/api/ServiceDefinition/outBoundMessageType?size=100” If not, then add it by using the access token of the user of the profile which owns the ful::messaging profile purpose API Name: URL: “/fulfillment/api/ServiceDefinition/outBoundMessageType/save” Payload: { "MessageType": "FulfillmentDeliveryMethodUpdatedMSGType", "IsUserOverride": false, "Transactional": true, "PersistMessageToMsgStore": false, "OutBoundQueues": { "QueueName": "FulfillmentOutbound" } } Related Articles Customer-Initiated Ship it Instead due to ShortCustomer-Initiated Ship It Instead due to No-Show