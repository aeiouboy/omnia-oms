# Publishing Inventory

**Permalink:** publish-inventory
**Path:** Manhattan Active® Omni/Order Management/Process & Configuration Guides/Enterprise Inventory/Inventory/Publishing Inventory
**Content Length:** 123,779 characters
**Scraped:** 2025-08-09T21:53:56.898491

---

Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Enterprise Inventory››Inventory ››Publishing Inventory Publishing Inventory Previous | Next OverviewInventory RelayOutbound Inventory SyncInventory Web ServiceConfigurationConfiguring Inventory RelayConfiguring Outbound SyncImplementation FlavorsHow to send Relay or Sync message to a Custom queueHow to send custom attributes as part of Publish Relay messageRelated Articles Overview Since the Enterprise Inventory tracks inventory for the entire supply chain at various levels, it is required for the external systems to publish the inventory. Enterprise Inventory can publish perpetual inventory in three ways: Inventory event relay Outbound inventory sync Web service Inventory Relay When inventory is updated within Enterprise Inventory, a corresponding event can be published to external systems. For example, if a store associate performs an adjustment to store inventory, an inventory event can be generated to update external systems. Inventory events with a change of inventory levels can be configured to be relayed to external systems in near-real time. The inventory is relayed in JSON format. Inventory relay happens for every Item in the Supply event. Refer Configuring Inventory Relay for more details. Inventory can be relayed in two different ways: Publish Inventory Relay (as-is): An inventory event sent to Enterprise Inventory is published as-is to external system. The relayed inventory event contains the delta quantity (or the changed attribute, such as ETA), as well as the absolute quantity (Total quantity). Absolute Quantity (relay-only field) is typically an on-hand transaction sent with delta quantities. As part of the relay, quantity (delta) and absolute quantity are sent for the supply record. Consider an example - Adjustment is sent for 50 units. The corresponding supply record already has 100 units. In the relay message, the quantity is to be sent as 50 and the total quantity as 150 units. In the case of future supply, typically, an absolute quantity is sent to the inventory component, so that the quantity and absolute quantity remain the same. In the case of movement or error, the absolute quantity is not populated as it affects the multiple supply record(s). Publish Updated Inventory Records: An inventory event sent to Enterprise Inventory can update one or more supply record(s). This relayed inventory event contains all the updated supply record(s) as part of the incoming supply event. If the location does not track supply by inventory attributes or segments, then this information is not relayed to the external system. Also, Inventory relay message is triggered for all supply events and order event (ship) but inventory relay message is not triggered for the inventory updates due to order event (short). Refer to the section below to understand the Relay with some examples and sample Relay JSON during Adjustment and Ship event. Note: Relay is not supported for short transactions as part of Order Event Inventory Relay - ExamplesExample 1 - Receipt message can update on-hand, ASN and PO record Consider the following inventory records: Inventory# Item Location Reference Type Reference Id Reference Dtl Id Supply Type Quantity 1 item 1 Location 1 PO PO1 L1 On Order 600 2 item 1 Location 1 ASN ASN1 PO1:L1 In Transit 400 3 item 1 Location 1 On-hand Available 100 A receipt is sent for 300 units. In this scenario, inventory is updated as below: Inventory# Item Location Reference Type Reference Id Reference Dtl Id Supply Type Quantity 1 item 1 Location 1 PO PO1 L1 On Order 600 2 item 1 Location 1 ASN ASN1 PO1:L1 In Transit 100 3 item 1 Location 1 On-hand Available 400 The system sends updated inventory records (ASN & on-hand) as part of relay event Supply Type Quantity In Transit 100 On-hand Available 400 Example 2 - Movement message can update multiple record(s) Consider the following inventory records: Inventory# Item Location Supply Type Quantity 1 item 1 Location 1 On-hand available 600 2 item 1 Location 1 On-hand available soon 400 A movement message is sent to move 100 units from "On-hand available soon" to "On-hand available". Inventory will be updated as below: Inventory# Item Location Supply Type Quantity 1 item 1 Location 1 On-hand available 700 2 item 1 Location 1 On-hand available soon 300 The system sends updated inventory records (On-hand available, on-hand available soon) as part of the relay event: Supply Type Quantity On-hand Available 700 On-hand Available soon 300 Relay (Adjustment) - Sample JSON Inventory Relay - Sample JSONItem A is have existing inventory of 50 units. Adjustment is triggered for 100 units "RelaySupplyEvent" – This will have the supply record AS:IS sent during supply event. "RelaySupply" – This will have list of all supply records which are updated as part of this supply event. { "RelaySupplyEvent": { "TransactionTypeId": "Adjustment", "ProfileId": null, "LastTransDate": null, "ResetError": true, "SupplyDefinition": { "ItemId": "ItemA", "LocationId": "DC1", "OriginLocationId": "", "ReferenceTypeId": "", "ParentReferenceTypeId": "", "ReferenceId": "", "ParentReferenceId": "", "ReferenceDetailId": "", "ParentReferenceDetailId": "", "SegmentId": "", "SupplyAttributes": { "CountryofOrigin": "", "BatchNumber": "", "ProductStatus": "", "InventoryType": "", "InvAttribute1": "", "InvAttribute2": "", "InvAttribute3": "", "InvAttribute4": "", "InvAttribute5": "" }, "SupplyType": { "SupplyTypeId": "On Hand Available", "DispositionId": "", "LockCodeId": "", "TransferFromSupplyTypeId": "", "TransferFromDispositionId": "", "TransferFromLockCodeId": "", "TransferFromSegmentId": null }, "SupplyData": { "ErrorCodeId": "", "ETA": null, "Quantity": 100.0, "UOM": "unit", "AbsoluteQuantity": 150.0, "QuantityAdjustmentType": "A" }, "RelayAttributes": null, "SegmentTransferRequest": null } }, "RelaySupply": [{ "ProfileId": "globalorg-us", "LastTransDate": "2018-12-06T07:02:27.455", "SupplyDefinition": { "ItemId": "ItemA", "LocationId": "DC1", "OriginLocationId": null, "ReferenceTypeId": null, "ParentReferenceTypeId": null, "ReferenceId": null, "ParentReferenceId": null, "ReferenceDetailId": null, "ParentReferenceDetailId": null, "SegmentId": null, "SupplyAttributes": { "CountryofOrigin": "", "BatchNumber": "", "ProductStatus": "", "InventoryType": "", "InvAttribute1": "", "InvAttribute2": "", "InvAttribute3": "", "InvAttribute4": "", "InvAttribute5": "" }, "SupplyType": { "SupplyTypeId": "On Hand Available" }, "SupplyData": { "ErrorCodeId": null, "ETA": null, "Quantity": 150.0, "UOM": "unit" } } }] } Relay (Order event Ship) - Sample JSON Inventory Relay - Ship (Order Event)Example 1: Supply exists with 'On Hand Available' for 11 units, Ship sent for 5 units. It will look exactly same like relay generated by any adjustment of negative qty. For instance: if 5 qty is shipped then transaction type=Ship and qty = -5 with other attributes value as below "RelaySupplyEvent": { "TransactionTypeId": "Ship", "ProfileId": null, "LastTransDate": "2019-08-29T09:45:22.516", "ResetError": false, "SupplyDefinition": { "ItemId": "t10001bluemedium", "LocationId": "store-atlanta-01", "OriginLocationId": null, "ReferenceTypeId": null, "ParentReferenceTypeId": null, "ReferenceId": null, "ParentReferenceId": null, "ReferenceDetailId": null, "ParentReferenceDetailId": null, "SegmentId": null, "SupplyAttributes": { "CountryofOrigin": "", "BatchNumber": "", "ProductStatus": "", "InventoryType": "", "InvAttribute1": "A", "InvAttribute2": "B", "InvAttribute3": "", "InvAttribute4": "", "InvAttribute5": "" }, "SupplyType": "On Hand Available", "SupplyData": { "ErrorCodeId": null, "ETA": null, "Quantity": -5, "UOM": "unit", "AbsoluteQuantity": 6, "QuantityAdjustmentType": "A" }, "RelayAttributes": null, "SegmentTransferRequest": null } }, "RelaySupply": [ { "ProfileId": "test", "LastTransDate": "2019-08-29T09:44:14.626", "SupplyDefinition": { "ItemId": "t10001bluemedium", "LocationId": "store-atlanta-01", "OriginLocationId": null, "ReferenceTypeId": null, "ParentReferenceTypeId": null, "ReferenceId": null, "ParentReferenceId": null, "ReferenceDetailId": null, "ParentReferenceDetailId": null, "SegmentId": null, "SupplyAttributes": { "CountryofOrigin": "", "BatchNumber": "", "ProductStatus": "", "InventoryType": "", "InvAttribute1": "A", "InvAttribute2": "B", "InvAttribute3": "", "InvAttribute4": "", "InvAttribute5": "" }, "SupplyType": { "SupplyTypeId": "On Hand Available" }, "SupplyData": { "ErrorCodeId": null, "ETA": null, "Quantity": 6, "UOM": "unit" } } } ] } Example 2 - When order is shipped, multiple matching supply record with non-zero qty exists then there will be multiple relay outbound messages. For instance: Single Line order for 50 qty allocated against On Hand Available -> 20 qty & On Hand Available Soon -> 30 qty. On receiving ship event for 50 qty, 2 relay messages will be triggered - 1 for On Hand Available; 1 for On Hand Available Soon Relay message 1 for On Hand Available supply record { "RelaySupplyEvent": { "TransactionTypeId": "Ship", "ProfileId": null, "LastTransDate": "2019-08-28T20:17:04.929", "ResetError": false, "SupplyDefinition": { "ItemId": "t10001bluemedium", "LocationId": "store-atlanta-01", "OriginLocationId": null, "ReferenceTypeId": null, "ParentReferenceTypeId": null, "ReferenceId": null, "ParentReferenceId": null, "ReferenceDetailId": null, "ParentReferenceDetailId": null, "SegmentId": null, "SupplyAttributes": { "CountryofOrigin": "", "BatchNumber": "", "ProductStatus": "", "InventoryType": "", "InvAttribute1": "A", "InvAttribute2": "", "InvAttribute3": "", "InvAttribute4": "", "InvAttribute5": "" }, "SupplyType": "On Hand Available", "SupplyData": { "ErrorCodeId": null, "ETA": null, "Quantity": -20.0, "UOM": "unit", "AbsoluteQuantity": 0.0, "QuantityAdjustmentType": "A" }, "RelayAttributes": null, "SegmentTransferRequest": null } }, "RelaySupply": [{ "ProfileId": "test", "LastTransDate": "2019-08-28T20:17:02.079", "SupplyDefinition": { "ItemId": "t10001bluemedium", "LocationId": "store-atlanta-01", "OriginLocationId": null, "ReferenceTypeId": null, "ParentReferenceTypeId": null, "ReferenceId": null, "ParentReferenceId": null, "ReferenceDetailId": null, "ParentReferenceDetailId": null, "SegmentId": null, "SupplyAttributes": { "CountryofOrigin": "", "BatchNumber": "", "ProductStatus": "", "InventoryType": "", "InvAttribute1": "A", "InvAttribute2": "", "InvAttribute3": "", "InvAttribute4": "", "InvAttribute5": "" }, "SupplyType": { "SupplyTypeId": "On Hand Available" }, "SupplyData": { "ErrorCodeId": null, "ETA": null, "Quantity": 0.0, "UOM": "unit" } } } ] } Relay message 2 for On Hand Available supply record { "RelaySupplyEvent": { "TransactionTypeId": "Ship", "ProfileId": null, "LastTransDate": "2019-08-28T20:17:04.929", "ResetError": false, "SupplyDefinition": { "ItemId": "t10001bluemedium", "LocationId": "store-atlanta-01", "OriginLocationId": null, "ReferenceTypeId": null, "ParentReferenceTypeId": null, "ReferenceId": null, "ParentReferenceId": null, "ReferenceDetailId": null, "ParentReferenceDetailId": null, "SegmentId": null, "SupplyAttributes": { "CountryofOrigin": "", "BatchNumber": "", "ProductStatus": "", "InventoryType": "", "InvAttribute1": "A", "InvAttribute2": "", "InvAttribute3": "", "InvAttribute4": "", "InvAttribute5": "" }, "SupplyType": "On Hand Available Soon", "SupplyData": { "ErrorCodeId": null, "ETA": null, "Quantity": -20.0, "UOM": "unit", "AbsoluteQuantity": 0.0, "QuantityAdjustmentType": "A" }, "RelayAttributes": null, "SegmentTransferRequest": null } }, "RelaySupply": [{ "ProfileId": "test", "LastTransDate": "2019-08-28T20:17:02.079", "SupplyDefinition": { "ItemId": "t10001bluemedium", "LocationId": "store-atlanta-01", "OriginLocationId": null, "ReferenceTypeId": null, "ParentReferenceTypeId": null, "ReferenceId": null, "ParentReferenceId": null, "ReferenceDetailId": null, "ParentReferenceDetailId": null, "SegmentId": null, "SupplyAttributes": { "CountryofOrigin": "", "BatchNumber": "", "ProductStatus": "", "InventoryType": "", "InvAttribute1": "A", "InvAttribute2": "", "InvAttribute3": "", "InvAttribute4": "", "InvAttribute5": "" }, "SupplyType": { "SupplyTypeId": "On Hand Available Soon" }, "SupplyData": { "ErrorCodeId": null, "ETA": null, "Quantity": 0.0, "UOM": "unit" } } } ] } Publish Inventory relay for store sale: A queue has been configured to publish inventory relay messages with the Inventory Transaction Type set to 'Store Sale'. This allows store transactions to be distinctly identified and categorized as store sales, separate from other transaction types. The value for Inventory Transaction Type can be configured via 'Inventory Transaction Type Relay Config' from main menu. Note: From base the value for Inventory Transaction Type is set to 'Store Sale' Outbound Inventory Sync In addition to relaying inventory, inventory records can be synced regularly with an external system at a scheduled date and time. An inventory sync template can be configured to send a snapshot of inventory on a scheduled basis. The inventory sync template can also be manually initiated from within Enterprise Inventory. For example, at year end, a host financial system may need the perpetual inventory at all DCs and stores in order to calculate year-end inventory costs. This inventory picture can be sent from Enterprise Inventory to the host system via an inventory sync template. For every outbound inventory sync that is sent, Enterprise Inventory captures some key statistics such as total number of records, start time and end time. Below attributes determine if all supply record(s) or only non-zero record(s) or only records updated from the last sync should be published. “Publish All”: “Indicates if supply records updated after the last runtime is published or all supply records are published. For instance: If the value is true, a complete inventory picture will be published, whereas if it's false, then only changes since the previous sync will be published.” “Full Sync”: “Indicates if it is a full sync or partial sync. If true, all associated supply record(s) are published. If false, then only the non-zero supply record(s) are published. Also, if Publish All= true and Full Sync= true, then a complete inventory picture is published on every run, whereas if Publish All= false and Full Sync= true, then only the changes ( Zero and Non-Zero both) since last sync, will be published. Similarly, for partial sync.” Consider the following combination of Publish All and Full Sync attributes in Publish Sync configuration and see how sync is published. Publish Sync Configuration Details Config 1 PublishAll= true & FullSync= true Send complete inventory picture for a location Config 2 PublishAll= true & FullSync= false Send complete inventory picture ( Only Non-zero records ) for a location. Config 3 PublishAll= false & FullSync= true Send inventory picture which are updated post last runtime for a location. Config 4 PublishAll= false & FullSync= false Send inventory picture ( Only Non-zero records ) which are updated post last runtime for a location. Note: Only key fields mentioned for config in the above table, filter criteria such as Demand Type can be added to the rule-set. Consider the following supply records Location Supply Item Quantity Last Updated DC1 S1 ItemA 50 2020-01-01 T 10:00 DC1 S2 ItemB 50 2020-01-01 T 10:05 DC1 S3 ItemC 0 2020-01-01 T 10:10 DC1 S4 ItemD 50 2020-01-01 T 11:05 DC1 S5 ItemE 0 2020-01-01 T 11:10 When Job "supplySyncOutboundJob" runs, then below are the supply records that will be published for different publish sync configs. Job Run time Config 1 Config 2 Config 3 Config 4 (First Run) at 11:00 (2020-01-01) S1, S2, S3 S1, S2 S1, S2, S3 S1, S2 Next run at 12:00 (2020-01-01) All S1, S2, S4 S4, S5 S4 Inventory Web Service External systems can invoke a Get Supply service request in order to get supply levels for a particular item/facility. Configuration Configuring Inventory Relay Refer to the section below to configure Inventory Relay Setting up Inventory Relay Configuration Description Location Attribute - Inventory Relay Inventory Relay can be disabled or enabled for a set of locations. If inventory relay is enabled then based on the transaction type settings (see below) relay messages are published - /inventory/api/inventory/locationAttributes { "LocationId": "DC1", "GenerateRelayEvent": "True" } Navigate to the Location attributes UI to configure the relay settings. Transaction Type - Inventory Relay For a location where relay is enabled, relay can be enabled or disabled for a set of Transaction Types (PO Create, Adjustment, Receipt, Adjustment etc.). If external system wants to receive updates only in case of adjustment or Purchase order creation then relay event should be enabled for only these two transactions for a location. There is no API to enable relay for all the transaction types for a location. If relay is enabled for a location and a transaction type, then an inventory message is relayed out to external systems when a supply event is received for the configured location and transaction type. This can be set up by invoking the rest end point (set Relay for a Location and Transaction Type) - POST: url/inventory/api/inventory/locGenerateRelay/save (no UI to set up this information). Supported Transaction Types - Adjustment, Movement, Receipt, InvError, POCreate, POUpdate, POCancel, POClose, ASNCreate, ASNUpdate ASNCancel, ASNClose, ASNVerify, Fulfillment, SegmentTransfer, Ship Note: Relay is supported only for the above Transaction Types and not configurable based on the Inventory transaction Type attribute { "GenerateRelayEvent": "True", "LocationId": "DC1", "TransactionTypeId": "Adjustment" } Configure Extension Point (for correct JSON format) New extension point "RelayEventJson" to get the relay in correct parseable format. Configure a new "ExtPointToMessageType" and "OutBoundMessageType" Configuring Outbound Sync Refer to the section below to configure Outbound Sync and sample Publish Sync JSON Setting up Outbound SyncOutbound sync can be configured to include or exclude inventory which is marked in error, and can also be configured to include the allocated quantity. This can be done by invoking the REST end point (/inventory/api/inventory/publishSyncConfig). There is no UI to set up this information. Key attributes in the Publish Sync configuration are Configuration Description Rule condition Indicates the filter condition for the template such as LocationId (mandate), LocationTypeId, SupplyTypeId, DemandType. It can have single or list of locations subjected to the max length of string (750). For instance ['DC1','DC2','DC3'] Full Sync Indicates if only non zero supply records or both non zero, negative and zero supply records should be included. If true, then both zero and non zero and negative records are published. If false, then only the positive non zero supply record(s) are published. In this case, negative inventory records are not published. Publish All Indicates if supply records updated after last runtime are published or all supply records are published. For instance: If value is true, complete inventory picture will be published whereas if it's false then only changes since the previous sync will be published. If Publish All= true and Full Sync= true then complete inventory picture is published on every run If Publish All= false and Full Sync= true then only the changes ( Zero and Non-Zero both) since last sync, will be published. Similarly for partial sync. Job type "supplySyncOutboundJob" should be set up to schedule Publish All Publish Allocated units Flag to include Allocated Quantity in Sync Outbounds. If this is set, then allocated quantity associated with the supply record is included in the sync outbound Publish Sync with Errors Include supply record(s) marked with errors in Sync Outbound. If this is set, then supply record(s) marked with errors is included in the sync outbound. Publish Sync Format ID This indicates the publish sync outbound format. This can take either JSON or XML Number Of Records Per File If not provided or zero then Default value of 500 is used. Publish Sync - Sample JSON Example 1 - Rule condition with Location ID { "ConfigName": "PublishSyncConfig", "Description": "Publish Sync Config", "EffectiveDate": "2020-04-07T11:57:56.023", "ExpiryDate": "2025-04-08T12:10:56.023", "RuleCondition": "['T0981','DC001'] contains LocationId", "PublishAllocatedQuantity": true, "PublishSupplyWithErrors": true, "FullSync": true, "PublishSyncFormatId": "JSON", "NumberOfRecordsPerFile": 5, "PublishAll": true } Example 2 - Rule condition with Location ID, Location Type, Supply Type { "ConfigName": "Publish Sync Config2", "Description": "Publish Sync Config2", "EffectiveDate": "2017-04-07T11:57:56.023", "ExpiryDate": "2020-04-08T12:10:56.023", "RuleCondition": "['DC:01', 'DC:02'] contains LocationId and ['DistributionCenters'] contains LocationTypeId and ['On Hand Available', 'On Hand Available Soon'] contains SupplyTypeId and ['Allocation'] contains DemandType", "PublishAllocatedQuantity": false, "PublishSupplyWithErrors": false, "FullSync": false, "PublishSyncFormatId": "JSON", "NumberOfRecordsPerFile": 5, "PublishAll": true } Implementation Flavors How to send Relay or Sync message to a Custom queue Currently, all Relay or Sync messages (irrespective of Location, Transaction Type, Adjustment type) are sent to a single outbound message type. If the relay messages needs to be published to a different outbound message type, then the Relay or Sync message could be read by a common message type and then diverted to separate queues by reading the message. How to send custom attributes as part of Publish Relay message Send values under Supply event - Relay attributes or Send values under Supply Event - Inventory Transaction Type or Inventory Transaction value. Refer to Relay supply information section for more details. Related Articles OverviewTroubleshootingAudit & ArchiveReapportionment How Future Supply worksRest APIs & User ExitsSegmentationInfinite InventoryHow Supply WorksHow to Configure Supply ProfilesSupply Sync