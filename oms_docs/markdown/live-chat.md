# Chat

**Permalink:** live-chat
**Path:** Manhattan Active® Omni/Customer Engagement/Process & Configuration Guides/Interactions/Chat
**Content Length:** 35,432 characters
**Scraped:** 2025-08-09T22:00:55.859269

---

Home ››Manhattan Active® Omni››Customer Engagement››Process & Configuration Guides››Interactions ››Chat Live Chat Previous I Next OverviewTechnical Workflow for Agent Inbox Enabling Live Chat from DSSChat for Customer ProcessChat ReasonsPost Live Chat SurveyChat TimeoutHours of OperationTroubleshooting GuideReasons are not getting displayed in Chat Window Overview Customer Service Agent Inbox includes a Live Chat that is delivered as part of the Digital Self-Service application. Customers can use Live Chat to communicate with the contact center agent. When the customer sends a live chat, it is displayed in the Customer Service Agent Inbox as an interaction. The contact center agent can select that interaction and begin sending messages to the customer. Technical Workflow for Agent Inbox SMS and Live Chat both use a CPaaS tool to relay conversations between the customer and the contact center agent. The diagram depicts how the system utilizes the CPaaS tool to provide communication. Enabling Live Chat from DSS Note: Work with the service team to configure this in the KV store. Below are the steps to enable Live Chat from DSS. Live Chat configuration is mandatory and must be completed for customers to chat with a contact center agent. 1. Use the interactionConfig to enable the live chat; this is org specific data [POST] {{url}}/customerinteraction/api/customerinteraction/interactionConfig/save 2. Ensure that the chat application is restricted to Manhattan Active® Omni and the Contact Center Agent Inbox. In the Digital Self-Service Chat, an iframe is used to open the chat application and connect to the parent application. The hostURL config facilitates communication from the iframe to the parent application through a handshake protocol, primarily for security reasons. Essentially, we restrict our chat application to our domain product. This can be defined in KV Store. Set hostURL in selfservice componentkey: selfservice.hostURL value: ["<<domainName>>"] (ex: [“https://omni-regression.om.manh.cloud/“] 3. Set permissions for userIDs for employees using the Agent Inbox. This is required for authentication and will allow the contact center agent's messages to be communicated via Live Chat. This is generally the contact center agents and any other resource who will be using the Agent Inbox. This can be done in the KV Store; restart the service after this step. Set Organization Mapping under your own tenentkey: selfservice.organizationMapping value: {"dummyOrg":{"User":"csr1@dummyorg.com"},"globalorg-us":{"User":"admin@globalorg-us.com"},"globalorg-france":{"User":"admin@globalorg-france.com"},"globalorg-uk":{"User":"admin@globalorg-uk.com"},"vss-us":{"User":"admin@vss-us.com"},"ecomorg":{"User":"admin@ecomorg.com"},"ecloud":{"User":"admin@ecloud.com"}} Chat for Customer Process Once enabled on the retailer's website, Chat can be accessed by customers using the chat icon. If the customer has not been verified by the retailer's website, the Chat will display a page requesting the first name, last name and email address of the customer. Once the information is provided, the system will route the chat to an agent, unless the chatbot is enabled. If the retailer is using a chatbot, the customer can interact with the chatbot once the information is provided (they can also connect to a live agent if required). If the customer has been verified by the retailer's website, they will bypass the initial question page. The system will route the chat directly to a contact center agent, who can begin chatting with the customer, unless the chatbot is enabled. If the retailer is using a chatbot, the customer can interact with the chatbot once the information is provided (they can also connect to a live agent from chatbot, if required). Chat Reasons Optionally, when a customer clicks on 'Connect to Agent', the system can be configured to capture the reason from the customer. To enable this feature, configure interaction reasons in the system with the details mentioned below: Interaction Reason ID: Id for the reason (used in queue configuration rules and other case UIs). Interaction Reason Name: Name of the Reason. This gets displayed as chips on the Chat window when the customer clicks on the 'Connect to Agent' Button. Interaction Reason Description: Brief description of the interaction reason. Sequence: The order that the chips will be displayed on the Chat Window. Chips with Display Sequence = 0 will be displayed first. If two chips share the same sequence value, they will be displayed together, in alphabetical order. If no sequence is provided, the chips are displayed in alphabetical order. The interaction reasons can be configured through the menu entry < Interaction ReasonCurrently, the system supports display of only up to 20 (twenty) reason chips on the chat window with 5 of them displayed at any given time and the customer can click the Next/Previous buttons to traverse the list and select one reason. If interaction reasons are configured in the system, it is mandatory for the customer to select a reason before the system connects to an agent. The customer will not be able to use the chat without selecting a reason. If interaction reasons are not configured, the reason chips are not displayed in the chat window. Note: Include a reason 'None' in case the customer does not find an appropriate reason to select the available one, so that the system can connect the chat conversation to a live agent Post Live Chat Survey Once the customer decides to end the chat conversation and closes the chat window, a survey or feedback form is displayed to capture the customer's feedback about the agent and the conversation in Net Promoter Survey (NPS) format, including optional comments. The survey form is displayed if 'Enable Customer Survey in Self Service Pages' on the Self-Service Configuration UI is enabled. Toggling 'Enable Customer Survey in Self Service Pages' configuration on the Self-Service Configuration UI will enable or disable the survey or customer feedback across all the features in the application, and it cannot be enabled/disabled only for live chat. Note: The survey data is stored in the database and not displayed on any UI currently. The survey can be accessed by using the backend API: GET {{url}}/selfservice/api/selfservice/surveyData - no request body required Sample response of the survey data stored{ }, "data": [ { "UpdatedTimestamp": "2024-09-10T13:40:00.451", "SurveyDataId": "8358c21e-4355-416c-9139-88fb97799517", "CreatedBy": "admin@globalorg-us.com", "CreatedTimestamp": "2024-09-10T13:40:00.451", "Comments": "Thanks", "Rating": 6, "InteractionRefId": "CH923fe162cd8542fdadcf836ce27ea40e", "Page": { "PageId": "Cancel" }, "AssignedToId": null, "OrderId": null, "OrgId": "globalorg-us", "UpdatedBy": "admin@globalorg-us.com", "SurveyType": { "SurveyTypeId": "NPS" }, "ContextId": "cba6733c-46c0-48c2-a1cb-20fa9125555a", "PK": "7259558004506843313", "PurgeDate": null, "Unique_Identifier": "7259558004506843313__8358c21e-4355-416c-9139-88fb97799517" }, { "Messages": null, "UpdatedTimestamp": "2024-09-10T15:56:50.317", "SurveyDataId": "1dac8d9c-d259-44bd-a4d5-ce4972523d06", "CreatedBy": "admin@globalorg-us.com", "CreatedTimestamp": "2024-09-10T15:56:50.317", "Comments": "very good", "Rating": 7, "InteractionRefId": "CH62a2937423fb47c681e80eb3e0a5853c", "Page": { "PageId": "Chat" }, "Process": null, "AssignedToId": "ceadmin2@globalorg-us.com", "OrderId": null, "OrgId": "globalorg-us", "UpdatedBy": "admin@globalorg-us.com", "SurveyType": { "SurveyTypeId": "NPS" }, "ContextId": "e7de26df-21b5-479b-918b-70a338f46a6f", "PK": "7259640103161586044", "PurgeDate": null, "Unique_Identifier": "7259640103161586044__1dac8d9c-d259-44bd-a4d5-ce4972523d06" }, { "Messages": null, "UpdatedTimestamp": "2024-09-10T15:57:07.758", "SurveyDataId": "b88c5c87-8d80-4a70-a26d-d7073bfc3b91", "CreatedBy": "admin@globalorg-us.com", "CreatedTimestamp": "2024-09-10T15:57:07.758", "Comments": "very good", "Rating": 7, "InteractionRefId": "CH62a2937423fb47c681e80eb3e0a5853c", "Page": { "PageId": "Chat" }, "Process": null, "AssignedToId": "admin@globalorg-us.com", "OrderId": null, "OrgId": "globalorg-us", "UpdatedBy": "admin@globalorg-us.com", "SurveyType": { "SurveyTypeId": "NPS" }, "ContextId": "460326c6-18dc-47ce-9640-31fc7470da5c", "PK": "7259640277571595706", "PurgeDate": null, "Unique_Identifier": "7259640277571595706__b88c5c87-8d80-4a70-a26d-d7073bfc3b91" }, { "Messages": null, "UpdatedTimestamp": "2024-09-10T16:10:40.796", "SurveyDataId": "b113df15-ef98-4246-b585-fb6a9c3f2174", "CreatedBy": "admin@globalorg-us.com", "CreatedTimestamp": "2024-09-10T16:10:40.796", "Comments": "feedback from customereeererer", "Rating": 5, "InteractionRefId": "CH8fad81f753064b0493db3497d812f1ea", "Page": { "PageId": "Chat" }, "Process": null, "AssignedToId": "ceadmin2@globalorg-us.com", "OrderId": null, "OrgId": "globalorg-us", "UpdatedBy": "admin@globalorg-us.com", "SurveyType": { "SurveyTypeId": "NPS" }, } ], }, } Note: The customer survey form cannot be customized in any way Chat Timeout If the customer and the contact center agent have not communicated in some time, the live chat session will end. If no communication has occurred within three minutes, the system will display a message to customers asking if they want to continue. If no more communication occurs for an additional five minutes, the system will display a message to the customer that the session has ended; the system will end the session. The contact center agent and the customer will no longer be able to send messages to one another. The customer can close the browser and start a new chat if they want to continue chatting; the system will create a new interaction, which may be routed to a new contact center agent. Hours of Operation An organization can set ‘Hours of Operation’ dictating the windows of time customer service agents are available. If the time is outside of the configured windows, a message within the chat window will appear on the load stating “Our team is currently unavailable as we're outside of working hours. Please try again later". The configuration is day of the week specific and interaction type specific. Meaning that a different availability configuration can be set for text messages than chat. Seed data has already configured 24hrs, 7 days a week availability for both chat and text message interaction types. Use the following API to configure hours of operation: Hours of OperationPOST {{url}}/customerinteraction/api/customerinteraction/hoursOfOperation/import { "ProfileId": "base", "data": [ { "InteractionType": "Chat", "DayOfWeek": "MONDAY", "TimeZoneId": "America/New_York", "OperationPeriod": [ { "OperationPeriodId": "1", "StartTime": "00:00", "EndTime": "23:59", "IsBreak": false } ] }, { "InteractionType": "Chat", "DayOfWeek": "TUESDAY", "TimeZoneId": "America/New_York", "OperationPeriod": [ { "OperationPeriodId": "1", "StartTime": "00:00", "EndTime": "23:59", "IsBreak": false } ] }, { "InteractionType": "Chat", "DayOfWeek": "WEDNESDAY", "TimeZoneId": "America/New_York", "OperationPeriod": [ { "OperationPeriodId": "1", "StartTime": "00:00", "EndTime": "23:59", "IsBreak": false } ] }, { "InteractionType": "Chat", "DayOfWeek": "THURSDAY", "TimeZoneId": "America/New_York", "OperationPeriod": [ { "OperationPeriodId": "1", "StartTime": "00:00", "EndTime": "23:59", "IsBreak": false } ] }, { "InteractionType": "Chat", "DayOfWeek": "FRIDAY", "TimeZoneId": "America/New_York", "OperationPeriod": [ { "OperationPeriodId": "1", "StartTime": "00:00", "EndTime": "23:59", "IsBreak": false } ] }, { "InteractionType": "Chat", "DayOfWeek": "SATURDAY", "TimeZoneId": "America/New_York", "OperationPeriod": [ { "OperationPeriodId": "1", "StartTime": "00:00", "EndTime": "23:59", "IsBreak": false } ] }, { "InteractionType": "Chat", "DayOfWeek": "SUNDAY", "TimeZoneId": "America/New_York", "OperationPeriod": [ { "OperationPeriodId": "1", "StartTime": "00:00", "EndTime": "23:59", "IsBreak": false } ] }, { "InteractionType": "TextMessage", "DayOfWeek": "MONDAY", "TimeZoneId": "America/New_York", "OperationPeriod": [ { "OperationPeriodId": "1", "StartTime": "00:00", "EndTime": "23:59", "IsBreak": false } ] }, { "InteractionType": "TextMessage", "DayOfWeek": "TUESDAY", "TimeZoneId": "America/New_York", "OperationPeriod": [ { "OperationPeriodId": "1", "StartTime": "00:00", "EndTime": "23:59", "IsBreak": false } ] }, { "InteractionType": "TextMessage", "DayOfWeek": "WEDNESDAY", "TimeZoneId": "America/New_York", "OperationPeriod": [ { "OperationPeriodId": "1", "StartTime": "00:00", "EndTime": "23:59", "IsBreak": false } ] }, { "InteractionType": "TextMessage", "DayOfWeek": "THURSDAY", "TimeZoneId": "America/New_York", "OperationPeriod": [ { "OperationPeriodId": "1", "StartTime": "00:00", "EndTime": "23:59", "IsBreak": false } ] }, { "InteractionType": "TextMessage", "DayOfWeek": "FRIDAY", "TimeZoneId": "America/New_York", "OperationPeriod": [ { "OperationPeriodId": "1", "StartTime": "00:00", "EndTime": "23:59", "IsBreak": false } ] }, { "InteractionType": "TextMessage", "DayOfWeek": "SATURDAY", "TimeZoneId": "America/New_York", "OperationPeriod": [ { "OperationPeriodId": "1", "StartTime": "00:00", "EndTime": "23:59", "IsBreak": false } ] }, { "InteractionType": "TextMessage", "DayOfWeek": "SUNDAY", "TimeZoneId": "America/New_York", "OperationPeriod": [ { "OperationPeriodId": "1", "StartTime": "00:00", "EndTime": "23:59", "IsBreak": false } ] } ] } If CSR agents are unavailable outside hours of operation, the “Connect to an Agent” button will be disabled in the chatbot, and the following message will be displayed: “Our team is currently unavailable as we're outside of working hours. Please try again later.” If chatbot functionality is disabled and only a live agent is enabled, then just the following message will be displayed: “Our team is currently unavailable as we're outside of working hours. Please try again later.” Below are sample messages configured for chat Hours of Operation Interaction Config Component Label Message Name KVStore Path Outside hours of operation Only live chat enabled customerinteraction error.10129 Our team is currently unavailable as we're outside of working hours. Please try again later Key / Values->localization->com-manh-cp-customerinteraction->error-codes->en Inside hours of operation Chatbot and live chat enabled Chatbot disabled customerinteraction agentUnavailableMessage All of our agents are currently busy. Please wait and we'll connect you when someone becomes available. Key / Values->localization->com-manh-cp-customerinteraction->labels->en After changing the message in KVStore, the respective component should be restarted. Refer to Maven Chatbot and Agent Assist guide for configuring outside hours of operation message for chat interaction when chatbot and live chat are enabled. Below is the example to set outside hours of operation To configure the hours of operation, use the MUP UI by navigating to Menu > Hours of Operation, or use the APIs provided below. GET : {{url}}/customerinteraction/api/customerinteraction/hoursOfOperation POST : {{url}}/customerinteraction/api/customerinteraction/hoursOfOperation/save Update "IsBreak": false to "IsBreak": true and post the below body. { "Messages": null, "ProfileId": "AnnTaylorUS-Test", "InteractionType": "Chat", "DayOfWeek": "THURSDAY", "UpdatedTimestamp": "2024-08-01T03:51:53.496", "CreatedBy": "admin@AnnTaylorUS-Test", "CreatedTimestamp": "2024-08-01T03:51:53.496", "Process": "/hoursOfOperation/save", "OperationPeriod": [ { "ProfileId": "AnnTaylorUS-Test", "UpdatedTimestamp": "2024-10-24T12:29:37.401", "CreatedBy": "admin@AnnTaylorUS-Test", "CreatedTimestamp": "2024-08-01T03:51:53.548", "EndTime": "23:59", "StartTime": "00:00", "ParentHoursOfOperation": { "PK": 7224843134953761869 }, "Process": "/hoursOfOperation/save", "IsBreak": false, "UpdatedBy": "venu@anntaylorus-test", "ContextId": "c2ff8e5e-2623-41d6-b762-a2fad728dd75", "OperationPeriodId": "1", "PK": "7224843135473775566", "Unique_Identifier": "7224843135473775566__1" } ], "UpdatedBy": "admin@AnnTaylorUS-Test", "TimeZoneId": "America/New_York", "ContextId": "174e65cc-35df-4313-b37e-680d1868ebcf", "Summary": null, "PK": "7224843134953761869", "Unique_Identifier": "7224843134953761869__Chat__THURSDAY" } Troubleshooting Guide Reasons are not getting displayed in Chat Window If no reasons are shown in live chat, validate below to see if reasons are present by using the following API. Get API: {{url}}/customerinteraction/api/customerinteraction/interactionReason?templateName=BasicInteractionReasonTemplate&size=100 Interaction Reason UI - for any interaction, find the reasons associated with it, if any, by using the following API. Get API: Filter by CaseId: {{url}}/customerinteraction/api/customerinteraction/chat?query=CaseId=CASE1039 Filter by ChatId: {{url}}/customerinteraction/api/customerinteraction/chat?query=ChatId='aa0e381b-f7de-49fa-9ecb-41af6afe683d' The recent reason will be propagated to the Case. Case List UI - Reasons column has been added Get API:: {{url}}/cases/api/cases/cases?query=CaseId='CASE1039' Related Articles Interaction Wrap up Emails Interaction ConfigurationText Messaging