# Predict Promising with Machine Learning

**Permalink:** predict-promising-with-machine-learning
**Path:** Manhattan Active® Omni/Order Management/Process & Configuration Guides/Order Processing/Order Scheduling/Predict Promising with Machine Learning
**Content Length:** 41,458 characters
**Scraped:** 2025-08-09T21:56:56.349176

---

Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Order Processing››Order Scheduling ››Predict Promising with Machine Learning Earliest Scheduling Dates (Ship & Delivery) Previous I Next OverviewHow Prediction Works via Machine LearningAPIs that use Predict Promising to Calculate DatesMonitoring Predicted Date PerformanceConfigurationHow to Configure Predictive Promising ConfigPre-requisitesStep 1 - Set up Predictive Promising OptionStep 2 - Initiating the Training WorkflowStep 3 - Monitor Model StatusTroubleshootingWhy are the predicted dates not populated?Implementation FlavorsHow to activate both ESD (Predict Ship Date) and EDD (Predict Ship and Delivery Date) models for a Customer?Related Article(s) Overview Currently, the earliest ship and delivery dates provided to customers are computed using configuration data. A heuristic model uses static data like location processing time and carrier transit time to compute the ship and delivery dates, and so the estimated dates may not always be accurate. Refer to How Scheduling Works section for more details on how the earliest dates are computed today based on configuration data. Manhattan Active® Omni can now be configured to use a machine learning model to calculate estimated ship and delivery dates, based on historical data. This helps to achieve the following: Improve customer satisfaction by improving the perfect order rate and reducing missed promises. Decrease fulfillment costs by reducing escalations and appeasements related to late deliveries. This information can be used by retailers to provide accurate delivery dates to end customers. How Prediction Works via Machine Learning Retailers can leverage machine learning to predict either the earliest ship or earliest delivery dates or both. Here is the high-level process flow on how the earliest ship and delivery dates are predicted using Machine Learning and how the predicted dates are used in the business process. Retailers can choose to predict the earliest dates (Only Ship date or Both Ship and Delivery dates) in two modes - Passive and Live. Passive mode: Predicted dates are not used in business processes and the machine learning based on expected delivery date is not displayed to the end customers as part of delivery dates API calls, it is returned in a new attribute (Predicted Ship Date and Predicted Delivery Date). Retailers can run prediction in passive mode to see how Machine learning prediction is doing with respect to configuration based calculations. Live mode: Retailers can run the prediction in Live mode when they feel the predicted results are closer to the actual delivery or fulfillment dates. In this mode, the predicted dates are used in business processes and the expected delivery dates are displayed to the end customer (as part of Delivery dates API calls). Refer How to configure predictive promising section for more details. APIs that use Predict Promising to Calculate Dates When Predictive Promising Configuration is enabled and model is deployed, the requests for date calculations are sent to the ML Predictor (model) to compute the days to fulfill and the days to deliver. This functionality is available in the following APIs: Product Delivery Dates {{url}}/promising/api/promising/product/atp Cart Delivery Dates {{url}}/promising/api/promising/cart/atp Promising request - Query, Reservation, Optimization {{url}}/promising/api/promising/promise Order Allocation {{url}}/order/order/allocate The above API Response will have the following attributes: Predicted Ship Date and Predicted Delivery Date: Computed based on Machine Learning model. Heuristic Ship Date and Heuristic Delivery Date: Computed based on the configuration data Earliest Ship Date and Earliest Delivery Date: These dates are used in business processes and displayed to the end customer. Based on the option selected in the Predicted Promising configuration (Date and Mode), predicted dates are either used passively (passive mode) or displayed to the end customer/used in business processes (live mode). Refer to the table below on how business processes use predicted dates based on the selected model and their associated use case. Option Details Ship Date Mode Delivery Date Mode Predicted Ship Date Predicted Delivery Date Earliest Ship Date Earliest Delivery Date Use Case 1 Off Off Off N/A N/A Configuration data (existing) Configuration data (existing) No Prediction calls. 2 Ship Date - Passive Passive Off ML N/A Configuration data (existing) Configuration data (existing) Customers tracking only Ship dates and not Delivery dates (Delivery Tracking feature is not used) and wanted to evaluate Machine Learning to predict only Ship date but not use it in business processes. 3 Ship Date - Live Live Off ML N/A ML ESD (ML) + Delivery Date Configuration data (existing) Customers tracking only Ship dates and not Delivery dates (Delivery Tracking feature is not used) and wanted to go live with the predicted Ship date and use it in business processes. 4 Ship Date - Live, Delivered Date - Passive Live Passive ML ML ML ESD (ML) + Delivery Date Configuration data (existing) Customers were earlier tracking only Ship dates and using Predicted Ship date in Live mode (use ship date in business processes). Customer now wants to evaluate Machine Learning to predict Delivery dates as well but not use it in the business process (Delivery Tracking feature is used for at least three months). 5 Ship Date, Delivered Date - Passive Passive Passive ML ML Configuration data (existing) Configuration data (existing) Customers tracking both Ship and Delivery dates ("Delivery Tracking" feature is used for at least three months) and wanted to evaluate Machine Learning to predict both Ship and Delivery dates but not use it in business processes. 6 Ship Date, Delivered Date - Live Live Live ML ML ML ML Customers tracking both Ship and Delivery dates ("Delivery Tracking" feature is used for at least three months) and wanted to go live with the predicted Ship and Delivery dates and use it in all business processes. Monitoring Predicted Date Performance Retailers would be able to monitor the performance of Heuristic date (dates computed based on configuration data), Predicted dates (from Machine Learning) with the Actual Delivery dates. This would help retailer to gauge “How would predicted dates impact their Delivery Performance metrics“ and help them to make a decision to switch between Passive and Live mode. Refer to Delivery dates dashboard section for more details. Note: Delivery dates dashboard works only when the Delivery Tracking is enabled. If the customer has enabled only "Ship Date" prediction, then the delivery date dashboard cannot be used to compare heuristic vs predicted data. Configuration How to Configure Predictive Promising Config Pre-requisites Technical requirement: CloudSQL read replica instance should be available for training the machine learning model. If not available, reach out to the Manhattan team. Profile Setup and Copy: The following profiles are used for training and prediction mlo::batch mlo::messaging mlo::mlprogram mtp::messaging mtp::batch prm::predictiveConfig prm::mlTraining Execute profile copy to copy over the seed data entries to the appropriate profile. Refer to the Profile Guide for more details Note: It is recommended to set up the Machine Learning profiles at the root/parent org as the Training process fetches data across all organization Initialize Scheduler: Initialize the scheduler to reflect the Ml Orchestrator component entries POST {{url}}/scheduler/api/scheduler/setup/orgId/{{p_org_id}}/component/mlorchestrator Note: Replace p_org_id with appropriate org id Blueprint Extensions (optional step): Blueprint extensions can be used to override the base blueprint elements that are customer dependent (for example, Order type filters etc.). The Blueprint can be extended to modify the following: Data extract time window (default - 64 weeks) List of supported Order Types (default Order Type - "ECOM") for data extraction. Other Order Types (not mentioned in the blueprint extension) will not participate in the model training but will still participate in the prediction. For Order types not participating in the training process, prediction may follow the pattern of the trained data POST {{url}}/mlorchestrator/api/mlorchestrator/mlBlueprintExtension/save For predictive config: Ship Date (Passive/Live) mode { "UseCaseId": "OM-ESD", "BlueprintVersion": 1.0, "MlBlueprintContextId": "OM-ESD-GLOBAL", "ExtensionVersion": 1.0, "ExtensionDefinition": "{\"data\":[{\"DataPreparation.DataPreparation.CleaningRaw[7].Filter_OrderType\":{\"name\":\"Filter fulfilment data\",\"filter_params\":{\"OHE$$OrderTypeId$$Ecom\":[\">0\"]},\"id_params\":\"UniqueRequestId\"}},{\"DataExtraction.RunParams.WeeksFrom\":65}]}", "Status": "ACTIVE" } For predictive config: Ship and Delivery Date (Passive/Live) mode { "UseCaseId": "OM-EDD", "BlueprintVersion": 1.0, "MlBlueprintContextId": "OM-EDD-GLOBAL", "ExtensionVersion": 1.0, "ExtensionDefinition": "{\"data\":[{\"DataPreparation.DataPreparation.CleaningRaw[7].Filter_OrderType\":{\"name\":\"Filter fulfilment data\",\"filter_params\":{\"OHE$$OrderTypeId$$Ecom\":[\">0\"]},\"id_params\":\"UniqueRequestId\"}},{\"DataExtraction.RunParams.WeeksFrom\":65}]}", "Status": "ACTIVE" } Step 1 - Set up Predictive Promising Option Retailers can configure the Predictive Promising Mode/Option in the Predictive Promising Configuration UI. Following are the options available for selection Option Details Predict Ship Date Predict Delivery Date Use Case 1 Off No No No Prediction calls. 2 Ship Date - Passive Yes No Retailers wanted to track only Ship dates but not Delivery dates (Delivery Tracking feature is not used) and wanted to evaluate Machine Learning to predict only Ship date but not use it in business processes. 3 Ship Date - Live Yes No Retailers wanted to track only Ship dates but not Delivery dates (Delivery Tracking feature is not used) and wanted to go live with the predicted Ship date and use it in business processes. 4 Ship Date - Live, Delivered Date - Passive Yes Yes Retailers were earlier tracking only Ship dates and were using Predicted Ship date in Live mode (use ship date in business processes). Retailers wanted to evaluate Machine Learning to predict Delivery dates as well but not use it in the business process (Delivery Tracking feature is used for at least three months). 5 Ship Date, Delivered Date - Passive Yes Yes Retailers wanted to track both Ship and Delivery dates (Delivery Tracking feature is used for at least three months) and wanted to evaluate Machine Learning to predict both Ship and Delivery dates but not use it in business processes. 6 Ship Date, Delivered Date - Live Yes Yes Retailers wanted to track both Ship and Delivery dates (Delivery Tracking feature is used for at least three months) and wanted to go live with the predicted Ship and Delivery dates and use it in all business processes. This can also be configured via REST end point - POST {{url}}/promising/api/promising/predictiveConfig/save. Request: POST {{url}}/promising/api/promising/predictiveConfig/save { "PredictiveConfigId": "1", "PredictEarliestDateModeId": "Off" } Note: PredictEarliestDateModeId can take the following values - Off, Ship Date - Passive, Ship Date - Live, Ship Date - Live and Delivery Date Passive, Ship and Delivery Dates - Passive, Ship and Delivery Dates - Live Note: It is recommended to create only one predictive promising configuration and change the predictive mode based on the use case. Step 2 - Initiating the Training Workflow Training and building the model is the first step in the prediction process. The model is trained using customer specific historical data. The model can be trained to predict: Only Ship Date (ML Use Case ID: OM-ESD) Ship Date and Delivery Date (ML Use Case ID: OM-EDD) Note: Delivery date prediction is dependent on historical data related to actual delivery dates being present in the Active Omni environment. The Delivery Tracking is used to capture actual delivery dates. The model requires a minimum of 3 months data for training. The training workflow takes care of all the steps required to extract historical data, and build and train the model. This can be invoked using the "Initiate Training" button in the  Predictive Promising Configuration UI. This internally invokes ML API (POST {{url}}/mlorchestrator/api/mlorchestrator/mlProgram/run/training) to initiate the training workflow. Data Extraction: Using SQL queries, the historical data is loaded from the Order Management to Machine Learning environment for further processing. By default, this process extracts 64 weeks of data across all child organizations. Time period can be modified using Blueprint extensions. Note that there is no way to exclude a few organizations from participating in the training process. Here are some of the attributes passed to the training model. Section Details Order Order Type, Org ID, Order ID ** Order Type - By default, Customer Orders with Order Type "ECOM" are extracted. If "ECOM" order type is not available, then all Orders (Retail & Customer Orders) are extracted. It is recommended to extract data for Order Types pertaining to Customer orders. This can be modified using Blueprint extensions. Order Line Created Date, Item, Quantity, Requested Delivery Date, Promised Delivery Date Delivery Method, Shipping Method, Shipping details like City, State, Zipcode, Carrier, Service Level Other Details Allocated Location details - DC/Store, Zip code Allocated timestamp Release timestamp Fulfilled timestamp Delivered timestamp Build/Train Model: Model is trained and is built. The Training workflow may take few hours to complete as it extracts historical data for the last six months, trains, builds and deploys the model. Events are sent back based on the Training workflow stage updates. Workflow progress can be monitored in the Predictive Promising Configuration UI (under Training Summary section) or via the REST end point Request: GET {{url}}/mlorchestrator/api/mlorchestrator/mlWorkflow?query=WorkflowId={{workflowId}} ** Work flow ID will be available from Get Training Summary - Get {{url}}/promising/api/promising/trainingSummary Request - For predictive config: Ship Date (Passive/Live) mode { "ModelStatusId": "DEPLOYED", "WorkflowId": "ee7dd6e8-b60c-4a54-98de-5866ac88c2d0", "MlUseCaseId": "OM-ESD", "MlProgramContextId": "OM-ESD-GLOBAL" } Request - For predictive config: Ship and Delivery Date (Passive/Live) mode { "ModelStatusId": "DEPLOYED", "WorkflowId": "ee7dd6e8-b60c-4a54-98de-5866ac88c2d0", "MlUseCaseId": "OM-EDD", "MlProgramContextId": "OM-EDD-GLOBAL" } Response: { "WorkflowId": "265612ff-2dc0-45d0-a82d-b859d3aaf4f4", "Status": { "StatusCode": "COMPLETED"/"RUNNING"/"FAILED" } Step 3 - Monitor Model Status At the end of training workflow, If the model status is "DEPLOYED" with an active pipeline, then the model will be used to predict the earliest dates. Refer to the list of APIs which uses predictive promising to predict the earliest dates. If the model status is "NOT DEPLOYED" then earliest ship and delivery dates will not be predicted. If the model status is not populated then the training workflow is in "RUNNING" state. Troubleshooting Why are the predicted dates not populated? Predicted dates may not be available for the following reasons: S.No Step Details 1 Check Predictive Promising Configuration Check the Predictive Promising Mode. If set to "Off", then prediction is not enabled. Refer How to Turn on Prediction for details. If Predictive Promising Mode is other than "Off", go to Step 2 2 Check Model Status and Pipeline in the Predictive Promising Configuration UI Check if the Model Status is Deployed and associated with an active Pipeline (Refer to Monitor Model Status for details) If the model status is "NOT DEPLOYED" then earliest ship and delivery dates will not be predicted. If the model status is not populated, then verify if the training workflow is in "RUNNING" state (refer to Predictive Promising Configuration UI for details). 3 Check Program Status - Prediction Enabled? Check if Prediction is enabled for the respective Use Case ID. The "PredictionEnabled" flag should be true. If False, then program state should be updated using the REST end point below. Request: POST {{url}}/mlorchestrator/api/mlorchestrator/mlProgram/save { "MlContextId": "OM-ESD-GLOBAL", "TrainingEnabled": true, "PredictionEnabled": true, "PK": "to be entered" } PK ** can be obtained from GET {{url}}/mlorchestrator/api/mlorchestrator/mlProgram for the context ID 4 Check mandatory fields to perform prediction request The following attributes are mandatory to perform prediction request. If not sent, then the prediction dates will be null. Shipping Method ID Implementation Flavors How to activate both ESD (Predict Ship Date) and EDD (Predict Ship and Delivery Date) models for a Customer? Requirement: Retailers want to predict only the ship dates for US region and predict both Ship and dates for Europe regions Recommended Solution: Training of models can be enabled only from parent organization. At Parent org Set the below profiles at parent Org mlo::batch mlo::messaging mlo::mlprogram mtp::messaging mtp::batch prm::mlTraining Initiate training for ESD and EDD model Select "Ship Date - Passive" in the Predictive config UI and Initiate training for ESD model. Once training is completed, then Select "Ship Date, Delivered Date - Passive" in the Predictive config UI and Initiate training for EDD model. Once training is completed, then Select "Ship Date - Passive" (ESD) or "Ship Date, Delivered Date - Passive" (EDD) in the Predictive config UI At Child org Set Predictive config profile at child org prm::predictiveConfig Remove grants to “Initiate Training” (omui::promising::predictiveconfig::initiateTraining) for all child org US Region (Child Org 1) - Select Option "Ship Date - Passive" (ESD model) in the Predictive config UI Europe Region (Child Org 2) - Select Option "Ship Date, Delivered Date - Passive" (EDD model) in the Predictive config UI Based on the model selection - either Ship Date or both Ship and Delivery dates will be predicted. Related Article(s) How Scheduling WorksRest APIs & User ExitsTroubleshootingOverviewFederal Trade Commission (FTC) Compliance