# Google Shopping Integration

**Permalink:** google-shopping-integration
**Path:** Manhattan Active® Omni/Order Management/Process & Configuration Guides/Customer Service/Marketplace and Recommendations/Google Shopping Integration
**Content Length:** 23,628 characters
**Scraped:** 2025-08-09T21:55:01.116210

---

Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Customer Service››Marketplace and Recommendations ››Google Shopping Integration Google Shopping Integration I Next OverviewOrder Tracking SignalsProcess FlowTracking Signals RequestConfiguration and SetupOrder ConfigurationConfigure Merchant IdConfigure Item MappingService Admin AccountTroubleshootingRelated Articles Overview This guide outlines the Google Shopping integrations provided out of the box and the required configurations to enable. Order Tracking Signals Out of the box, Manhattan Active® Omni provides the ability to use Order Tracking Signal functionality provided by Google Shopping. This service provides Google Shopping with historical order tracking information to show end customers more accurate delivery estimates for specific products using data from completed orders. When this feature is enabled, at the time of shipment in Active Omni, a message is published from the order component to an internal queue, which consumes the message and converts it into a request to the Order Tracking Signals API. This information is stored in the retailers' Google Merchant Account and is used to provide supplemental information for estimating delivery times for future customer purchases. Process Flow The order tracking signal process is triggered by order shipment and processes asynchronously from the order component to the Google Merchant REST interface. Below is the step-by-step process and basic validations for sending a tracking signal: Fulfillment detail is created or updated in 7000 (fulfilled) status Check the OrderLine.DeliveryMethod = ShipToAddress If no, do not generate any message The order Id is published to a queue This message is consumed, and a payload is generated from the order using the "OrderTemplateForOrderTrackingSignal" response template This payload is converted into a request in a Google Shopping format The request is sent with the completed order, product, and delivery data to Google via the Order Tracking Signals API Note: Orders fulfilled through multiple shipments will have one tracking signal message for each shipment against the order. Additionally, the order component will not generate a tracking signal message for migrated orders marked with IsImport = true, or for archived orders retrieved from an archive index. Tracking Signals Request The tracking signals request sent to Google consists of basic order and shipment information. A few key fields to keep in mind are: Field Name Description lineItems This list includes the shippingStatus and trackingId (TrackingNumber). The shippingStatus will always be "SHIPPED" even in environments with delivery tracking enabled. The trackingId provided will be used by Google to track the shipment time for use with estimated shipment dates on future orders. merchantId The merchant Id specific to the retailers Google Merchant account. shippingInfo This list includes the shippingStatus and trackingId (TrackingNumber). The shippingStatus will always be "SHIPPED" even in environments with delivery tracking enabled. The trackingId provided will be used by Google to track the shipment time for use with estimated shipment dates on future orders. Sample Request: Order Tracking Signals Request // Order Payload - OrderTemplateForOrderTrackingSignal Response Template { "Messages": null, "CurrencyCode": "USD", "CreatedTimestamp": "2023-03-17T13:06:26.354", "OrderLine": [ { "FulfillmentDetail": [ { "ServiceLevelCode": "UPS_STANDARD", "CreatedTimestamp": "2023-03-17T13:17:01.368", "TrackingNumber": "1Z12345E6605272234", "CarrierCode": "UPS", "Quantity": 1.0, "StatusId": "7000", "PackageId": "PKG-12121", "Stgin": null } ], "ShipToAddress": { "AddressName": null, "AvsReason": null, "Address": { "Email": "test.manhattan@gmail.com", "FirstName": "Megada", "State": "GA", "Phone": "(994) 558-6015", "Address2": null, "Address3": null, "Country": "US", "PostalCode": "30339", "LastName": "Sujatha", "Address1": "2300 Wendy Street", "City": "Atlanta", "County": null }, "IsAddressVerified": false, "AddressId": "d56edd3e70eacc36dcf7b5b4ffca82" }, "DeliveryMethod": { "DeliveryMethodId": "ShipToAddress" }, "Eta": "2023-03-17T13:13:00", "OrderLineId": "1", "IsCancelled": false, "MaxFulfillmentStatusId": "7000", "Quantity": 1.0, "ItemBrand": "U.S. Polo", "ItemId": "Tops-30220-HotPink-L", "ItemDescription": "The LYRA Tube Top is resort chic at its finest." } ], "MaxFulfillmentStatusId": "7000", "OrderId": "CC10008", "TotalShippingCharges": 0.00 } // Tracking Signals Request { "lineItems": [ { "productTitle": "The LYRA Tube Top is resort chic at its finest.", "quantity": 1, "productId": "online:en:US:Tops-30220-HotPink-L", "lineItemId": "1", "brand": "U.S. Polo" } ], "merchantId": 1300926, "orderId": "CC10008", "customerShippingFee": { "currency": "USD", "value": "0.00" }, "deliveryPostalCode": "30339", "shippingInfo": [ { "shippingStatus": "SHIPPED", "shippedTime": { "hours": 13, "seconds": 1, "month": 3, "nanos": 368000000, "year": 2023, "minutes": 17, "timeZone": { "id": "UTC" }, "day": 17 }, "carrierName": "UPS", "carrierServiceName": "UPS_STANDARD", "shipmentId": "PKG-12121", "trackingId": "1Z12345E6605272234" } ], "deliveryRegionCode": "US", "shipmentLineItemMapping": [ { "quantity": 1, "lineItemId": "1", "shipmentId": "PKG-12121" } ], "orderCreatedTime": { "hours": 13, "seconds": 26, "month": 3, "nanos": 354000000, "year": 2023, "minutes": 6, "timeZone": { "id": "UTC" }, "day": 17 } } Note: The only supported country for this interface is 'US' and the only supported locale is 'en'. Configuration and Setup Order Configuration Select "Enable Google Shopping Integration" in Order Configuration UI for the desired order type(s). Configure Merchant Id Work with your services team to configure the googleshopping.merchantId in KV store - this value is unique to every retailer and comes from the Google Merchant Center. Configure Item Mapping Because different retailers use different primary identifiers for items, some flexibility is provided to select which item attribute is used when generating the product Id in the tracking signals request. By default, the relevant Item Id is used to pass the product to Google as the Product Id on the tracking signals request. However, Google Shopping provides other request attributes for item identification. If alternative item identification is required, configure the desired item master and tracking signals request fields in the marketplace item mapping. Navigate to the Item Mapping UI or call the REST endpoint (GET /marketplace/api/marketplace/itemMapping). Configure the SourceField and TargetField as required. This is owned by the mkp::mapping provisioning profile. If different item identification mapping is required across organizations, provide profile ownership to the desired organization(s). Field Name Description SourceField The field name mapped from the OMNI item master. This can be configured as any field at the item level. Child entities of item are not supported. TargetField The field name sent on the request to Google Shopping. This can be one of the following values: productId (default) gtin mpn productTitle brand Out of the box, below mapping is provided: [ { "SourceField": "ItemId", "TargetField": "productId" } ] This can be modified to use additional attributes or different mapping. For example, in the below data setup, the fields 'productId', 'brand', and 'productTitle' will be passed in line items list on the request to Google Shopping: [ { "SourceField": "ItemId", "TargetField": "productId" }, { "SourceField": "Brand", "TargetField": "brand" }, { "SourceField": "Description", "TargetField": "productTitle" } ] Service Admin Account The retailers' Google Merchant service admin account needs to be added to the Manhattan Google Merchant Center for communication between the two accounts. Work with your services team to have your Google service admin account added. Troubleshooting If you are not seeing data passed to Google Shopping, first check that all the above configurations are enabled correctly. Verify that the messaging seed data is present Ext Point to Message Type Outbound Message Type Inbound Message Type Order Tracking Signal Messaging Seed Data // Ext Point to Message Type - Order { "ExtensionPointId": "Order:Order:Event:OrderTrackingSignal", "MessageType": "OrderTrackingSignalMSGType" } // Outbound Message Type - Order { "MessageType": "OrderTrackingSignalMSGType", "Transactional": true, "PersistMessageToMsgStore": false, "OutBoundQueues": { "QueueName": "queue.orderTrackingSignalMSGType" } } // Inbound Message Type - Marketplace { "MessageType": "OrderTrackingSignalMSGType", "NoOfConsumer": 10, "MinNoOfConsumer": 1, "Idempotent": true, "ExternalIntegrationRequired": false, "MaxDesiredInstances": 6, "ScaleUpTimeWindow": 10, "ScaleDownTimeWindow": 20, "Description": "This queue is used to trigger the order tracking signals based on orderId", "ServiceId": "orderTrackingSignal", "InBoundQueues": { "QueueName": "queue.orderTrackingSignalMSGType" } } Verify that messages are going to the outbound queue and getting consumed. Check failed messages for the message type = OrderTrackingSignalMSGType Check Google validations for incorrect or missing data as part of the request More details on tracking signals can be found in Google developer documentation for Order Tracking Signals Producer Component Message Type Type Queue Business Significance Consuming Component Order OrderTrackingSignalMSGType Outbound queue.orderTrackingSignalMSGType Order Id to be tracked is sent here and used to generate a tracking signals request Marketplace Marketplace OrderTrackingSignalMSGType Inbound queue.orderTrackingSignalMSGType Consumes order message and generates tracking signals request to Google Shopping None Related Articles Product Recommendations