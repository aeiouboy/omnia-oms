# Cart Prompts

**Permalink:** cartprompt
**Path:** Manhattan Active® Omni/Store/Process & Configuration Guides/Point of Sale/POS Guides/Cart Prompts
**Content Length:** 41,638 characters
**Scraped:** 2025-08-09T22:01:58.454555

---

Home ››Manhattan Active® Omni››Store››Process & Configuration Guides››Point of Sale››POS Guides ››Cart Prompts Cart Prompts Cart Prompt GroupCart PromptDefining rich text for cart prompt messagesConfigure Dynamic data on prompt messagesItem Labels and label FrameworkLocation GroupCart Prompt - OfflineUse CasesInformativeInformative Prompts - Restocking Fee on sale itemsInformative Prompts - Final Sale Additional data forms - Age RestrictionPreventiveProduct restricted saleLimited capabilityServices Overview The Cart Prompts feature within the Cart Input Form Framework allows for the display of essential information to the POS users/customers without requiring any input from user. These prompts serve as a mechanism for conveying important messages, guidelines, or contextual details during the selling or return process. Key Features for POS Integration Seamless UI Display: Information is displayed in a structured, non-editable format within the POS UI. Contextual Triggering: Prompts appear dynamically based on configured cart events when an item is added to the cart. Customizable per Retailer needs: Messages can be tailored to comply with store policies, regional regulations, or product disclaimers Enhanced Compliance & Accuracy: Ensures that POS users receive mandatory notifications without the risk of manual data entry errors. Location-specific Support: Cart prompts can be configured to display messages based on locations. Use Cases for Cart Prompts Currently cart prompts are built to serve at item level. Cart prompts cannot be used for transaction level messaging. This capability can be utilized in various scenarios, including: Preventive prompts: Providing product recall warnings for restricted items, restricting sale of items at particular locations etc. Informative prompts: Displaying mandatory disclaimers like Final Sale, Overweight etc. Providing more information about the product, which includes restocking fee if applicable on return of product. By integrating Cart Prompts into the POS system, retailers can streamline checkout interactions, enforce policies, and improve the overall user experience while maintaining compliance with legal and business requirements. Cart Prompts Workflow The framework has two aspects. Defining the message that needs to be displayed on the POS solution and the second aspect is configuring events to trigger these prompts. This framework will use the same aspects as defined in Cart Form The "Cart Event" and "Cart Form" MUP UI screens will help the user to create and configure events/prompts for a defined condition. These conditions will be used to initiate prompt messages on the UI. The prompt messages can be created and configured from the cart prompt configuration screen. Both these UIs are built as a wizard to help users through a step-by-step process of creating the configuration. Cart Event Refer to the cart event details and the configuration steps here: Cart Event Note: Cart Prompts only support "PreOrderLineAdd" and "PostOrderLineAdd" cart events. "preOrderLineAdd" cart Event uses local storage for items and their prices, so it's mandatory to export this data to the MAO POS application for local storage. The configured Input forms or cart prompts will not work as expected without this data. Read more on exports here Cart Prompt Configuration There are many entities involved in this workflow, whilst the basic concept is that you define a trigger point which is an event and its conditions, and associate this event with forms via form group. The sections below are entities involved in the cart event/form design. Cart Prompt Group The cart prompt group is the entity that groups one or more related prompts and creates the association between the prompts based on display sequence. For example, if there are two prompts required to be displayed to the user, then two separate prompt messages can be configured, which are linked by the prompt group. The event is configured to invoke a prompt group, and the prompt group will list all the prompt messages associated with the group. The configuration is for future use cases. Currently, only one prompt message per prompt group is supported. If there is a requirement to show multiple prompt messages for the same cart event condition, then consider configuring these prompts separately in different prompt groups. Sample Data: promptGroupId displayName(localized) resourceId FinalSaleItemPromptGroup Final Sale RestrictedSalePromptGroup Restricted Item More Details resourceId: This is not implemented or is being used right now. This will be reserved for future use. Cart Prompt The cart input form entity is a new configuration entity introduced to capture the configuration for a form. A form is nothing but a simple UI form that can be used to input and capture information. A form can contain one or more fields, which are defined in the cartInputFormField entity. Cart input forms can be configured as needed by retailers. A business user can configure one or many forms as required for the use case that they are trying to solve. A name can be given for the form that will be displayed in the UI, when the form is rendered. When configuring multiple forms to solve a single requirement, a sequence can also be provided to indicate when the form should appear in the flow. The cart input form entity will be seeded with all the form configurations that are required by base. Services and customers can create their own configurations as needed. Sample form data: parentPromptGroup promptId displayName (localized) description promptType message (not localized) FinalSaleItemPromptGroup FinalSaleItemPrompt FINAL SALE Informative Final Sale: Clearance items are not eligible for returns or exchanges. RestrictedSalePromptGroup RestrictedSalePrompt RESTRICTED ITEM Preventive Restricted Sale: This item cannot be sold in this location. More Details: Prompt Type Informative This is an informational message on the POS terminal, the user can acknowledge and the item is added to the cart. This promptType is only supported for preOrderLineAdd and posOrderLineAdd cart Events and not for onCartCheckout. Preventive This will prompt a message on the POS terminal, but the item is not added to the cart. This promptType is only supported for preOrderLineAdd. message This can be defined as rich text. Please read more in the section below on the rich text message in "Cart Prompt" is currently not localized. Defining rich text for cart prompt messages The message on the cart prompt supports rich text, it can be defined to support different fonts, bold, Italics etc. Also, it can be defined to support dynamic values. Rich text: Currently the system is being tested to work for different fonts, bold, Italics etc., but it also supports colors, hyperlinks, images etc. But the latter is not tested with all the combinations because of the vast capabilities of rich text. You can use any online markdown tools available on the web to create a rich text and configure this text on the cart prompt message. R&D has referred to: External link during the development and testing phases (Since this is an external free source link, it cannot guarantee the availability). Configure Dynamic data on prompt messages Dynamic data: If you have a requirement to use some attributes in the order json to construct the message that needs to be displayed to the user, then it can be done using this rich text  on the cartPrompt.message field. This can only be used for attributes on Order and OrderLine entities or its child entities. Dynamic array: Use the sample below if you want to use some attributes in orderLine.ReturnFee and some attributes in orderLine.ReturnFee.ReturnFeeTypeId. You will be required to have a start and end for the entity when you define the message. Example: {{#OrderLine.ReturnFee}} A {{ReturnFeeDisplayName}} of {{ReturnFeeValue}} ({{ReturnFeeTypeId.FeeType}}) applies to return of this item {{/OrderLine.ReturnFee}} This example is used for a restocking fee prompt message that is displayed when an item is added to the cart. The final message will be "A Restocking Fee of 2 (Flat Fee) applies to return of this item." Static variable, not an array: If you want to configure an attribute inside the orderLine entities then you should use the attributes directly without providing the start and end of that entity when you define the message. Example: Item {{OrderLine.ItemId}} is subject to a 20% restocking fee. The final message will be "Item PR0040 is subject to a 20% restocking fee" Please note: Dynamic/static data will not be available for pre-orderLineAdd cart event. Order or OrderLine attributes are applicable to the "postOrderLineAdd" cart event and order attributes are applicable for "onCheckout" cart event. Item Labels and label Framework Cart Prompt messages which are configured to a "preOrderLineAdd" cart event need to use "ItemLabel" as cartEventCondition. Refer to cart event page for more details on configuration. It is recommended to use "ItemLabel" more often because it helps to make the prompts or forms more specific to the item or group of items. Location Group If you have a requirement to show messages which are location specific and should be displayed only for a specific location or group of locations, then use the configuration in cart event > location criteria. This is detailed here: Cart event location group Cart Prompt - Offline Cart prompt messages are supported when a POS application is in offline mode. The user can still get the configured cart prompt messages even when the device is in offline mode. This is achieved by storing the configured cart prompts from static data into the local storage of the device. Use Cases The following are some examples that use the cart prompt framework to show the messages on the Manhattan Active Omni® POS UI. Informative Informative Prompts - Restocking Fee on sale items Retailers can configure item level fees. For example, restocking fees or overweight handling fees when a customer returns an individual product. This fee can be configured as a percentage of the item price, a flat fee or a per quantity fee. Read more on process and related configuration here. Business scenario: The retailer can configure a pop-up message to show up on the POS application, if the item that is added to the sale cart has some restocking fees that are applicable if the item is returned. Required configuration: You will be required to configure the "Cart Prompt" message that you want to show on the POS application. Create a new cart event for "postOrderLineAdd" cart event Id and link it to thecart prompt. You need to use the "Restocking Fee" Cart prompt configuration screen: {{url}}//om/dm-config/screen/posservice/cartPromptGroup Cart Event configuration screen: {{url}}/om/dm-config/screen/posservice/CartEventConfig Payload URL: {{url}}/posservice/api/posservice/cartPromptGroup/save Request Payload Sample 1: Use this for dynamic data requirements Restock-CartPrompt1{ "PromptGroupId": "CartPrompt-RestockFee", "DisplayName": "Restock Fee Prompt", "CartMode": null, "CartPrompt": [ { "PromptId": "RestockFee", "PromptType": { "PromptTypeId": "Informative" }, "Description": "Restock Fee Prompting on the UI", "Message": "{{#OrderLine.ReturnFee}} A {{ReturnFeeDisplayName}} of {{ReturnFeeValue}} ({{ReturnFeeTypeId.FeeType}}) applies to return of this item. {{/OrderLine.ReturnFee}}", "DisplayName": "Restock Fee" } ] } Request Payload Sample 2: use this for static messaging requirements Restock-cartPrompt2{ "PromptGroupId": "CartPrompt-RestockFee2", "DisplayName": "Restock Fee Prompt", "CartMode": null, "CartPrompt": [ { "PromptId": "RestockFee2", "PromptType": { "PromptTypeId": "Informative" }, "Description": "Restock Fee Prompting on the UI", "Message": "This item is subject to a Restocking Fee if returned. Please advise the customer of this item's status.", "DisplayName": "Restock Fee" } ] } Link the cart prompt group to a cart event: {{url}}/posservice/api/posservice/CartEventConfig/save Restock-CartEvent{ "Description": "PostOrderAdd-Info-RestockFee", "ActionType": { "ActionTypeId": "CartEventPromptGroup" }, "CartEventConfigId": "PostAdd-Info-RestockFee", "FormGroup": null, "MatchAny": false, "CartEvent": { "CartEventId": "postOrderLineAdd" }, "LocationCriteria": [], "EventRank": 90, "CartEventCondition": [ { "ConditionEntity": "ReturnFee", "AttributeName": "ReturnFeeId", "Operator": { "OperatorId": "=" }, "AttributeValue": "RestockingFee" }, { "ConditionEntity": "OrderLine", "AttributeName": "IsReturn", "Operator": { "OperatorId": "!=" }, "AttributeValue": "true" } ], "PromptGroup": "CartPrompt-RestockFee" } The restocking or any return fee that you are using as cart event condition needs to be present in system. Refer for more info Informative Prompts - Final Sale Business scenario: The retailer can configure an Informative pop-up message to show up on the POS application whenever an item is attempted to be added to the cart. This informative prompt, when configured for a "preOrderLineAdd" cart event, will be displayed before adding the item to cart. Required configuration: You will be required to configure the "Cart Prompt" message that you want to show on the POS application. Cart prompt configuration screen: {{url}}//om/dm-config/screen/posservice/cartPromptGroup Cart Event configuration screen: {{url}}/om/dm-config/screen/posservice/cartEventConfig ItemLabel needs to be created on Items before it's used in the cart event condition. Payload URL: {{url}}/posservice/api/posservice/cartPromptGroup/save Payload Sample: FinalSale-CartPrompt{ "PromptGroupId": "CartPrompt-FinalSale", "DisplayName": "Final Sale", "ContextId": "0104d344-e872-4538-b858-924b042345ab", "CartMode": null, "CartPrompt": [ { "PromptType": { "PromptTypeId": "Informative" }, "Description": "Final Sale prompt message", "Message": "This item is sold as a final sale. No returns, refunds, or exchanges will be accepted. Please review your order before completing the purchase.", "DisplayName": "Final Sale", "PromptId": "Final Sale" } ] } Link the cart prompt group to a cart event: {{url}}/posservice/api/posservice/cartEventConfig/save Payload Sample: FinalSale-CartEvent{ "Description": "PreOrderAdd-FinalSale", "ActionType": { "ActionTypeId": "CartEventPromptGroup" }, "CartEventConfigId": "CartPrompt-FinalSale", "FormGroup": null, "MatchAny": false, "CartEvent": { "CartEventId": "preOrderLineAdd" }, "LocationCriteria": [], "EventRank": 90, "CartEventCondition": [ { "ConditionEntity": "Itemlabel", "AttributeName": "FinalSale", "Operator": { "OperatorId": "=" }, "AttributeValue": "true" } ], "PromptGroup": "PreOrderAdd-FinalSale" } Additional data forms - Age Restriction Business scenario: The retailer can configure a variety of age-restriction messaging on the POS application whenever an item is attempted to be added to the cart. The age-restriction messaging on the POS application can be configured as any of the below A simple confirmation message to accept that the customer has met their age or not. If not met, the item will not be added to the cart. A cart input form message with a Numeric entry field. A cart input form message with an age entry field. Required configuration: You will be required to configure the "Cart Prompt" message that you want to show on the POS application. ItemLabel needs to be created on Items before it's used in the cart event condition. Payload URL: {{url}}/posservice/api/posservice/cartInputFormGroup/save Payload Sample: Age Attestation: AgeAttestation-cartPrompt{ "FormGroupId": "AttestationFormGroup2", "IsCustom": false, "AddMultipleItems": false, "AdminResource": null, "CartInputForm": [ { "Description": "Age Restriction", "DisplaySequence": 1, "CartInputFormField": [ { "DisplayAs": null, "EnableScanning": false, "FormFieldSequence": 1, "FormFieldRequired": true, "DisplayName": "I have verified that customer is above 18 years of age", "CartInputFormFieldData": [], "InputField": { "InputFieldId": "AttestationEntityField_InputCheckbox" }, "FormFieldId": "Check_1", "CopyToField": null } ], "AllowSkip": false, "RichText": "# ⚠️ Age Restriction\n\n\"This Item has an age restriction associated with it. Please verify customer age.\"", "DisplayName": "Age Restriction", "FormId": "AttestationForm" } ], "FormGroupType": { "FormGroupTypeId": "OrderLine" }, "DisplayName": "AGE RESTRICTION", "CartMode": null } Age Numeric: AgeNumeric-CartForm{ "FormGroupId": "CustomerAgeFormGroup", "AddMultipleItems": false, "CartInputForm": [ { "Description": "Customer Age", "DisplaySequence": 1, "CartInputFormField": [ { "FormFieldSize": 1, "EnableScanning": false, "FormFieldValidation": "^(?:1[01][0-9]|120|1[8-9]|[2-9][0-9])$", "FormFieldSequence": 1, "FormFieldRequired": true, "FormFieldValidationMessage": "Minimum age required is 18", "DisplayName": "Enter Customer Age", "FormFieldMaxValue": "100", "InputField": { "InputFieldId": "TestCustumerAgeInputField1" }, "FormFieldSizeMessage": "Overboard", "FormFieldMinValue": "18", "FormFieldId": "CustomerAgeFormField" } ], "AllowSkip": false, "DisplayName": "Customer Age form", "FormId": "CustomerAgeForm" } ], "FormGroupType": { "FormGroupTypeId": "OrderLine" }, "DisplayName": "Customer Age Restriction", "CartMode": null } Age - Age Input field: Age-AgeField-CartForm{ "FormGroupId": "CustomerAgeFormGroup", "AddMultipleItems": false, "CartInputForm": [ { "Description": "Customer Age", "DisplaySequence": 1, "CartInputFormField": [ { "FormFieldSequence": 1, "FormFieldRequired": true, "FormFieldValidationMessage": "You should be minimum of 18 years of age", "DisplayName": "Enter/Select date of birth", "FormFieldMaxValue": "100", "InputField": { "InputFieldId": "CustomerAge002-Age-Input" }, "FormFieldMinValue": "18", "FormFieldId": "Age-2" } ], "AllowSkip": false, "DisplayName": "Customer Age form", "FormId": "CustomerAgeForm" } ], "FormGroupType": { "FormGroupTypeId": "OrderLine" }, "DisplayName": "Customer Age Restriction", "CartMode": null } Link the cart prompt group to a cart event: {{url}}/posservice/api/posservice/cartEventConfig/save Payload Sample: AgeAttestation-CartEvent{ "PeripheralCommandGroup": null, "Description": "PreAdd-Age-Attestation", "ActionType": { "ActionTypeId": "CartEventFormGroup" }, "CartEventConfigId": "PreAdd-AdditionalDetails-Attestation2", "FormGroup": "AttestationFormGroup2", "MatchAny": true, "CartEvent": { "CartEventId": "preOrderLineAdd" }, "LocationCriteria": [], "EventRank": 70, "CartEventCondition": [ { "Operator": { "OperatorId": "=" }, "AttributeValue": "true", "AttributeName": "Attestation", "ConditionEntity": "ItemLabel" } ] } Preventive The retailer can choose to configure certain items or groups of items to be restricted for sale at a location or group of locations or all locations. The restricted items will not be added to the cart when scanned or added manually and a configurable message can be displayed on the UI. Product restricted sale Business scenario: The retailer can configure a Preventive pop-up message to show up on the POS application whenever an item is attempted to be added to the cart. This message prompt, when configured for a "preOrderLineAdd" cart event, will be displayed and an item will not be added to the cart. Required configuration: You will be required to configure the "Cart Prompt" message that you want to show on the POS application. Cart prompt configuration screen: {{url}}//om/dm-config/screen/posservice/cartPromptGroup Cart Event configuration screen: {{url}}/om/dm-config/screen/posservice/cartEventConfig ItemLabel needs to be created on Items before it's used in the cart event condition. Payload URL: {{url}}/posservice/api/posservice/cartPromptGroup/save Payload Sample: Preventive-CartPrompt{ "PromptGroupId": "CartPrompt-SaleRestricted", "DisplayName": "Restricted Sale", "ContextId": "0104d344-e872-4538-b858-924b042345ab", "CartMode": null, "CartPrompt": [ { "PromptType": { "PromptTypeId": "Preventive" }, "Description": "Sale Restricted prompt message", "Message": "This item cannot be sold. If a customer is returning this item, please return it to the warehouse.", "DisplayName": "Restricted Sale", "PromptId": "Restricted Sale" } ] } Link the cart prompt group to a cart event: {{url}}/posservice/api/posservice/cartEventConfig/save Payload Sample: Preventive-cartEvent{ "Description": "PreOrderAdd-RestrictedSale", "ActionType": { "ActionTypeId": "CartEventPromptGroup" }, "CartEventConfigId": "CartPrompt-SaleRestricted", "FormGroup": null, "MatchAny": false, "CartEvent": { "CartEventId": "preOrderLineAdd" }, "LocationCriteria": [], "EventRank": 90, "CartEventCondition": [ { "ConditionEntity": "Itemlabel", "AttributeName": "RestrictedSale", "Operator": { "OperatorId": "=" }, "AttributeValue": "true" } ], "PromptGroup": "PreOrderAdd-RestrictedSale" } Limited capability Below is a summary of existing limitations to cart prompts. Only one Cart Prompt message can be displayed per cart prompt group. If an item has a cart prompt to be displayed, rapid scan is not available unless the prompt is acknowledged. Informative prompts work for pre-and-post order line add cart event. But preventive prompts only work with pre-order line and cart events. Cart Prompt/Input forms configured with preOrderLineAdd cart event is only supported in Sale mode. If an Item added to the cart has 3 matching CartEvents. Rank 1 is cartInputFormGroup (CustomerAgePopUp) and Rank 2 is preventive prompt and Rank 3 informative prompt. Here, this will be a configuration issue because the application will show an input form first and then, as Rank 2 is preventive, an item will not get added. So the recommendation is to rank preventive prompts before the input forms. If Add Item is configured in the context menu or configured for checkout. This does cannot have a matching condition for the preOrderLine to show prompt or cart Input Form. This is not supported for preOrderLineAdd cart Prompt or Cart Input Form, No pop-up messages will be prompted for this scenario. Services The following are the key APIs related to cart forms. Refer to the API documentation for additional details on each service. Service Component Service Endpoint cart Prompt posservice /api/posservice/cartPrompt Cart Prompt Group posservice /api/posservice/CartPromptGroup Item Annotations item /api/item/item/save Location Annotations organization /api/organization/location/save