# Pre-Acceptance Configuration

**Permalink:** pre-acceptance-configuration
**Content Length:** 14,599 characters
**Scraped:** 2025-08-09T22:36:09.987653

---

Home &rsaquo;&rsaquo;Manhattan Active® Omni&rsaquo;&rsaquo;Store&rsaquo;&rsaquo;Process & Configuration Guides&rsaquo;&rsaquo;Store Inventory & Fulfillment&rsaquo;&rsaquo;Store Order Fulfillment&rsaquo;&rsaquo;Pre-acceptance ››Pre-Acceptance Configuration Pre-acceptance Configuration Cancel Aged FulfillmentsFulfillment Event GenerationUIs and Entities Cancel Aged Fulfillments If a&nbsp;store&nbsp;is unable to&nbsp;process a fulfillment&nbsp;in a timely manner, there is an option to automatically cancel&nbsp;aged fulfillment.&nbsp; The job scheduler &quot;cancelAgedFulfillmentTriggerWithOpenStatus&quot; is used to&nbsp;automatically cancel&nbsp;these fulfillments&nbsp;after&nbsp;a defined&nbsp;time period.&nbsp;A sample JSON to configure the job scheduler is shown below as a&nbsp;UI is not available.&nbsp; POST message {{URL}}/fulfillment/api/batch/jobSchedule/save {&nbsp; &nbsp; &quot;JobScheduleId&quot;: &quot;cancelAgedFulfillmentJobWithOpenStatus&quot;, &nbsp; &quot;JobTypeId&quot;: &quot;cancelAgedFulfillmentJob&quot;, &nbsp; &quot;CronExpression&quot;: &quot;0 0 9-18/1 * * ?&quot;, &nbsp;&nbsp;&quot;TimeZone&quot;: &quot;GMT+5:30&quot;, &nbsp; &quot;TriggerKey&quot;: &quot;cancelAgedFulfillmentTriggerWithOpenStatus&quot;, &nbsp; &quot;JobParameters&quot;: [ &nbsp;&nbsp;{ &nbsp;&nbsp;&quot;InputKey&quot;: &quot;OrganizationId&quot;, &nbsp;&nbsp;&quot;InputValue&quot;: &quot;dummyOrg&quot; &nbsp;&nbsp;}, &nbsp; &nbsp; { &nbsp; &nbsp; &nbsp; &quot;InputKey&quot;: &quot;QueryString&quot;, &nbsp; &nbsp; &nbsp; &quot;InputValue&quot;: &quot;select distinct fulfillmentEntity.fulfillmentId from FulfillmentEntity fulfillmentEntity where fulfillmentEntity.minStatusId=:StatusCode and fulfillmentEntity.maxStatusId=:StatusCode and fulfillmentEntity.createdTimestamp&lt; SQL(&#39;(? - interval :noOfUnits :timeUnit)&#39;, CURRENT_TIMESTAMP) and fulfillmentEntity.shipFromLocationId in (:facilityIds)&quot; &nbsp; &nbsp; }, &nbsp; &nbsp; { &nbsp; &nbsp; &nbsp; &quot;InputKey&quot;: &quot;facilityIds&quot;, &nbsp; &nbsp; &nbsp; &quot;InputValue&quot;: &quot;&#39;FC3&#39;&quot; &nbsp; &nbsp; }, &nbsp; &nbsp; { &nbsp; &nbsp; &nbsp; &quot;InputKey&quot;: &quot;StatusCode&quot;, &nbsp; &nbsp; &nbsp; &quot;InputValue&quot;: &quot;1000.000&quot; &nbsp; &nbsp; }, &nbsp; &nbsp; { &nbsp; &nbsp; &nbsp; &quot;InputKey&quot;: &quot;ReasonCode&quot;, &nbsp; &nbsp; &nbsp; &quot;InputValue&quot;: &quot;1000.000&quot; &nbsp; &nbsp; }, &nbsp; &nbsp; { &nbsp; &nbsp; &nbsp; &quot;InputKey&quot;: &quot;timeUnit&quot;, &nbsp; &nbsp; &nbsp; &quot;InputValue&quot;: &quot;hour&quot; &nbsp; &nbsp; }, &nbsp; &nbsp; { &nbsp; &nbsp; &nbsp; &quot;InputKey&quot;: &quot;noOfUnits&quot;, &nbsp; &nbsp; &nbsp; &quot;InputValue&quot;: &quot;1&quot; &nbsp; &nbsp; }, &nbsp; &nbsp; { &nbsp; &nbsp; &nbsp; &quot;InputKey&quot;: &quot;ChunkSize&quot;, &nbsp; &nbsp; &nbsp; &quot;InputValue&quot;: &quot;2&quot; &nbsp; &nbsp; } &nbsp; ] }; &nbsp; Parameters Provide these&nbsp;parameters to setup the job scheduler for cancelling fulfillments: Parameter Description Job Schedule Id Unique job scheduler Id Job Type Id Use &#39;cancelAgedFulfillmentTriggerWithOpenStatus&#39;&nbsp;job type Cron Expression The Cron expression decides how frequently a job is invoked.&nbsp;&nbsp;Use a website which builds cron expressions, Ex.&nbsp;http://www.cronmaker.com/ Time Zone Time zone of the geo location where the job is running Trigger Key Unique trigger key&nbsp; Job parameter -&nbsp;OrganizationId Id of the organization for which this scheduler will run Job parameter - Query String Query which selects fulfillments to be cancelled Job parameter - Facility Ids Comma separated facility Ids of the stores that would be on this schedule Job parameter -&nbsp;Status Code Status of the fulfillments to cancel Job parameter - Reason Code The reason code with which fulfillments are cancelled Job parameter - Time Unit Unit in which time is entered &nbsp; Job parameter - No of Units Amount of time allowed for stores to fulfill store orders. After this time they would be rejected to process by another node. Job parameter - Chunk Size Chunk size &nbsp; Fulfillment Event Generation Enable fulfillment event generation based on condition This parameter in the Store Fulfillment Parameters UI enables the generation of fulfillment creation event based on a condition that&#39;s defined in extension logic. If it is set to true, the condition specified in the extension handler will be evaluated, and if satisfied, the fulfillment event is generated and posted in the queue. By default, this parameter is set to false. UIs and Entities The configuration UIs mentioned in this document is listed in the following table,&nbsp;along with information to&nbsp;navigate&nbsp;to the API documentation: UI Name Component Group Seed Data Present? Seed Data Profile Store Fulfillment Parameters Fulfillment FulfillmentParameters Services Yes Base