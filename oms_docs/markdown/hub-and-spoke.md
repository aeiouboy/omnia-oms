# Hub and Spoke

**Permalink:** hub-and-spoke
**Path:** Manhattan Active® Supply Chain Planning/Process &amp; Configuration Guides/Replenishment/Hub and Spoke
**Content Length:** 43,987 characters
**Scraped:** 2025-08-09T22:07:49.962250

---

Home ››Manhattan Active® Supply Chain Planning››Process & Configuration Guides››Replenishment ››Hub and Spoke Hub and Spoke Next Previous OverviewProcess FlowConfigurationsImplementation FlavorsUIs and EntitiesConfiguration Entities and UIAnalysis UIServicesTroubleshootingRelated Articles Overview Manhattan Active® SCP captures demand to generate the forecast, which is then consolidated with projections from other locations. These consolidated projections are used to calculate the SOQ and order projections for the DC or Hub. Process Flow In the Hub-and-Spoke replenishment model, one of the Lower Echelon(LE) locations is used as the hub to source inventory from external vendors or Upper Echelon(UE) DCs to cater to the demands of Item-Locations in other LE locations (spokes), as well as the demand at the hub itself. The Hub location may not have all of its Item-Locations participating in this model, but only have a subset of Item-Locations at the Hub may be used to source inventory for the Spoke Item-Locations. The SOQ computation determines the valid SOQ for an Item at a DC or Hub location by considering both direct demand (forecast) and the rolled-up demand from LE stores or Spokes it supports. The SOQ computation includes planned demand for the DC or Hub’s direct demand, ensuring it applies solely to the DC. Similarly, the planned demand for a Hub Store is considered as part of the Hub Store's own demand, without impacting the demand for Spoke Stores. This applies to both unit-based and percentage-based planned demand configurations. In the example below, DC1 serves as a hub location for Store1 and Store2 while also supporting an online demand channel. Store1 has two potential source locations (supplier locations), DC1 and DC2. However, since DC1 is designated as the primary source, Store1's demand is consolidated at DC1. Example Configurations Several configurations are required for this SOQ calculation. Metric Type and Primary Source definitions are key to building the correct echelon network. Metric Type - The user must define Metric Type that identifies direct sale or demand channel for the Hub Location. For example, Metric Type 'RETAIL', 'BOPIS', 'SHIPMENTS' etc. can be defined as demand categories. Metric Type{url}}/ai-demandmetrics/api/ai-demandmetrics/metricsType { "MetricsTypeId": "Sales", "Description": "sales", "ComputeModelMetric": false } Metric Group - The user must define Metric Group to consolidate several 'Sales' metric types. For example, 'RETAIL' and 'BOPIS' metric types can be grouped together as a Metric Type "ALL SALES" for any direct demand at a location. Metric Group{{url}}/ai-demandmetrics/api/ai-demandmetrics/metricGroup { "GroupingKeyFilter": [ { "MetricTypeId": "SALES", "GroupingKeyFilterId": "SaleTypeFilter", }, { "MetricTypeId": "BOPIS", "GroupingKeyFilterId": "PickUpInStoreTypeFilter", } ], "Description": "MetricGroupForAllDirectSales", "MetricGroupId": "ALL_SALES", }, } Cleansing Policy - The user must configure the Cleansing Policy for the above Metric Group for the Item Locations that participate in the Hub-and-Spoke replenishment Model. Demand Cleansing Policy {{url}}/ai-forecast/api/ai-forecast/demandCleansingPolicy/save { "BusinessEventSmoothing": true, "RemoveOutliersForRegular": true, "NewThresholdPeriods": 13, "ControlDataUpperPercentile": 0.95, "LowerOutlierThresholdForRegular": 6.0, "YearFourWeight": 25.0, "DemandCleansingPolicyId": "Demand_Cleansing_1", "ForecastHistoryToDate": null, "UpperOutlierThresholdForRegular": 6.0, "YearTwoWeight": 20.0, "UpperSpikeThresholdForRegular": 4.0, "MetricGroupId": "ALL_SALES", "ForecastHistoryUsedType": { "ForecastHistoryUsedTypeId": "A" }, "IntermittentSlowMoverThreshold": 1.0, "SpikeSmoothingLengthForRegular": { "DemandSmoothingPeriodTypeId": "NO_SMOOTHING" }, "LowerSpikeThresholdForRegular": 4.0, "InactiveThresholdPeriods": 26, "ConsistentOutlierPeriodLength": 0, "LowerOutlierThresholdForIntermittent": 4.0, "Description": "Desc", "RemoveOutliersForIntermittent": true, "YearOneWeight": 25.0, "LastNumberOfPeriods": null, "SmoothenSpikesForIntermittent": true, "ZeroDemandPeriodsThreshold": 30.0, "DemandCleansingFilterCondition": [ { "FilterAttribute": "ItemId", "FilterValue": "QLRM_199, QLRM_299", "EntityType": "Item" }, { "FilterAttribute": "LocationId", "FilterValue": "QLRM_Store199, QLRM_Store299", "EntityType": "Location" } ], "UpperSpikeThresholdForIntermittent": 4.0, "ConsistentOutlierMinimumOccurrenceLength": 4, "YearThreeWeight": 30.0, "DisableSpikeSmoothingForSeasonalDemand": false, "ForecastHistoryFromDate": null, "RegularSlowMoverThreshold": 1.0, "SmoothenSpikesForRegular": true, "SpikeSmoothingLengthForIntermittent": { "DemandSmoothingPeriodTypeId": "NO_SMOOTHING" }, "UpperOutlierThresholdForIntermittent": 4.0, "LowerSpikeThresholdForIntermittent": 4.0 } Forecast Policy - The user must configure the Forecast Policy for the above Metric Group for the Item Locations that participate in the Hub-and-Spoke replenishment Model. Forecast Policy {{url}}/ai-forecast/api/ai-forecast/forecastPolicy/save { "Messages": null, "ProfileId": "pfioorg", "ExpSmoothIntermittencyEnabled": false, "SmoothingPolicy": { "SmoothingPolicyId": "Fast" }, "QPrecision": 0.1, "Process": null, "DisableDynamicQWhenSeasonal": false, "QDampeningThreshold": 2, "ForecastMethod": { "ForecastMethodId": "UNIFIED_FORECASTING" }, "LocationHierarchyLevelId": "LocationId", "QIntermittencyThreshold": 0.05, "CreatedBy": "admin@pfioorg.com", "ForecastHistoryToDate": null, "QInitialPhi": 0.15, "NumberOfForecastHistoryPeriods": 13, "QIntermittencyHitsThreshold": 17, "PositiveAnnualGrowthThreshold": 1.0, "ForecastPeriodType": { "ForecastPeriodTypeId": "1_WEEKLY" }, "ForecastFilterCondition": [ { "FilterAttribute": "Brand", "FilterValue": "Levis, Sketchers", "EntityType": "Item" }, { "FilterAttribute": "ItemId", "FilterValue": "Jean, Shoe", "EntityType": "Item" }, { "FilterAttribute": "LocationId", "FilterValue": "Store1, Store2", "EntityType": "Location" }, { "FilterAttribute": "LocationId", "FilterValue": "Dc1", "EntityType": "Location" } ], "ForecastHistoryUsedType": { "ForecastHistoryUsedTypeId": "A" }, "MetricGroupId": "ALL_SALES", "ForecastPurpose": { "ForecastPurposeId": "Replenishment" }, "ExpSmoothIntermittencyPhi": 0.2, "Description": null, "ForecastControlPolicy": { "ForecastControlPolicyId": "Normal" }, "ForecastPolicyRank": 30, "NegativeAnnualGrowthThreshold": -1.0, "LastNumberOfPeriods": null, "ExpSmoothIntermittencyQMult": 3.0, "SeasonalProfilePolicyAssociation": [], "ItemHierarchyLevelId": "ItemId", "ForecastPolicyId": "FP-3", "QMaximumPhi": 0.5, "QDampeningFactor": 0.25, "ForecastHistoryFromDate": null, "ItemGroupingKey": null, "LocationHierarchyId": "Primary", "QKappaWeighting": 0.5, "LocationGroupingKey": null, "UpdateTrendFactor": false, "ItemHierarchyId": "ForecastHierarchy", "QMultipleStdDev": 1.5, "InitialIATLimit": 0, "ForecastExceptionPolicy": { "ForecastExceptionPolicyId": "Normal" }, "MlPolicy": null } Sourcing Relationship - The user must define a regular Sourcing Relationship between the Hub and Spoke Location. Sourcing Relationship - Hub and Spoke{{url}}/itemlocation/api/itemlocation/sourcingRelationship/bulkImport { "Data": [ { "SourceLocationId": "DC1", "LocationId": "Store1", "DefaultTransitTime": "7.0", "OrderCycle": "7", "RelationType": "Regular", "ReviewFrequencyValue": 1, "ReviewFrequencyType": "DAY", "IsSundayReview": true, "IsMondayReview": true, "IsTuesdayReview": true, "IsWednesdayReview": true, "IsThursdayReview": true, "IsFridayReview": true, "IsSaturdayReview": true, "DefaultLeadTime": 7.0, "DefaultLeadTimeVariance": 1.0, "OrderDueMethod": "SCHEDULE WITH SOQs", "JointReplenishment": true }, { "SourceLocationId": "Vendor1", "LocationId": "DC1", "DefaultTransitTime": "14.0", "OrderCycle": "7", "RelationType": "Regular", "ReviewFrequencyValue": 1, "ReviewFrequencyType": "DAY", "IsSundayReview": true, "IsMondayReview": true, "IsTuesdayReview": true, "IsWednesdayReview": true, "IsThursdayReview": true, "IsFridayReview": true, "IsSaturdayReview": true, "DefaultLeadTime": 7.0, "DefaultLeadTimeVariance": 1.0, "OrderDueMethod": "SCHEDULE WITH SOQs", "JointReplenishment": true } ] } Item Location Source - The user must define Item Location Sources for all the shared Items that flow between the Hub-and-Spoke. Item Location Source - Hub and Spoke{{url}}/itemlocation/api/itemlocation/itemLocationSource/bulkImport { "data": [ { "ItemId": "Jean", "LocationId": "Store1", "SourceLocationId": "DC1", "SubGroup": null, "RelationType": { "RelationTypeId": "Regular" }, "BuyingMultiple": 4, "BuyingMultipleUOM": { "UomId": "EA" }, "BuyingMultipleRoundUpPercent": null, "PurchasePrice": 10.00, "PurchasePriceCurrencyCode": null, "PurchasingUOM": { "UomId": "EA" }, "MinimumPurchaseQuantity": null, "DefaultLeadTime": 7.0, "LeadTime1": null, "LeadTime2": 2.0, "LeadTime3": 3.0, "LeadTime4": 4.0, "LeadTime6": 6.0, "LeadTime5": 5.0, "LeadTime7": 7.0 }, { "ItemId": "Jean", "LocationId": "Store1", "SourceLocationId": "DC2", "SubGroup": null, "RelationType": { "RelationTypeId": "Regular" }, "BuyingMultiple": 4, "BuyingMultipleUOM": { "UomId": "EA" }, "BuyingMultipleRoundUpPercent": null, "PurchasePrice": 10.00, "PurchasePriceCurrencyCode": null, "PurchasingUOM": { "UomId": "EA" }, "MinimumPurchaseQuantity": null, "DefaultLeadTime": 7.0, "LeadTime1": null, "LeadTime2": 2.0, "LeadTime3": 3.0, "LeadTime4": 4.0, "LeadTime6": 6.0, "LeadTime5": 5.0, "LeadTime7": 7.0 }, { "ItemId": "Jean", "LocationId": "DC1", "SourceLocationId": "Vendor1", "SubGroup": null, "RelationType": { "RelationTypeId": "Regular" }, "BuyingMultiple": 4, "BuyingMultipleUOM": { "UomId": "EA" }, "BuyingMultipleRoundUpPercent": null, "PurchasePrice": 10.00, "PurchasePriceCurrencyCode": null, "PurchasingUOM": { "UomId": "EA" }, "MinimumPurchaseQuantity": null, "DefaultLeadTime": 7.0, "LeadTime1": null, "LeadTime2": 2.0, "LeadTime3": 3.0, "LeadTime4": 4.0, "LeadTime6": 6.0, "LeadTime5": 5.0, "LeadTime7": 7.0 }, { "ItemId": "Jean", "LocationId": "DC2", "SourceLocationId": "Vendor2", "SubGroup": null, "RelationType": { "RelationTypeId": "Regular" }, "BuyingMultiple": 4, "BuyingMultipleUOM": { "UomId": "EA" }, "BuyingMultipleRoundUpPercent": null, "PurchasePrice": 10.00, "PurchasePriceCurrencyCode": null, "PurchasingUOM": { "UomId": "EA" }, "MinimumPurchaseQuantity": null, "DefaultLeadTime": 7.0, "LeadTime1": null, "LeadTime2": 2.0, "LeadTime3": 3.0, "LeadTime4": 4.0, "LeadTime6": 6.0, "LeadTime5": 5.0, "LeadTime7": 7.0 } ] } Item Location - The user must specify the "Primary Source" to determine which supplier to use for the Item-Location when multiple Item Location Sources are configured. Item Location - Hub and Spoke{{url}}/itemlocation/api/itemlocation/itemLocation/bulkImport { "Data": [ { "ItemId": "Jean", "LocationId": "Store1", "PrimarySource": DC1, "LifeCycleStatus": { "LifeCycleStatusId": "ACTIVE" }, "BuyingMultiple": 1.0, "BuyingMultipleUOM": { "UomId": "EA" }, "BuyingMultipleRoundUpPercent": 0.5, "StockingUOM": { "UomId": "EA" }, "Minimum": null, "Maximum": null, "MinimumDays": null, "MaximumDays": null, "VelocityCode": null, "ServiceGroup": null, "TargetServiceLevel": null, "SafetyStockMaxDays": null, "LineCost": 20.0, "CarryingCost": 10.0 }, { "ItemId": "Jean", "LocationId": "DC1", "PrimarySource": Vendor1, "LifeCycleStatus": { "LifeCycleStatusId": "ACTIVE" }, "BuyingMultiple": 1.0, "BuyingMultipleUOM": { "UomId": "EA" }, "BuyingMultipleRoundUpPercent": 0.5, "StockingUOM": { "UomId": "EA" }, "Minimum": null, "Maximum": null, "MinimumDays": null, "MaximumDays": null, "VelocityCode": null, "ServiceGroup": null, "TargetServiceLevel": null, "SafetyStockMaxDays": null, "LineCost": 20.0, "CarryingCost": 10.0 } ] } Implementation Flavors N/A UIs and Entities Configuration Entities and UI Metric Type Metric Group Cleansing Policy Forecast Policy Sourcing Relationship Item Location Item Location Source Analysis UI Item Location Analysis Services The APIs listed in the following table are referenced in this document. Refer to the API documentation for additional details on each service. Service Service End Point API to review the Suggested Order Quantity for any given Item Location {{url}}/ai-inventoryoptimization/api/ai-inventoryoptimization/suggestedOrderLine/search Troubleshooting NA Related Articles Metric Types Planned Demand Forecast Policies Demand Classification & Cleansing