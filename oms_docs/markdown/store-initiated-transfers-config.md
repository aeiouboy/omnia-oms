# Store-Initiated Transfer Configuration

**Permalink:** store-initiated-transfers-config
**Path:** Manhattan Active® Omni/Store/Process & Configuration Guides/Store Inventory & Fulfillment/Store Inventory Management/Store-Initiated Transfers/Store-Initiated Transfer Configuration
**Content Length:** 46,072 characters
**Scraped:** 2025-08-09T22:05:19.814435

---

Home ››Manhattan Active® Omni››Store››Process & Configuration Guides››Store Inventory & Fulfillment››Store Inventory Management››Store-Initiated Transfers ››Store-Initiated Transfer Configuration Store-Initiated Transfer Configuration Store DispositionReceipt TypeLimit Maximum QuantityPackage Type SortingSuppress Default Package TypeIn-transit records for shipped packagesEnable Transfer Types during Store Initiated TransferStore Fulfillment Transfer TypesDefault Transfer TypeRemove Packed Units from AvailabilityBatch Job SchedulerGenerate Fulfillment OutboundUIs and Entities Store Disposition This configuration is mandatory so that the inventory is reduced from the appropriate disposition upon shipping. This configuration is available in the Store-Initiated Transfers section of the Store Fulfillment Parameters UI. Note: Before store dispositions are entered here, they must first be defined in Store Dispositions UI and mapped to a supply type. Refer to the View Store Inventory configuration guide for additional information. Receipt Type This configuration determines the receipt type to update the store transfer packages. If not defined, the default value of a package is used. This configuration is available in the Store-Initiated Transfers section of the Store Fulfillment Parameters UI. Limit Maximum Quantity This configuration determines the maximum quantity for an item in a store transfer package. If not defined, then there is no maximum limit. This configuration is available in the Store Initiated Transfers section of the Store Fulfillment Parameters UI. Package Type Sorting Suppress Default Package Type The Suppress package type defaulting for pullbacks/transfers and store-initiated transfers flag on the Store Fulfillment Parameters UI controls whether the package type is defaulted to associates during packing of transfer orders. If set to true, the package type default is suppressed, and the user must choose a package type before closing the package. Otherwise, the package type is defaulted to the user. The previously selected package type is shown as the default. If this is the first packing done on the device, the first package type in the list is used as the default. Note: This configuration is turned off by default. In-transit records for shipped packages The Create in-transit records for shipping inventory from a store to another location flag on the Store Fulfillment Parameters UI determines whether the system will create in-transit records for packages that are shipped from a store to another location within the retailer's network. When this configuration is set to true, ASN intransit inventory record is created for the Store Initiated Transfer Order packages that are shipped from the store. Note: This configuration is turned off by default. Enable Transfer Types during Store Initiated Transfer The “Enable Transfer Types during Store Initiated Transfer” business flag on the Store Fulfillment Parameters UI controls whether transfer type can be selected during a store-initiated transfer. Note: This parameter is disabled by default. If disabled, transfer orders are created without leveraging transfer types. Store Initiated Transfer Destinations The store initiated transfer destinations tab on the Store Fulfillment Parameters UI allows store users to configure a list of organizations, allowing for creating store-initiated transfers across organizations. For example, returning damaged goods to the DCs or suppliers, replenishing inventory at a store across organizations. Store Fulfillment Transfer Types At least one transfer type must be defined if the retailer has enabled transfer order creation based on transfer types. The following attributes can be configured when defining a transfer type: Transfer Type ID – Unique identifier of transfer type. It is required to provide a Transfer Type ID. Transfer Type Name – This is the short name of the type of transfer. The transfer type name is displayed on the Store Initiated Transfer UI. Transfer Type Description – This is a brief description of the type of transfer. Store Disposition – It is mandatory to configure store disposition for the transfer type. When a store-initiated transfer is created for a specific transfer type, inventory is deducted from the disposition, configured for that transfer type. Default Carrier – Default carrier is optional. If the default carrier is not configured, the associate must be granted permission to update the carrier during the store-initiated transfer order creation. Default Service Level – Retailers can configure a specific default service level for a transfer type if required. For example, a retailer may want to configure UPS Ground service level for returning damaged goods to DC, instead of the next day air. If the default carrier is configured, then the default service level must be specified.If the default service level is not configured, then the associate must be granted permission to update the service level during the store-initiated transfer order creation. Receipt Type – When a store user creates a store-initiated transfer for a transfer type, the receipt type is updated on the package based on this configuration. If the receipt type is not configured for the transfer type, then the receipt type configured for generic store-initiated transfer is used. Sort Sequence – Retailers can configure the sort sequence for the transfer type. If associates have permission to select a transfer type during transfer order creation, this sequence defines the order that the transfer types display in the selection dropdown. Maximum quantity for an item in a package - This configuration determines the maximum quantity that is allowed for an item in a store transfer package. If not configured, no maximum limit is enforced. Allow Store Initiated Transfer across organizations - This configuration determines if the transfer type is eligible for store-initiated transfers across the organizations (within the same hierarchy). A list of allowed organizations can be configured. Refer to the parameter "Store Initiated Transfer Destinations". Location Types – Defines the location type(s) which are allowed for the ship to destination locations. If you want to define a transfer type that applies to all location IDs that fall within one or more location type(s), use this configuration to define that list of location ID(s). If at least one location type record is defined (and no location IDs are defined in the Eligible Transfer Locations list), this list is used to limit the transfer type's eligible locations. Eligible Transfer Locations - Defines the specific location IDs (operational) which are allowed for the ship to destination locations. If you want to define a transfer type that is only applicable to a short list of location IDs, define that list here. If at least one location ID is defined, this list is used to limit the transfer type's eligible locations and takes precedence over the location type list. Reserve inventory during packing - See the Remove Packed Units from Availability section below. Transfer types can be configured at the organization, store profile type or location level. Note: If the transfer types are configured at the location level, the ship package job scheduler must be configured at the location level as well. If the ship package job scheduler is configured at the organization level, then the inventory is adjusted from the generic store disposition configured at the organization level. Default Transfer Type If “Enable Transfer Types during Store Initiated Transfer” business flag is turned on and the default transfer type on the Store Fulfillment Parameter UI is configured, the default transfer type is automatically pre-selected during store-initiated transfer order creation. Associates are allowed to change the default transfer type based on permission. If the transfer types are configured at the location level, the default transfer type cannot be configured. In this case, the associate must select the transfer type during a store-initiated transfer manually. Remove Packed Units from Availability If this feature is enabled, a reservation request is sent to Enterprise Inventory as units are packed. Enterprise inventory reserves available inventory when the items are packed for store-initiated transfer. This functionality is controlled by configuration at two levels: Transfer type - If transfer types are used, this functionality is controlled by the “Reserve inventory during packing” business flag in the Transfer Types UI. The flag is disabled by default. Refer to the Transfer Type section on this page. Store Fulfillment Parameters - If transfer types are not used, this functionality is controlled by the “Reserve inventory during packing” business flag in the Store Fulfillment Parameters UI. The flag is disabled by default. Batch Job Scheduler For parcel carriers, please refer to Shipping configuration guide. Note: Fulfillment outbound configurations and return label shipping are not applicable for store-initiated transfers. For non-parcel carriers, use the following to configure a batch job scheduler: POST message {{url}}/fulfillment/api/batch/jobSchedule/save { "JobScheduleId":"shipNonParcelPackagesJob2", "JobTypeId":"shipNonParcelPackagesJob", "CronExpression":"0 0/2 * 1/1 * ? *", "TriggerKey":"shipNonParcelPackagesJob2", "JobParameters":[      {         "InputKey":"QueryString", "InputValue":"SELECT DISTINCT fulfillment.fulfillmentId from FulfillmentEntity fulfillment JOIN fulfillment.packagesList packages where fulfillment.shipFromLocationId in (:FacilityIds) AND fulfillment.deliveryMethodId=':DeliveryMethodId' AND fulfillment.docTypeId=':DocTypeId' AND fulfillment.orgId=':OrgId' AND fulfillment.fulfillmentId=packages.fulfillmentId AND packages.packageStatus.packageStatusId=':PackageStatus' AND fulfillment.isNonParcel=':IsNonParcel'"      }, {         "InputKey":"PackageStatus",         "InputValue":"2000.000"      }, {         "InputKey":"FacilityIds",         "InputValue":"'STR-NorthLake'"      }, {         "InputKey":"DeliveryMethodId",         "InputValue":"ShipToLocation"      }, {         "InputKey":"OrgId",         "InputValue":"dummyOrg"      }, {  "InputKey":"AddSecurityCriteria",                  "InputValue":"false"            }, {         "InputKey":"DocTypeId",         "InputValue":"RetailOrder"      }, {         "InputKey":"IsNonParcel",         "InputValue":"TRUE"      }   ]} Generate Fulfillment Outbound It might be necessary to send an outbound fulfillment message to an external system to communicate the shipment of a package within a store-initiated transfer or to communicate that an entire store-initiated transfer has been shipped. Package-Level Event Use the steps below to configure a package-level event. The extension point "StoreInitiatedPackageShipped" and a fulfillment outbound configuration for this event is part of Base seed data and can be used to achieve this requirement. For all steps, they require a system admin user to be used for configuration. Step 1: Create a fulfillment outbound rule Note: This has been added as part of Base seed data. However, if it has not been configured, use this step to configure the fulfillment outbound configuration. POST message {{url}}/fulfillment/api/fulfillment/fulfillmentOutboundConfig/import { "ConfigId": "25", "FulfillmentLineStatusId": "4500.000", "FulfillmentLineQtyField": "ShippedQty", "EventName": "StoreInitiatedPackageShipped", "MvelBooleanExprn": "fulfillmentLine.shippedQty > 0 && fulfillmentLine.parentFulfillment.orderTypeId == 'StoreInitiated'" } Step 2: Create outbound message type POST message {{url}}/fulfillment/api/ServiceDefinition/outBoundMessageType/save { "MessageType": "YourOutboundMessageType", "Transactional": true, "PersistMessageToMsgStore": false, "OutBoundQueues": { "QueueName": "YourQueueName" } } Step 3: Create extension handler POST message {{url}}/fulfillment/api/ServiceDefinition/extPointToMessageType/save { "ExtensionPoint": { "ExtensionPointId": "StoreInitiatedPackageShipped" }, "ExtensionPointId": "StoreInitiatedPackageShipped", "MessageType": "YourOutboundMessageType" } Step 4: Create a track and ship scheduler Note: The existing track and ship scheduler might not pick up the built packages for store-initiated transfers when the "Close Order" button is not clicked. To ship these built packages with a track and ship scheduler, configure a new track and ship scheduler looking for packages with a package status of "2000.000" and the order type as "StoreInitiated". POST message {{url}}/fulfillment/api/batch/jobSchedule/save { "JobScheduleId": "trackAndShipPackagesJobSIT", "JobTypeId": "trackAndShipPackagesJob", "CronExpression": "0 0 0 1 1 ?", "TriggerKey": "trackAndShipPackagesTriggerSIT", "JobParameters": [ { "InputKey": "QueryString", "InputValue": "SELECT DISTINCT fulfillment.fulfillmentId FROM FulfillmentEntity fulfillment JOIN fulfillment.packagesList packages WHERE fulfillment.shipFromLocationId in (:FacilityIds) AND fulfillment.orgId=':OrgId' AND fulfillment.fulfillmentId=packages.fulfillmentId AND packages.packageStatus.packageStatusId=':PackageStatus' AND fulfillment.orderTypeId=':OrderTypeId' AND packages.trackingNumber IS NOT NULL AND packages.createdTimestamp >= SQL('? - interval :NumberOfHours hour', CURRENT_TIMESTAMP)" }, { "InputKey": "PackageStatus", "InputValue": "2000.000" }, { "InputKey": "FacilityIds", "InputValue": "'Store1','Store2'" }, { "InputKey": "NumberOfHours", "InputValue": "24" }, { "InputKey": "AddSecurityCriteria", "InputValue": "false" }, { "InputKey": "OrgId", "InputValue": "YourOrgId" }, { "InputKey": "OrderTypeId", "InputValue": "StoreInitiated" } ] } Transfer-Level Event Use the steps below to configure a transfer-level event. The extension point "FulfillmentShippedExternal" is part of Base seed data and can be used to achieve this requirement. For all steps, they require a system admin user to be used for configuration. Step 1: Create a fulfillment outbound rule POST message {{url}}/fulfillment/api/fulfillment/fulfillmentOutboundConfig/import { "ConfigId": "101", "FulfillmentLineStatusId": "5000.000", "FulfillmentLineQtyField": null, "EventName": "FulfillmentShippedExternal", "MvelBooleanExprn": "fulfillmentLine.shippedQty > 0 && fulfillmentLine.parentFulfillment.orderTypeId == 'StoreInitiated'" } Step 2: Create outbound message type POST message {{url}}/fulfillment/api/ServiceDefinition/outBoundMessageType/save { "MessageType": "YourOutboundMessageType", "Transactional": true, "PersistMessageToMsgStore": false, "OutBoundQueues": { "QueueName": "YourQueueName" } } Step 3: Create extension handler POST message {{url}}/fulfillment/api/ServiceDefinition/extPointToMessageType/save { "ExtensionPoint": { "ExtensionPointId": "FulfillmentShippedExternal" }, "ExtensionPointId": "FulfillmentShippedExternal", "MessageType": "YourOutboundMessageType" } Make the necessary changes to the seed data if you wish to use store initiated transfer functionality. Base Seed data changes: What is changed? Profile Purpose Action Needed The new pipeline has been added for the Store Initiated Transfer Execution. Added new process type: ADHOC_TRANSFER_EXECUTION inside the seed data pipeline.json ful::processDefinition Mandatory Required if store initiated transfers are enabled. The new rule has been added for the Store Initiated Transfer Execution. Added a new rule id: ADHOC_TRANSFER_PIPELINE_RULE inside the seed data rule_1.json ful::rules Mandatory Required if store initiated transfers are enabled. The new rule action has been added for the Store Initiated Transfer Execution. Added a new rule action: ADHOC_TRANSFER_PIPELINE_ACTION inside the seed data ruleAction.json ful::rules Mandatory Required if store initiated transfers are enabled. The new rule group has been added for the Store Initiated Transfer Execution. Added a new rule group: ADHOC_TRANSFER_PIPELINE_RULE_GROUP inside the seed data ruleGroup.json ful::rules Mandatory Required if store initiated transfers are enabled. The new rule condition has been added for the Store Initiated Transfer Execution. Added a new rule condition: ADHOC_TRANSFER_PIPELINE_CONDITION inside the seed data ruleCondition.json ful::rules Mandatory Required if store initiated transfers are enabled. The new status definition has been added for the Store Initiated Transfer Execution. Added new status definition in the seed data statusDefinitions.json New status for pullback and transfer: 1 Open  (Status 1000.000) 2 In Packing   (Status 3500.000) 3 Packed   (Status 4000.000) 4 Partially Shipped   (Status 4500.000) 5 Shipped   (Status 5000.000) ful::processDefinition Mandatory Required if store initiated transfers are enabled. New entity storeInitiatedTransfers ful::fulfillmentConfig Mandatory Not mandatory. Required if store initiated transfers are enabled. Details about each of the changes mentioned in the table Steps for API: You can call save API with the following json. Step 1: {{url}}/fulfillment/api/ServiceDefinition/pipeline/import { "Data": [ { "ProcessTypeId": "ADHOC_TRANSFER_EXECUTION", "PipelineId": "ADHOC_TRANSFER_EXECUTION", "Description": "Adhoc And Transfer Execution", "PickupService": [ { "FromStatus": "1000.000", "ComponentId": "Fulfillment", "ServiceId": "submitPack" }, { "FromStatus": "3500.000", "ComponentId": "Fulfillment", "ServiceId": "submitPack" }, { "FromStatus": "4500.000", "ComponentId": "Fulfillment", "ServiceId": "submitPack" }, { "FromStatus": "3500.000", "ComponentId": "Fulfillment", "ServiceId": "closeFulfillment" }, { "FromStatus": "4500.000", "ComponentId": "Fulfillment", "ServiceId": "closeFulfillment" }, { "FromStatus": "3500.000", "ComponentId": "Fulfillment", "ServiceId": "shipPackages" }, { "FromStatus": "4000.000", "ComponentId": "Fulfillment", "ServiceId": "shipPackages" }, { "FromStatus": "4500.000", "ComponentId": "Fulfillment", "ServiceId": "shipPackages" }, { "FromStatus": "5000.000", "ComponentId": "Fulfillment", "ServiceId": "shipPackages" }, { "FromStatus": "1000.000", "ComponentId": "Fulfillment", "ServiceId": "cancelPack" }, { "FromStatus": "3500.000", "ComponentId": "Fulfillment", "ServiceId": "cancelPack" }, { "FromStatus": "4500.000", "ComponentId": "Fulfillment", "ServiceId": "cancelPack" } ], "DropStatusDetermination": [ { "FromStatus": "1000.000", "ComponentId": "Fulfillment", "ServiceId": "cancelPack", "IntendedDropStatus": "9000.000", "Sequence": 1, "ConditionText": null, "DropStatus": "9000.000" }, { "FromStatus": "3500.000", "ComponentId": "Fulfillment", "ServiceId": "cancelPack", "IntendedDropStatus": "9000.000", "Sequence": 1, "ConditionText": "(fulfillmentLine.packedQty>0)", "DropStatus": "3500.000" }, { "FromStatus": "3500.000", "ComponentId": "Fulfillment", "ServiceId": "cancelPack", "IntendedDropStatus": "9000.000", "Sequence": 2, "ConditionText": "(fulfillmentLine.packedQty = 0)", "DropStatus": "9000.000" }, { "FromStatus": "4500.000", "ComponentId": "Fulfillment", "ServiceId": "cancelPack", "IntendedDropStatus": "9000.000", "Sequence": 1, "ConditionText": "(fulfillmentLine.shippedQty>0)", "DropStatus": "4500.000" }, { "FromStatus": "1000", "ComponentId": "Fulfillment", "ServiceId": "submitPack", "IntendedDropStatus": "3500.000", "Sequence": 1, "ConditionText": "(fulfillmentLine.packedQty > 0) and (fulfillmentLine.shippedQty = 0)", "DropStatus": "3500.000" }, { "FromStatus": "3500.000", "ComponentId": "Fulfillment", "ServiceId": "submitPack", "IntendedDropStatus": "3500.000", "Sequence": 1, "ConditionText": "(fulfillmentLine.packedQty > 0) and (fulfillmentLine.shippedQty = 0)", "DropStatus": "3500.000" }, { "FromStatus": "4500.000", "ComponentId": "Fulfillment", "ServiceId": "submitPack", "IntendedDropStatus": "3500.000", "Sequence": 1, "ConditionText": "(fulfillmentLine.parentFulfillment.isClosed = false) and (fulfillmentLine.shippedQty > 0)", "DropStatus": "4500.000" }, { "FromStatus": "3500.000", "ComponentId": "Fulfillment", "ServiceId": "closeFulfillment", "IntendedDropStatus": "4000.000", "Sequence": 1, "ConditionText": "(fulfillmentLine.packedQty > 0)", "DropStatus": "4000.000" }, { "FromStatus": "4500.000", "ComponentId": "Fulfillment", "ServiceId": "closeFulfillment", "IntendedDropStatus": "4000.000", "Sequence": 1, "ConditionText": "(fulfillmentLine.shippedQty < fulfillmentLine.packedQty) and (fulfillmentLine.shippedQty > 0)", "DropStatus": "4500.000" }, { "FromStatus": "4500.000", "ComponentId": "Fulfillment", "ServiceId": "closeFulfillment", "IntendedDropStatus": "4000.000", "Sequence": 2, "ConditionText": "(fulfillmentLine.shippedQty = fulfillmentLine.packedQty) and (fulfillmentLine.shippedQty > 0)", "DropStatus": "5000.000" }, { "FromStatus": "3500.000", "ComponentId": "Fulfillment", "ServiceId": "shipPackages", "IntendedDropStatus": "4500.000", "Sequence": 1, "ConditionText": "(fulfillmentLine.parentFulfillment.isClosed = false) and (fulfillmentLine.shippedQty > 0)", "DropStatus": "4500.000" }, { "FromStatus": "4000.000", "ComponentId": "Fulfillment", "ServiceId": "shipPackages", "IntendedDropStatus": "4500.000", "Sequence": 1, "ConditionText": "(fulfillmentLine.shippedQty = fulfillmentLine.packedQty)", "DropStatus": "5000.000" }, { "FromStatus": "4500.000", "ComponentId": "Fulfillment", "ServiceId": "shipPackages", "IntendedDropStatus": "4500.000", "Sequence": 1, "ConditionText": "(fulfillmentLine.parentFulfillment.isClosed = true) and (fulfillmentLine.shippedQty = fulfillmentLine.packedQty)", "DropStatus": "5000.000" } ] } Step 2: {{url}}/fulfillment/api/rules/ruleAction/save { "RuleActionId": "ADHOC_TRANSFER_PIPELINE_ACTION", "ActionDescription": "Adhoc Transfer Pipeline Action", "ActionValue": "ADHOC_TRANSFER_EXECUTION" } Step 3: {{url}}/fulfillment/api/rules/ruleGroup/save { "RuleGroupDescription": "Adhoc Transfer Pipeline Rule Group", "RuleGroupId": "ADHOC_TRANSFER_PIPELINE_RULE_GROUP" } Step 4: {{url}}/fulfillment/api/rules/ruleCondition/save { "RuleConditionId": "ADHOC_TRANSFER_PIPELINE_CONDITION", "ConditionValue": "{}" } Step 5: {{url}}/fulfillment/api/ServiceDefinition/statusDefinition/import { "Data": [ { "ProcessTypeId": "ADHOC_TRANSFER_EXECUTION", "Status": "1000.000", "Description": "OPEN", "PartialStatusDescription": "Open" }, { "ProcessTypeId": "ADHOC_TRANSFER_EXECUTION", "Status": "3500.000", "Description": "IN PACKING", "PartialStatusDescription": "In Packing" }, { "ProcessTypeId": "ADHOC_TRANSFER_EXECUTION", "Status": "4000.000", "Description": "Packed", "PartialStatusDescription": "Packed" }, { "ProcessTypeId": "ADHOC_TRANSFER_EXECUTION", "Status": "4500.000", "Description": "PARTIALLY SHIPPED", "PartialStatusDescription": "Partially Shipped" }, { "ProcessTypeId": "ADHOC_TRANSFER_EXECUTION", "Status": "5000.000", "Description": "SHIPPED", "PartialStatusDescription": "Shipped" } ] } Step 6: {{url}}/fulfillment/api/rules/rule/save { "RuleId": "ADHOC_TRANSFER_PIPELINE_RULE", "RuleGroupId": "ADHOC_TRANSFER_PIPELINE_RULE_GROUP", "RuleDescription": "Adhoc And Transfer Pipeline Rule", "Component": "Fulfillment", "RuleStatus": "active", "RuleVersion": "1", "Salience": "0", "DisplaySequence": "3", "ActivationDate": null, "ExpirationDate": null, "RuleConditionId": "ADHOC_TRANSFER_PIPELINE_CONDITION", "RuleActionId": "ADHOC_TRANSFER_PIPELINE_ACTION" } UIs and Entities The configuration UIs mentioned in this document are listed in the following table, along with information to navigate to the API documentation. UI Name Component Group Seed Data Present? Seed Data Profile Store Fulfillment Parameters Fulfillment FulfillmentParameters Services Yes Base