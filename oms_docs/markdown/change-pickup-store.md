# Change Pickup Store

**Permalink:** change-pickup-store
**Path:** Manhattan Active® Omni/Order Management/Process & Configuration Guides/Digital Self-Service/Change Pickup Store
**Content Length:** 30,363 characters
**Scraped:** 2025-08-09T21:55:29.092301

---

Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Digital Self-Service ››Change Pickup Store Change Pickup Store Change Pickup StoreOverviewEligibility for Change Pickup StoreNotifying Customers of the Change Pickup Store OptionOrder UpdatesPickup Store Change Confirmation Email/TextOrder Total CalculationConfigurationRe-calculation of TaxesOrder ConfigurationEnabling Ship it Instead for ShortsShip it Instead EmailsShip it Instead Text MessagesCancellation SchedulersDigital Self-Service ConfigurationDigital Self-Service Location Availability ViewFeature ScopeTroubleshootingUnable to view the mod type "track customer response" in order configuration Unable to view the "Change Delivery Method on Short" flag in Order config UIAn order line is eligible for changing pickup store, but a record is not created in the CustomerResponseTracker entityRelated Articles Overview With this feature, customers can have their BOPIS (Buy online pick-up at a store) items picked up at another store, if the items are unavailable at the original store. Here's how it works: A customer places an order with a BOPIS order line. The order is allocated and released to a store. While preparing the order, a store associate finds the item damaged/unavailable and shorts the item. On receiving a short message from the store, the order component determines if an order line is eligible for change of pickup store. If validation passes, the order line is moved to backordered status and an email/text is sent to the customer with a link to the Digital Self-Service Change Pickup Store page. A customer clicks on the link, views the Digital Self-Service webpage, and goes through the flow to select a store where the BOPIS items are available. Once the pickup store change is successful, the customer receives a confirmation email/text. The order line is updated to be allocated and released, ready to be picked by the store associate. Process Flow - Ship it instead for store shorts Eligibility for Change Pickup Store This section describes the criteria for shorted order lines to be eligible for changing pickup store. The current delivery method of the order line shorted is "PickupAtStore". The entire quantity of the order line is shorted “Change Delivery Method on Short” should be enabled in the Order Configuration (this should be configured from backend and is not available in the UI) for this order type. The item/order line supports the "Ship to Address" delivery method (OrderLine.Can Ship To Address = true) 'Reallocate On Short' is set to false and 'Cancellation Initiated By' is NOT set to 'Customer' for the corresponding ReasonId. If an order line meets all the above criteria, a record is created in the CustomerResponseTracker entity with requestStatus as "Open" for the order line. Such order lines are restricted from being canceled and remain in Backordered status (1500). If any of the conditions above are not met, then when a BOPIS item is shorted, it is canceled as per the normal process. If ReallocateOnShort = true for the short reason code used by the store, the order line attempts reallocation and is not eligible for Change Pickup Store. Retailers can configure specific reason codes for BOPIS - Short or BOPIS - Damage by setting ReallocateOnShort= false for the reason codes. Additionally, a separate reason code should be defined for ship to address with ReallocateOnShort= true for the lines to be reallocated when the order line is shorted by the store. Notifying Customers of the Change Pickup Store Option When an order line passes all the validations and is eligible for pickup store change, a record is created in CustomerResponseTracker with RequestStatus = "Open" for the order line. This triggers the modification type OrderLine::CustomerResponseTracker::TrackCustomerResponse which is used to send an email/text to the customer, asking if they want their BOPIS order to be picked up at another store. This email/text contains the link to the Digital Self-Service (DSS) Change Pickup Store page, where the customer can select another store which has item availability and confirm the store change. Refer to the Transactional Email and Transactional Text guides for more details on emails and texts. If the customer changes their "Pick up At Store" items to be picked up at another store, the RequestStatus is updated to "Closed". If the customer does not change the pickup store within three days of receiving the email/text, a cancellation scheduler can be used to cancel the lines. This date is stamped as the CustomerResponseTracker.EndDateForUpdate and is calculated as the short date plus three days. Note: If an order has two line items with different release IDs and is picked by the same store, and both lines are shorted, then the customer will receive multiple 'Ship It Instead' emails. When the customer clicks the latest email, they will see all eligible line items based on the Order ID, Organization, Location, and IsShort=True. Order Updates When a BOPIS order line's pickup store is successfully changed, the below updates are made: The prior delivery method is set to "PickUpAtStore"  (orderLine.orderLineAdditional.priorDeliveryMethodId). Pickup Store is changed to a newly chosen store (orderLine.ShipToLocationId). The modification type OrderLine::ShipToLocationId::ChangePickUpAtStore is triggered. The order line is allocated, released, and fulfilled like the BOPIS order line, as before. Pickup Store Change Confirmation Email/Text After the pickup store change is confirmed, the customer is notified via email or text. See Transactional Emails and Transactional Texts for more details on the template. Order Total Calculation When the pickup store is changed, this can result in an increase in order total due to taxes at the new store location. Once the customer selects the new store, the end customer will be redirected to the preview page where he/she can review the additional charges they should pay for the store change. If the customer agrees to pay the additional charges for shipping and adds a payment, and then confirms the store change, the order will be saved, and the ShipToLocationId is changed to the new store. If the customer does not agree with paying the charges and exits the self-service window, the ShipToLocationId on the order will not be updated. Automatic Tax Write Off When the pickup store is changed, taxes are recalculated and included in the order total. As a result, the payment status changes to "Awaiting Payment Info" (1000) due to the increased order total. If a retailer chooses to write off the additional taxes instead of reaching out to the customer to collect a payment, automatic tax write-off can be enabled by configuring Write off API details Mode Preview = true Preview = false Manual Run the Write Off API in preview mode. This does not perform any updates to the order, but gives a preview of what adjustments will be made on the order when the API is run The manual mode will require a body in the PUT API for the user to specify how much to write off and the order actions PUT:- /api/order/internal/order/orderId/{orderId}/writeOff?mode=manual PUT:- /api/order/internal/order/orderId/{orderId}/writeOff?mode=manual&preview=true Persist the changes in the order Adds the specified write off charge with the specified reason Perform the specified order actions and all the updates that comes with adding a charge in an order PUT:- /api/order/internal/order/orderId/{orderId}/writeOff?mode=manual&preview=false Automatic Run the Write Off API in preview mode. This does not perform any updates to the order, but gives a preview of what adjustments will be made when the API is run PUT:- /api/order/internal/order/orderId/{orderId}/writeOff PUT:- /api/order/internal/order/orderId/{orderId}/writeOff?preview=true PUT:- /api/order/internal/order/orderId/{orderId}/writeOff?mode=automatic PUT:- /api/order/internal/order/orderId/{orderId}/writeOff?mode=automatic&preview=true After verifying that the adjustments work, run the Write Off API to add the charge of type "WriteOff" to the order so that order and payment are in sync Persist the changes in the order Adds the appropriate write off charge the order component will then do all the updates that comes with adding a charge in an order PUT:- /api/order/internal/order/orderId/{orderId}/writeOff?preview=false PUT:- /api/order/internal/order/orderId/{orderId}/writeOff?mode=automatic&preview=false Configuration The following configurations need to be enabled to implement this feature: Product Configuration Link Order Enable the 'Store out of Stock: Ship It Instead' email/text with the link to Change Pickup Store (optional) Enable the 'Change Pickup Store Confirmation' email/text (optional) Update existing backorder cancellation schedulers to prevent canceling order lines awaiting customer inputs. Add a cancellation scheduler to cancel lines, for which customers did not change pickup store, after 3 days. Configure 'Reallocate On Short' and 'Cancellation Initiated By' appropriately for each eligible short reason Available here Re-calculation of Taxes The following configurations are required to calculate tax due to pickup store change and capture the payment for the balance applicable: Product Configuration Link Digital Self-Service Enable Pay by Link for Self Service Features Configure self-service payment gateway Id Enable - Permit SelfService Sales - for the Payment Type in Payment Capture Config Available here Note: The DSS configurations mentioned above are not restricted only to Change Pickup Store flow and will impact all other DSS features. Order Configuration Enabling Ship it Instead for Shorts Set ChangeDeliveryMethodOnShort = true in the Order Config via API: /order/api/order/orderConfig/save Sample Request - Order Config{ "OrderConfigId": "{OrderConfigId}", "ChangeDeliveryMethodOnShort": true } Note: To enable changing of pickup store, select the 'Enable Ship it instead' configuration in the Order Configuration UI. Ship it Instead Emails To enable Item Unavailable Email which includes the link to Ship it Instead, perform the following steps: Navigate to Order Configuration UI > Modification Rules > Order Line. For the Track Customer Response modification type, select the Publish Email option as "Store out of Stock: Ship It Instead". Sync the OrderLine::ShipToLocationId::ChangePickUpAtStore mod type, if required. To enable Change Pickup Store Confirmation Email, perform the following steps: Navigate to Order Configuration UI > Modification Rules > Order Line. For the Change Pickup Store modification type, select the Publish Email option as "Change Pickup Store Confirmation". Sync the OrderLine::ShipToLocationId::ChangePickUpAtStore mod type, if required. API: POST {{url}}/order/api/order/modTypeConfig/sync BODY: { "data": [ { "OrderConfigId": "EcommConfig", "ModTypes": [ { "ModTypeId": "OrderLine::ShipToLocationId::ChangePickUpAtStore" } ] } ] } Ship it Instead Text Messages To enable Item Unavailable Text which includes the link to Ship it Instead, perform the following steps: Navigate to Order Configuration UI > Modification Rules > Order Line. For the Track Customer Response modification type, select the Publish Text option as "Store out of Stock: Ship It Instead" Cancellation Schedulers If a backorder cancellation agent is in use, the agent criteria should include cancellation of order lines which are in backordered status and are awaiting customer inputs for changing pickup store. Sample query{ "Query":"CustomerResponseTracker.RequestStatus = 'Open' and CustomerResponseTracker.CustomerRequestType.CustomerRequestTypeId = 'StoreShortConversion'" } Note : This works only on order line entity. This cannot be queried on Order entity because of entity framework limitation. Order lines are canceled automatically when the short is initiated by the customer. However, for lines where the cancelation is NOT initiated by the customer, a cancel agent can optionally be configured for canceling aged order lines that are eligible for changing pickup store but have not received any update from the customer. Sample query { "Query":"CustomerResponseTracker.RequestStatus = 'Open' and CustomerResponseTracker.CustomerRequestType.CustomerRequestTypeId = 'StoreShortConversion' and CustomerResponseTracker.EndDateForUpdate<CurrentDate" } Note : This works only on order line entity. This cannot be queried on Order entity because of entity framework limitation. Digital Self-Service Configuration For DSS configuration refer here. In addition to the mentioned default ship via and Google Autocomplete details, for store short scenario, the organization will need to configure the location availability view within DSS configuration. Digital Self-Service Location Availability View When the customer clicks the 'Change Pickup Store' link, they will be directed to select another store, if the item(s) has inventory available in that store. By default, the UI checks for inventory based on the DSS Location Availability View configuration and the required configuration to process the order. Feature Scope The following features are not supported: Partial quantity pickup store change; only full order lines can be changed to be picked up at another store. Troubleshooting Unable to view the mod type "track customer response" in order configuration Sync order config using API : POST /order/api/order/orderConfig/sync Unable to view the "Change Delivery Method on Short" flag in Order config UI The flag is not available in the UI. Enable it using the order config save API: POST /order/api/order/orderConfig/save An order line is eligible for changing pickup store, but a record is not created in the CustomerResponseTracker entity Verify the reallocateOnShort flag value for the short reason code used. ReallocateOnShort should be set to false. Related Articles Google Analytics IntegrationPay by LinkRefund by Link Order CancellationReturn TrackingContact Customer ServiceExtend Pickup WindowAdd Alternate Pickup PersonManage OrdersShipment TrackingLocalization and Customizing LabelsChange Shipping AddressEmbedding Digital Self-Service on Retailer WebsiteOverview & AuthenticationItem SubstitutionStore Short OptionsNPS SurveyKits Support in Digital Self ServiceUI ResourcesReturns & ExchangesCurbside PickupShip it InsteadTroubleshooting Digital Self-ServiceProduct Recommendations in Digital Self-ServicePayment ResolutionUI Theming and Customization