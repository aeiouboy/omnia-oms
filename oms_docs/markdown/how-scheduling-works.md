# How Scheduling Works

**Permalink:** how-scheduling-works
**Path:** Manhattan Active® Omni/Order Management/Process & Configuration Guides/Order Processing/Order Scheduling/How Scheduling Works
**Content Length:** 167,490 characters
**Scraped:** 2025-08-09T21:56:53.694132

---

Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Order Processing››Order Scheduling ››How Scheduling Works How Scheduling Works Previous I Next OverviewBackward SchedulingFactors Affecting the Backward Scheduling DatesBackward Scheduling - Impact of Carrier Transit TimeBackward Scheduling - Impact of Carrier Pick TimeBackward Scheduling - Impact of Cut off timeBackward Scheduling - Impact of Location Processing and Receipt TimeBackward Scheduling - Impact of Item processing time, VAS processing time and Service level processing timeBackward Scheduling - Impact of Location & Carrier Time ZoneForward SchedulingWhen Allocation Date or ETA is Used?Factors Affecting the Forward Scheduling DatesForward Scheduling - Impact of Location Processing and Receipt TimeForward Scheduling - impact of Item processing time, VAS processing time and Service level processing timeForward Scheduling - Impact of Carrier Transit TimeForward Scheduling - Impact of Carrier Pick TimeForward Scheduling - Impact of Cut off timeForward Scheduling - Impact of Location & Carrier Time ZoneForward Scheduling - Impact of Vendor Lead TimeShip to Store SchedulingReschedulingCommitted Delivery DateConsider Location Receipt Time for reservation against PO/ASNIgnore Receipt Time during MergeProvide Earliest Delivery Date When Requested Delivery Date Cannot Be MetAllocate from Earliest Inventory When Requested Delivery Date is ApproachingScheduling with Customer Delivery CalendarHow to Create a CalendarHow to Create a CustomerHow to map a Customer to a CalendarHow to Ignore a Customer Calendar for an Order or an Order lineConfigurationFactors Affecting SchedulingHow Time Zone is Used During SchedulingHow is Delayed Delivery Date EvaluatedHow to Calculate Earliest Delivery Date When Requested Delivery Date Cannot be MetHow to Allocate from Earliest Inventory When Requested Delivery Date is ApproachingHow to Configure Customer Delivery CalendarImplementation FlavorsSample Scheduling Set upSample Transit Time ConfigurationRelated Article(s) Overview Scheduling is the process of determining delivery dates for an order and occurs during order promising. This includes assigning the optimistic and the pessimistic order delivery dates once the order is reserved. These dates are used to ensure that the order meets the requested delivery date (RDD) or Last Possible Delivery Dates (LPDD). These dates can also be used to provide possible delivery dates to the end customer. After a promising completes and an order is reserved, rescheduling is triggered if a reservation transfer occurs from one future inventory to another (PO to ASN or ASN to PO), or during ETA updates on future inventory. Two sets of dates are calculated in the scheduling process: pessimistic dates and optimistic dates. Pessimistic dates are the latest set of ship and release dates which still meet the delivery requirement. Optimistic dates are the earliest ship by and delivery dates if all other processes occur on schedule. Backward scheduling is used to calculate pessimistic dates, whereas Forward scheduling is used to calculate optimistic dates. The following dates are computed as part of Forward and Backward scheduling Backward Scheduling The system calculates the pessimistic dates on the order by calculating backwards from the time when an order should be delivered to the customer to the time the order must be released to the location. Latest Ship Date (LSD) and Latest Release Date (LRD) are computed as part of Backward scheduling. Backward scheduling is performed when the Requested Delivery Date (RDD) is provided on the promising request. If Requested Delivery Date is not provided, then promising tries backward scheduling using Last Possible Delivery Date (LPDD) provided in the request. Refer How delayed delivery date (Last possible delivery date) is evaluated during scheduling. Note: The Promised Delivery Date (PDD) and Latest Delivery Date (LDD) on the Order and Order Line are informational fields only. These dates are not used during scheduling. Note : The Latest Release Date (LRD) calculation, where LRD > ETA, happens only once during allocation. After that, LRD will not be recalculated, and no further condition checks will be made. Dates Description Requested Delivery Date Requested Delivery Date (RDD) is the latest date/time when the order should be delivered to the customer. The RDD can be provided on the promising request at the header or line level. If an RDD is not present for a line, the order level RDD is applied for that line. If the RDD is not provided at the line or order level, backward scheduling is not performed, and the pessimistic dates are not calculated. Note: Updating the RDD while an order is in Released status or later is not supported. If the order is in allocated status or less, and if RDD is updated, the LatestShipDate and LatestReleaseDate are re-evaluated. If RDD is not able to be honored, the order would move to backordered status. Latest Ship Date This represents the latest date/time by which the order can be shipped out of the location (DC/Store) in order to meet the RDD. The latest ship date is calculated by the system based on the provided RDD and configured carrier zone transit time. Carrier zone transit time is the time it takes the carrier to deliver the shipment once it leaves the location. Note: Latest Ship Date = RDD - Carrier Zone Transit Time Latest Release Date This is the latest date/time by which the order can be released to the location (DC/Store) and still meet the given RDD. The latest release date is calculated based on the previously calculated latest ship date and the configured location processing time. Location processing time is the average time it takes the location to process an order, including picking, packing and other processing activities. Note: Latest Release Date = Latest Ship Date - Location Processing Time Tip: The "Latest Delivery Date" is an informational field available on the order line (OrderLine.LatestDeliveryDate). It is passed down to SIF for "At risk" flag computation but is not used by the scheduling process during allocation. It is expected that for implementations that are using SIF and Backward scheduling, the Latest delivery date should be imported on the order with the same value as the RDD. Factors Affecting the Backward Scheduling Dates Refer how to configure Carrier and Location with respect to scheduling. Dates Destination Location Carrier Origin Location Latest Ship Date Operating Hours Time zone Holidays Operating Hours Time zone Holidays Transit Time Operating Hours Time zone Carrier Pickup Time Holidays Cut off time Latest Release Date n/a n/a Location processing time Item processing time VAS processing time Service level processing time Operating Hours Holidays Note: Promise Ship Date (date on which shipping is likely to happen) is not supported by the base system Backward Scheduling - Impact of Carrier Transit Time For backward scheduling, carrier zone transit time is used to calculate the Latest Ship Date. The transit time in conjunction with the Carrier scheduling hours, Destination location scheduling hours and Origin location scheduling hours dictates how long it will take for a shipment to be delivered. If the RDD is available, then the system will validate if a transit lane exists for the order origin and destination and if that transit lane belongs to a zone where the transit time is defined. If no transit lane exists or if the system cannot find an origin location to fulfill the order in time, then the allocation will fail. If RDD is not available and the system does not find a transit lane, allocation will still succeed, but transit time will be null. Adding a RDD ensures backward scheduling dates are computed Business rule: If Carrier operates at the time of RDD then RDD is taken up as it-is. If Carrier doesn't operate then the RDD is adjusted to the common operating hours between Destination location and Carrier. From this, the Transit time is reduced based on the Carrier operating hours. This indicates when the Shipment will be at the Origin location. If the origin location operates at this time, then Latest ship date is taken up as computed. If the origin location doesn't operate at this time, then Latest ship date is computed from the common operating hours between Origin location and Carrier. Backward Scheduling - Latest Ship DateExample 1: Origin location doesn't operate after Transit time is applied. Backward Scheduling - Impact of Carrier Pick Time In the backward flow, the latest ship date becomes the next possible carrier pick date/time before the ship dates are calculated by the system. For example, the calculated latest ship date using zone transit time may be 3/11/2019 09:00 (Monday). If the last scheduled carrier pick date/time before the calculated date is 3/10/2019 at 20:00 (Sunday), this becomes the actual latest ship date. Carrier pick time can be configured either in the inventory location for all carriers and service level or in the location scheduling menu where the pick time can be configured per carrier/service level and delivery method. Calculated Latest Ship Date = RDD - Carrier Transit Time Actual Latest Ship Date = Next Available Carrier Pick Date/Time before Calculated Latest Ship Date Backward Scheduling - Impact of Cut off time If a promising request is using backward scheduling, the origin location may have a cut off time configured for the delivery method/carrier/service level combination in the Location Scheduling UI. If the promising engine calculates a Latest Release Date that is today and after the cut off time, the allocation will fail (the promising response will have an empty allocation) because the location cannot start working on the fulfillment until the next business day. The cut off time logic does not apply once the order is created, it only applies for external system calls. See Location scheduling for how to configure the cut off time of a location. Cut off time validation: The cut off time does not impact the date calculation per say, but if the current time is after the cut off time and the LRD is today, the backward scheduling will fail the allocation completely. This is because the location can only start working on the order on the next day. Backward Scheduling - Impact of Location Processing and Receipt Time For backward scheduling, origin location processing time is used to calculate the latest release date. The processing time in conjunction with the Origin Location scheduling hours dictates how long it will take for a shipment to be processed. Currently, Location Receipt time is not considered for Backward scheduling dates - Latest Release and Latest Ship dates Business rule: From the Latest ship date, processing time is reduced based on the origin location operating hours. This indicates when the processing should start at origin location. Origin location Receipt time will not play a role here Backward Scheduling - Latest Release DateExample 1: Origin Location operating hours used to compute Latest release date Backward Scheduling - Impact of Item processing time, VAS processing time and Service level processing time Item processing time is configured for the item. Service level processing time and VAS processing times are configured for the location. If these processing times are configured and the promising config parameter "Consider additional processing time" is set to true, they are added to the location processing time to compute the Latest release date. Business rule: From the Latest ship date, processing time is reduced based on the origin location operating hours. This indicates when the processing should start at origin location. VAS processing time is only counted at the origin location and not at the destination or merge location Backward Scheduling - Impact of Location & Carrier Time Zone Location (Origin, Destination) and Carrier can be set up in different time zones. Refer How Time zone is used during Scheduling for more details. Also, refer to the below section on how Backward scheduling dates are computed when Time zone is provided for a Location and Carrier. It is important that if a time zone is configured Backward Scheduling - Time zone impact Examples - Forward Scheduling The system calculates the optimistic dates on an order from order release to the time it can be delivered to the customer. Earliest Ship Dates and Earliest Delivery Dates are computed as part of Forward scheduling. Forward scheduling is performed once the order is reserved and does not require the RDD to be provided in the promising request. It uses allocation information to calculate the earliest dates. In order to calculate forward scheduling dates, the allocation date/time (when on-hand inventory is allocated) or the estimated time of arrival (when future inventory is allocated) are needed. When Allocation Date or ETA is Used? Based on the allocation date or the latest ETA, Earliest Ship Date and Earliest Delivery Dates are computed Forward Scheduling - When Allocation date or ETA is used? Allocation Date: This is the date/time when the reservation occurred, and is provided in the reservation response. If the allocation occurred against only on-hand inventory, the allocation date/time is considered as the base date/time from which all the earliest dates are calculated. Estimated Time of Arrival: If the reservation occurred against future inventory, this represents the ETA of when the future inventory will arrive in the location. Since all the dependent processes can only start once the future inventory is received by the location, the ETA is considered as the base date/time from which all the earliest dates are calculated. Allocation Date or Latest ETA - Whether a reservation at the same location occurs against on-hand inventory, future inventory, or a combination of both determines what date is used for forward scheduling: Location Reserve Against On-hand inventory Reserve Against Future Inventory Date Used (Allocation Date or Latest ETA) Location 1 Yes No Allocation Date Location 1 Yes Yes; One future inventory Future inventory ETA Location 1 Yes Yes; Multiple future inventories Latest future inventory ETA Location 1 No Yes; One future inventory Future inventory ETA Location 1 No Yes; Multiple future inventories Latest future inventory ETA Location 1 Yes Yes; One future inventory (ETA less than Allocation date) Allocation Date If the reservation happens against multiple locations, the scheduling dates are calculated for each location using the same logic of on-hand and future inventory allocation. Dates Description Earliest Ship Date This represents the earliest date that the (release) order can be shipped from the location, assuming that the order is released immediately after allocation occurs. The earliest ship date takes into account the allocation date/time and the location processing time. Earliest Ship Date = Allocation Date or Latest ETA + Location Processing Time Earliest Delivery Date This is the earliest date that the (release) order can be delivered to the customer, assuming that the order is released immediately and shipped as soon as the location processes the order. This is calculated from the earliest ship date (defined above) and the carrier zone transit time. Earliest Delivery Date = Earliest Ship Date + Carrier Zone Transit Time Factors Affecting the Forward Scheduling Dates Refer how to configure Carrier and Location with respect to scheduling Dates Origin Location Carrier Destination Location Earliest Ship Date Operating Hours Time zone Holidays Carrier Pickup Time Location Processing Time Location Receipt Time Cut off time Item processing time VAS processing time service level processing time Operating Hours Time zone Holidays n/a Earliest Delivery Date n/a Operating Hours Time zone Holidays Transit Time Operating Hours Time zone Holidays Forward Scheduling - Impact of Location Processing and Receipt Time For forward scheduling, location processing time is used to calculate the Earliest Ship Date (ESD). If the allocation is against future supply (PO/ASN) then location receipt Time is also considered to calculate the earliest ship date. Business rule: If the Origin location operates at the time of Allocation or ETA, then take the allocation time/ETA as it-is. If the Origin location doesn't operate at the time of Allocation or ETA, then the allocation time/ETA is adjusted to match the Origin location operating hours. From this the Processing time (in case of on hand allocation) or both Receipt & Processing time (in case of future supply allocation) is added based on the Origin location operating hours. This indicates when the processing will be complete at the Origin location. If the carrier operates at this time, then Earliest ship date is taken up as computed. If the carrier doesn't operate at this time, then Earliest ship date is computed from the common operating hours between Origin location and Carrier. Forward Scheduling - Earliest Ship DateExample 1: Carrier operates around the time (after applying processing time) Example 2: Carrier doesn't operate around the time (after applying processing time) Example 3: Allocated from future Supply. Receipt time is also considered along with processing time Forward Scheduling - impact of Item processing time, VAS processing time and Service level processing time Item processing time is configured for the item. Service level processing time and VAS processing times are configured for the location. If these processing times are configured and the promising config parameter "Consider additional processing time" is set to true, they are added to the location processing time to compute the Earliest ship date. Business rule: The item, VAS and service level processing time are added to the location processing time at the origin location. VAS processing time is only counted at the origin location and not at the destination or merge location Forward Scheduling - Impact of Carrier Transit Time For forward scheduling, carrier zone transit time is used to calculate the Earliest Delivery date (EDD). Transit time in conjunction with the Carrier scheduling hours dictates how long it will take for a shipment to be delivered. Business rule: From the Earliest ship date, Transit time is added based on the Carrier operating hours. This indicates when the Shipment will need to be at the destination location. If the destination location operates at this time, then Earliest delivery date is taken up as computed. If the destination location doesn't operate at this time, then Earliest delivery date is computed from the common operating hours between Destination location and Carrier. Note: If Zone is not set up, Carrier Transit Time will return as zero. Forward Scheduling - Earliest Delivery DateExample 1: Destination Location operates around the time (after applying transit time) Example 2: Destination Location doesn't operate around the time (after applying transit time) Example 3: Destination Location doesn't operate around the time (after applying transit time) . Destination Location has a Holiday on Tuesday (26/Feb/2019), so the Earliest Delivery Date is shifted to next date (27/Feb/2019 Wednesday 14:00) Forward Scheduling - Impact of Carrier Pick Time Once the order is processed in the location, it is ready for the next carrier pickup. In the forward flow, the earliest ship date becomes the next possible carrier pick time after the order is processed. Carrier pick time can be configured either in the Inventory Location UI for all carriers and service levels or in the Location Scheduling UI where the pick time can be configured at a carrier/service level/delivery method level. If Carrier pickup time is configured for a location, then carrier scheduling hours are not considered for forward scheduling computation. Calculated Earliest Ship Date = Allocation Date or Latest ETA + Location Processing Time Actual Earliest Ship Date = Next Available Carrier Pick Date/Time after Calculated Earliest Ship Date Forward Scheduling - Impact of Cut off time Cut off time is the time after which a fulfillment should not begin to be processed. The cut off time is configured by location, delivery method, service level, and carrier for a given day. If a delivery date call or a promising call is made before the cut off time, then cut off time has no impact, even if it takes longer than the cut off time to finish processing that fulfillment. However, if the delivery date call or promising call is made after the cut off time, the dates are calculated considering the fulfillment will only start to be processed the next day. If an order is already created, the cut off time logic does not apply. It only applies for external system calls. See Location scheduling for how to configure the cut off time of a location. Forward Scheduling - Impact of Location & Carrier Time Zone Location (Origin, Destination) and Carrier can be set up in different time zones. Refer How Time zone is used during Scheduling for more details. Also refer to the below section on how Forward scheduling dates are computed when Time zone is provided for a Location and Carrier. Forward Scheduling - Time zone impact Example - Forward Scheduling - Impact of Vendor Lead Time The 'VendorLeadTime' attribute in item master represents the time (in hours) required for a vendor to deliver an item to a location. When a request includes out-of-stock items, the delivery dates are determined by incorporating the Vendor Lead Time, provided this value is populated for the item. If 'Promise and Procure based on Vendor Lead Time' is enabled in Fulfillment optimization then, Earliest Ship Date = Allocation Date or Latest ETA + VendorLeadTime + Location Processing Time Ship to Store Scheduling Order scheduling for ship to store orders differs slightly. A ship to store order has two scheduling paths: Ship to store (merge) path: Represents the path from the origin location to the pickup location. The dates are calculated with respect to delivery to the pickup store. Pickup path: Represents the path in the pickup location to process the order for customer pickup. The dates are calculated with respect to the requested customer pickup date. For a ship to store promising response, the allocation information section provides the scheduling information for both delivery paths. Ship to Store - SchedulingBackward Scheduling - The system calculates the backward scheduling dates of the order from the time when an order will be picked up by the customer to the time the order must be released to the origin location. For backward scheduling, the pickup leg dates are calculated first using the customer scheduled pickup time (RDD). The ship to store leg dates are calculated next using the pickup leg dates. Backward scheduling is performed if the pickup date/time (RDD) is provided in the promising request. Pick up leg: Latest Ship Date (Pickup leg): Since there is no shipment involved in the pickup at store process, the latest ship date is same as the RDD. Latest Ship Date (Pickup leg) = RDD Latest Release Date (Pickup leg):  The latest date before which the order must be received at the store in order to make the order ready for pickup before the scheduled pickup date. Latest Release Date (Pickup leg) = Latest Ship Date (Pickup leg) - Pickup Store Processing Time - Pickup store Receipt Time Ship to store (merge) leg: Latest Ship Date (Ship to Store leg): The latest date by which the order must be shipped from the origin location to meet the Pickup Latest Release Date. Latest Ship Date (Ship to Store) = Latest Release Date (Pickup leg) - Carrier Zone Transit Time Latest Release Date (Ship to Store leg): The latest date by which the order must be released to the origin location to meet the pickup latest release date, and subsequently customer scheduled pickup date. Latest Release Date (Ship to Store leg) = Latest Ship Date (Ship to Store leg) - Origin Location Processing Time Forward Scheduling - The system calculates the forward scheduling dates of the order from order release at the origin location to the time the order will be picked up by the customer. For forward scheduling, the ship to store leg dates are calculated first using the allocation date (release date) or Future supply latest ETA as the base starting point. The pickup leg dates are calculated using the ship to store leg dates. Ship to store (merge) leg: Earliest Ship Date (Ship to Store leg): The earliest date when the origin location can ship the order to the destination store, assuming that the order is released to the location immediately after the allocation. Earliest Ship Date (Ship to Store leg) = Allocation Date or Latest ETA + Origin Location Processing Time (also Receipt time for Future supply allocation) Earliest Delivery Date (Ship to Store leg): The earliest date when the order can be delivered to the destination store, given that the order is released to the location immediately after the allocation. Earliest Delivery Date (Ship to Store leg) = Earliest Ship Date (Ship to Store leg) + Carrier Zone Transit Time Pickup Leg: Earliest Ship Date (Pickup leg): The earliest date by which the store can process the order to be ready for pickup after the store has received the order from the origin location. Earliest Ship Date (Pickup leg) = Earliest Delivery Date (Ship to Store leg) + Location Processing Time Earliest Delivery Date (Pickup leg): Since there is no shipment involved in the pickup at store process, the earliest delivery date is the same as the earliest ship date. Earliest Delivery Date (Pickup leg) = Earliest Ship Date (Pickup leg) Pickup in Store Scheduling Pickup in store order scheduling is the similar to ship to home scheduling, except that there is no transit time involved in the calculation since there is no shipment needed for a pickup in store order. Pickup In Store - SchedulingBackward Scheduling - The system calculates the backward scheduling dates of the order from the time when the order needs to be picked up by the customer to the time the order must be released to the location for store processing. Backward scheduling is performed if the pickup date/time (RDD) is provided in the promising request. Latest Ship Date: Since there is no shipment involved in the pickup at store process, the latest ship date is same as the requested delivery date Latest Ship Date (Pickup leg) = RDD Latest Release Date: The latest date before which the order should be released to the store so that it can be ready for pick up before the scheduled pickup date. Latest Release Date (Pickup leg) = Latest Ship Date (Pickup leg) - Pickup Store Processing Time Forward Scheduling - The system calculates the forward scheduling dates of the order from the time when the order is released at the store to the time the order will be picked up by the customer. Earliest Ship Date: The earliest date when the store can process the order and make it ready for pick up, assuming that the order is released immediately after allocation. Earliest Ship Date = Allocation Date + Store Processing Time Earliest Delivery Date: Since there is no shipment involved in the pickup at store process, the earliest delivery date is same as the earliest ship date. Earliest Delivery Date = Earliest Ship Date Rescheduling The rescheduling process considers the carrier transit time, carrier scheduling hours and location scheduling hours to find the new earliest ship date and earliest delivery dates. The process of calculating the earliest dates remains the same as that described in the scheduling process. These new dates can be used to communicate new delivery dates to the customer. The rescheduling process does not impact the latest dates. The rescheduling process doesn't get triggered automatically during the transfer of reservation from one future supply to another, or if a future supply ETA changes. For rescheduling to happen for Transfer allocation changes (PO to ASN or vice versa) and ETA changes can be triggered by setting up Continuous allocation. Committed Delivery Date For future dated orders, if the requested delivery date is a carrier holiday, backward scheduling dates are calculated from the previous working date. The requested date could be RDD or LPDD. In the case of carrier holidays, the system calculates backward dates from the previous working day. Committed Delivery Date (CDD) will represent this working DateTime as per carrier/destination location in release outbound, order allocation. It can be enabled by promising configuration parameter - "ComputeCommittedDeliveryDate". url/promising/api/promising/promisingConfigParameters/save { "PromisingConfigParameterId": "defaultPromisingParameters", "ComputeCommittedDeliveryDate": true } Dates calculation logic described above is not changed. While calculating backward scheduling dates, the system always considers location/carrier holidays. While starting from RDD/LPDD in the backward direction, the first working minute is captured as Committed Delivery Date. For Merge, Ship To Store, Pick up in Store, only the last leg will have CDD populated. Below are couple of illustrations # 1 RDD is Jan 10, 17:00 Jan 9, Jan 10 are Carrier holidays CDD = Jan 8, 23:59 # 2 RDD is Jan 10, 17:00 Jan 9, Jan 10 are holidays Carrier Operating Hours is 10:00 to 20:00 CDD = Jan 8, 19:59 Note* All factors location/carrier holiday, timezone, carrier operating hours all are considered for calculating CDD. Consider Location Receipt Time for reservation against PO/ASN For an order with a requested delivery date, the latest ship date and latest release date are calculated during scheduling. For allocation against future supply, ETA of future supply should be less than the latest release date. By default, backward scheduling only considers Location Processing Time for calculating the latest dates. For a few retailers, there is an additional time required by a location to receive future inventory before processing the order. This can be configured as "Receipt Time" for a location. To ensure that location receipt time is also considered and an additional backward scheduling date, the latest release date for future supply will be calculated and leveraged instead of the latest release date for identifying eligible future supply. “Receipt Time” will be considered during location working hours similar to Processing Time by taking into account location holidays, operating hours etc. LatestReleaseDateForFutureSupply: This is the date by which future inventory should be received in the location so that the order can be released on the latest release date and meet the given RDD. The latest release date for future supply is calculated based on the latest release date and location receipt time. Receipt time is the additional time on top of location processing time, it takes the location to receive future inventory before processing the order. Latest Release Date For Future Supply = Latest Release Date – Location Receipt Time. Description Supply Receipt Time not considered Receipt Time considered Order 1 with Item A created on Jan 1 with RDD = Jan 25 Allocation Demand = Allocation and Future Demand "Supply Ranking" Rank 1: PO, sort order: Descending Rank 2:ASN, sort order: Descending Rank 3: OnHand DC1 Transit Time = 24 hrs Processing Time = 24 hrs Receipt Time = 48 hrs PO1 = 10 qty, ETA = Jan 18 PO2 = 10 Qty, ETA = Jan 20 PO3 = 10 Qty, ETA = Jan 22 Latest Ship Date = Jan 24 Latest Release Date = Jan 23 Allocated to PO3 with ETA = Jan 22 Latest Ship Date = Jan 24 Latest Release Date = Jan 23 Latest Release Date For Future Supply = Jan 21 Allocated to PO2 with ETA = Jan 20 Below configuration needs to be explicitly enabled. {{url}}/inventory/api/inventory/inventoryParameters/save { "InventoryParametersId": "defaultInventoryParameters", "ConsiderReceiptTimeForAllocation": true } It is supported for all modes of Promising call - Query, Optimization, Reservation LatestReleaseDateForFutureSupply will only be present in reservation details. It will not be populated in order allocation. Ignore Receipt Time during Merge When the Receipt time is configured, Manhattan Active Omni (MAO) utilizes it to calculate the scheduling dates for all legs of the merged shipment. MAO has been enhanced to consider the receipt time only for the first location and not for the subsequent locations during the merge shipment. This feature is driven by the parameter (“Ignore Receipt Time during Merge”) in Inventory Location. Examples: Customer Orders: Ship to Address (DC1 - Store 1 - Address) For DC1, consider Receipt Time during forward scheduling and calculate the dates Earliest Ship Date (ESD) and Earliest Delivery Date (EDD) For Store 1, gnore Receipt time to calculate the Earliest Ship Date (ESD) and thereby Earliest Delivery Date (EDD) Note: For backward scheduling currently MAO does not consider Location Receipt time to calculate the dates like Latest Release date (LRD) Customer Orders: Ship to Store  (DC1 - Store 1 - Pickups) For DC1, consider Receipt Time during forward scheduling and calculate the Earliest Ship Date (ESD) For Store 1, ignore Receipt time to calculate the Earliest Ship Date (ESD) and thereby Earliest Delivery Date (EDD) Retail Orders: Consolidation Location (DC1 - DC2 - Store1) For DC1 consider Receipt Time during forward scheduling and calculate the dates Earliest Ship Date (ESD) For DC2, ignore Receipt time to calculate the Earliest Ship Date (ESD) and thereby Earliest Delivery Date (EDD) For Store 1, ignore Receipt time to calculate the Earliest Ship Date (ESD) and thereby Earliest Delivery Date (EDD) Provide Earliest Delivery Date When Requested Delivery Date Cannot Be Met For B2B orders, considering the delivery calendar/schedules of the customer, it is crucial that the order is delivered as close as possible to the Requested Delivery Date(RDD) so that the target customer's inventory planning remains uninterrupted. In scenarios when the Requested Delivery Date cannot be met, the committed delivery dates are computed based on the most pessimistic "Last Possible Delivery Date" on the order. However, if RDD is not met, then delivery dates can be computed based on the available inventory close to RDD (before and after the RDD) and not close to LPDD.  If allocated to multiple supplies close to RDD, the committed delivery date is published to the customer; the date when the last unit of the order line is to be delivered. Similarly, the release date is also to be computed as the most optimistic release date where the first unit on the order line can be released, so that the partial units can be released as and when they are eligible. Note: 1. This feature is managed by the value of the input parameter "IsDeliveryByRequestedDate = True" passed in the OrderLinePromisingInfo during the creation of the order. Refer to configuration for more details. 2. If OrderLinePromisingInfo.IsDeliveryByRequestedDate = true, and the current date >= LRD - "DeliveryEarliestLeadTime" days, then the system reverses the supply sequence in the allocation demand Type. If the quantity is not sufficient to be allocated from the supplies within the RDD and needs to be allocated from the supply post RDD, then the system also reverses the sorting of supply sequence in the allocation demand type as well as reverses the sorting of future supplies based on ETA. Info : Mandatory Configurations this feature to work 1. Allocation Demand Type: PO (descending), ASN (descending), Onhand 2. Release Condition: Current Date > Release Date 3. OrderLinePromisingInfo.IsDeliveryByRequestedDate = true 4. PromisingConfigParameter.ComputeCommittedDeliveryDate = true 5. PromisingConfigParameter.ComputeAdditionalSchedulingDates = true 6. Continuous Allocation needs to be configured Example1: RDD can not be met and allocated from future supplies Configuration Data Setup Supply Details Allocation, Release, and Commit Details Allocation Demand Type: PO (descending), ASN (descending), Onhand Location Processing Time: 1 day Receipt Time: 1 day Transit Time from origin to destination: 1 day Release Condition: Current Date > Release Date OrderLinePromisingInfo.IsDeliveryByRequestedDate = true PromisingConfigParameter.ComputeCommittedDeliveryDate = true PromisingConfigParameter.ComputeAdditionalSchedulingDates = true Continuous Allocation needs to be configured Current Date: 9/5 Requested Delivery Date: 9/20 LPDD: 10/20 Order Quantity: 20 EA PO1: 10 EA, ETA: 9/21 PO2: 10 EA, ETA: 9/23 PO3: 10 EA, ETA: 10/15 Orders need to be allocated from the supply immediately post RDD (PO1 and PO2), not from PO3. Orders need to be released as soon as the first inventory is eligible for release, here PO1 is received to Onhand. Release Date: PO1 (ETA 9/21) + Receipt Time (1 day) = 9/22 The customer can be committed when the last unit can be delivered. Committed Delivery Date:  PO2 (ETA 9/23) + Receipt Time (1 day) + Processing Time (1 day) + Transit Time (1 day) = 9/26 Example2: RDD is partially met, and the remaining quantity is allocated (immediately from supplies after RDD) Example-2 Configuration Data Setup Supply Details Allocation, Release, and Commit Details Allocation Demand Type: PO (descending), ASN (descending), Onhand Location Processing Time: 1 day Receipt Time: 1 day Transit Time from origin to destination: 1 day Release Condition: Current Date > Release Date OrderLinePromisingInfo.IsDeliveryByRequestedDate = true PromisingConfigParameter.ComputeCommittedDeliveryDate = true PromisingConfigParameter.ComputeAdditionalSchedulingDates = true Continuous Allocation needs to be configured Current Date: 9/5 Requested Delivery Date: 9/20 LPDD: 10/20 Order Quantity: 20 EA Onhand qty: 5 EA ASN1: 10 EA, ETA: 9/21 PO2: 10 EA, ETA: 9/23 PO3: 10 EA, ETA: 10/15 Orders need to be allocated from ASN1: 10 EA, ETA: 9/21, Onhand inventory (5 EA) and remaining quantities from supplies available immediately post RDD (here PO2(5 EA)), not from PO3. Orders needs to be released on LRD_Onhand_RDD. Release Date: RDD (9/20) - Transit Time (1 day) - Processing Time (1 day) = 9/18 The customer can be committed to be delivered when the last unit can be delivered. Committed Delivery Date:  PO2 (ETA 9/23) + Receipt Time (1 day) + Processing Time (1 day) + Transit Time (1 day) = 9/26 Allocate from Earliest Inventory When Requested Delivery Date is Approaching A retailer can choose to allocate from a more assured inventory when the Requested Delivery Date is approaching a certain configurable threshold from the current date. At the time of Allocation - If LRD is within “X” hours from the current date, then always allocate from the earliest possible inventory. If Current Date > LRD-X hours, then allocate from the earliest possible supply. The X hour is defined as "DeliverEarliestLeadTime" in the inventory parameter. Refer to configuration for more details. Example, If RDD -> 20-Jan and LRD -> 17-Jan At the time of allocation, ff Current Date >= LRD - DeliverEarliestLeadTime in hours, then Allocate to On Hand/Earliest Possible Supply Post Allocation - When the Requested Delivery Date is approaching for an order allocated from a future supply and is not received onhand by LRD, switch the allocations to the earliest possible inventory (within the same location allocated) so that the commitment can be met. Scheduling with Customer Delivery Calendar A B2B retailer serves other businesses as its customers. In the Manhattan Active® Omni (MAO) system, these businesses are referred to as "customers." Each of these customers can have several delivery addresses, including offices and project locations, each with unique weekly schedules indicating days when they are open or closed. Furthermore, there are specific dates on which certain addresses must be closed or open, known as exception dates. B2B retailers also face delivery constraints based on a calendar, which includes factors such as road closures and city restrictions, and these constraints are also considered as exception dates. Refer to some of the examples in the section below. Examples: The customer calendar is available for delivery on Monday, Wednesday, and Friday. However, during week 22, they will be working on Tuesday instead of Monday. The customer calendar is open for delivery on Tuesday and Thursday. However, in week 33, they will be unavailable, and the entire week will be closed for delivery. The customer calendar is available on weekdays, Monday to Friday, with Shift-1 from 9:00 AM to 1:00 PM and Shift-2 from 1:00 PM to 5:00 PM. However, in week 30, Shift-2 will be unavailable. The customer calendar is available on weekdays, Monday to Friday, with Shift-1 from 9:00 AM to 1:00 PM and Shift-2 from 1:00 PM to 5:00 PM. In week 35, the shifts will be adjusted to Shift-1 from 8:00 AM to 2:00 PM and Shift-2 from 2:00 PM to 8:00 PM. Refer to How to Configure Customer Delivery Calendar for more details. How to Create a Calendar A customer calendar can be created using the Calendar Configuration UI or through the rest API. Customer Calendar - Sample API{{url}}/organization/api/organization/calendarConfiguration/bulkImport { "data": [ { "CalendarConfigId": 1, "Description": "Customer1", "CalendarConfigurationDay": [ { "ShiftName": "day", "StartTime": "09:00", "EndTime": "18:00", "Description": "Custom Calendar", "WeekDay": { "DayId": "Monday", "DayName": "Monday" } }, { "ShiftName": "day", "StartTime": "09:00", "EndTime": "18:00", "Description": "Custom Calendar", "WeekDay": { "DayId": "Tuesday", "DayName": "Tuesday" } }, { "ShiftName": "day", "StartTime": "09:00", "EndTime": "18:00", "Description": "Custom Calendar", "WeekDay": { "DayId": "Wednesday", "DayName": "Wednesday" } }, { "ShiftName": "day", "StartTime": "09:00", "EndTime": "18:00", "Description": "Custom Calendar", "WeekDay": { "DayId": "Thursday", "DayName": "Thursday" } }, { "ShiftName": "day", "StartTime": "09:00", "EndTime": "18:00", "Description": "Custom Calendar", "WeekDay": { "DayId": "Friday", "DayName": "Friday" } } ] } ] } How to Create a Customer A customer can be created using the Customers UI or through the rest API. Customer - Sample API{{url}}/customer/api/customer/customer/save { "CustomerId": "AKS_123", "FirstName": "John", "LastName": "D", "Phone": "888999802", "Email": "JohnD@manh.com", "CustomerType": "Gold", "Gender": "Male", "IsActive": true, "TaxExemptId": "T-9876502", "Birthday": "1988-02-01", "AnniversaryDate": "2011-12-04", "CustomerPaymentMethod": [ { "PaymentMethodId": "1", "CardExpiryYear": "2021", "AccountNumber": "4111111111111111", "CardType": "Visa", "NameOnCard": "John", "PaymentMethodType": "Credit Card", "CardExpiryMonth": "11", "AccountDisplayNumber": "Account ending with 1111", "RoutingNumber": "", "RoutingDisplayNumber": "", "DriversLicenseNumber": "", "DriversLicenseState": "", "DriversLicenseCountry": "", "BusinessName": "", "BusinessTaxId": "", "SwipeData": "", "BillingAddressId": "BAddr02" } ], "CustomerAddress": [ { "AddressId": "Addr02", "AddressTypeId": "Both", "IsAddressVerified": "true", "IsPreferred": false, "AddressName": "Home", "Address": { "FirstName": "John", "LastName": "D", "Address1": "2300 Windy Ridge Pkwy", "Address2": "", "Address3": "", "City": "Atlanta", "State": "GA", "PostalCode": "30339", "Country": "US", "Phone": "(678) 597-7701", "Email": "john@manh.com", "County": "" } }, { "AddressId": "BAddr02", "AddressTypeId": "Billing", "IsAddressVerified": "true", "IsPreferred": true, "AddressName": "Work", "Address": { "FirstName": "John", "LastName": "D", "Address1": "2300 Windy Ridge", "Address2": "", "Address3": "", "City": "Atlanta", "State": "GA", "PostalCode": "30339", "Country": "US", "Phone": "(678) 597-7701", "Email": "john@manh.com", "County": "" } }, { "AddressId": "Addr105", "AddressTypeId": "Billing", "IsAddressVerified": "true", "IsPreferred": false, "AddressName": "Work", "Address": { "FirstName": "John", "LastName": "D", "Address1": "200 E Main St", "Address2": "Beaverton", "Address3": "", "City": "Pheonix", "State": "AZ", "PostalCode": "85123", "Country": "US", "Phone": "(678) 597-7701", "Email": "john@manh.com", "County": "" } }, { "AddressId": "Addr02", "AddressTypeId": "Shipping", "IsAddressVerified": "true", "IsPreferred": true, "AddressName": "Work", "Address": { "FirstName": "John", "LastName": "D", "Address1": "1400 Holcomb Ridge Rd", "Address2": "", "Address3": "", "City": "Roswell", "State": "GA", "PostalCode": "30076", "Country": "US", "Phone": "(678) 597-7701", "Email": "john@manh.com", "County": "" } } ], "CustomerAttribute": [ { "Name": "FavoriteColor", "Value": "Sky Blue" }, { "Name": "ShoeSize", "Value": "8" } ], "CustomerPreferences": { "PreferredShipViaId": "STD", "PreferredCallTime": "Morning", "PreferredStoreLocationId": "New York Store", "PreferredContactMethodId": "Email/Text" }, "CustomerAlternateId": [ { "InactiveCustomerId": "CUS_ALT_02" } ] } How to map a Customer to a Calendar If an order has a CustomerId and IgnoreCustomercalendar= false and the customer has a calendar, the order scheduling will follow the customer's calendar. If an order line with "OrderlinePromisingInfo.CustomerAddressName" is set to a valid address name, the order line scheduling will follow the matching delivery calendar assigned to the address name in the customer's configuration. If an order line with "OrderlinePromisingInfo.CustomerAddressName" is null, the order line scheduling will follow the matching delivery calendar specified in "OrderPromisingInfo.CustomerAddressName." If "OrderPromisingInfo.CustomerAddressName" is also null, the order scheduling will follow the calendar assigned to the customer. If the customer does not have a calendar assigned, the order scheduling will revert to the regular scheduling process. If order lines with "OrderlinePromisingInfo.CustomerAddressName" does not match any address name, the scheduling will not follow the customer's calendar. Sample Order APIOrder Json: { "OrderId": "Order-050", "CustomerId": "John D", "SellingChannel": "Web", "Priority": "1", "IsOnHold": false, "IsConfirmed": true, "IsCancelled": false, "CurrencyCode": "USD", "CustomerFirstName": "John", "CustomerLastName": "D", "TaxOverrideValue": "3.53", "IsTaxOverridden": true, "OrderPromisingInfo": { "IgnoreCustomerCalendar": false "CustomerAddressName": "Address-001" }, "DocType": { "DocTypeId": "CustomerOrder" }, "OrderType": { "OrderTypeId": "Ecom Order" }, "OrderLine": [ { "OrderLineId": "1", "IsOnHold": false, "ServiceLevelCode": "UPS_GROUND", "CarrierCode": "UPS", "ShippingMethodId": null, "IsCancelled": false, "ItemId": "iphone1", "UnitPrice": "", "Quantity": "1", "IsReturnable": true, "UOM": "EA", "ShipToLocationId": null, "RequestedDeliveryDate": "2024-12-20T13:05:22.664", "OrderLinePromisingInfo": { //"LastPossibleDeliveryDate": "2025-09-24T09:03:17.106", //"IsDeliveryByRequestedDate": true, "IgnoreCustomerCalendar": true, "CustomerAddressName": "Address-001" }, "OrderLineNote": [ { "NoteType": "Gift From", "NoteCode": "INS", "NoteText": "Instruction - Line", "NoteId": "2", "NoteCategory": "Instruction" } ], "DeliveryMethod": { "DeliveryMethodId": "ShipToAddress" }, "ShipToAddress": { "AddressTypeId": "Shipping", "IsAddressVerified": true, "Address": { "Address1": "14131 Midway Road", "Address2": "", "City": "Addison", "Country": "US", "Email": "john@manh.com", "FirstName": "John", "LastName": "D", "Phone": "423-306-1973", "PostalCode": "30039", "State": "TX" } } }, { "OrderLineId": "2", "IsOnHold": false, "ServiceLevelCode": "UPS_GROUND", "CarrierCode": "UPS", "ShippingMethodId": null, "IsCancelled": false, "ItemId": "iphone4", "UnitPrice": "", "Quantity": "1", "IsReturnable": true, "UOM": "EA", "ShipToLocationId": null, "RequestedDeliveryDate": "2024-12-20T13:05:22.664", "OrderLinePromisingInfo": { //"LastPossibleDeliveryDate": "2025-09-24T09:03:17.106", //"IsDeliveryByRequestedDate": true, "IgnoreCustomerCalendar": false, "CustomerAddressName": "Address-002" }, "OrderLineNote": [ { "NoteType": "Gift From", "NoteCode": "INS", "NoteText": "Instruction - Line", "NoteId": "2", "NoteCategory": "Instruction" } ], "DeliveryMethod": { "DeliveryMethodId": "ShipToAddress" }, "ShipToAddress": { "AddressTypeId": "Shipping", "IsAddressVerified": true, "Address": { "Address1": "14131 Midway Road", "Address2": "", "City": "Addison", "Country": "US", "Email": "john@manh.com", "FirstName": "John", "LastName": "D", "Phone": "423-306-1973", "PostalCode": "30039", "State": "TX" } } } ] } How to Ignore a Customer Calendar for an Order or an Order line The IgnoreCustomerCalendar (default = false) can be specified in either the order header or order line and will work as follows: Order Header: IgnoreCustomercalendar Orderline: IgnoreCustomerCalendar Behavior false or null false or null The delivery calendar is honored for the whole order false or null true The delivery calendar is honored for all lines except the ones where the flag is true true true/false/null The delivery calendar is ignored for all lines, and only the header value is considered. Configuration Factors Affecting Scheduling Refer to the below section on the attributes that affects scheduling Factors affecting Scheduling Attributes Description Region set up Regions Region schema definitions Region schema lookup Refer to Master Data guide for more details Carrier set up Carrier zones Carrier zone transit time Carrier scheduling hours Carrier scheduling holiday Carrier Time zone Refer to Master Data guide for more details Location Processing Time Location processing time defines the average time it takes for the location to process an order. This is configured on the Location UI. Note: Location processing time is assumed to be the same for all items from the location. Location OH Processing Time, ASN Processing Time, and PO Processing Time are not used for scheduling date calculations. Location Receipt Time Location receipt time defines the average time it takes for the location to receive the shipment. This applies only to forward scheduling computation (Earliest Ship Date) Location Carrier Pick Time The carrier pick time for a location represents the time of the day when the carrier picks up the shipment from the location. Carrier pick time affects the ship dates in both forward and backward scheduling. Carrier pick time can be defined for each location and day. This is configured on the Location Carrier Pick Time UI. Carrier pick time configuration is not mandatory. However, if a carrier pick time is defined for the location for any day, then any days that are not configured are assumed to be non-shipping days. The calculation takes this into account and schedules the ship date based on the next available carrier pick time. Only one carrier pick time can be defined for a location and day of week combination. Sample data below: Location Day Carrier Pick Time Store A Monday 20:00 Store A Tuesday 20:00 Store A Wednesday 19:00 Store A Thursday 19:00 Store A Friday 19:00 *Day of the week accepts values 1, 2, 3,... 7. 1 is Monday and 7 is Sunday. Location carrier pick time can be overridden with the configuration present in Location scheduling. Location scheduling allows configuration of the location carrier pick time by delivery method/carrier/service level. The configuration of the location scheduling has more priority than the configuration in the Inventory location. If no match is found for the combination of delivery method/carrier/service level in the location scheduling, the system will fall back to the inventory location configuration. Note: Location scheduling configuration is part of a different profile purpose (inv::locationScheduling) than inventory location.  Refer to Master data guide for more information. Location Cut off time Location cut off time is configured in the location scheduling UI for a combination of delivery method/carrier and service level. Note: Location scheduling configuration is part of a different profile purpose (inv::locationScheduling) than inventory location.  Refer to Master data guide for more information. Location Scheduling Hours Location scheduling hours define the time of the day when the location can process an order. Location scheduling hours can be defined for each location on the Location Scheduling Hours UI. For example, it is possible for an order to be allocated to the location early in the morning, but the location may only be available to process the order (pick, pack, manifest) later in the day. The processing time is defined here. Location scheduling hour configuration is not mandatory. However, if defined for a single day and location, the days when the scheduling hours are not defined for the location are considered as non-operating days for order processing. If not defined for any day of the week then it is considered to be operating 24 hours. A retailer can define multiple location scheduling hours for the same day. For example Monday, Store A could operate from 10:00 to 14:00 and also from 16:00 - 20:00. The following table represents the scheduling hour configuration for a sample location: Location Day Start Time End Time Store A Monday 14:00 20:00 Store A Tuesday 14:00 20:00 Store A Wednesday 14:00 20:00 Store A Thursday 14:00 20:00 Store A Friday 14:00 20:00 Store B Monday 10:00 15:00 Store B Tuesday 10:00 15:00 Store B Wednesday 10:00 15:00 Store B Thursday 10:00 15:00 Store B Friday 10:00 15:00 Store B Saturday 10:00 15:00 *Day of the week accepts values 1, 2, 3,... 7. 1 is Monday and 7 is Sunday. Based on this example, Store A can process online orders from 14:00 to 20:00 on weekdays (Monday - Friday). The store does not process online orders on Saturdays and Sundays. Location Holidays Captures the Holidays for the Location. Location Time zone Time zone of the Origin and Destination Location. Note: There should be an overlap between Carrier Scheduling hours, Location Scheduling hours and Carrier pick up time (if configured) for Carrier to come and pickup from the location How Time Zone is Used During Scheduling Location's Timezone: Location's Timezone can be defined under Inventory Location. If timezone is specified, then the forward and backward scheduling dates are computed considering the location's time zone. If timezone is not specified, then time zone is defaulted to UTC. Carrier's Time zone: Carrier Timezone can be defined under Carrier Scheduling (operating hours) or under Carrier Holidays If Carrier operating hours are defined for an Origin Region, then the time zone can be defined for the operating hours If timezone is specified, then the forward and backward scheduling dates are computed considering the carrier's time zone. If timezone is not specified under Carrier Operating hours or if no carrier operating hours are defined for the region (Operates 24*7) then If Carrier Holidays are defined for an Origin Region, then the time zone can also be defined for it. If time zone is not defined at Carrier operating hours and is defined at Carrier Holidays, then the forward and backward scheduling dates are computed considering the carrier's time zone. If time zone is not defined at Carrier Holidays or if no Carrier Holidays are defined, then time zone is defaulted to UTC. How is Delayed Delivery Date Evaluated An order can either be created without a requested delivery date (ASAP order) or with a requested delivery date (RDD). For orders with a requested delivery date (RDD), if a location cannot deliver any item present in the order on or before the RDD, the location is excluded from promising process and order is backordered. In case, it can partially deliver a few items or quantities as per RDD, then remaining items or quantities are backordered. For a retailer, it is possible that customers specify a requested delivery date on the order line and still expect delivery even when the requested delivery date is in the past due to certain reasons like PO being delayed, etc. Hence, if the committed date can't be met, they would prefer to deliver it with a delayed Delivery Date. "Last Possible Delivery Date" (LPDD) acts as a delayed Delivery Date to ensure that the order is not backordered if it can still be delivered within this date. Note: Latest Ship Date (LSD) and Latest Release Date (LRD) will be calculated based on LPDD, if order can't meet RDD. The system cannot promise against a location that can deliver the order by the nearest date in future, if RDD can't be met. Note: LPDD is supported only for Promising call in "Optimization" mode. For other modes, it will be ignored and scheduling constraints will be applied only as per RDD. "Last Possible Delivery Date" (LPDD) needs to be populated for every line in the order Line Promising Info during order creation. Note that there is no configuration to populate any default value by system. Last Possible Delivery Date (LPDD) is the delayed Delivery date before which the order should be delivered to the customer if it cannot be delivered before RDD. If there are partial/complete quantities that cannot be delivered before RDD, the promising engine will try to allocate it based on the latest dates calculated as per LPDD. Promising will evaluate all eligible locations based on RDD, and then all eligible locations with LPDD only for remaining quantities. Hence, system will ensure that the customer gets the order at the earliest even if it needs to be shipped from Non-Optimal DC. In case the requested date can't be met by any DC, it will try to allocate from optimal DC with a delayed Delivery Date. LPDD can also be sent for an order or specific line in a direct promising call with requestType = "Optimization". It is not supported for other request types. If order has RDD, LPDD or both populated, scheduling constraints will be applied. Hence, if transit lanes are not defined for the zones, the order will be backordered. If RDD is in the past but LPDD is in the future, the order will still get allocated based on LPDD. Below are the details for various combinations. # RDD LPDD Allocation 1 Null Null Regular Allocation, No Scheduling Constraint 2 Past Past Backorder 3 Past Null Backorder 4 Null Past Backorder 5 Null/Past Future Allocated as per LPDD 6 Future Null/Past Allocated as per RDD 7 Future Future When RDD < LPDD, Allocated as per RDD, remaining qty as per LPDD When RDD > LPDD, Allocated as per RDD, remaining qty backordered When Last Possible Delivery Date is updated - If LPDD is updated for a line, then based on modification rule - "Update Last Possible Delivery Date" configuration is set up for an order line so that the allocation will be triggered again. For instance: If Change Status is "Open", then whenever LPDD is updated for a line, the allocation will be re-triggered for that line. However, if Change Status is "None", then there will be no reallocation. Refer more details in "Modification Rules" section in Order Orchestration Examples - Refer to the below section for some examples on how allocation and scheduling works based on LPDD Delayed Delivery Date - ExamplesExample #1 Order is requested for 15 quantities of Item A with RDD = Jan 10 & LPDD = Jan 30 Location Location Processing Time Transit Time DC1 24 hours or 1 day 48 hours DC2 24 hours or 1 day 48 hours Location Supply Type ETA Quantity DC1 On Hand ~ 5 DC1 On Order Jan 15 10 DC2 On Hand ~ 5 Allocation: System will allocate and calculate latest dates as below. For Allocation based on RDD or LPDD, all eligible supplies should have ETA < LRD *Dates are taken without timestamp for simple illustration Latest Dates based on RDD Latest Ship Date (LSD) = RDD - Transit Time = Jan 10 - 2 = Jan 8 Latest Release Date (LRD) = LSD - Location Processing Time = Jan 8 - 1 = Jan 7 Allocation based on RDD DC1 - On Hand = 5 qty DC2 - On Hand = 5 qty Latest Dates based on LPDD Latest Ship Date (LSD) = LPDD - Transit Time = Jan 30 - 2 = Jan 28 Latest Release Date (LRD) = LSD - Location Processing Time = Jan 28 - 1 = Jan 27 Allocation based on RDD for remaining quantity DC1 - On Order (Jan 15) - Item A = 5 qty Allocation Details: Location Supply Type Allocated Qty Latest Ship Date Latest Release Date DC1 On Hand = 5 qty On Order (Jan 15 ) = 5 qty 10 Jan 28 Jan 27 DC2 On Hand = 5 Qty 5 Jan 8 Jan 7 Note: System will try to allocate complete quantity based on RDD, even if it leads to multiple shipments. Hence, even though there is On Order supply with ETA of Jan 15 for DC1, it is not considered for allocation. When Substitution Rules are defined - Immediate Substitution: System will try to allocate the complete quantity of substituted item based on RDD & remaining quantity from LPDD Backorder Substitution: System will try to allocate the complete quantity of ordered items based on RDD & remaining quantity from substituted item based on RDD. If there are still some quantities left, the system will try to allocate the remaining quantities from ordered items followed by substituted items based on LPDD. Delayed Delivery Date - SubstitutionExample #2 Order is requested for 20 quantities of Item A with RDD = Jan 10 & LPDD = Jan 30 Substitution Type Original Item Substitute Item Sequence On Backorder Item A Item B 1 Location Location Processing Time Transit Time DC1 24 hours or 1 day 48 hours Location Item Supply Type ETA Quantity DC1 Item A On Hand ~ 5 DC1 Item A On Order Jan 15 10 DC1 Item B On Hand ~ 5 DC1 Item B On Order Jan 20 10 Allocation: System will allocate and calculate latest dates as below. For Allocation based on RDD or LPDD, all eligible supplies should have ETA < LRD *Dates are taken without timestamp for simple illustration Latest Dates based on RDD Latest Ship Date (LSD) = RDD - Transit Time = Jan 10 - 2 = Jan 8 Latest Release Date (LRD) = LSD - Location Processing Time = Jan 8 - 1 = Jan 7 Allocation based on RDD DC1 - On Hand - Item A = 5 qty DC1 - On Hand - Item B = 5 qty Latest Dates based on LPDD Latest Ship Date (LSD) = LPDD - Transit Time = Jan 30 - 2 = Jan 28 Latest Release Date (LRD) = LSD - Location Processing Time = Jan 28 - 1 = Jan 27 Allocation based on RDD for rem. quantity DC1 - On Order (Jan 15) - Item A = 10 qty Allocation Details: Location Item Supply Type Allocated Qty Latest Ship Date Latest Release Date DC1 Item A On Hand = 5 qty On Order (Jan 15 ) = 10 qty 15 Jan 28 Jan 27 DC1 Item B On Hand = 5 Qty 5 Jan 8 Jan 7 How to Calculate Earliest Delivery Date When Requested Delivery Date Cannot be Met In Save API, ensure that OrderLinePromisingInfo.IsDeliveryByRequestedDate = true Sample Order API{{url}}/order/api/order/order/save { "OrderId": "Order_01", "SellingChannel": "Web", "Priority": "1", "IsOnHold": false, "IsConfirmed": true, "IsCancelled": false, "CurrencyCode": "USD", "CustomerFirstName": "John", "CustomerLastName": "Smith", "TaxOverrideValue": "3.53", "IsTaxOverridden": true, "DocType": { "DocTypeId": "CustomerOrder" }, "OrderType": { "OrderTypeId": "Ecom Order" }, "OrderLine": [ { "OrderLineId": "1", "IsOnHold": false, "ServiceLevelCode": "UPS_GROUND", "CarrierCode": "UPS", "ShippingMethodId": null, "IsCancelled": false, "ItemId": "Laptop1", "UnitPrice": "", "Quantity": "1", "IsReturnable": true, "UOM": "EA", "ShipToLocationId": null, "RequestedDeliveryDate": "2023-04-30T10:42:22.664", "OrderLinePromisingInfo": { "LastPossibleDeliveryDate": null, "IsDeliveryByRequestedDate": true }, "OrderLineNote": [ { "NoteType": "Gift From", "NoteCode": "INS", "NoteText": "Instruction - Line", "NoteId": "2", "NoteCategory": "Instruction" } ], "DeliveryMethod": { "DeliveryMethodId": "ShipToAddress" }, "ShipToAddress": { "AddressTypeId": "Shipping", "IsAddressVerified": true, "Address": { "Address1": "14131 Midway Road", "Address2": "", "City": "Addison", "Country": "US", "Email": "jSmith@manh.com", "FirstName": "John", "LastName": "Smith", "Phone": "423-306-1973", "PostalCode": "30039", "State": "TX" } } } ] } In addition to the above configuration, the recommended configurations required to calculate earliest delivery date when requested delivery date cannot be met are: Allocation Demand Type: PO (descending), ASN (descending), Onhand is the recommended configuration Location Processing Time should be in X hours (optional). If not defined, the processing time is considered as zero hours. Receipt Time should be in X hours (optional). If not defined, the receipt time is considered as zero hours. Transit Time from origin to destination should be defined Release Condition should have Current Date > Release Date to release the allocations close to RDD Promising Config Parameters - In save order, if LPDD is not passed for the order line, the system will calculate LPDD by adding "AddDaysForLpdd" to RDD. The default value is 365 days if not defined in the promising config parameter. Sample Promising API{{url}}/promising/api/promising/promisingConfigParameters { "PromisingConfigParameterId": "PromisingConfig1", "ComputeCommittedDeliveryDate": true, "ComputeAdditionalSchedulingDates": true, "AddDaysForLpdd": null } Continuous Allocation should be configured using the following API Sample Continuous Allocation{{url}}/inventory/api/inventory/continuousAllocationConfig/save { "ContinuousAllocationConfigId": "1", "EnableContinuousAllocation": true, "ContinuousAllocationLocationGroupId": null, "ContinuousAllocationOrganizations": null, "DeallocationGracePeriodInMinutes": x } How to Allocate from Earliest Inventory When Requested Delivery Date is Approaching Delivery Earliest Lead Time is used when future dated orders are configured to prioritize ASN and PO inventory over on hand, ensuring on hand inventory is available for immediate customer needs. This can be configured on the Inventory Parameters UI or through rest API. Sample Inventory Parameter{{url}}/inventory/api/inventory/inventoryParameters/save { "InventoryParametersId": "defaultInventoryParameters", "DeliverEarliestLeadTime": 120 } How to Configure Customer Delivery Calendar The customer delivery calendar can be configured by enabling the "Honor Customer Calendar", which is disabled by default. This can be configured on the Promising Config Parameter UI or through rest API.  Note that to configure the customer delivery calendar, the order should be bridged with a valid CustomerId. Refer to Scheduling with Customer Delivery Calendar for more details. Implementation Flavors Sample Scheduling Set up Scheduling set up - SampleSample set up for US, Europe (France, UK) Region setup Create Region Schema Region Schema Name Match Attribute 1 Match Attribute 2 Max Sequence FranceSchema CountryCode ZipCode 50 UKSchema CountryCode ZipCode 50 USSchema ZipCode ZipCode 3000 ** Match Attribute 1 can be defined as ZipCode is the regions are based on Zip codes. ** Max Sequence indicates the number of Regions that can be defined. Max regions supported is 3000. Create Regions - Regions can be set up within Region schema Region Schema Name Region Name Region Type Sequence FranceSchema France Country 1 UKSchema UK Country 1 USSchema 300 Zip code 100 USSchema 301 Zip code 101 **Region Type can be Zip Code, City, State, Country or Location based Order of evaluation of Region within a Lane is Location, Zip Code, City, State, Country. If there are multiple overlapping Regions (Say Region 1 - Location 1, Region 2 - Zip code of location 1) then Region 1 is picked up for scheduling date calculations. Example: There are two lanes - DC → Store lane and then a DC → Delivery Zone 1 (set of zip codes). In this case, scheduling will be based on DC->Store lane as it is defined with region type location and has higher priority Create Region Details - Region details like Country code, zip start and zip end can be set up within Region. Region detail ID needs to be unique across Region schema. Based on the Region Type (country code/zip code) - region details are defined. Region Name Region Detail ID Country code Zip start Zip end City State Location France FR FR UK UK UK 300 300 US 30000 30099 301 301 US 30100 30199 Create Region Lookup Region Lookup ID Country Code Region Schema France FR FRSchema UK UK UKSchema US US USSchema Carrier setup Create Carrier Zone - Create lane and zones for every required "Origin Region" and "Dest. Region" combinations (for all applicable Carrier, Service levels) Lane ID Zone ID Carrier Service Level Origin Region Destination Region LANEFRUK LANEFRUK UPS Next Day FR UK LANEUKFR LANEUKFR UPS Next Day UK FR LANEFRFR LANEFRFR UPS Ground FR FR LANEUKUK LANEUKUK UPS Ground UK UK UPS ZONE300301 UPS Ground 300 301 UPS ZONE300900 UPS Ground 300 900 Define Carrier Zone Transit Time - Define transit time for the zones created above Zone ID Carrier Transit Time (hrs) LANEFRFR UPS 10 ZONE300301 UPS 4 ZONE300900 UPS 48 Other setup Define Location Processing Time, Time zone, Scheduling hours, Holidays Define Carrier Scheduling hours, Time zone, Holidays Sample Transit Time Configuration If the transit time values you want to configure in Manhattan Active Omni are based on the total transit time in days from the carrier or the fleet, carrier scheduling hours should be configured to be all day, i.e. start at 00:00, end at 23:59 If the transit time values you want to configure in Manhattan Active Omni are based on the total transit time in days, but it is understood that the carrier does not deliver after 10 pm. The carrier scheduling hours should reflect a start time of 00:00, end time 22:00. The transit time in days should be converted to hours that represent the working hours of the carrier daily i.e. 2 days should be converted to 44 hrs in this case. Related Article(s) Predict Promising with Machine LearningFederal Trade Commission (FTC) ComplianceRest APIs & User ExitsOverviewTroubleshooting