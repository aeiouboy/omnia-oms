# Return Tracking

**Permalink:** return-tracking
**Path:** Manhattan Active® Omni/Order Management/Process & Configuration Guides/Digital Self-Service/Return Tracking
**Content Length:** 38,971 characters
**Scraped:** 2025-08-09T21:55:19.894529

---

Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Digital Self-Service ››Return Tracking Return Tracking OverviewOrders with Multiple PackagesRefund StatusOpt In Text MessagesConfigurationAdd Credentials for FedEx, UPS, and USPS Third Party AccountsAdd Response Mappings FedEx, UPS, and USPS Status CodesAdd Third Party CarriersModifying the Return Status IconUI Field MappingsReturn Tracking with Optimized UI ImprovementsReturn Tracking Optimized UI Improvements ConfigurationEmbedding Custom Panels in the Return Tracking PageHow to Configure Custom PanelsUsing iFrame Tags to Track Web TrafficiFrames based on LocaleStatic URL based on locale (or having the locale as path variables) A URL with 'locale variables' as URL parametersFeature ScopeHow to TestRelated Articles Overview The Digital Self-Service Return Tracking page displays details about return order packages and refund status, including: Package status (for example, in transit or delivered) ETA or delivered date Details about items in the package (Currently, the UI displays item short description, size, color, price, and shipped quantity. Other attributes are not supported.) Tracking details Refund status To access the Return Tracking UI, a customer can use the 'Track Package' link provided in the return order confirmation email or via the link provided in an e-commerce site. One Return Tracking page is required per package; there is currently no 'Order Status' page which displays the status of all items on a return order. A maximum of 10 items are displayed. If a customer needs to see details of additional items, the 'Contact Us' feature can be used to contact customer service. Self-Service makes a real time API call to the carrier such as FedEx to retrieve the latest package status. Out of the box integration exists for FedEx, UPS, and USPS. Integration with other carriers needs to be added as part of the project. Orders with Multiple Packages Currently, the return tracking page supports one package per page. If a return order is shipped in multiple packages, a tracking page exists for each package. Since it is not known how the customer shipped back the items, the item details section does not populate with the items. Refund Status In addition to the package status, the Return Tracking UI displays the refund status. If the refund has been processed, either when the return order is verified or in the case of a customer appeasement, the refund status displays as "Your refund has been processed".  If the return package has been delivered but not yet processed, the refund status displays as "We expect your refund to be processed within 3-5 business days." If the return is not yet delivered, and the refund has not been processed, the refund status displays as "Awaiting return." The refund text labels are configurable and can be edited by working with services. Time Zones The tracking details are currently displayed in the time zone as returned by the carrier; no time zone conversion is done in self-service. UPS and USPS currently return event time stamps in the time zone of their respective locations, and FedEx currently returns time stamps in UTC. For example: Event 1: Atlanta, GA 2:00 PM EST Event 2: Los Angeles, CA 6:00 PM PST Event 1 is displayed in EST because Atlanta, GA is in EST. Event 2 is displayed in PST because Los Angeles, CA is in PST. Opt In Text Messages A customer can use Opt-In feature to receive text messages about return order packages. This feature displays an Opt-In prompt message, a details hyperlink right next to the prompt, a text box to enter a phone number next to a country code drop-down, and a Sign-Up button. A customer can hover over the details hyperlink to read the details of the opt-in feature, such as terms and conditions, privacy agreement, and so on, as configured by the retailer. To opt-in, a customer can enter their phone number and click Sign Up. If a valid phone is entered, the customer will be subscribed to receive text messages about the order's updates. Note: This phone number entered while opting in, is saved on the Order Customer Comm Preferences, as PreferredPhoneNumber for Interaction Type Id "TextMessage". If a customer has already opted into receiving text notifications about their order, they are presented with the option to stop receiving messages. Upon clicking "Stop Receiving Messages," the order Customer Comm Preferences is updated to stop all text messages. Notes : 1. The Opt-In feature is currently displayed only on the Shipment Tracking and Return Tracking pages. 2. To enable the feature, refer to Opt-In configuration section. 3. Contact the services team to add translations for the labels introduced for this feature. Configuration The following configuration is required for return tracking. See detailed instructions for each step below. Configure your organization and user to be used for self-service authentication - see the Authentication Guide for detailed steps. This only needs to be done once per organization, so no action is required if it's already been done. Add credentials for the FedEx, UPS, and USPS tracking APIs Add carrier response mappings for FedEx, UPS, and USPS Enable return confirmation emails. To configure outbound messages for generating emails or text messages, see the Transactional Emails and Transactional Texts guides. Optional: If using other carriers, add carrier configuration and status mappings Optional: If using any custom statuses, add UI label mappings Optional: If using opt in text message, select "Enable Opt In Text Messages in Self Service Pages" on the Digital Self Service Configuration UI. Add Credentials for FedEx, UPS, and USPS Third Party Accounts Seed data exists out of the box for FedEx, UPS, and USPS. If only using these 3 carriers, you only need to complete step 1 below. If using any additional carriers, then follow steps 1 and 2. Use the Carrier Facility Accounts UI or the below API to upload carrier accounts to use for integrating with each third party. Each account should have a null facilityCode, as facilityCode is used for SIF, but a single account with a null facilityCode must be configured for delivery tracking in Self-Service or call center. The below sample json can be used for testing, but these credentials should not be used in production; contact your customer to get their UPS, FedEx, and USPS account information. POST /parcel/api/parcel/upgradedFacilityAccount/save { "IsActive": false, "UpgradedFacilityAccountId": "2", "CarrierCode": "FDXE", "FacilityCode": "11224", "VersionId": "1", "PrimaryAccountNumber": "2312124214", "SecondaryAccountNumber": "123123", "UserKey": "User1314", "Password": "2313a@3#$", "HubId": "21424" } OR POST /parcel/api/parcel/facilityAccount/import { "data": [ { "UserKey": "USERKEY", "PrimaryAccountNumber": "ACCTNUM", "CarrierCode": "FDXG", "SecondaryAccountNumber": "ACCTNUM2", "Password": "PASSWORD" } ] } Add Response Mappings FedEx, UPS, and USPS Status Codes Each third party carrier uses their own status codes to track packages. These status codes must be translated into a common status understood by Active® Omni, which is what the carrier status map entity does. To add status codes, upload the json to the API: POST /parcel/api/parcel/statusMap/import { "data": [{ "Status": "InTransit", "Description": "At Canada Post facility", "Code": "AC", "Provider": "FedEx", "StatusDescription": "In Transit" } ] } Add Third Party Carriers If using a carrier other than UPS, FedEx, or USPS, follow these steps: Build integration with the third party's tracking API by working with services. Configure a carrier in the Carrier UI or API (/parcel/api/parcel/carrier/save). Add carrier facility accounts using the Carrier Facility Accounts UI or API referenced above. Provide valid credentials for connecting with the 3rd party. Add entries in the Carrier Status Mapping UI or API (/parcel/api/parcel/statusMap/import). An entry should be configured for each of the mappings from the 3rd party carrier status to the internal statuses of either 'InTransit' or 'Delivered'. Modifying the Return Status Icon The status icons for out of the box statuses can be changed via CSS. See here for details. Note: The return status icons are the same as the shipment status icons. UI Field Mappings Shipment tracking UI field mappings Return Tracking with Optimized UI Improvements With the Return Tracking UI Improvements, the customers can get a holistic view of the entire return order on the landing page. The first panel displays the shipment progress for the given return package, including the estimated delivery date or delivered date, detailed shipment activity, and the tracking number. The middle "What you're getting" panel displays the contents of the package and the status of any other remaining items on the return order. In the case of multiple return shipments, tracking buttons are displayed for each package. When the customer clicks the track button, the shipment details of the package are displayed on the shipment activity panel along with the delivered dates for the package. Return Tracking Optimized UI Improvements Configuration Navigate to Menu > Proactive > Proactive Menu > Functional Config > Review Behavior Changes. For Change Name 'OM - DSS Shipment/Return Tracking:GUI Improvements', set Enabled to 'true'. If not enabled by the Must Enable By Date listed in this UI, the enhanced UI will automatically be enabled on this date. Embedding Custom Panels in the Return Tracking Page Two custom iFrame panels can be embedded in the Return Tracking page, to add brand-specific content. Custom content for the iFrame windows should be responsive, so that the content can be viewed in desktop, tablet, or mobile form factors. Currently, only the three-column layout is supported; Custom iFrame implementation is mandatory. One URL per organization can be configured, so each organization can have unique content. Note: As the screen width decreases, the custom panels are displayed below the out of the box widgets. The iFrame dimensions are as follows: Height = 35 rem Width = Dynamic based on the form factor, using a bootstrap layout Iframe 1 : <div class="col-xs-12 col-sm-12 col-md-12 col-lg-4> Iframe 2: <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12> The content within the iFrames should be responsive for a variety of device widths. See example iFrame widths based on some sample devices below. Device Browser width Browser height Iframe 1 width Iframe 1 height Iframe 2 width Iframe 2 height Mac Desktop 1920 1080 380 560 1140 560 iPhone X 375 812 345 560 345 560 iPad 375 1024 720 560 720 560 Refer to the below sample code for examples. Sample iFrame 1: <!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1" /> <link rel="stylesheet" href="<%=htmlWebpackPlugin.files.chunks.tracking.css %>"> </head> <body class="p-0 m-0 d-flex justify-content-center"> <div class="row m-0"> <div class="col-12 p-0"> <img class="rounded mx-auto img-fluid d-sm-none d-md-block" src='./assets/img/iframe-portrait.png' alt="iframe1 portrait" /> <img class="rounded mx-auto img-fluid d-none d-sm-block d-md-none" src='./assets/img/iframe-landscape.png' alt="iframe1 landscape" /> </div> </div> </body> </html> Sample iFrame 2: <!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0 shrink-to-fit=no"> <link rel="stylesheet" href="<%=htmlWebpackPlugin.files.chunks.tracking.css %>"> </head> <body class="p-0 m-0"> <div class="text-dark"> <h2>Complete the look..</h2> <div class="row m-0"> <div class="col-xs-12 col-sm-3 p-sm-2"> <div class="col-12 iframe2-1"> </div> <div class="col-12"> <h5>Cozy Sweater</h5> </div> </div> <div class="col-xs-12 col-sm-3 p-sm-2"> <div class="col-12 iframe2-2"></div> <div class="col-12"> <h5>Cropped Boot Jean Comfort Stretch Comfort</h5> </div> </div> <div class="col-xs-12 col-sm-3 p-sm-2"> <div class="col-12 iframe2-3"></div> <div class="col-12"> <h5>Croc Mules</h5> </div> </div> <div class="col-xs-12 col-sm-3 p-sm-2"> <div class="col-12 iframe2-4"></div> <div class="col-12"> <h5>Tapered Pant</h5> </div> </div> </div> </div> </body> </html> How to Configure Custom Panels Navigate to the Digital Self-Service UI Config menu option Add an entry Select Page as Shipment Tracking and Layout as Three Column In the Block Configuration Tab, add a new entry For the first custom panel, select Widget Type as iFrame and Block as FirstRowThirdColumn, and input the URL of your custom content (Note: For testing purposes, custom-iframe-sample-1.html can be used) For the second custom panel, select Widget Type as iFrame and Block as SecondRowFirstColumn, and input the second URL of your custom content (Note: For testing purposes, custom-iframe-sample-2.html can be used) Once this configuration is saved, refresh your DSS return tracking page, and the changes should be reflected. No restart is required. Note: The Return Tracking page uses the same custom panel configuration as the Shipment Tracking page. The images configured in the Shipment Tracking page will display in the Return Tracking page as well. Using iFrame Tags to Track Web Traffic Urchin Tracking Module (UTM) codes, or tracking tags, can be appended to your iFrame URL to track where website traffic comes from. Marketers use this data to determine the source of website traffic to attribute the success of marketing campaigns to specific pieces of content. When implementing your iFrames, consider adding UTM codes to your iFrame URLs For example: https://<host>/<somepath>/custom-iframe-sample-1.html?localeId=fr&utm_campagin=Fall2021&utm_source=SelfService iFrames based on Locale Displaying iFrame content based on the customer's locale can be configured in multiple ways: using a static URL based on locale, or a URL with a locale URL parameter. Static URL based on locale (or having the locale as path variables) https://<host>/<somepath>/${localeId}/custom-iframe-sample-1.html Example 1: https://<host>/selfservice/ui/assets/static/fr/custom-iframe-sample-1.html https://<host>/<somepath>/custom-iframe-sample-${localeId}.html Example 2: https://<host>/selfservice/ui/assets/static/custom-iframe-sample-es.html https://<host>/<somepath>/custom-iframe-sample-${localeId}.html A URL with 'locale variables' as URL parameters With this approach, the customer can read the URL parameters using Javascript in the iFrame HTML page they have configured and can use that locale to perform the action. https://<host>/<somepath>/custom-iframe-sample-1.html?localeId=${localeId} Example: https://<host>/selfservice/ui/assets/static/custom-iframe-sample-1.html?localeId=${localeId} https://<host>/selfservice/ui/assets/static/custom-iframe-sample-1.html?localeId=fr Note: ${localeId} is case-sensitive and the only pre-defined variable currently supported. How to test: Follow the steps of block configuration and steps to test and replace the URLs mentioned with the ones below. For ‘First Row Third Column’ : https://{host}/selfservice/ui/assets/static/custom-iframe-sample-1.html?localeId=${localeId} or assets/static/custom-iframe-sample-1.html?localeId=${localeId} For ‘Second Row First Column' : https://{host}/selfservice/ui/assets/static/custom-iframe-sample-2-${localeId}.html or assets/static/custom-iframe-sample-2-${localeId}.html Feature Scope The following is not supported: Tracking return shipments of archived orders Tracking return shipments with carriers other than FedEx, UPS, or USPS, unless custom work is done to integrate with the carrier's tracking API Displaying items when a single return order has multiple packages Displaying the status of other packages for the return order How to Test Prerequisite: Include the DSS returns link in the outbound email/text message, e-commerce site, and so on. After completing all required configuration for return tracking: Place an order which gets allocated and released; ensure your order.customerEmail is a valid email address that you can access. Ship the order with a valid carrierCode and trackingNumber in the order event message, for example: Use any valid test tracking number for the 3rd party carrier you're testing. You can also use a real tracking number, if you have one. { "OrderEvent": [ { "EventTypeId": "Ship", "ReleaseId": "EC_Dec12_031", "ReleaseLineId": "1", "Item": "Tops-13153-White-L", "Quantity": 8, "UOM": "U", "FulfillmentInfo": { "PackageId": "LPN_001", "TrackingNumber": "1Z12345E0205271688", "CarrierCode": "UPS", "EventDate": "2018-11-30T00:00:00" } } ] } Create a return for the order. From the order confirmation email, or e-commerce site, click the track shipment link to launch DSS return tracking. To test directly in the browser, without an email/text: Form a URL by filling in the below attributes with values from your shipped order: https://<applicationURL>/selfservice/ui/app/returntracking?orderId=<orderId>&trackingId=<fulfillmentDetail.trackingNumber>&carrierCode=<fulfillmentDetail.carrierCode>&orgId=<order.organization>&token=<order.orderToken> Use a web browser, phone, or phone simulator such as xCode to launch this URL. Related Articles Overview & AuthenticationPayment ResolutionKits Support in Digital Self ServiceUI ResourcesCurbside PickupReturns & ExchangesRefund by Link Manage OrdersNPS SurveyPay by LinkContact Customer ServiceChange Pickup StoreChange Shipping AddressItem SubstitutionProduct Recommendations in Digital Self-ServiceExtend Pickup WindowOrder CancellationShip it InsteadGoogle Analytics IntegrationEmbedding Digital Self-Service on Retailer WebsiteAdd Alternate Pickup PersonLocalization and Customizing LabelsTroubleshooting Digital Self-ServiceShipment TrackingUI Theming and CustomizationStore Short Options