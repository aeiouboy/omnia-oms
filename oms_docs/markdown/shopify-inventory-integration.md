# Inventory Integration with Shopify

**Permalink:** shopify-inventory-integration
**Content Length:** 17,237 characters
**Scraped:** 2025-08-09T22:34:21.466756

---

Home &rsaquo;&rsaquo;Manhattan Active® Omni&rsaquo;&rsaquo;Order Management&rsaquo;&rsaquo;Process & Configuration Guides&rsaquo;&rsaquo;Order Processing&rsaquo;&rsaquo;Shopify Integration ››Inventory Integration with Shopify How to Integrate with Shopify Inventory Previous&nbsp;I&nbsp;Next OverviewPublish Availability&nbsp;AlertsPublish Availability SyncShopify APIs CalledQuery Inventory IteminventorySetQuanties MutationConfigurationShopify Location ConfigurationView ConfigurationShopify Connectivity ConfigurationError HandlingImplementation flavorsHow can Shopify be notified of the intraday inventory updates if no availability alert is published?Related Articles Overview The out-of-the-box integration with Shopify covers synchronization of the inventory available to sell on the e-commerce platform. Manhattan Active®&nbsp;Order Management computes and owns the availability of inventory for each selling channel. See Available to commerce for more information on how the availability is computed.&nbsp; Once the availability number is computed, it is communicated to e-commerce using Availability Syncs and Availability Alerts. See Publish Availability for more information on syncs and alerts. The out-of-the-box integration then calls&nbsp;Shopify's inventorySetQuantities mutation on the Admin Graph QL Shopify API to set available quantities of each item on Shopify.&nbsp; &nbsp; Publish Availability&nbsp;Alerts When available inventory is updated so that it crosses an availability threshold, an alert is published by the view to update Shopify's available inventory.&nbsp; &nbsp; Publish Availability Sync When a network view is configured to publish an availability sync, either on demand or via a scheduled process, available quantities are updated in Shopify for all items present in the sync.&nbsp; Shopify APIs Called Query Inventory Item To get the Shopify inventory items, the Admin Graph QL Shopify API is called with the query below.&nbsp; { &nbsp; inventoryItems(first: 1, query: "(sku:&lt;item ID&gt;)") { &nbsp; &nbsp; edges { &nbsp; &nbsp; &nbsp; node { &nbsp; &nbsp; &nbsp; &nbsp; id &nbsp; &nbsp; &nbsp; &nbsp; sku &nbsp; &nbsp; &nbsp; } &nbsp; &nbsp; } &nbsp; } } Shopify API responds with the Shopify inventory item ID. This Shopify inventory item ID is then used to update available quantities.&nbsp; { &nbsp; "data": { &nbsp; &nbsp; "inventoryItems": { &nbsp; &nbsp; &nbsp; "edges": [ &nbsp; &nbsp; &nbsp; &nbsp; { &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "node": { &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "id": "gid://shopify/InventoryItem/45454635892780", &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "sku": "&lt;item ID&gt;" &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } &nbsp; &nbsp; &nbsp; &nbsp; } &nbsp; &nbsp; &nbsp; ] &nbsp; &nbsp; } &nbsp; } } inventorySetQuanties Mutation To update available quantities on the Shopify platform, the Admin Graph QL API is called with the bellow mutation.&nbsp; This mutation is available in the 2024-07 Shopify API version. Graph QL mutation Inputs mutation inventorySetQuantities($input: InventorySetQuantitiesInput!) { &nbsp; inventorySetQuantities(input: $input) { &nbsp; &nbsp; userErrors { &nbsp; &nbsp; &nbsp; field &nbsp; &nbsp; &nbsp; message &nbsp; &nbsp; } &nbsp; &nbsp; inventoryAdjustmentGroup { &nbsp; &nbsp; &nbsp; createdAt &nbsp; &nbsp; &nbsp; reason &nbsp; &nbsp; } &nbsp; } } { &nbsp; "input": { &nbsp; &nbsp; "name": "available", &nbsp; &nbsp; "reason": "other", &nbsp; &nbsp; "ignoreCompareQuantity": true, &nbsp; &nbsp; "quantities": [ &nbsp; &nbsp; &nbsp; { &nbsp; &nbsp; &nbsp; &nbsp; "inventoryItemId": "gid://shopify/InventoryItem/45478057443372", &nbsp; &nbsp; &nbsp; &nbsp; "locationId": "gid://shopify/Location/69192777772", &nbsp; &nbsp; &nbsp; &nbsp; "quantity": 13 &nbsp; &nbsp; &nbsp; } &nbsp; &nbsp; ] &nbsp; } } In this input, use the Shopify inventory item ID and the Shopify inventory location ID. If there are no errors, the available quantities are updated on Shopify. Configuration Shopify Location Configuration Shopify's available inventory has to be associated with a Shopify location. Implementations are expected to create a dummy location on Shopify's site that represents the network availability view associated with that e-commerce site.&nbsp; All items must be activated in that location. Item Activation is a Shopify concept that mandates linking of the inventory item to the location. It is important to note that&nbsp;when an item is created on Shopify, it is automatically activated in the Shopify store's default location.&nbsp; View Configuration The configurations below are mandatory in the View:&nbsp; It must be a network view. "Publish notifications on inventory status change" and "Publish Quantity" must be set to true in the Publish availability section of the view. The Inventory Status thresholds must be configured in the Publish Availability section of the view. In Publish Availability &gt; Additional settings, "Publish To Shopify" must be set to true. Shopify Connectivity Configuration Prerequisites: All the steps of the connectivity configuration must be done. See How to Connect to Shopify for more information.&nbsp; In the Shopify Configuration UI, to be able to send availability information to the Shopify store, it is required to enter the below values:&nbsp; View Name - The network view containing availability to publish to Shopify. See View configuration for more details.&nbsp; Location ID - This is the Shopify location used to maintain inventory. See Shopify location configuration for more details.&nbsp; Here, the location ID is required, not the location name. The Location ID can be accessed by calling the Shopify Admin Graphql API in query mode. An example of location ID is: "gid://shopify/Location/69192777773". Publish availability when Shopify inventory falls below -&nbsp;Manhattan&nbsp;Active® Omni triggers availability publishing&nbsp;when: The Shopify inventory for a given item falls below the threshold. And the view availability is above the threshold.&nbsp; Note: If the view availability is also below the threshold, then no availability message is published. It is assumed that the limited stock or the out-of-stock alert would be used to correct any discrepancies.&nbsp; Error Handling In cases where an availability update fails&nbsp;in Shopify, a failed message is published for future reprocessing. A list of possible reasons for failure is detailed below:&nbsp; If the Location ID is not configured properly in the Shopify configuration If the item is not activated in the Shopify location If there is an error in the response of Shopify APIs If any Shopify endpoint does not return what is expected If the root cause is or configuration related, fix the root cause and reprocess the failed message.&nbsp; In the case of a sync message, if there is one item update that is failing, availability will not be updated for that item&nbsp;in the message.&nbsp; However, no failed message will be persisted. The failed item is available in the logs only.&nbsp; Implementation flavors How can Shopify be notified of the intraday inventory updates if no availability alert is published? It is possible that availability changes in Manhattan Active® Omni without Shopify being notified. That happens between availability sync if the availability change does not cross a view threshold. See example below.&nbsp; Example - Intra day movement and Shopify availabilityLet&#39;s assume the Network view is configured so that: In Stock &lt; 50 &lt; Limited Stock &lt; 5 &lt; Out of stock.&nbsp; At time t0, the sync runs:&nbsp; &nbsp; &nbsp;Manhattan Active&reg; Omni Availability = 100, Status In stock &nbsp; &nbsp;Shopify visible inventory = 100 At time t1, MA Omni receives 500 units:&nbsp; &nbsp; &nbsp;MA Omni availability = 600, Status In stock, no alert is published &nbsp; &nbsp;Shopify visible inventory = 100 At time t2, Shopify sold 100 units:&nbsp; &nbsp; &nbsp;&nbsp;MA Omni Availability = 500, Status In Stock, no alert is published &nbsp; &nbsp;Shopify visible inventory = 0 In this case, Shopify is not able to sell until the availabiltiy sync runs or an alert is published.&nbsp; In that case, to avoid Shopify being too out of sync and missing sales before the availability sync runs again, it is possible to configure an additional threshold in the Shopify Configuration. See the same example above but with a threshold configured.&nbsp; Example - Intra day movement and Shopify availability with thresholdLet&#39;s assume the Network view is configured so that: In Stock &lt; 50 &lt; Limited Stock &lt; 5 &lt; Out of stock. Let&#39;s also assume that the Shopify Configuration is configured to publish availability to Shopify when the Shopify inventory hits 5 units. At time t0, the sync runs:&nbsp; &nbsp; &nbsp;Manhattan Active&reg; Omni Availability = 100, Status In stock &nbsp; &nbsp;Shopify visible inventory = 100 At time t1, MA Omni receives 500 units:&nbsp; &nbsp; &nbsp;MA Omni availability = 600, Status In stock, no alert is published &nbsp; &nbsp;Shopify visible inventory = 100 At time t2, Shopify sold 95 units:&nbsp; &nbsp; &nbsp;MA Omni Availability = 505, Status In Stock, no alert is published &nbsp; &nbsp;Shopify visible inventory = 5. Shopify triggers an inventory check in MA Omni At time t2bis, MA Omni publishes the current availability back to Shopify: &nbsp; &nbsp;MA Omni availability = 505, Status In Stock &nbsp; &nbsp;Shopify visible inventory = 505 In this case Shopify is now up to date on the availability again.&nbsp; Related Articles Payment Integration with ShopifyShopify Technical IntegrationShop Pay IntegrationOrder Integration with Shopify &nbsp;