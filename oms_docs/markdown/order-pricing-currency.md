# Currency Rounding

**Permalink:** order-pricing-currency
**Path:** Manhattan Active® Omni/Order Management/Process & Configuration Guides/Order Selling/Order Pricing/Currency Rounding
**Content Length:** 23,902 characters
**Scraped:** 2025-08-09T21:58:34.228006

---

Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Order Selling››Order Pricing ››Currency Rounding Currency Rounding OverviewCurrency Rounding RulesCurrency Rounding ConfigurationFeature ScopeRelated Articles Overview This section provides an overview of Manhattan Active® Omni support for currencies with different rounding requirements. For example, US Dollars (USD) and Euros (EUR) use two decimal places, the Bahrain Dinar (BHD) uses 3 decimal places, and Japanese Yen (JPY) and Chilean Pesos (CLP) do not use decimal values. To support payment and financials in such currencies, money amounts need to be rounded to the correct denomination. For example, Yen and Chilean Peso amounts must be rounded to the nearest whole number. Manhattan Active® Omni supports currency rounding in item pricing, charges, discounts, taxes, and invoicing for customer and return orders. Rounding Configuration is supported only for the following currencies: Japanese Yen (JPY) Chilean Peso (CLP) Hungarian Forint (HUF) South Korean Won (KRW) New Taiwan Dollar (TWD) Note: All other currencies not listed above will be rounded by the base Manhattan Active® Omni system. The base rounding logic follows a half-up approach to rounding. Any decimal value in the thousandths' location >=5 will have the hundredths location value rounded up. Any thousandths' location value <5 will see the hundredths location value remain the same. The Currency Rounding Configuration cannot be applied to any other currencies. Below is an example of how currency rounding works in Manhattan Active® Omni Order Management: A customer places an e-commerce order using JPY currency. The order is confirmed and bridged into Manhattan Active® Omni. Validations ensure the money amounts on the order adhere to rounding requirements for the order currency. For example, if the item price is configured for currency rounding in the application and the order is imported as 999.67, then an error is thrown. Header-level charges, taxes, and discounts are prorated to the lines. For supported charge types, the prorated values are rounded half-up to the nearest whole number. The order is shipped, and an invoice is created. The charges and discounts on the shipment invoice are rounded half-up to the nearest whole number. Refer here for an example. The Sales Posting and Publish Order messages reflect the rounded values. For example, if the charge total is rounded from 999.37 to 999, then the money amount is sent as 999.00. When the order is returned, the resulting charges on the return order and return invoice are rounded half up to the nearest whole number. Refer here for an example. Currency Rounding Rules When Manhattan Active® Omni prorates header charges to lines, the prorated value is rounded half-up to the nearest whole number. Anything greater than or equal to 0.5 is rounded up to next number and anything less than 0.5 is rounded down. Refer here for an example. For percentage-based appeasement or discounts, the charge total is always rounded down by default. For example, if a 10% discount results in 999.67, the charge total is rounded to 999. This charge total value is prorated to the lines and rounded using the half-up logic described above. Refer here for an example. If the default rounding of percentage-based appeasement or discounts needs to be changed so that the charge total is always rounded up rather than being rounded down, the below-mentioned configurations have to be enabled in the system. For example, by default, if a 10% discount results in 999.67, the charge total is rounded down to 999. If this default behavior has to be changed so that if a 10% discount results in 999.67, and the charge total should be rounded up to 1000, then the system has to be configured explicitly. This charge total value is prorated to the lines and rounded using the half-up logic described above. Refer here for an example. Manhattan Active® Omni persists the rounded money amounts with two zeros after decimal point. For example, if the charge total is rounded from 999.37 to 999, then the money amount is stored as 999.00. Currency rounding is supported only for the below use cases: Customer orders, Even and Uneven exchange orders Order-level shipping charges Order-level value-added service charges Line-level value-added service charges Order-level appeasements with DiscountOnId "Order" Order-level appeasements with DiscountOnId "Charges" Line-level appeasements with DiscountOnId "Line" Line-level appeasements with DiscountOnId "ItemPrice" Order-level discounts (charge type discount, promotions & coupons) with DiscountOnId "Order" Order-level discounts (charge type discount, promotions & coupons) with DiscountOnId "Charges" Line-level discounts (charge type discount, promotions & coupons) with DiscountOnId "Line" Line-level discounts (charge type discount, promotions & coupons) with DiscountOnId "ItemPrice" When currency rounding configuration is defined for the supported charge types, charges which are not rounded must be corrected in the order before it is saved. For example, order-level shipping charges with 1000.35 cannot be imported for currencies configured for currency rounding (JPY & CLP). If an order is imported with charge types or tax records(other than is-informational) for which rounding is not supported, an error is thrown. The non-supported records must be removed from the order before it can be saved. For example, order-level handling or line-level value added service charges cannot be imported for currencies configured for currency rounding (JPY & CLP). Rounding informational header or line taxes is not supported, but informational taxes can be imported on orders. Currency rounding validations are not enforced on informational taxes imported on orders.  For example, order-level or line-level informational taxes with 100.58 can be imported but rounding the imported records are not handled but rounding the prorated taxes to line is supported. Rounding informational order header or line taxes is supported while using the Manhattan Active® Omni Local Tax component for tax calculations. For the currency code JPY, as per the new tax law effective October 2023, rounding off of the tax records should be per invoice at the invoice header level and not at order or order line. To support this, select "Round Down Tax Once Per Invoice" in the Currency Configuration UI. This configuration can be enabled only for currency code JPY and does not support rounding down of order and order line tax records.When the order is shipped, the invoice and invoice line tax records are not rounded down but the sum of invoice and invoice line tax record is rounded down and stored in TotalInformationalTaxes at the invoice header. During the return process, the total informational taxes at the return invoice header is handled to not refund more than what was invoiced in the parent customer order. However, there could be a few scenarios with discrepancies where the refund is less than what was invoiced in the parent customer order. Refer to examples for former Round Down Tax Once Per Invoice Scenario 1 and Round Down Tax Once Per Invoice Scenario 2 for the latter. Examples Order-level header shipping charges prorated across lines: Order with header "Shipping" charges prorated across linesOrder with 2 lines belonging to the same fulfillment group: Line 1 with single quantity and Line 2 with two quantities. Assuming the unit price is same across all the lines. Order with Shipping charges of 10000 Yen is prorated across the lines based on the line's weight. In this example, 10000 Yen proration results in 3333.33 per quantity. The prorated charges will be rounded down to 3333 on order line 1 and the remainder 6667 will be assigned to order line 2. Order Line Id Quantity Prorated header Shipping charges to lines OL1 1 3333 OL2 2 6667 Order with lines belonging to the different fulfillment group: Line 1 and Line 2 belonging to the same fulfillment group 1. Line 3 belonging to fulfillment group 2. Assuming the unit price is same across all the lines. Order with Shipping charges of 35005 Yen for fulfillment group 1 and 30000 Yen for fulfillment group 2. 35005 Yen is prorated across the lines 1 and 2 based on the line's weight. In this example, 35005 Yen proration results in 17502.5 per line. The prorated charges will be rounded half up to 17503 on order line 1 and the remainder 17502 will be assigned to order line 2. Order Line Id Fulfillment Group Quantity Prorated header Shipping charges to lines OL1 Group 1 1 17503 OL2 Group 1 1 17502 OL3 Group 2 1 30000 Order-level header appointments, promotions, discounts & coupons prorated across order lines: Order with header "Appeasements" prorated across linesOrder with 2 lines, Line 1 and Line 2 with two quantity each. Assuming the unit price is same across all the lines. Order or Order line with Appeasement discounts of 10% resulting in decimal values are rounded down by default. For example, if the order subtotal is 99999 then appeasement of 10% will result in 9999.9, this will be rounded down to 9999 and the same is prorated across the header charges and lines based on charges and line's weight. In this example, since there are no header charges, 9999 order appeasement proration results in 4999.5 per line. The prorated charges will be rounded half up to 5000 on order line 1 and the remainder 4999 will be assigned to order line 2. Order Line Id Quantity Prorated header appeasement discounts to lines OL1 2 5000 OL2 2 4999 Order-level header shipping charges and its impact on incremental shipments: Order with header "Shipping" charges fully shipped incrementallyOrder with 2 lines: Line 1 with single quantity and Line 2 with two quantity. Assuming the unit price is same across all the lines. Order with Shipping charges of 10000 Yen is prorated across the lines based on line's weight. In this example, 10000 Yen proration results in 3333.33 per quantity. The prorated charges will be rounded down to 3333 on order line 1 and the remainder 6667 will be assigned to order line 2. Order Line Id Quantity Prorated header Shipping charges to lines OL1 1 3333 OL2 2 6667 Order is partially shipped for OL2: Shipment Invoice 1 for OL2 with rounded charges on first shipment Order Line Id Fulfilled / Shipped Quantity Shipment Invoice line charges OL2 1 3333.5 rounded up to 3334 Shipment Invoice 2 for OL2 with remainder charges on second shipment Order Line Id Fulfilled / Shipped Quantity Shipment Invoice line charges OL2 1 3333 Order-level header shipping charges and its impact on incremental returns: Order with header "Shipping" charges fully shipped and fully returned incrementallyOrder with 2 lines: Line 1 with single quantity and Line 2 with two quantity. Assuming the unit price is same across all the lines. Order with Shipping charges of 10000 Yen, is prorated across the lines based on the line's weight. In this example, 10000 Yen proration results in 3333.33 per quantity. The prorated charges will be rounded down to 3333 on order line 1 and the remainder 6667 will be assigned to order line 2. Order Line Id Quantity Prorated header Shipping charges to lines OL1 1 3333.33 rounded down to 3333 OL2 2 6667 Order is fully shipped, and partial return initiated for OL2: Return Order 1 with rounded charges on first return Parent Order Line Id Return Order Line Id Return Quantity RO Line charges copied from CO Line OL2 RO1_ROL1 1 3333.5 rounded up to 3334 Return Order 2 with rounded charges on subsequent return Parent Order Line Id Return Order Line Id Return Quantity RO Line charges copied from CO Line OL2 RO2_ROL1 1 3333 Round Down Tax Once Per Invoice Scenario 1: Round Down Tax Once Per Invoice Scenario 11 ORDER - 2 ORDER LINES - 1 QTY EACH Order line 1: 1.9 line informational tax Order line 2: 2.9 line informational tax Order total informational taxes = 4.8 When you ship only the 1st order line, the total informational taxes on shipment invoice 1 header is 1 Now, when you ship the 2nd order line, the total informational taxes on shipment invoice 2 header is 2 Thus, the total informational taxes of the parent customer order summing up all the shipment invoices is 3. If you now make a complete return, then the total informational taxes at return invoice header is handled to not refund 4 (1.9 + 2.9 = 4.8 => 4) instead refund upto what was invoiced in the parent customer order which is 3. Round Down Tax Once Per Invoice Scenario 2: Round Down Tax Once Per Invoice Scenario 21 ORDER - 2 ORDER LINES - 1 QTY EACH Order line 1: 1.9 line informational tax Order line 2: 2.9 line informational tax Order total informational taxes = 4.8 If both the order lines are shipped together (complete shipment), the total informational taxes at the shipment invoice header is 4 Now, if you return only the 1st order line, the total informational taxes on the return invoice 1 header is 1 If you return the 2nd order line, the total informational taxes on the return invoice 2 header is 2 Thus, the total informational taxes of the return order summing up all the return invoices is 3. Note: This discrepancy exists where we refund less than what was invoiced in the parent customer order. Currency Rounding Configuration There are two ways to configure currency rounding: via the Currency Configuration UI or via API. Validations ensure that only supported currency codes can be configured. To configure via API: POST /order/api/order/currencyConfig/save { "CurrencyCode": "KRW", "RoundingMode": "Round Down" } To disable currency rounding, delete the currency configuration configured using the Currency Configuration UI. Feature Scope The following is not supported for currency rounding: Customer orders and even exchange orders release outbound values Retail orders Validations to restrict decimal values on item price master data Validations to restrict decimal values on SnH configuration data Related Articles Order Pricing - Proration