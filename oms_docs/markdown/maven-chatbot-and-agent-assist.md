# Generative AI

**Permalink:** maven-chatbot-and-agent-assist
**Path:** Manhattan Active® Omni/Maven/Maven Chatbot and Agent Assist
**Content Length:** 147,549 characters
**Scraped:** 2025-08-09T22:05:51.366975

---

Home ››Manhattan Active® Omni››Maven ››Generative AI Maven Chatbot and Agent Assist OverviewMaven ChatbotRegistered and Anonymous CustomersRegistered CustomerAnonymous CustomerChatbot Requires Conversation Before Live ChatMaven Multi-Language SupportChatbot DashboardChatbot Dashboard MetricsMaven for Customer EngagementAuto-disposition ChatsChatbot SummaryInteraction Wrap-up Generate Case DetailsGen AI Drafted ResponsesEmail BotEmail Bot Case CreationMaven Subscription DashboardAt risk OverageSubscription Dashboard ConfigurationExpected Annual SubscriptionExpected Monthly SubscriptionConfigurationsChatbotChatbot StylingTechnical ConfigurationsEcommerce Implementation ConfigurationsFunctional ConfigurationsChatbot Requires Conversation Before Live ChatDisabling Chatbot IntentsIntegrating Chatbot with a Third Party Chat ProviderThird Party Communications Platform ConfigurationIntegrating with a Third-party Chatbot ProviderMaven Chatbot Integration with Visualforce Website and Salesforce Service Cloud Live ChatChatbot CustomizationLeveraging Maven APIs as a Backend ServiceConfiguration for outside hours of operation message for Chat InteractionMaven for Customer EngagementInteraction Wrap-up Generate Case Details Gen AI Drafted ResponsesChatbot DashboardMaven Subscription DashboardMaven Subscription Dashboard ConfigurationEmail BotSMS or Email OTPTroubleshootingDigital goods inquiries[Order Status Widget] order status for digital goodChatbot replies based on digital goods statusFor Non - CE retailer : "No cases are created."If retailer is not using customer engagement functionality : "No cases are created"If a retailer has customer engagement functionality, but no cases are visible.If a retailer has customer engagement functionality, the CE grant has been added, but the case is still not visible.Anonymous customer authentication via one-time-passcode (OTP)Errors During ChatNot getting OTP Form for Store Related inquiries but getting it for Order Related inquiriesOnce authenticated, do I need to authenticate again for continuing the chat?I am getting the following text response: "Sorry, we are unable to authenticate you at the moment. Please try again later."Can I Enquire About an Order Associated with a Different Email After Authentication?OTP Form Related ErrorsGetting an error on OTP Form when trying to validate without orderId  : “No matching order(s) found for the given details.”Getting an error on OTP Form when trying to validate with orderId  : “No matching order(s) found for the given details.”Error, "Something went wrong. Please try again." after clicking on "Send" buttonError, "Text Component failed to send OTP to customer phone" after clicking on "Send" button in OTP formFor how long OTP is valid ? Is it possible to configure this time ? Overview Manhattan Active® Maven leverages the power of Generative Artificial Intelligence (Gen AI) in Active Omni to enhance experiences for both customers and customer service agents. Maven offers an AI-powered chatbot that allows end customers to: Inquire about orders, store location, and more. Take action on orders through conversation interactions. Maven also provides AI-based agent assist functionality in Customer Engagement that allows contact center agents to: Get a summarized version of the chatbot conversation to quickly understand the context and assist the customer. Auto-draft case wrap-up notes like Category, Sub-Category, and Resolution Comments when they are wrapping up a conversation. Maven Chatbot The chatbot is a digital assistant for end customers to inquire about their orders and take relevant actions on them. This will reduce the number of interactions requiring agent involvement. The chatbot offers an expanding range of capabilities, as listed below. All the below capabilities which result in a created order will have an order type as 'SelfServe'. General Order Inquiry: Customers can ask the chatbot questions about their recent orders, such as, "How much did my most recent order cost?" or "What is the status of my order?" or "Why was my order canceled?" The chatbot answers these questions using transactional data from Manhattan Active® Omni. Retailers can now control which order cancellation reasons are visible to end customers in the chatbot when customers inquire about the reason for their order cancellation. This is achieved by selecting the “Eligible For Self Service” checkbox for each reason in the Order Reasons UI. This enhancement helps ensure that sensitive or internal business logic, such as fraud detection or pricing errors that are not exposed to customers. For cancellation reasons that are not marked as eligible, the chatbot will display a generic message instead. The generic message shown to customers is configurable by the retailer through a KV store property, allowing full control over the messaging for non-exposed reasons. Below are the details of the KV store property used to configure this message: Component Label Message Name KV Store Path virtualassistant defaultCancelReasonDescription Your order has been cancelled due to our policies. We sincerely apologize for any inconvenience. Key / Values ->localization-> com-manh-cp-virtualassistant ->labels ->en ->localization.properties Note : If the “Eligible For Self Service” checkbox is not selected for a cancellation reason and the defaultCancelReasonDescription KV store property is not configured, the chatbot will automatically display the following generic message to customers: “Your order has been cancelled due to our policies. We sincerely apologize for any inconvenience." Return & Exchange Order Inquiry: The chatbot can now provide meaningful answers about return and exchange orders. It can address questions such as: Any details related to the order, including item information, charges, taxes, discounts, and so on The status of the order When refunds will be issued When exchange orders are expected to ship and arrive Ability to track exchange orders Refund methods (Credit Card, Gift Card, and so on) If an item may be returned in store or online BOPIS Order Inquiry (Buy online pickup in store): Similar to the above capability, the chatbot can now provide meaningful answers about BOPIS orders. It can now provide relevant statuses like 'Preparing for Pickup', 'Ready for Pickup' and 'Picked Up'. It can also answer all the questions related to BOPIS order covered under the 'General Order Inquiry' function as well. Note: When a customer asks the chatbot any question based on data that the chatbot doesn’t have access to, the chatbot's response will indicate to contact customer service. Digital goods inquiries : The chatbot will provide information regarding digital goods orders and the items associated with those orders in the widget, also addressing customer inquiries such as, "what is my order status", "To which email address will my eGift card be sent?" and "When will I receive my eGift card?" Note : The chatbot does not support inquiries related to gift card balance checks, eGift card and PIN inquiries, resending eGift card emails, or reactivating gift cards. If a customer inquires about a digital goods item by stating, "I never received my item," while their order also includes a non-digital goods item, the chatbot may initiate the misship flow; however, a refund or replacement order will be restricted to the digital item. Order Cancellation: Customers can cancel orders conversationally. When a customer requests cancellation, the assistant checks the status of the order to determine if it can be canceled. If the order is cancelable, the customer is presented with a confirmation prompt to choose either "yes" or "no." The customer is then asked to provide a reason for the cancellation, after which the order is canceled. Note: Single line order cancellation is not supported by the Chatbot. Only whole order cancellations are supported. Store Location: The chatbot can assist customers in finding nearby stores. It prompts the customer to provide a zip code and, upon receiving it, locates stores in the vicinity. The chatbot then displays the store locations to the customer with a clickable map widget. The map displays the location of the store on the map, and the map can be clicked to get directions to the store. When the map is clicked, the customer will navigate to Google maps to find directions. Each store location will be shown in its own unique widget, and they will be displayed in a horizontally scrollable list. The widget contains 2 icons. The first icon is a location mark, and when selected will navigate the customer to Google maps for directions to the store. The second icon is a phone, and provides the store phone number. When using the chatbot on mobile, clicking the phone icon will open the phone app on the device with the store phone number ready to call. Configuration is required to view these store locator visual widgets. To configure click here. Please work with the support team to assist with this. Notes: The chatbot is limited to providing up to 3 store location widgets in the nearby area. This is not configurable today. If the chatbot doesn't find any locations in the specified area, it will respond with the text 'No store found near to City Name.' Request Order Invoice: The chatbot can assist customers in procuring order invoices. When the customer requests an invoice, the first response message indicates the customer to wait until the document is fetched. A registered customer can request an invoice for an item. A registered customer can also request an invoice for an order by providing the order ID. For an item-based invoice request, if the item is present in the most recent five orders, the invoice for that order is available for the customer to download. If the invoice is not available because the item was not yet shipped ,or the order was not in the most recent 5 orders, then a message indicating no invoice found is displayed back to the customer. If the order id is an invalid orderId, then a message indicating an invalid order ID is displayed to the user. For a unregistered customer, the invoice is always requested based on order ID. Connect to Live Agent: At the bottom of the chatbot text window, there is a button labeled “Connect to an Agent”. This button will not appear until 5 messages have gone back and forth between the customer and the chatbot, at which point the 'Connect to an Agent' button will appear. When the customer selects this button, the chat window will notify the customer they are now chatting with an agent and display the agent's name. From this point, any messages the customer sends will go to the Agent Inbox in the Contact Center, and all responses will come from the customer service agent. Note: The 5 messages required between the chatbot and customer will include the greeting AND the most recent order widget. Meaning, for registered customers, they will only have to send 2 messages to the chatbot before connecting to an agent becomes available. Gratitude: When customers express their thanks or appreciation, the AI can generate responses to these. Carrier Tracking: The chatbot can answer questions related to order tracking, estimated delivery dates, and estimated shipment dates. If the order has a tracking number, the chatbot will convert it into a link and provide it to the customer. Clicking the link will open a new tab where the customer can track their shipment. If no tracking information is available, the chatbot will inform the customer of the expected shipping and delivery dates. If the order is open or backordered and no information is available, the chatbot will advise the customer to contact customer service. The estimated delivery date will also appear in the most recent order widget, if populated, as a header above the item image. The table below details the chatbot's behavior when delivery tracking is both enabled and disabled. Information Type Delivery Tracking Enabled (Carrier APIs) Delivery Tracking Disabled (Carrier APIs) Conversational Information ETA: Provide the latest ETA from carrier. If the carrier's provided date is in the past, it is not considered. If order is delivered, and the carrier has reported it as delivered, the chatbot will say 'was delivered on...' We also provide a link that customers can click to access the carrier’s tracking page. STATUS: “Released”, “Picked”, “Packed” = “Preparing to ship” “Fulfilled” = “Shipped” “Delivered”, “Cancelled” = Remain Same “Partially Fulfilled” = “Part of your order is shipped and others are preparing to ship.” All other statuses = “In-Progress” ETA: Manhattan Active® Omni ETA from Allocation = ETA FulfillmentDate = Ship Date Manhattan Active® Omni provides a link that customers can click to access the carrier’s tracking page. STATUS: Same as Delivery Tracking Enabled: “Released”, “Picked”, “Packed” = “Preparing to ship” “Fulfilled” = “Shipped” “Delivered”, “Cancelled” = Remain Same “Partially Fulfilled” = “Part of your order is shipped and others are preparing to ship.” All other statuses = “In-Progress” Widget Information ETA: Provide the latest ETA from carrier/Active® Omni depending on order status. If the carrier provided date is in the past yet delivered, then the widget will show the delivered date. Else, the widget will display the ETA either from carrier or Manhattan Active® Omni depending on order status. The widget also displays the “Track Shipment” button. Clicking this will either navigate to Self-Service Shipment tracking or to the carrier tracking page depending on configuration. STATUS: For order statuses >= “Fulfilled” = ETA from Carrier For order statuses < “Fulfilled” = ETA from Manhattan Active® Omni ETA: Provide the latest ETA from Active® Omni as defined above. STATUS: Displays order statuses as defined in both conversational sections. The widget also displays the “Track Shipment” button. If the order status is <Fulfilled, the widget will display "Preparing to Ship: Expected Delivery..." with Expected delivery date coming from Manhattan Active® Omni Allocation. The widget also displays the “Track Shipment” button. Clicking this will either navigate to Self-Service Shipment tracking or to the carrier tracking page depending on configuration. FAQ: FAQ documents can be uploaded to the chatbot to answer questions. For details on uploading the documents, please see the developer portal documentation. If a new version of the FAQ document is required due to some change, then re-uploading the document with the latest changes will override the current document with the new one. Note: Document size may impact response times for these questions. Files with around 5,000 words can expect response times of 3-5 seconds, while files with around 25,000 words can expect response times of 5-10 seconds. Order Miss-Ships: The chatbot can assist customers who report their order was either different from what they ordered, damaged, or lost. The chatbot will handle this by creating a return or exchange for the item in question. It will then ask the customer to upload an image and let them know if they will need to return their item or not. At the end of the conversation, the chatbot will create a case with the uploaded image and conversation if an open case isn't present for that customer. If an open case is present, the existing case will be updated with chatbot interaction. The chatbot will also output the return shipping label in PDF format for any return or exchange order where receipt is expected. The customer can click on the PDF file, download/print the label to be added to their package. The chatbot will also output a QR code which can be scanned by the carrier for return package shipping. What the chatbot is allowed to do can be configured via the 'policy document'. The policy document is a text file which contains instructions determining how the chatbot will behave in the Miss-Ship scenario. To learn how to upload/configure the policy document, refer to the developer portal documentation. Here are the actions and values of the Miss-Ship capability which can be controlled via the 'policy document': Can it create a refund, yes or no? Can it create an exchange, yes or no? Is uploading an image required as part of the conversation? Category ID: This is the unique identifier for each of the 3 supported use cases (Lost In Transit, Miss-Shipped/Wrong Item Received, and Damaged or Defective). The example policy document found in the developer portal has these values defined as follows: 'Lost' 'MissShip' 'Damaged' The resulting return/exchange orders created by the chatbot will be auto-confirmed and will be identical to orders created via Call Center. They will have reason and condition populated on them. The values for reason and condition populated on the return/exchange orders are defined by the Category ID in the policy document. This means that each of the 3 values configured in the policy document must be configured in both, Order Reasons configuration as a return reason, and in Item Conditions configurations. If all three values are not configured in all three places (policy document, order reasons, and item conditions), then the chatbot will fail to create the return/exchange orders. Please click here to learn about uploading and setting up the policy document for this functionality. The three values above present in the policy document can be customized to be any values. If they are changed, make sure the same three values are configured in order reasons configuration and item conditions configuration. Similarly, the chatbot will create a case at the end of the interaction. The case category field will be populated as 'MissShip' on the case. This exact value must also be configured in the Case Category configuration. Currently, Maven can create and confirm return orders or exchange orders for order miss-ships which do not result in customers needing to pay. If a return order created by Maven results in a payment scenario, the same is immediately canceled by the system and the customer is displayed a message to contact the CSR. A case will only be created if there is no existing OPEN case for the customer. If there is an open case, the interaction will be updated to include the recent conversation with the chatbot, but the case attributes from the original case will remain unchanged. This means the newly created return/exchange order id will not be appended to the case if an open case already exists. In order for the order id to be populated on the case, the customer should have no open cases prior to their interaction with the chatbot. Note: Defining if an image upload is required in the policy document simply controls whether the chatbot asks for the image as part of the conversation. If the policy document doesn't require the image upload, the chatbot will still be able to create returns/exchanges. Note: If the retailer does not have the customer engagement feature enabled and only uses the Maven chatbot, even if a customer has a conversation about a misship flow and the chatbot processes a refund or replacement, no case or interaction will be created. The retailer can enable or disable the image upload option in the misship policy document. If the image upload option is enabled, the image will be stored in Twilio, but customer service representatives will not be able to see it. Conversational Returns: Similar to the above Miss-Ship behavior, the chatbot can also create return orders for reasons other than damaged, lost, wrong item received. The customer will indicate they want to return something, and the chatbot will ask the customer if they'd like to perform the return themselves through Manhattan's Self-Service application, or if they'd like the chatbot to guide them through creating the return. If they want to do it themselves, then the chatbot will provide them with the return button which will navigate them to Self-Service where they can place a return or exchange themselves. If they want guidance from the chatbot, the chatbot will make sure the specific order and item are clear. It will then ask the customer to provide a reason for the return. The chatbot will then double-check if the customer is sure about the chatbot creating a return order for the specified item and order. If the customer agrees, then the chatbot will create the return order and will output the order ID to the customer. It will also output the shipping label in PDF format which the customer can print and attach to their return package. The chatbot will also output a QR code which can be scanned by the carrier for return package shipping. The resulting case will have the case category as returns with a summary declaring that the chatbot created a return order for the specified reason. When responding to the reason question, if the customer replies with anything like 'my item was damaged', 'I lost my item', or 'I received the wrong item', the chatbot will navigate to the existing Miss-Ship flow, and ask the customer if they'd like a refund or replacement depending on the policy. Note: The chatbot will only create a return order. It will not create an exchange. Note: The chatbot can only create a single line/single quantity return order. The parent order can have any number of lines and quantities, but the chatbot can only handle a single line and single quantity at a time. Note: The conversational returns experience does not rely on a policy document as the Miss-Ship flow does. Info: To edit the message displayed when the shipping label and QR code are provided, some values in the KV store must be modified. Please reach out to services team to configure these messages. Providing Return Shipping Label:The chatbot can conversationally assist customers by providing their return shipping label upon request. It will deliver the label as a PDF file that customers can click on, opening it directly in their browser, giving them the opportunity to save/print the label. The label can further be attached to their return package for shipping. The chatbot can naturally assist customers by providing their return shipping label upon request. It will deliver the label as a PDF file that customers can click on, opening it directly in their browser. From there, they can save or print the label and include it with their return package for shipping. This is the same shipping label the chatbot will provide when it is creating a return order either as part of the Miss-Ship or Conversational Returns flow. Price Adjustment : Enhancements have been made to the chatbot, allowing it to offer price adjustment for customer-ordered items when a price drop occurs for those items in the Active Omni. Linking to Digital Self-Service: The following use cases are supported in the chatbot by providing the customer with a link which, when selected, will navigate the customer to Digital Self-Service to perform the desired action. Refer here to disable these links if DSS is not enabled. Return/Exchange: Customers can ask to return or exchange an order. The chatbot provides a link to the Digital Self-Service "Create Returns" page to create a return/exchange. Prior to the chatbot providing the customer with the link to Digital Self-Service, the chatbot will perform an eligibility check on the order and make sure it is in fact returnable/exchangeable. If eligible, the chatbot will provide the button link to DSS. If not eligible, then the chatbot will tell the customer that their order is not eligible to be returned/exchanged at this time. Change Shipping Address: Customers can ask the chatbot to change the shipping address for one of their orders. The chatbot provides the customer with a link to the Digital Self-Service "Change Shipping Address" page to change the shipping address. Prior to the chatbot providing the customer with the link to Digital Self-Service, the chatbot will perform an eligibility check on the order and make sure it is in fact eligible for changing the shipping address. If eligible, the chatbot will provide the button link to DSS. If not eligible, then the chatbot will tell the customer that their order is not eligible to have the shipping address changed at this time. Cancel: A button to cancel the order will be present on the most recent order widget for an order that is eligible to be canceled. Clicking this button will link to DSS. Tracking: A button to track the order will be present on the most recent order widget for an order that is eligible to be tracked. Clicking this button will link to DSS tracking. Most Recent Order Widget: When a registered customer logs into the chatbot, they will be greeted with a visual widget displaying an image of their most recent order and the items inside it. Here is a list of the information included in the widget. OrderId Status of the order What day the order is arriving/when it arrived. (This only works if the parcel is enabled) Image of the items and their quantities Links to DSS (Tracking, Cancel, Change Shipping Address, Return). Refer here to disable these links if DSS is not enabled. Refer here to choose which of the above DSS features are desired to appear in the Most Recent Order Widget. Note: Disabling the links to DSS results in either fully enabling or fully disabling them. This means that all DSS links will either be fully enabled or not enabled at all, without any in-between scenarios. Note: Clicking on the 'Tracking' button in the most recent order widget will open up the carrier's tracking page for the relevant order. Minimizing the Chat Window: Customers can minimize the chat window at any time by clicking the minimize icon in the top right corner. The chat history will be preserved as long as the customer remains logged onto the site. They can minimize the chat window, leave the page, or even close the browser tab, and the chat history will remain available for up to 15 minutes. Additionally, if the disclosure message is enabled, it will not be shown again during this period. However, if the customer logs out, or clicks the close icon in the top right to end the session, or remains idle for more than 7 minutes (causing the session to time out), the chat will end, and the customer will need to start a new chat session. Note : When Live Chat or Chatbot + Live Chat is enabled along with the "Reason" field, and an anonymous customer attempts to connect to an agent by filling out the anonymous form without selecting a reason, and if the customer minimizes and reopens the chatbot, or closes and reopens the browser, they are required to refill the anonymous form in order to connect to an agent. End Chat & Customer Feedback: Customers can select the 'X' in the top right corner of the chatbot to end the chat with the chatbot. When the customer clicks on this button, the option to either continue chatting or end chatting is provided. If the customer chooses to continue chatting, then the conversations will be preserved, and can resume from where they left off. If the customer decides to end the chat, the customer is prompted to provide feedback on their experience with the chatbot. The feedback form includes the following elements: 1–10 ratings for the customer to rate the quality of their experience. A text box for the customer to add any comments about their experience (500 characters maximum). After entering the desired feedback, the customer can click 'Submit' at the bottom of the chat window. A notification will appear within the window stating 'Feedback Submitted. Thanks!'. After a moment, the chat window will close automatically. Submitting feedback is not mandatory. The customer can select 'Submit' without entering any information in the form, and the window will close. Conversation Timing Out: The conversations with the chatbot will not time out. The only way a conversation will end is if the user closes the browser where the chatbot conversation is happening, or if they manually end the conversation via the 'X' button in the top right corner of the chatbot window. Disclosure Message: When a customer opens the chat, the chat disclosure content page is displayed, provided that the disclosure content is configured. Disclosure configuration information can be found here. Chatbot's Initial Greeting Message: The chatbot provides a standard greeting message indicating to the customer what the chatbot can do for them. Here are the 2 versions of this greeting: Registered Customers: "Hi there! I'm your digital assistant. Feel free to ask me about any of the following: Tracking and delivery information Order details Order cancellation Store locations near you Any policy related questions you may have How may I assist you today?" Anonymous Customer: "Hi there! I'm your digital assistant. Feel free to ask me about any of the following: Order details Order cancellation Store locations near you Any policy related questions you may have How may I assist you today?" These greeting messages are completely customizable. To learn how, click here. Note: Manhattan Active® Omni's Chatbot cannot be embedded within Facebook Messenger. Registered and Anonymous Customers The chatbot experience differs for registered and anonymous customers. These differences are outlined below. Registered Customer A customer is considered a registered customer if they log in to the e-commerce website and access the chatbot. For a registered customer, once logged in, the chatbot has access to their last 5 orders. This allows the customer to ask any supported order-related questions and take actions such as cancellations on those orders. When a logged-in customer opens the chatbot, the AI assistant immediately greets them with a widget displaying their most recent order. This widget contains several elements: OrderId Order Status Image of the item/items purchased in that order The quantity icon located in the bottom left corner of the item image indicates how many items were purchased. Buttons for return, track, change shipping address, and cancel Selecting any of the buttons appearing on the widget opens another tab to take the customer to Self-Service to perform the desired action. These buttons appear based on the status of the order. For example, if the order is in a pre-released status, then the button for 'cancel' will appear. A registered customer can either interact with the order widget, or can ask the chatbot any question about any of the 5 most recent orders. When the chatbot displays the most recent order widget, it can perform actions based on the customer's reference to that order. For example, if the customer asks, "What was the price of that order?", the chatbot recognizes that they are referring to the order displayed in the widget. Additionally, the customer can provide the order ID to get information about a previous order. Anonymous Customer Anonymous customers are those who make purchases as guest checkouts on e-commerce platforms without creating an account. The chatbot now supports the same intents for anonymous customers as it does for registered customers, with enhanced security measures. For order-related inquiries, authentication via a one-time passcode (OTP) sent through email or SMS is required. Customers can now ask about store locations and FAQs without authentication. However, for any other supported intents beyond store locations and FAQs the customer must authenticate by providing their first name, last name, and email or phone number via OTP. Once the OTP is successfully verified, the chatbot will process and respond to their inquiry. The OTP form will include the following fields: First Name, Last Name, Email or Phone Number, and Order ID. Among these, First Name, Last Name, and Email or Phone Number are mandatory, while Order ID is optional. For SMS OTP, there is a configuration setting called "Enable SMS OTP Verification" under Customer Interactions. This setting is disabled by default. To enable SMS as a verification method on the OTP form, this configuration must be explicitly enabled. There is no separate configuration required for Email OTP, as it is enabled by default. In the OTP form, the Phone field will display a list of countries based on the "Text Message Supported Countries" configuration. If no countries are configured, the dropdown will display all countries. The entered phone number will be validated against the format specified in the Country Configuration MUP UI. If no specific phone format is defined for a country, the default maximum allowed number of digits will be 14. OTP Authentication Process Customers can choose to receive the OTP via email or SMS. The OTP will always be a 6-digit numeric code, valid for 10 minutes. After this period, the OTP becomes invalid. If the customer requests a resend, a new OTP will be generated and sent. When a customer provides their first name, last name, and either email or phone number in the OTP form, an order search is triggered using the provided details. If at least one matching order is found, an OTP is generated and sent to the customer's email or phone. If no matching orders are found, the following message will be displayed: "No matching order(s) found for the given details." If the customer also provides an Order ID along with their first name, last name, and either email or phone number, the order search is triggered using the Order ID and email or phone number. If a matching order is found, an OTP is generated and sent to the customer's email or phone. If no matching orders are found, the same message will be shown: "No matching order(s) found for the given details." After OTP authentication, if the customer inquires about a different order, the chatbot will use the email or phone number from the specified order Id, validate this information with the previously authenticated email or the last 4 digits of the phone number. If the validation passes, the customer can continue the conversation and ask related questions. If the validation fails, the chatbot will respond with: "I cannot find a matching order with the details provided." On successful OTP authentication, the chatbot will search for the registered customers using the customer's provided first name, last name, email, or phone number. The phone number used for search will exclude the country code as a prefix. If a registered customer is found, the customer is not considered anonymous anymore if he connects to a live agent. When the customer clicks the "Connect to Agent" button, an interaction will be created as a registered customer interaction, as the customer session will contain the registered customer ID. This process will eliminate the need for additional OTP authentication from the customer service representative (CSR) in the agent's inbox. Note: To identify interactions where a registered customer initially engaged with the chatbot as an anonymous customer for order inquiries or interacted with a customer service representative (CSR), there will be an attribute called "AnonymousToRegistered" in the customer session, which will be set to true. If the retailer is already able to send transactional emails to customers, no additional configuration is required to send OTP via email, and it should work directly, but validate the email OTP template once. However, to send OTPs via SMS, these configurations must be followed. Chatbot Requires Conversation Before Live Chat The chatbot will require some back and forth messages with it before enabling the customer to click the 'Connect to an Agent' button. The threshold is defaulted to 5 messages, which includes both customer and chatbot messages. To customize the threshold, click here. Note: The messages the chatbot sends at the start of any conversation do count towards the threshold. These messages include the recent order widget displayed for registered customers, and the initial greeting message which is displayed for all customers. Maven Multi-Language Support Maven features support all Manhattan Active® Omni languages. This includes: Chatbot (This is true for all intents): The chatbot will respond in the customer's locale. EmailBot (This is true for all EmailBot supported intents): The email bot will respond in the customer's locale. The following agent-facing Maven features also support localization: Generate Draft Responses: Customer Locale Generate Wrap-Up: Customer Locale Interaction Summary: Customer Locale Trending Topics: User Locale Note: Some languages supported by MAO may not have starter pack labels. Please contact the services team to set up the Chatbot for these languages.. Chatbot Dashboard The Chatbot Dashboard provides insights into chatbot session data. The dashboard includes total metrics, like total sessions, average session time, and number of turns, as well as detailed metrics per intent. The primary goal of this dashboard is to provide insight into the high-level picture of the chatbot, for a selected organization for a particular day or time period. Additionally, the dashboard provides different breakdowns of each intent type to highlight the impact of how the chatbot performs on various inquiries. The aggregated chatbot data is stored for up to 1 year before it is purged. Although a wider range of days can be selected from the UI, the data displayed will apply only to conversations processed within the past 365 days. The default date range selected is 7 days, but a date range of up to 30 days can be set. Chatbot Dashboard Metrics Total Metrics: The total metrics capture insights across all intents for the given date range. The intents "Greetings" and "End Conversation" are removed from the Total Metrics calculations. Metric Name Description Total Conversations The total count of conversations, or sessions, for the selected date range. Total Deflection Rate Percentage of chatbot conversations that do not result in connecting to a live agent. Avg. Conversation Time The average length of time the conversations lasted for the selected date range, in minutes. This is calculated by dividing the sum of the conversation lengths by the number of conversations in the date range. Avg. Conversation Turns Turns are the number of times the customer and the chatbot exchange back and forth. This metric displays the average number of turns in the conversations for the selected date range. This is calculated by dividing the sum of turns by the number of conversations in the date range. Usage Metrics: The usage metrics capture insights across the individual intents for the given date range. The top 20 most used intents are displayed in order. Intents of 'Greetings' and 'Neutral Response' are not displayed. Metric Name Description Total Count The total count of conversations, or sessions, for the intent for the selected date range. Deflection Rate Percentage of chatbot conversations that do not end up connecting to a live agent for that intent. If a conversation has multiple intents, the conversation is accounted for in the deflection rate of each intent. For example, if a conversation has intents Order Status and Create Return, and the conversation does not result in connecting to a live agent, the deflection rate for both intents is 100%. Maven for Customer Engagement Within the Agent Inbox, Gen AI has been implemented for a few use cases to assist agents with daily tasks. They include the functions below: Auto-disposition Chats When a conversation is initiated in the chatbot, the user clicks to connect to a live agent. Manhattan's AI service automatically determines the case category, sub-category, and customer sentiment from the chatbot conversation.  The case category and sub-category will be updated on the case if the current interaction created the case. The customer sentiment is displayed in the chatbot summary and displayed in the Agent Inbox at the end of the conversation. The case category, sub-category and customer sentiment on the interaction can be used to configure in the routing configuration. Refer to Queue-and-routing-configuration for more. Case category, sub-category is pre-filled in the interaction wrap-up, but agents can override it if needed. Note: If the interaction gets associated with an existing open case, the case category and sub-category are NOT updated on the case. Chatbot Summary When a customer starts a conversation with the chatbot, they can choose to connect to a live agent. If the customer selects "Connect to an Agent," Manhattan's AI service generates a summary of the chatbot conversation. This summary will be displayed in the Agent Inbox. Even if the customer closes the chatbot interaction without clicking on "Connect to an Agent," if the chat is valid, the chatbot will create a closed case and interaction. It will also generate a summary to be included in the agent inbox. This helps customer service representatives quickly understand the conversation's context, including the customer's intent, sentiment, and mood. With this information, they can respond more effectively. Note : If a customer inquires about an order using the chatbot, the order ID will be included in the chatbot summary. If the customer asks about multiple orders in the same conversation, only the details of the latest inquiry and its order ID will be included in the summary. The summary will also include a sentence stating that the customer received assistance for other inquiries. Note: If the retailer does not have customer engagement feature enabled and only has the Maven chatbot, then when a customer finishes a conversation with the chatbot and closes it, the chatbot will not create a closed case and interaction, even though it was a valid chat. Interaction Wrap-up Generate Case Details Agents can 'wrap-up' a conversation when the interactions with the customer are complete.  As part of the interaction wrap-up, the agent can choose to manually fill out a list of case-related fields like case category, case sub-category, case resolution, and so on. Alternatively, the agent can click "Generate," which uses generative AI to analyze the interactions within the case and automatically populate the following fields: Case Category: AI selects a single value from a list of case categories passed to it. Order No.: AI finds the order ID from the interactions in the case. Description: AI summarizes the last 5 interactions in several sentences and populates it here. Resolution: AI selects 1 or more resolutions from a list of configured resolutions. Sentiment: AI will interpret the general sentiment of the customer at the end of the last interaction. The agent can edit or add to the notes drafted. The 'GENERATE' button can be selected to call the AI service again for a slightly different response. Gen AI Drafted Responses The Agent Inbox supports generating responses on-demand for chats and text messages. The 'Generate Response' button appears in the same left to right scrollable container for quick responses. This feature operates on the chatbot framework detailed above. The list of topics which can be answered by this generate feature is trimmed down from that of the base chatbot. The supported topics the 'Generate Response' feature can answer are below: General order inquiry: Customers can ask the chatbot questions about their recent orders, such as, "How much did my most recent order cost?" or "What is the status of my order?" The chatbot answers these questions using transactional data from Active Omni. Store Location: The chatbot can assist customers in finding nearby stores. It prompts the customer to provide a zip code and, upon receiving it, locates stores in the vicinity. The chatbot then displays the store locations to the customer. Gratitudes: When customers express their thanks or appreciation, the AI can generate responses to these. FAQ: The 'Generate Response' feature can answer frequently asked questions if they have been configured. To configure FAQ documents as a source for AI answers, click here. Email Bot The AI-Powered Email Bot is designed to enhance customer service efficiency by automatically analyzing incoming customer emails, attempting to provide relevant answers before escalating the request to a human agent. This feature helps reduce agent workload, speeds up response times, and improves customer satisfaction by offering instant resolutions when possible. To enable the Email Bot, click here. For most questions, the chatbot will only provide an initial response email and send that back to the customer. Any subsequent response from the customer will result in the email interaction being routed to customer service for further assistance. The email bot will provide a single response to the following types of questions: Any details related to the order, including item information, charges, taxes, discounts, and so on The status of the order Details related to return/exchange orders like Refund status, Reciept expected, and so on. Order tracking and ETAs Requests to change shipping address for orders Requests to return an order FAQ questions Some flows require additional customer information before the bot can take action. If any of the required information is not detected by the Email Bot in the customer's initial email, the Email Bot will follow up with the customer to provide the missing information. These multistep flows will have multiple back and forth messages between the customer and the Email Bot. The currently supported multistep scenarios are as follows: Order Cancelation: Initial customer email will express a desire to cancel an order. The Email Bot's first response will request the order ID and the reason for cancelation from the customer. The Email Bot will then cancel the order and send the customer one last message confirming the order was canceled. Any further interactions with the customer will result in the interaction being transferred to an agent. Miss-Ship Orders (Damaged, Wrong Item Received, and Lost): The Email Bot supports the Miss-ship behavior seen in the chatbot. The Email Bot requires all the same information as the chatbot, OrderId, if the customer desires a refund or replacement, the item in question, and an image depending on the policy document. The policy document uploaded for the chatbot's Miss-Ship use case also applies to Email Bot as well. Price Matches:The Email Bot supports the Price Match behavior seen in the chatbot. The Email Bot requires all the same information as the chatbot, OrderId, and the item in question. Note: If the customer expresses gratitude or thanks after the chatbot's initial response, the chat will end, and the case will be closed. This scenario will not route to an agent. This goes for both single and multistep scenarios. If the chatbot doesn't identify any of the above customer intents, the email will automatically be routed to an agent and will follow all normal email behavior. Email Bot Case Creation The Email Bot will create a case for all scenarios where it processes a customer email. This case will remain open until one of the following conditions is met: The customer replies to the final Email Bot email expressing thanks or gratitude. Five days pass without any new interactions, and the email interaction is the only interaction on the case. After five days, the case will be automatically closed. Note: The five-day window for closing cases is NOT configurable. Maven Subscription Dashboard The Maven Subscription Dashboard provides visibility into how the customer's current and planned conversation counts coincide with their subscription level across all organizations. The Maven Subscription Dashboard is enabled by default for all the environments and can be accessed if a relevant grant is associated with the user. The dashboard displays the following information for the subscription period: Subscription level: The number of conversations allowed in the current subscription. Actual conversation count: Displays cumulative daily conversation count actual from the date of subscription until a day prior to the current day.  A daily scheduler calculates the conversation count. Note: Manual updates to the actual conversation count entity are restricted; only a daily scheduler is authorized to calculate and update the order count. Projected count: Displays the projected conversation count on the last day of the subscription cycle. The projected subscription count for a subscription period is calculated as follows: (Actual conversation count till date + Expected conversation count prorated for the current month + Expected subscription count for the rest of the months) Expected count: The expected or planned conversation count is defined for each year and month until the end of the subscription period and provided by the customer. It can be defined via the Manage Maven Subscription Data UI or API, and can be updated as many times as desired if the forecast changes. At risk If the conversation count is projected to reach 90% of the subscription level by the end of the subscription period, a warning message is displayed indicating that the customer is at risk of exceeding the current subscription level. Overage If the conversation count is projected to exceed the subscription level by the end of the subscription period, the estimated overage cost is displayed. The overage cost is calculated by multiplying the overage rate defined for the subscription by the projected number of overage conversations. The overage cost is displayed in the currency specified in the subscription by the customer. Subscription Dashboard Configuration To enable the conversation subscription dashboard, complete the configuration below. The user should have the required grants to configure the data setup. Refer here for details. Expected Annual Subscription Use Manage Maven Subscription Data user interface to configure the expected count for each year for the business. Data entered is at the retailer's discretion, any annual subscription created or updated will be equally distributed for all months. However, users can override monthly subscriptions individually. Attribute Description Example Value Month Numeric identifier of month (1-12, where 1 is January, 2 is February, ... and 12 is December) 1 Year Year 2024 Annual Subscription Expected count of conversations for the year. 120000 Expected Monthly Subscription Use Manage Maven Subscription Data user interface to configure the monthly subscription for each month for your business. This is used to plot the expected volumes in the Maven Subscription UI, so users can compare them with the actual volumes. These values should serve as a guide for determining the current status within a yearly contract. Data entered is at the retailer's discretion and could be as simple as yearlyContract/12 = monthlyStoreCount or an advanced calculation based off historical evidence. However, the updated individual month subscription value cannot exceed the annual subscription value. Attribute Description Example Value Month Numeric identifier of month (1-12, where 1 is January, 2 is February, ... and 12 is December) 1 Year Year 2023 Monthly Value Expected count of conversations for the month. This projected count gets plotted against the actual count of conversations for each month. 10000 Note: To access the Manage Subscription Data UI, a relevant grant should be added to the user. Refer here for the grant details. Configurations Chatbot Chatbot Styling This controls fonts, colors, alignment, and other styling elements. If Digital Self-service (DSS) is already in use, then the chatbot will adopt the same styling configuration already present in Digital Self-Service. If you are using Digital Self-Service for the first time, follow this configuration. Some of the CSS variables for chatbot: CSS variables for chatbot/* Chatbot variables */ --chatbot-header-bg : var(--cardinal); --chatbot-bg-color: var(--dss_white); --chatbot-outgoing-message-bg: var(--charcoal); --chatbot-outgoing-message-color: var(--dss_white); --chatbot-incoming-message-bg: var(--lightgrey); --chatbot-incoming-message-color: var(--dss_black); --chabot-feedback-success-banner: var(--dss_fresh_mint); --chabot-feedback-success-text: var(--dss_black); Technical Configurations To ensure the chat is connected to the correct environment and Maven is enabled, the following technical configurations must be set. hostURL = Environment's host URL genai.Enabled = true Note: Contact Manhattan Associates for assistance with technical configurations. To enable the chatbot to display visual/clickable map widgets to locate stores, a Google Maps API key is required to be configured. To acquire an API key, please see Google Maps API Keys. The text which displays when stores are found 'Found 3 store(s) nearby.' may also be customized. If desired, please work with the support team. Ecommerce Implementation Configurations Manhattan Active® Omni’s chat widget can be embedded on your website to enable customers to get support from an AI-powered digital assistant and/or a live agent. Please refer to the developer portal documenation for more details. Functional Configurations To enable the display of the "Chat" icon on Self-Service pages, configure Enabling Chat Feature in Self-Service Pages. The Self-Service configuration can also be enabled using API. The Chat Client can be used in 3 different modes: Live Chat Only Chatbot Only Chatbot + Live Chat To configure the above combinations, configure the following: Navigate to Menu > POS Customer Engagement Configuration > Customer Interaction Configuration. On the Customer Interaction Configuration page, select ADD button. Select the View Virtual Assistant checkbox to enable chatbot. Select the View Chat to enable live chat. Click Save. The interaction configuration can also be enabled using API Interaction config API[POST] {{url}}/customerinteraction/api/customerinteraction/interactionConfig/save { "ConfigId": "defaultConfig", "EnableChatbot": true, "EnableLiveChat": true } To enable the interaction between the Chat Client and Gen AI, configure the following: Navigate to Menu > Manage Virtual Assistant Configuration > Virtual Assistant Configuration. On the Virtual Assistant Configuration page, select the existing configuration and click View. Select the "Enable Assistant" check box. Click Save. The virtual assistant configuration can also be enabled using API: VirtualAssistant config for ChatbotPOST {{url}}/virtualassistant/api/virtualassistant/virtualAssistantConfig/save { "ConfigId": "defaultConfig", "EnableAssistant": true } To disable the most recent order widget in the chatbot from providing any links to DSS, follow the instructions below: Navigate to the Consul Go to Key/Values Enter the customerinteraction component Add the following key: chatbot.orderwidget.dssLinks.disabled Make the value of this key = true To select the Self-Service pages desired to be linked to in the Most Recent Order Widget: Navigate to Menu> Manage Digital Self-Service Configuration > Digital Self-Service Page Configuration. Select 'Create' Select the page ID for the page you want to enable. Select the 'Enable' checkbox if the respective widget is to be shown in the Most Recent Order Widget. Note: The only pages which have a button to be displayed in the chatbot have the following IDs: Change Shipping Address, Cancel, Return, and Shipment Tracking Note: If no configuration is added, then all widget button links to DSS will be displayed by default. Chatbot Requires Conversation Before Live Chat To edit the required message threshold, go to the consul and navigate as follows: Key / Values->config->com-manh-cp-selfservice->selfservice.numberOfMessagesBeforeLiveAgent where selfservice.numberOfMessagesBeforeLiveAgent is the key and the value can be any number. Note: If not configured, the threshold will be defaulted to 5 messages. Disabling Chatbot Intents Retailers can disable base chatbot intents that they don't want to support using the chatbot configuration. To disable an intent, choose the intent, and deselect the 'Enabled' checkbox. Note that the greeting and unsupported intent cannot be disabled. Access to the chatbot configuration is managed by grants: To view the chatbot configuration, a user must have the following grant: customerengagementfacade::chatbotconfiguration::view To edit records on the chatbot configuration, a user must also have the following grant: customerengagementfacade::chatconfiguration::edit Integrating Chatbot with a Third Party Chat Provider Manhattan Active® Omni's chatbot can be used in tandem with third party chat providers if you are not using Manhattan's Agent Inbox. When integrated, the 'Connect to an Agent' button on the chatbot window will launch the third party chat within the chatbot window itself. The steps to enable are as follows: Use the customer interaction configuration API to set "EnableThirdPartyLiveChat" to true. Customer interaction API with third party live chat[POST] {{url}}/customerinteraction/api/customerinteraction/interactionConfig/save { "ConfigId": "defaultConfig", "EnableChatbot": true, "EnableLiveChat": true, "EnableThirdPartyLiveChat": true } Add custom logic to transition from chatbot to your live chat provider. For more details, please refer to the developer portal documentation. To load old messages from the chatbot conversation, use the following API: Get Chatbot Conversations[GET]  {{url}}/customerinteraction/api/conversations/conversation/{{conversationId}}/messages When saving the third party chat interactions, make sure to use the format below for the ChatConversation attribute on the interaction. If this format is not followed, the interaction will not appear in the case details page when viewing the interaction at a later time. ChatConversation Value Format for Interaction [ { "Author": "chatbot", "Sequence": 1, "DisplayName": "chatbot", "Body": "Hi there! I’m Sage, your digital assistant. I’ve found your most recent order. How can I help you?", "SenderType": "chatbot", "CreatedTimestamp": "2024-05-23T15:08:40" }, { "Author": "chatbot", "Sequence": 2, "DisplayName": "chatbot", "Body": "__widget__", "SenderType": "chatbot", "CreatedTimestamp": "2024-05-23T15:08:40" }, { "Author": "abrown@manh.com", "Sequence": 3, "DisplayName": "Alec Alecson", "Body": "hi I neeed to changee the address on this order?", "SenderType": "Customer", "CreatedTimestamp": "2024-05-23T15:08:59" }, { "Author": "SYSTEM", "Sequence": 4, "DisplayName": "system", "Body": "Thank you for contacting us. Let me connect you with someone who can help...", "SenderType": "system", "CreatedTimestamp": "2024-05-23T15:09:05" }, { "Author": "SYSTEM", "Sequence": 5, "DisplayName": "system", "Body": "You are now chatting with Agent", "SenderType": "system", "CreatedTimestamp": "2024-05-23T15:09:05" }, { "Author": "chatbot", "Sequence": 6, "DisplayName": "chatbot", "Body": "Please click the button change shipping address\n", "SenderType": "chatbot", "CreatedTimestamp": "2024-05-23T15:09:05" }, { "Author": "chatbot", "Sequence": 7, "DisplayName": "chatbot", "Body": "__widget__", "SenderType": "chatbot", "CreatedTimestamp": "2024-05-23T15:09:06" }, { "Author": "ChatSummary", "Sequence": 8, "DisplayName": null, "Body": "Customer needed to change the address on their order and was transferred to a live agent. \n", "SenderType": "ChatSummary", "CreatedTimestamp": "2024-05-23T15:09:06" }, { "Author": "abrown@manh.com", "Sequence": 9, "DisplayName": "Alec Alecson", "Body": "I cant change address, can I cancel?", "SenderType": "Customer", "CreatedTimestamp": "2024-05-23T15:10:36" }, { "Author": "SYSTEM", "Sequence": 10, "DisplayName": "system", "Body": "Do you want to continue this conversation? If yes, please respond.", "SenderType": "system", "CreatedTimestamp": "2024-05-23T15:15:37" }, { "Author": "SYSTEM", "Sequence": 11, "DisplayName": "system", "Body": "It appears you have stepped away. If you need additional assistance, feel free to start a new chat.", "SenderType": "system", "CreatedTimestamp": "2024-05-23T15:17:38" } ] Note: Launching a third party chat from the Digital Self-Service pages is not supported. When chatting with the chatbot on Digital Self-Service pages, connecting with customer service will not launch your third party chat. Third Party Communications Platform Configuration Manhattan Active® Omni uses third party messaging services to communicate back and forth between the chatbot and the customer. To use the chatbot feature, it requires an account to be set up for each project. Contact Manhattan Associates to set up a new account with a third party message service. Integrating with a Third-party Chatbot Provider Manhattan Active® Omni allows integration of its live chat with a third-party chatbot provider if you are not using Manhattan’s built-in chatbot. When integrated, the third-party chatbot must pass customer details and conversation identifiers to connect the customer seamlessly to a live agent. How Integration Works When the user clicks “Connect to an Agent” in the third-party chatbot UI: Pass the following customer details: Customer ID Customer First Name Customer Last Name Customer Email externalConversationId (unique conversation identifier) Trigger Manhattan Live Chat using the parent.window.postMessage method: parent.window.postMessage({ action: "Manh::Chat::openChat", url: "https://{{HOST URL}}/selfservice/ui/app/chat?orgId={{orgId}}&externalConversationId={{externalConversationId}}" }, '*'); Steps to Enable Integration 1. Update Customer Interaction Configuration Use the Customer Interaction Configuration API to enable live chat with the third-party chatbot. Set 'EnableChatbot' to false. Set 'EnableLiveChat' to true. Customer Interaction Configuration - Sample APIPOST {{url}}/customerinteraction/api/customerinteraction/interactionConfig/save { "ConfigId": "defaultConfig", "EnableChatbot": false, "EnableLiveChat": true } 2. Implement the User Exit for Third-Party Chat Use the Customerinteraction::UserExit::ThirdPartyChatbot user exit to: Pass the case ID and externalConversationId. Add custom logic to: Save previous conversations for the same case. Resolve and associate conversations with the correct case. For detailed implementation guidance refer to the developer portal documentation. Maven Chatbot Integration with Visualforce Website and Salesforce Service Cloud Live Chat The Maven Chatbot is embedded within the SFCC Visualforce website to enhance the customer support experience through Maven features. Additionally, it is integrated with Salesforce Service Cloud Live Chat, enabling customers to seamlessly transition from chatbot assistance to live agent support when needed. For more details, please refer to the developer portal documentation. Chatbot Customization The UI to disable intents described above provides a quick and user-friendly way to turn certain intents on and off for specific use cases. However, if a greater level of customization of these intents is desired, then that also may be done through a more in depth approach described below. Our chatbot provides a flexible configuration system that allows you to tailor its behavior to your specific needs. The chatbot supports base intents, customizable intents, and prompts to create a more personalized experience. Below are the ways in which you can modify the chatbot's functionality: 1. Enabling/Disabling Base Intents - The chatbot comes with a set of predefined base intents that cover common interactions and use cases. These base intents can be enabled or disabled as required: Enable an intent: Activates a particular base intent, so the chatbot can respond to it. Disable an intent: Deactivates a base intent, preventing the chatbot from recognizing or responding to it. 2. Adding New Intents - You can extend the chatbot’s functionality by adding new custom intents. New intents allow the chatbot to understand and handle additional types of user interactions that are specific to your business needs. Once configured, new intents will seamlessly integrate with the chatbot’s existing intent recognition system. 3. Adding New Prompts - The chatbot's dialog can be further customized by adding new prompts to guide users through specific flows or conversations. Prompts can be added to provide additional information, ask follow-up questions, or offer choices to the user. You can define new prompts by specifying the content, structure, and expected user responses. These prompts can be linked to existing or custom intents, ensuring a smooth and consistent conversational experience. By leveraging the ability to enable/disable base intents and customize the chatbot with new intents and prompts, you can create a dynamic and tailored interaction that best suits your audience. For exact details on customizing the chatbot, please refer here. 4. Customizing System Messages/Labels in Chatbot All system messages and labels in the chatbot and chatbot window can be customized through the consul. All labels and system messages can be found in one of the following two places: Key/Values -> localization -> com-manh-cp-customerinteraction -> Labels -> en -> localization.properties Key/Values -> localization -> com-manh-cp-selfservice -> Chat -> en -> localization.properties Here are a few examples: Chat disclosure Message ChatDisclosureContent in Key/Values -> localization -> com-manh-cp-selfservice -> Chat -> en -> localization.properties Chatbot Initial Greeting Message For registered customers: greetingMsgForRegisteredCustomer For anonymous customer: greetingMsgForAnonymousCustomer Order Statuses Shown on Most Recent Order Widget Typing Indicator Text Message indicating outside working hours: 'Our team is currently unavailable as we're outside of working hours. Please try again later.' Note:These are just a few of the many labels/system messages that can be customized. If it is visible in the chat window, then it can be customized in one of the two specified locations in the consul. 5. Customize the Chatbot To call a 3rd party system Manhattan Active® Omni's chatbot has the ability to call third-party systems within a customized chatbot flow. This feature allows the chatbot to access external data and services, improving its ability to provide personalized and efficient customer support. For detailed implementation guidance, refer to the developer portal documentation. Leveraging Maven APIs as a Backend Service Several Maven APIs can be leveraged within your own application. To view and use these APIs, please click here. Configuration for outside hours of operation message for Chat Interaction Hours of Operation Interaction Config Component Label Message Name KVStore Path Outside hours of operation chatbot and live chat enabled selfservice outofofficehours_TC Our team is currently unavailable as we're outside of working hours. Please try again later Key / Values ->localization-> com-manh-cp-selfservice-> chat-> en Refer to chat and text for more information on configured messages. After changing the message in KVStore, the respective component should be restarted. Maven for Customer Engagement Interaction Wrap-up Generate Case Details To enable the 'Generate' feature on the interaction wrap-up in the Agent Inbox, add the following grant: customerengagementfacade::agentinbox::generatewrapup Gen AI Drafted Responses To enable the 'Gen Ai Drafted Responses' feature in the Agent Inbox, add the following grant: customerengagementfacade::agentinbox::generateresponse Chatbot Dashboard To view the Chatbot Dashboard, add the following grant: customerengagementfacade::chatbot::dashboard::view Maven Subscription Dashboard To view the Maven Subscription Dashboard, add the following grant: omnifacade::customerinteraction::mavensubscriptiondashboard::read For some of the topics/intent, if the chatbot dashboard is displaying the deflection rate as N/A, try syncing the profile of the aggregator component. Maven Subscription Dashboard Configuration To manage the Maven Subscription Dashboard configuration, add the following grant: omui::customerinteraction::menu::ExpectedYearlyMavenSubscription Email Bot To enable the Email Bot: All configurations for the Chatbot must be enabled. Navigate to Interaction Configuration > Select the configuration and click edit > Select the 'Enable EmailBot' checkbox. SMS or Email OTP To send OTP via text, setup Twilio account and Text Component Configuration as usual. Save your Twilio FromPhone in your tenant KV store for the Customer Interaction component by setting the following key-value pair. Key: customerinteraction.sms.otp.from.phone Value: _yourTwilioToPhone_ (example: 16786711789) To configure the text component, login to KV Store> config> select the text component (for example, com-manh-cp-text,antjain01), and the create the following key-value pair Key : text.config Value :[{ "organization": "Provide organixation ex:globalorg-us", "user":"provide user id", "text.auth.key":"provide the text.auth.key ", "text.auth.sid":"provide text.auth.sid "}] For Example : [{ "organization": "globalorg-us", "user":"ceadmin@globalorg-us.com", "text.auth.key":"e16ea1e507507ef56ee2bfdcbaaa8ffd7629b655a6b9cfd03963299ce9863886cd48a7ce860b198a26e3c762c4e5d83fg52d0d3dc785u8b443cc93211474f693", "text.auth.sid":"AC609197f0ce0542d85f3176fd0accg939"}] The below key-value pair is optional. Key : text.server.base.url Value : https://omni-atran01.cp.manh.cloud/ Check email template and text template, and save them if they are not available Text Template for SMS OTPGET:{{url}}/text/api/text/textMsgTemplate/templateMsgId/OneTimePasscodeForAnonymousCustomer POST:{{url}}/text/api/text/textMsgTemplate/save { "Description": "Sends One Time Passcode for customer verification", "TemplateMsgId": "OneTimePasscodeForAnonymousCustomer", "ConditionalExpression": "TextMsgTemplate.TemplateMsgId contains \"OneTimePasscodeForAnonymousCustomer\"", "MessagePrefixInterval": 0, "Name": "One Time Passcode for Anonymous Customer template", "MessagePrefix": null, "MessageSuffixInterval": 0, "SequenceNumber": null, "TextMessageType": { "TextMessageTypeId": "Transactional" }, "MessageBody": "Hi ${TextMsgTemplate.CustomerFirstName},\r\nYour code is: ${TextMsgTemplate.OneTimePasscode}\r\nUse this code to verify your Manhattan Outfitters account. It will expire in 10 minutes." } Email Template for Email OTPGET : {{url}}/email/api/email/emailTemplate/templateId/OneTimePasscodeForAnonymousCustomer POST : {{url}}/email/api/email/emailTemplate/save { "TemplateId": "OneTimePasscodeForAnonymousCustomer", "GroupName": "ChatbotOTP", "LogFailure": true, "Description": "Sends One Time Passcode to a customer when the customer interacts with Chatbot", "ReplyToName": null, "Name": "One Time Passcode for anonymous customer template", "ReplyTo": "cpadmin@manh.com", "FromName": "Manhattan Outfitters", "ConditionExpression": null, "ReferenceField1": null, "ReferenceField2": null, "ReferenceField3": null, "ReferenceField4": null, "ReferenceField5": null, "Subject": "Your Manhattan One-Time Passcode (OTP) for Verification", "FromEmail": "cpadmin@manh.com", "ToAddress": [ { "ToAddressType": { "TypeId": "TO" }, "ToEmail": "${CustomerEmail}", "ToName": "${CustomerFirstName!} ${CustomerLastName!}" } ], "LogSuccess": true, "Body": "<!DOCTYPE html>\r\n<html>\r\n\r\n<body>\r\n    <p>Hi ${CustomerFirstName!},</p>\r\n   <p>Your code is: ${OneTimePasscode}</p>\r\n  <p>Use this code to verify your Manhattan Outfitters account. It will expire in ${ValidDuration!\"10 minutes\"}.</p>\r\n   <p>If you did not request this verification, please ignore this email.</p>\r\n</body>\r\n\r\n</html>" } Navigate to Interaction Configuration>Edit the configuration>Select "Enable SMS OTP Verification" checkbox.This configuration will be disabled by default. Troubleshooting Digital goods inquiries [Order Status Widget] order status for digital good Status on Widget FulfillmentStatus Text on widget Open In Process Released In Process Fulfilled Delivered via Email Canceled Cancelled OTHERS In Process Chatbot replies based on digital goods status Chatbot response on digital goods order status FulfillmentStatus Digital Goods Order Status Display Message Open In Process “Your order is currently being processed and will be delivered to your email shortly. If you do not receive it, please contact customer care for further assistance.“ Released In Process “Your order is currently being processed and will be delivered to your email shortly. If you do not receive it, please contact customer care for further assistance.“ Fulfilled Delivered via Email “Your order has already been delivered to your email. Please check your inbox and the junk folder. If you cannot find it there, kindly contact customer care for further assistance.“ Canceled Canceled “You order is cancelled. Please contact customer care for further assistance.“ OTHERS In Process “Your order is currently being processed and will be delivered to your email shortly. If you do not receive it, please contact customer care for further assistance.“ For Non - CE retailer : "No cases are created." If retailer is not using customer engagement functionality : "No cases are created" Case creation is disabled for non-CE retailers. If a retailer has customer engagement functionality, but no cases are visible. A CE customer should have the grant: customerengagementfacade::customerengagementservices To verify if the customer is a CE customer, use the following API: POST : {{url}}/organization/api/fwgrant/isUserGranted { "OrganizationId":{{orgId}}, "UserId": {{userId}}, "ResourceId": "customerengagementfacade::customerengagementservices" } If a retailer has customer engagement functionality, the CE grant has been added, but the case is still not visible. The customer's CE-enabled status is cached. If a grant has been added to enable CE for a customer, please restart the com-manh-cp-customerinteraction component to clear the cache and apply the changes. Anonymous customer authentication via one-time-passcode (OTP) Errors During Chat Not getting OTP Form for Store Related inquiries but getting it for Order Related inquiries As an anonymous customer, you won't see the OTP Validation form when inquiring about store locations, but you will be prompted for it when inquiring about your order. This is because OTP verification is only necessary for processes involving sensitive or personal information. Specifically, you'll be asked for an OTP for the following: Have questions about an existing order? Cancel an order Track your orders Change your shipping address for your order Request a copy of your order invoice Return or exchange your order Inquire about orders that were lost in transit or received a damaged item or did not receive their order. Request a price adjustment on your order Once authenticated, do I need to authenticate again for continuing the chat? No, once authenticated, the customer does not have to authenticate again to continue the chat. I am getting the following text response: "Sorry, we are unable to authenticate you at the moment. Please try again later." This error indicates that the OTP validation API failed to verify the user’s authentication status. Possible Reasons: The conversationId is not persisted in the Customer Session Table, causing the API to be unable to fetch the authentication status. Troubleshooting Steps:  Run the following API in Postman and check the StatusCode If this API fails, it means, that “conversationId is not persisted in the Customer Session Table”. [POST] {{url}}/virtualassistant/api/virtualassistant/chatbot/v1/customerinteraction/otpValidation/status { "ConversationId": "8a9a54bc-592d-4093-9d7b-94cf2a9f2327" } Can I Enquire About an Order Associated with a Different Email After Authentication? No, once authenticated, the system fetches order details linked to the authenticated email only. To check an order associated with a different email (e.g., billgates@manh.com while logged in with stevejobs@manh.com), you must start a new session and authenticate with that specific email. OTP Form Related Errors Getting an error on OTP Form when trying to validate without orderId  : “No matching order(s) found for the given details.” Check the order associated with the provided email/Phone Number. If an email or phone number does not have an order, we do not allow a user to send the OTP. Troubleshooting Steps: Whether an entered Email/Phone Number has an order or not, can be validated through following API. The below mentioned API should return at least one record: When Email is used in the form: [GET] {{url}}/searchv2/api/searchv2/order?keyword=&query=CustomerEmail='<email>' AND CustomerFirstName='<customerfirstname>' AND CustomerLastName='<customerlastname>' When Phone Number is used the form: [GET] {{url}}/searchv2/api/searchv2/order?keyword=&query=CustomerPhone='<phonenumber>' AND CustomerFirstName='<customerfirstname>' AND CustomerLastName='<customerlastname>' Getting an error on OTP Form when trying to validate with orderId  : “No matching order(s) found for the given details.” This error occurs when the email or phone number provided in the OTP form does not match the details associated with the given orderId. Troubleshooting Steps: Verify Email & Phone Number: Ensure the email or phone number entered in the form is the same as the one linked to the order. To check the details associated with an order, call the following API: [GET] {{url}}/order/api/order/order/orderId/OM-23523-20230809113820 The response will contain the attributes: CustomerPhone (Phone number associated with the order) CustomerEmail (Email linked to the order) Phone Number Matching Logic: Before validating, the system strips non-numeric characters from the phone number. If you need the exact implementation of how phone numbers are matched, refer to: com.manh.cp.customerinteraction.twilio.impl.ConversationServiceImpl#isPhoneMatched Error, "Something went wrong. Please try again." after clicking on "Send" button This may be happening because Text component is unable to send the OTP. You check the exception using below API: Please configure the text component for sending OTP. Please use configuration mentioned here [POST] {{url}}/customerinteraction/api/conversations/conversation/customer/otp/send { "FirstName": "Meghana", "LastName": "Srinivasa", "Email": null, "PhonePrefix": "+91", "PhoneNumberWithoutPrefix": "7100411104", "OrderId": "CC12603", "ConversationId": "CH013d8f0886634395a2499a7f3e18c20e" } Error, "Text Component failed to send OTP to customer phone" after clicking on "Send" button in OTP form For an OTP to be sent, first CustomerInteraction component sends a request to Text component. Then Text component sends a request to Twilio (or other third party) to actually deliver a text message containing the OTP. This error happens when CustomerInteraction sends a message request to Text Component, and Text component responses with "success": true in the response, but in the response, the attribute data[x].ErrorCode and data[x].ErrorMessage is not null (indicating that Text component or Twilio could not deliver the text message to the customer). There are 3 places that can cause this error: From CustomerInteraction component: The most common cause is CustomerInteraction has wrong customerinteraction.sms.otp.from.phone in KV store. From Text component: The most common cause is Text component has wrong credential setup in KV store. This causes Twilio to reject Text Component request. From Twilio: The two most common causes are Twilio could not send text messages because the Twilio depleted all its money, or because the Twilio account did not follow US regulation to send text messages to a US phone number To determine where the cause is most likely from, follow these steps: Step 1: actual text message Find the actual text message that Text component has just tried to send [GET] {{url}}/text/api/text/textMessage/?size=500 Example Response{ ... "data": [ { ... "TextMessageId": "an0213-0832a25", "ToCountry": null, "ToPhone": "+12345678901", "FromPhone": "+11234567890", "TextMessageStatus": { "TextMessageStatusId": "Sent" }, "FinalMsgBody": "From Manhattan:Msg rates may apply. Reply STOP to unsubscribe.", "MsgBody": null, "AccountSid": "AC50579a72f571182axxxx", "ErrorCode": null, "ErrorMessage": null, }, { ... "TextAdditionalInfo": [ { ... "TextAdditionalType": { "TypeId": "TextMsgTemplate" }, "Process": "/textMessage/send", "TextAdditionalValue": "{\"TemplateMsgId\":\"OneTimePasscodeForAnonymousCustomer\",\"CustomerFirstName\":\"12\",\"CustomerLastName\":\"34\",\"OneTimePasscode\":\"656412\",\"ValidDuration\":\"10 minutes\"}", "TextMessageId": { "PK": 7436454479231688574 }, "PK": "7436454479241693465", "TextAdditionalKey": "TextMsgTemplate", "PurgeDate": "2025-07-02T01:57:27.959", "Unique_Identifier": "7436454479241693465__TextMsgTemplate" } ], "TextMessageId": "612140eb-f648-4ee7-87c5-e193d27479d6", "ToPhone": "+12345678901", "TextMessageStatus": { "TextMessageStatusId": "Failure" }, "FinalMsgBody": "Hi 12,\r\nYour code is: 656412\r\nUse this code to verify your Manhattan Outfitters account. It will expire in 10 minutes.", "MsgBody": "Hi 12,\r\nYour code is: 656412\r\nUse this code to verify your Manhattan Outfitters account. It will expire in 10 minutes.", "FromPhone": "11234567890", "ErrorCode": "21408", "ErrorMessage": "Permission to send an SMS has not been enabled for the region indicated by the 'To' number: +91994540XXXX", } ] } The api will show a list of the text messages that have been sent from the Text component. Find the actual text message that has the error, which is most likely the last message (cross check by compare the “ToPhone” with the phone number that the customer input in the UI. From this, the error cause could be partly deduced). Check on the “ErrorCode” and “ErrorMessage” of the response. If they are null, there are no errors found in the actual text message. If they are not null, there are errors found in the actual text message. Step 2: Example text message Send a sample text message [POST] {{url}}/text/api/text/textMessage/send{ "TextMessageId": "an0213-0832a23", // change TextMessageId every time "FromPhone": "14697165952", // from KV Store customerinteraction, customerinteraction.sms.otp.from.phone "ToPhone": "+14047900088", // your phone number "TextMessageType": { "TextMessageTypeId": "General" } } Response{ ... "data": [ { ... "IsIncoming": false, "TextAdditionalInfo": [], "TextMessageId": "an0213-0832a23", "TextMessageType": { "TextMessageTypeId": "General" }, "ToPhone": "+12345678901", "TextMessageStatus": { "TextMessageStatusId": "Sent" }, "FinalMsgBody": "From Manhattan:Msg rates may apply. Reply STOP to unsubscribe.", "MsgBody": null, "FromPhone": "+11234567890", "ErrorCode": null, "ErrorMessage": null, } ] } Check on the “ErrorCode” and “ErrorMessage” of the response. If they are null, there are no errors found in the sample text message. If they are not null, there are errors found in the sample text message. Step 3: Compare the result using this table Actual text message Sample text message Most likely, the causes are from Has error Has error CustomerInteraction component Text Component Twillio Has error No error AND message not received CustomerInteraction component Twillio Has error No error AND message received CustomerInteraction component No error AND message not received Has error Text component Twillio No error AND message not received No error AND message not received Twillio For how long OTP is valid ? Is it possible to configure this time ? OTP is valid for 10 minutes. This timing is not configurable.