# Kit Items

**Permalink:** kit-items
**Path:** Manhattan Active® Omni/Order Management/Process & Configuration Guides/Order Orchestration/Creating and Updating Order/Kit Items
**Content Length:** 85,116 characters
**Scraped:** 2025-08-09T21:56:28.176032

---

Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Order Orchestration››Creating and Updating Order ››Kit Items Kit Items Previous I Next Kit ItemsOverviewAssumptionsKit Support in Call CenterKit Support in Digital Self-ServiceData Setup and System Objects/Processes for Kit Item Vs. Kit Component ItemsMaster DataCalculating Kit Item AvailabilityValidations for Kit ItemUnprocessed Order EventQuantity Detail UpdatesOrder Processing EnhancementsOrder CapturePromising RequestAllocationProcessing Updates from Fulfillment SystemsInvoice CreationOrder outbound and Sales PostingReturn Order Processing for Kit Item Order LinePure Return (Return Line) ProcessingEven Exchange ProcessingUneven Exchange ProcessingConfigurationProcessing Partial KitReturns and ExchangesTroubleshootingWhy does inventory movement happen for component items even though the order line for a kit item is backorderedImplementation FlavorsPartial Shipments of Kit Order LinesRelated Articles Overview Retailers sell a related group of individual items referred to as collection/kit item, as a single merchandise item. For example, a skincare retailer can include a scrub, face wash and moisturizer together as a skincare routine kit. In this case, the kit is treated as a single item(kit Item) and the individual items are grouped under the kit (kit Component Items) and are ensured to be fulfilled together. The kit item is a logical entity and does not represent a physical thing. However, kit component items are physical entities and can be sold independently/separately as well and hence inventory is maintained for the kit component items. In the context of a kit, the price for individual components may not amount to the price of the kit. Therefore, the system will ignore the item prices of each component and will only consider the price of the kit. This is one of the reasons the kit has to be fulfilled from an individual location and in the same shipment/package. This ensures the kit remains in the same invoice. Assumptions Only Call center and Digital SelfService UIs have been enhanced to support Kit items. For other UIs, UI user exits(UI extensibility) should be used to handle UI specific requirements. Item price, tax, promotions, and other charges defined for the kit item will be used in the order. However, price, tax, promotions, and other charges defined for the kit component items will not be considered. Inventory has to be maintained for kit component items and the fulfillment cycle represents physical movement of kit component items through the fulfillment cycle, represented logically as kit item in order component. Throughout the fulfillment cycle, order events can only be processed for kit components in complete kit quantity ratios. If WM/Store processes kit item components in quantities that do not amount to a complete kit(s) ratio, order events are stored against the release line but not processed. This can be used to reconcile partial kit events manually or through a custom reconciliation process. A return order can be created for the kit item order line which has been fulfilled and processed for pure return and even exchange. However, the actual inventory received back by WM/SIF will be for kit component items. Any requirement for individual kit component item level refund should be handled outside our return flow. Return Order Event (Receipt and Verification) processing for the return line will be for kit items. Processing of return Order Events (Receipt and Verification) at component items level can be enabled by enabling a business configuration. Refer 'Return Order processing for kit Item Order Line' for more details. Inventory updates for the kit return line will be for respective kit component items. Kit Support in Call Center During the order and return cycles, the Call Center provides visibility into kit components. Agents can use this information to ensure that the customer is ordering the correct kit, which minimizes returns. In the event of a return, the agent can review the component items with the customer so that everything is sent back to the retailer. For more information, see Kits in Call Center. Kit Support in Digital Self-Service Different Digital Self-Service features provide visibility into kit components. This information can be useful for customers based on specific features. For example, in the event of a return, the agent can review the component items with the customer so that everything is sent back to the retailer. For more information, see Kits in Digital Self-Service. Data Setup and System Objects/Processes for Kit Item Vs. Kit Component Items The table below illustrates various data setups expected at the parent kit item level and kit component item level for the proposed implementation to work. The table below illustrates various system output/processes at the parent kit Item level and kit component item level for the proposed implementation. Master Data A list of component items and quantities can be defined for a parent kit item. When an order line with the parent item is added or edited, the component items are updated in the corresponding ratios. For example, if ItemA is a kit item with 3 kit component items: ItemB (2 units), ItemC (1 unit), and ItemD (1 unit). The item table contains ItemA, ItemB, ItemC and ItemD all as individual items and ItemA's 'ItemComponent' property will contain ItemB, ItemC and ItemD along with their ratios to define what makes a kit ItemA. This example for kit Item - ItemA - will be utilized throughout this guide. Description Items Ratio kit Item ItemA - kit Component Item - 1 ItemB 2 kit Component Item - 2 ItemC 1 kit Component Item - 2 ItemD 1 The ratio mentioned in the above example is for 1 unit of kit item. The quantity of kit components required for multiple units of ItemA can be derived by multiplying the ratio of the respective kit component items by kit item quantity. The table mentioned below illustrates the breakup/composition of 2 units of ItemA. Items Quantity ItemB 4 ItemC 2 ItemD 2 With reference to the above given example of 2 units of ItemA, any other combinations of kit component items(ItemB, ItemC and ItemD) and their respective quantities apart from the composition given above will be considered as partial. Sample Kit Item JSON{ "ItemComponent": [ { "ComponentItemId": "ItemB", "ComponentQty": 4.0, "Description": null }, { "ComponentItemId": "ItemC", "ComponentQty": 2.0, "Description": null }, { "ComponentItemId": "ItemD", "ComponentQty": 2.0, "Description": null } ], "ItemId": "ItemA" } At any given point of time, an order line with kit item cannot be processed partially through the order processing and fulfillment cycle. Note: • Kit component items cannot be a mix of regular items and digital items. • If an order is interfaced with OrderLineComponents(kit components items) with a mix of regular items and digital items, an error message will be displayed and the order interface will fail. Calculating Kit Item Availability The Get Availability call is enhanced to retrieve the availability of kit items for location and network views. Refer to the Get Kit Availability and Publishing section for more details: The following table explains the on-hand kit availability calculation for network and location views: Supply View Config Availability Supply in 2 Distribution Centers(DC): DC1 DC2 10 tables on hand available 1 table on hand available 16 chairs on hand available 16 chairs on hand available Including all on hand available and no item protection Network view: Get availability: 5 kits Publish availability: 5 kits, 116 chairs, 11 tables Location view: Location DC1 - Get availability: 4 kits, Publish availability: 4 kits, 10 tables, 16 chairs Location DC2: - Get availability: 1 kit, Publish availability: 1 kit, 1 table, 100 chairs Multiple OH Supply Types DC1 DC2 10 tables on hand available 10 tables on hand available soon 10 tables on hand unavailable 1 table on hand available 1 table on hand available soon 1 table on hand unavailable 18 chairs on hand available 10 chairs on hand available soon 100 chairs on hand unavailable 100 chairs on hand available 100 chairs on hand available soon 100 chairs on hand unavailable Including all on hand available and on hand available soon with no protection Availability: Network view: Get availability: 9 kits Publish availability: 9 kits, 228 chairs, 22 tables Location view: Location DC1 - Get availability: 7 kits, Publish availability: 7 kits, 20 tables, 28 chairs Location DC2: - Get availability: 2 kits, Publish availability: 2 kits, 2 tables, 200 chairs Multiple Segments DC1 DC2 10 tables ecom 1 tables ecom 1 table retail 16 chairs retails 100 chairs ecom Including all retail and ecom inventory Availability: Network view: Get availability: 6 kits Publish availability: 6 kits, 116 chairs, 12 tables Location view: Location DC1 - Get availability: 4 kits, Publish availability: 4 kits, 10 tables, 16 chairs Location DC2: - Get availability: 2 kits, Publish availability: 2 kits, 2 tables, 100 chairs Multiple Inventory Attributes DC1 DC2 10 tables inv attr 1 = A 10 tables inv attr 1 = D 1 tables inv attr 1 = A 1 tables inv attr 1 = B 16 chairs inv attr 1 = B 8 chairs inv attr 1 = C 100 chairs inv attr 1 = D Including inv attr A and B for tables, but only inv attr = C for chairs Availability: Network view: Get availability: 2 kits Publish availability: 2 kits, 8 chairs, 12 tables Location view: Location DC1 - Get availability: 2 kits, Publish availability: 2 kits, 10 tables, 8 chairs Location DC2: - Get availability: 0 kits, Publish availability: 0 kits, 2 tables, 0 chairs The following table explains the mixing of on-hand and future kit availability calculations. Assume one table and four chairs makes one dining set and the current date is April 10 for the below scenarios. Supply View Config Availability DC1: Table: PO1 (6 Qty), ETA (25/Apr) Chairs: PO2 (20 Qty), ETA (1/May) Including all on hand available and future inventory and no item protection T0: Get Availability (Before 25/Apr) Sample KIT Availability Response - T0 (Future Supply){ "ItemId": "Dining Set", "Status": "AVAILABLE", "ViewId": "Ship-to-Home", "TotalQuantity": 5.0, "FirstAvailableFutureQuantity": 5.0, "FirstAvailableFutureDate": "1/May", "OnHandQuantity": 0.0, "FutureQuantity": 5.0, "FutureSupplyDetails": NULL, "IsKitItem": true } T1 : Get Availability (After 25/Apr) Sample KIT Availability Response - T1 (Future Supply){ "ItemId": "Dining Set", "Status": "AVAILABLE", "ViewId": "Ship-to-Home", "TotalQuantity": 5.0, "FirstAvailableFutureQuantity": 5.0, "FirstAvailableFutureDate": "1/May", "OnHandQuantity": 0.0, "FutureQuantity": 5.0, "FutureSupplyDetails": NULL, "IsKitItem": true } T2: Get Availability ( After 1/May) Sample KIT Availability Response - T2 (Future Supply){ "ItemId": "Dining Set", "Status": "AVAILABLE", "ViewId": "Ship-to-Home", "TotalQuantity": 5.0, "FirstAvailableFutureQuantity": 0.0, "FirstAvailableFutureDate": null, "OnHandQuantity": 5.0, "FutureQuantity": 0.0, "FutureSupplyDetails": null, "IsKitItem": true } DC1: Table: OH( 5 Qty) PO1 (6 Qty), ETA (25/Apr) Chairs: OH( 11 Qty) PO2 (22 Qty), ETA (1/May) Including all on hand available and future inventory and no item protection T0: Get Availability (Before 25/Apr) Sample KIT Availability Response - T1 (On hand and Future Supply){ "ItemId": "Dining Set", "Status": "AVAILABLE", "ViewId": "Ship-to-Home", "TotalQuantity": 8.0, "FirstAvailableFutureQuantity": 6.0, "FirstAvailableFutureDate": "1/May", "OnHandQuantity": 2.0, "FutureQuantity": 6.0, "FutureSupplyDetails": NULL, "IsKitItem": true } T1: Get Availability ( After 25/Apr) Sample KIT Availability Response - T1 (On hand and Future Supply){ "ItemId": "Dining Set", "Status": "AVAILABLE", "ViewId": "Ship-to-Home", "TotalQuantity": 8.0, "FirstAvailableFutureQuantity": 6.0, "FirstAvailableFutureDate": "1/May", "OnHandQuantity": 2.0, "FutureQuantity": 6.0, "FutureSupplyDetails": NULL, "IsKitItem": true } T2: Get Availability (After 01/May) Sample KIT Availability Response - T2 (On hand and Future Supply){ "ItemId": "Dining Set", "Status": "AVAILABLE", "ViewId": "Ship-to-Home", "TotalQuantity": 8.0, "FirstAvailableFutureQuantity": null, "FirstAvailableFutureDate": null, "OnHandQuantity": 8.0, "FutureQuantity": 0.0, "FutureSupplyDetails": null, "IsKitItem": true } DC1: Table: OH( 5 Qty) PO1 (6 Qty), ETA (25/Apr) PO2 (3 Qty), ETA (27/Apr) Chairs: OH( 11 Qty) PO2 (22 Qty), ETA (1/May) PO4 (10 Qty), ETA (10/May) Including all on hand available and future inventory and no item protection Get Availability Sample KIT Availability Response - T0 (On hand and Future Supply along with Multiple POs){ "ItemId": "Dining Set", "Status": "AVAILABLE", "ViewId": "Ship-to-Home", "TotalQuantity": 10.0, "FirstAvailableFutureQuantity": 6.0, "FirstAvailableFutureDate": "1/May", "OnHandQuantity": 2.0, "FutureQuantity": 8.0, "FutureSupplyDetails": NULL, "IsKitItem": true } T1: Get Availability (After 01/May) Sample KIT Availability Response - T1 (On hand and Future Supply along with Multiple POs){ "ItemId": "Dining Set", "Status": "AVAILABLE", "ViewId": "Ship-to-Home", "TotalQuantity": 10.0, "FirstAvailableFutureQuantity": 2.0, "FirstAvailableFutureDate": "10/May", "OnHandQuantity": 8.0, "FutureQuantity": 2.0, "FutureSupplyDetails": NULL, "IsKitItem": true } T2:Get Availability ( After 10/May) Sample KIT Availability Response - T2 (On hand and Future Supply along with Multiple POs){ "ItemId": "Dining Set", "Status": "AVAILABLE", "ViewId": "Ship-to-Home", "TotalQuantity": 10.0, "FirstAvailableFutureQuantity": null, "FirstAvailableFutureDate": null, "OnHandQuantity": 10.0, "FutureQuantity": 0.0, "FutureSupplyDetails":null, "IsKitItem": true } Validations for Kit Item A kit item is a collection of kit component items that always need to be processed together for the entire quantities throughout the fulfillment process. To ensure this, the system validates that specified conditions detailed below are met at various stages of the order processing and fulfillment cycle. Allocation - All kit component items for each kit item quantity are allocated to a single location. The same kit item can be allocated to multiple locations if each location contains inventory for all required component items for the kit item. Release - Demand Type's of allocated and released quantities are the same Order Event Processing - In-progress [All kit component items are present in complete kit ratio amounts in a single order event] Order Event Processing - Pick [All kit component items are present in complete kit ratio amounts in a single order event] Order Event Processing - Pack [All kit component items are present in complete kit ratio amounts in a single order event with the same Package ID for all components that make up at least 1 kit item] Order Event Processing - Ship [All kit component items are present in complete kit ratio amounts in a single order event with the same Package ID for all components that make up at least 1 kit item] Order Event Processing - Short [All kit component items are present in complete kit ratio amounts in a single order event] Unprocessed Order Event Unprocessed order event is an entity at the release line level to store order events that were unable to process due to one of the above validations. If the order event is invalid to be processed on the order, no error is displayed, rather, each order event object for a particular release line is stored on that line and can optionally be used for reporting and custom reconciliation processes. Consider the following example of a dining set kit item consisting of 1 table and 4 chairs: Item Quantity Component Ratios Release Dining Set 3 Table - 1 Chair - 4 Release Line 1 3 Table Release Line 2 12 Chair Example - Partial kit event Order Event Is Processed? Description Event Type - Short Release Line 1 1 Table Release Line 2 4 Chair Yes 1 quantity of the 'Dining Set' kit item is shorted, and the remaining 2 items are available for processing. Example - Partial kit component event Order Event Is Processed? Description Event Type - Short Release Line 1 1 Table Release Line 2 8 Chair No Each event object is stored as an 'Unprocessed Order Event' at its corresponding release line level. Example - Partial kit item shipment in multiple packages Order Event Is Processed? Description Event Type - Ship Release Line 1 Package 1 1Table Package 2 1Table Release Line 2 Package1 4 chair Package 2 4 chair Yes 2 quantities of the 'Dining Set' kit item are shipped, and an invoice is created for each package. Example - Partial kit component shipment in multiple packages Order Event Is Processed? Description Event Type - Ship Release Line 1 Package 1 2 Table Release Line 2 Package 2 8 chair No Each event object is stored as an 'Unprocessed Order Event' at its corresponding release line level. Quantity Detail Updates The system computes the order line quantity detail for the kit Item for all the processes. When the kit component items are in any of these stages; Allocated, Released, In-progress, Pick, Pack, Ship and Short, the corresponding kit item quantity is computed and quantity detail for the order line is updated accordingly. Order Processing Enhancements Order Capture OrderLineComponents entity holds the details of the kit component items. When this entity is populated with details for a particular order line, the order line's 'hasComponents' value is set to true. The flag 'hasComponents' is read-only and auto-populated based on the information being present in OrderLineComponents. This flag determines the subsequent order processing flow of kit items. OrderLineComponents entity has the following fields: ItemId - ItemId of the kit component item Description - Description of the kit component item Quantity - Ratio of the number of kit component item units that makes 1 unit of the kit Item Note: Order line components can be interfaced directly with the order or fetched from the item master on order import. If kit components are imported directly with the order, the kit components will not be fetched from the item configuration, and the values provided on the order are honored. Promising Request In case the Inventory has to be reserved before creating the order, the promising request has to be created for the kit component items with a specific Promising Request Line ID Format mentioned below. Promising Request Line ID Format required: <order-line-Id>:<kit-Component-Item-Id>, for example - 1:ItemB, 1:ItemC & 1:ItemD If the Enable Kits parameter is enabled in promising config parameters, and inventory has to be reserved before creating the order, the promising request has to be created for the Kit Item similar to the non-kit item. The ratio and component item can be changed in the LineComponents while creating the promising request. Kits Sample Promising Request { "PromisingRequestId": "Order_1", "PromisingConfigName": "KT_CONFIG", "RequestType": "Optimization", "DemandType": "Allocation and Future", "IsConfirmed": true, "ExistingReservations": [], "PromisingRequestDetail": [ { "ItemId": "DinningSet", "PromisingRequestDetailId": "1", "Quantity": 10, "FulfillmentGroupId": "FG-01", "DemandType": "Allocation and Future", "ShippingMethodId": "1_DAY", "LineComponents": [ { "ItemId": "Table", "Quantiy": 1 }, { "ItemId": "Chair", "Quantiy": 4 } ], "Address": { "PostalCode": "75250", "Country": "US" }, "DeliveryMethodId": "ShipToAddress" } ] } Note: Currently, two lines in the order with different Kit items that share one or more common components are not supported. Kit1 + Kit 2 (Both have different component items) Supported Kit1 + Kit 2 (Both have same component items) Not supported Kit1 + Kit 2 (one component item in common) Not supported Kit + Non Kit(not part of component item) Supported Kit + Non Kit(it is part of component item) Not supported Allocation When an order line with a kit item goes through the allocation process, the system checks if 'hasComponents'=true for the order line. If 'hasComponents'=true, then instead of allocating the order line item, the system tries to allocate the items specified in the OrderLineComponents. The promising request is formed with one promising request detail for each of the items specified in the OrderLineComponents and the attribute parentItemId is populated with the order line item (kit Item) and the quantity for each promising request detail for the respective item will be equal to (Ratio * Order Line Quantity) If the Enable Kits parameter is enabled in promising config parameters, and when an order line with a kit item goes through the allocation process, then the system will try to allocate the component item in complete kit ratio either full or partially quantities, from the single or multiple locations. The promising request is formed with one promising request detail for the kit item specified in the order and internally the quantity for the component items will be reserved based on (Ratio*Order Line Quantity) Kits Sample Promising Response { "PromisingRequestId": "Order_1", "RequestType": "Optimization", "PromisingRequestDetailList": [ { "PromisingRequestDetailId": "1", "ItemId": "DiningSet", "ParentRequestDetailId": "1", "Allocation": [ { "ReservationRequestId": "Order_1", "ReservationRequestDetailId": null, "ItemId": "DiningSet", "Quantity": 10.0, "UOM": null, "ShipFromLocationId": "ecomorg:AtlantaDC", "LatestReleaseDate": null, "LatestShipDate": null, "EarliestShipDate": "2024-12-30T12:12:00", "EarliestDeliveryDate": "2024-12-30T12:12:00", "AllocatedOn": "2024-12-30T10:12:20.565", "LineComponents": [ { "ReservationRequestDetailId": "1:Table", "ItemId": "Table", "Quantity": 1 }, { "ReservationRequestDetailId": "1:Chair", "ItemId": "Chair", "Quantity": 4 } ] } ] } ] } Kits Sample Reservation { "ReservationRequestDetail": [ { "ItemId": "Table", "ParentItemId": "DinningSet", "Ratio": "4", "EffectiveRank": "Not Applicable", "LocationId": "ecomorg:AtlantaDC", "Quantity": 10.0, "FulfillmentGroupId": "FG01", "ReservationRequestDetailId": "1:Table", "ViewId": "Ship-to-Home", "DemandType": "Allocation and Future" }, { "ItemId": "Chair", "ParentItemId": "DinningSet", "Ratio": "4", "EffectiveRank": "Not Applicable", "LocationId": "ecomorg:AtlantaDC", "Quantity": 40.0, "FulfillmentGroupId": "FG01", "ReservationRequestDetailId": "1:Chair", "ViewId": "Ship-to-Home", "DemandType": "Allocation and Future" } ], "RequestId": "RR_04", "AllOrNone": false, "IsConfirmed": true, "DemandType": "Allocation and Future" } Release Creation and Outbound System validates that a single release is created for entire quantities of all kit component items of a kit item, and the demand type matches the demand type of allocated quantities during allocation. The release line contains the parent item populated for all the component items in the release outbound. This information will be used by the fulfillment systems to ensure they are fulfilled together. The example given below illustrates the successful allocation and release of an Order Line for ItemA for Ordered Quantity = 2. Processing Updates from Fulfillment Systems Order events processing validates if all component items are present when updates are sent for order lines with hasComponents= true. There is no support for partial updates for any of the events. A custom component is required to make sure that the order events are sent for all component items. If WM/Store ships part of a kit in a package, the order event is stored but not processed, and a custom or manual reconciliation process is needed to consolidate and proces all component items together. The list of order events and validations performed while processing them in order is given below: Order Event Processing - In-progress All kit component items are present in complete kit ratio amounts in a single order event. Order Event Processing - Pick All kit component items are present in complete kit ratio amounts in a single order event Order Event Processing - Pack All kit component items are present in complete kit ratio amounts in a single order event All the order events for at least one kit item ratio have the same package ID Order Event Processing - Ship All kit component items are present in complete kit ratio amounts in a single order event All the order events for at least one kit item ratio have the same package ID Order Event Processing - Short All kit component items are present in complete kit ratio amounts in a single order event All the order events for at least one kit item ratio have the same ReasonCode If the order event fails any one of the validations mentioned above, none of the the order events will be processed and will be stored at the release line level. Sample OrderEvents JSON{ "ExternalMessageId": "08May_ORD04", "OrderEvent": [ { "ExternalMessageId": "08May_ORD04", "EventTypeId": "Ship", "OrderId": "08May_ORD04", "OrderLineId": "1", "ReleaseId": "08May_ORD041", "ReleaseLineId": "1", "StatusId": "7000", "Item": "ItemB", "Quantity": 2, "UOM": "EA", "ShortReasonId": null, "FulfillmentInfo": { "PackageId": "PKG-001", "PackageDetailId": "1", "TrackingNumber": "TN-001", "ShipViaId": "STD", "ServiceLevelCode": "0001", "ModeId": "M-001", "CarrierCode": "UPS", "ShipmentId": "0001", "FulfillmentId": "08May_ORD041", "FulfillmentDetailId": "1" } }, { "ExternalMessageId": "08May_ORD04", "EventTypeId": "Ship", "OrderId": "08May_ORD04", "OrderLineId": "1", "ReleaseId": "08May_ORD041", "ReleaseLineId": "2", "StatusId": "7000", "Item": "ItemC", "Quantity": 1, "UOM": "EA", "ShortReasonId": null, "FulfillmentInfo": { "PackageId": "PKG-001", "PackageDetailId": "2", "TrackingNumber": "TN-002", "ShipViaId": "STD", "ServiceLevelCode": "0001", "ModeId": "M-001", "CarrierCode": "UPS", "ShipmentId": "0001", "FulfillmentId": "08May_ORD041", "FulfillmentDetailId": "2" } }, { "ExternalMessageId": "08May_ORD04", "EventTypeId": "Ship", "OrderId": "08May_ORD04", "OrderLineId": "1", "ReleaseId": "08May_ORD041", "ReleaseLineId": "3", "StatusId": "7000", "Item": "ItemD", "Quantity": 0.5, "UOM": "EA", "ShortReasonId": null, "FulfillmentInfo": { "PackageId": "PKG-001", "PackageDetailId": "2", "TrackingNumber": "TN-003", "ShipViaId": "STD", "ServiceLevelCode": "0001", "ModeId": "M-001", "CarrierCode": "UPS", "ShipmentId": "0001", "FulfillmentId": "08May_ORD041", "FulfillmentDetailId": "3" } } ] } Sample Short Event - Kit{ "ExternalMessageId": "08May_ORD04", "OrderEvent": [ { "ExternalMessageId": "08May_ORD04", "EventTypeId": "Short", "OrderId": "08May_ORD04", "OrderLineId": "1", "ReleaseId": "08May_ORD041", "ReleaseLineId": "1", "StatusId": "7000", "Item": "ItemB", "Quantity": 2, "UOM": "EA", "ShortReasonId": "3000.000" }, { "ExternalMessageId": "08May_ORD04", "EventTypeId": "Short", "OrderId": "08May_ORD04", "OrderLineId": "1", "ReleaseId": "08May_ORD041", "ReleaseLineId": "2", "StatusId": "7000", "Item": "ItemC", "Quantity": 1, "UOM": "EA", "ShortReasonId": "3000.000" }, { "ExternalMessageId": "08May_ORD04", "EventTypeId": "Short", "OrderId": "08May_ORD04", "OrderLineId": "1", "ReleaseId": "08May_ORD041", "ReleaseLineId": "3", "StatusId": "7000", "Item": "ItemD", "Quantity": 0.5, "UOM": "EA", "ShortReasonId": "3000.000" } ] } For Order Events - Inprogress, Pick and Pack - either OrderLineId or ReleaseLineId should be present. If OrderLineId and ReleaseLineId are null in the OrderEvent, the Order Event will be processed further by considering the Item as a regular Item. Package ID's given for any Inprogress and Pick Order Events will be ignored. For Short Order Events - ShortReasonId has to be the same for all the kit component items. If ShortReasonId is not the same for all the kit component items, the system will be unable to decide if the kit should be cancelled or reallocated (depending on the short reason code configuration) Invoice Creation There is no change in invoice creation. Invoice is created for parent item. As an Invoice is created based on the packageId in the fulfillment detail, it is required that all component items of a kit are sent in the same package during Packed and Ship Order Events respectively. Order outbound and Sales Posting Order outbound and sales posting would include the components item information as part of the order line and invoice line in the payload. Return Order Processing for Kit Item Order Line Pure Return (Return Line) Processing Return Order Processing at Kit item Level - A return order can be created for a fulfilled order line with a kit item for pure return. A return line will be created for the parent kit item and return order events like receipt and verification are done for the kit item for the entire returned quantity. Partial quantity returns are not supported. While Manhattan Active® Warehouse Management/Manhattan Active® Store Inventory & Fulfillment physically receives the kit component items, custom components will have to convert them into Return Order Events (Receipt/Verification) for the kit item. All kinds of variances like Item Variance, Quantity Variance, and Condition Variance will be generated for the kit Item and not for kit component items. Return Order Processing at Kit Components Level - Return order events such as Receipt and Verification can be processed at the kit component items level by enabling the configuration 'Enable Partial Kit Shipments and Receipt/Verification at Kit Component Level' in the Order Parameters. Once enabled, the details of received and verified component items are captured under OrderLine.ReturnDetail. All types of variances, like Item Variance, Quantity Variance, and Condition Variance, will be evaluated at the kit component level. Quantity Variance If only a subset of the kit components is verified, the return line will be placed on Quantity Variance Hold. Example: A return line includes a dining set kit with a table (1 qty) and chairs (4 qty) as component items. If 1 table and only 3 chairs are verified, the return line will be placed on Quantity Variance Hold. The system behavior varies based on the Return Verification Policy: If the verification policy is set to 'Return Order', the return line hold cannot be resolved unless the verified components can form at least one complete kit. Otherwise, the return line should be cancelled, and any applicable refund should be handled outside the standard return flow (for example, via appeasement on the parent order). If the verification policy is set to 'Return Line', the remaining component items can be verified later. Once all necessary components are received and verified for the return line, the Quantity Variance is resolved, and a return invoice will be generated. When a return line with partial kit components is resolved, the system will automatically calculate how many complete kits can be formed from the verified items and generate the return invoice accordingly. The remaining kit quantity will be canceled. Example: A return line includes 3 dining set kits, with 3 tables and 12 chairs as components. If 3 tables and only 8 chairs are verified, the line will be placed on Quantity Variance Hold. Once the variance is resolved (manually or via auto-resolve), a return invoice will be generated for 2 complete kits (2 tables + 8 chairs → 2 kits), and the remaining quantity, 1 kit item quantity, will be canceled. Condition Variance : If the condition of any verified kit component differs from what the customer originally stated when creating the return order, the return line will be put on hold with Condition Variance Hold. Example: A return is initiated for a dining set kit in good condition. At the return center, the table is verified as good, but the chairs are verified as damaged. In this case, the return line will be held due to condition variance. Item Variance: If a verified item does not belong to the kit defined in the return order line, a new Unexpected Return Line will be created and placed on hold. If partial kit item quantities are verified for a return order line, a refund cannot be processed. Instead, the order line should be canceled, and an appeasement can be applied on the parent item to refund the customer. Even Exchange Processing A return order can be created for a fulfilled order line with kit item for even exchange. The return line processing is as explained above for pure return. The even exchange order line will be created for the parent kit item and kit component items for the exchange order will be copied from the parent order line and will have 'HasComponents' attribute set to 'true'. Processing the even exchange order line follows the same fulfillment flow as described above for a customer order line with kit Item. Uneven Exchange Processing A return order can be created for a fulfilled order line with kit items for uneven exchange. An exchange order line will be created for the item selected by the customer for exchange - which can be another regular item. Processing of the exchange order line follows the existing fulfillment flow for a regular item. Configuration Processing Partial Kit To support partial kit processing, enable the "IsPartialKitSupported" attribute in the order parameters and the "EnableKits" attribute in the promising config parameters. This can be done via the relevant APIs or by selecting the "Enable Partial Kit Shipments and Receipt/Verification at Kit Component Level" checkbox in the Order Parameters UI. If the above configuration is disabled, only processing (allocation and order events) is supported for the complete quantity of all kit items for an order line, and no partial kit support is possible. POST {{url}}/order/api/order/orderParameters/save { "OrderParametersId": "defaultOrderParameters", "IsPartialKitSupported": true } POST {{url}}/promising/api/promising/promisingConfigParameters/save { "PromisingConfigParameterId": "1", "EnableKits": true } Returns and Exchanges To enable receipt and verification at the component level for kit items, the "IsPartialKitSupported" attribute in order parameters should be enabled. This can be done via the relevant APIs or by selecting the "Enable Partial Kit Shipments and Receipt/Verification at Kit Component Level" checkbox in the Order Parameters UI. If the above configuration is disabled, return order events like receipt and verification are done for the kit item for the entire returned quantity. POST {{url}}/order/api/order/orderParameters/save { "OrderParametersId": "defaultOrderParameters", "IsPartialKitSupported": true } Troubleshooting Why does inventory movement happen for component items even though the order line for a kit item is backordered Allocation always happens at the component item level. If the inventory is not available to fulfill all the kit quantities, the order will be moved to the backordered status. When a kit order is created, a promising request is sent for the kit component items, causing the inventory to be reduced. However, the order component will not update the allocation details on the order unless there is enough inventory to fulfill all kit quantities. Out of the box will handle passing the single source in the promising request for kit items, ensuring that all component items are allocated from the same location. Implementation Flavors Partial Shipments of Kit Order Lines This is applicable if partial kit support is not enabled.  As outlined in the Validations for Kit Items, a validation error occurs if multiple kit items are present on a line, and the ship event does not include all the component items that make up the full quantity of kits on the order line. To offer some flexibility in this flow, the flag ''CancelUnfulfilledQuantity" can be included at the order event level. When present, if the ship event contains the correct component items to fulfill some, but not all, of the kits on the order line, the remaining kit items will be canceled, allowing the shipped kits to process. { "OrderEvent": [ { "EventTypeId": "Ship", "ReleaseId": "CC10614", "ReleaseLineId": "1", "Item": "KitComponent1", "Quantity": 2, "UOM": "EA", "CancelUnfulfilledQuantity": true, "FulfillmentInfo": { "PackageId": "LPN_CC10614_1", "PackageDetailId": "1", "TrackingNumber": "PJXYCC10614_1", "ShipmentId": "ASNCC10614_1", "EventDate": "2024-11-15T00:00:00" } } ] } Related Articles Quote OrdersReserve Online Pickup in Store (ROPIS) OrdersSupersession ItemsRetail Orders and Large OrdersRFID Cart and FulfillmentOrder Validation