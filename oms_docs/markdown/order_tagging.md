# Order Tagging

**Permalink:** order_tagging
**Path:** Manhattan Active® Omni/Order Management/Process & Configuration Guides/Order Orchestration/Order Tagging
**Content Length:** 28,226 characters
**Scraped:** 2025-08-09T21:56:39.213759

---

Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Order Orchestration ››Order Tagging Order Tagging Previous I Next OverviewProcess FlowHow Order Tagging Works?ConfigurationConfiguring Order/OrderLine TagsImplementation FlavorsTagging lines with extended attributesUser Exit (s)Related Article(s) Overview Order tagging is an optional service which can be used to apply "tags" to an order or order line based on certain rules. For instance, lines with a certain combination of delivery method and product class could be tagged as "needs special care," or orders with certain customer types and service levels could be tagged as "high priority". If an order matches a business rule, the order is tagged and can be blocked from progressing further through its lifecycle through custom extensions. Examples of such extensions include applying or removing holds and preventing allocation or release. Order modification rules can be configured to generate an outbound order message when a tag is applied or removed at the order or line level. Process Flow How Order Tagging Works? When each order is created or updated, an order tagging service is invoked. This tagging service can apply multiple order and order line tags when the order data matches the configured rules. These rules and criteria could be based on transaction attributes of the order or order lines, as well as the related master data attributes like item and customer. The rules need to be executed at the order header or order line level. To re-trigger the tagging service on demand, an API can be used to input a list of order Ids for tagging re-evaluation. Order and order line tags are managed via order and order line tagging. These business rules can be multiple and are not ranked and the sequence in which they are evaluated is not significant. All the value rules are evaluated for an order which could result in an order matching multiple rule criteria. In case of multiple matches, the order is tagged with multiple tags corresponding to each rule the order met. These rules are not a scheduled process rather are evaluated each time an order is created or updated from any source. New rules do not retroactively apply to orders already in the system, but they are evaluated (along with all other rules) for future new orders that are created or existing orders that are updated. A pre-defined set of attributes from the following entities is exposed to the rule framework for evaluation – Order Order Line Item Master Customer Master Additional existing or extended attributes of the above entities or child entity attributes of the above entities or child entity extended attributes from the above entities can be added via system configuration using the Available Attribute API only. Note: Once the available attributes are defined, rules f/w UI can be used for selecting the values of the Existing, Extended or Child entity only. Currently, child entity extended objects of the above entities are not exposed to the rule framework UI for value selection. For example, customer master extended attribute1 can be defined using the available attributes. But the selection of this attribute with a value, "Fraud Risk" cannot be done using the rules f/w UI without product enhancement. However, you can define the value selection from the backend API. Rule validity dates define when the rule is active vs inactive. For example, if a rule’s validity dates are 01-Dec-18 through 31-Dec-18, then any orders processed through the rules during these dates are evaluated through the rule. An order placed / modified on 11/30/2018 is not evaluated through the rule. These business rules can be created or updated through the UI and rest APIs. These rules can be shared across organizations. Tagging rules are configured on the Tagging Rule Configuration UI. Configuration Configuring Order/OrderLine Tags Tagging Rule Configuration enables you to define business rules to manage order and order lines associated with the corresponding tags. The business rule is set based on order, order line, item, and customer entities. In order to configure, order and order line tags should be defined in tag entity. This is a prerequisite before a tagging business rule is defined. These tags can be created or updated through the UI and rest APIs. Each tag defined should be associated to either Order or Order Line entity indicating the tag level. Order Tagging Configuration enables you to expose order and customer attributes in order tagging rules and evaluate these rules for order tagging. Order Line Tagging Configuration enables you to expose order line, customer, and item attributes in order line tagging rules and evaluate these rules for order line tagging. The Manage Order Configuration module includes the following features to manage the order configuration process. Add/Edit order or order line tag Order tagging configuration Order line tagging configuration Implementation Flavors Tagging lines with extended attributes Click here for detailed stepsStep1 : Create Extended attribute in KV store (work with the services team). Follow the below steps. Login to consul / KV Store of the environment. Select Key/Value In the Root Directory create a Folder - "Extended-Attributes" Under the "Extended-Attributes" Folder - create a folder with name of the Component for which Extended Attributes are required to be created. For example - if we need Extended Attributes in Order Component, create a folder for the same using the name of the Component  - "com-manh-cp-order". If we need Extended Attributes in Customer Component, create a folder for the same - "com-manh-cp-customer" In that Folder create a json file - "extended-attributes". Then update it by entering the details of the Extended Attributes to be created in various Entities of the Component as mentioned follows { "Component": "order", "Entities": [ { "Name": "OrderLine", "Properties": [ { "Name": "lineExtended1", "Type": "text", "ColumnName": "LineExtended1" } ] } ] } Step2 : Create Extended Entity using below API and json API {{url}}/order/api/rules/availableEntity/save Request Body { "AvailableEntityId": "extended", "EntityLabel": "Extended", "entityName": "Extended" } User systemadmin@system.com Step3 : Link the new entity created to orderLine using below API and json. LinkAttributeSave API {{url}}/order/api/rules/availableAttribute/save Request Body { "AttributeLabel": "Extended", "AvailableEntityId": "orderLine", "AttributeDataType": { "AttributeDataTypeId": "object" }, "AvailableAttributeId": "extended" } User systemadmin@system.com Step4 : Create extended attribute and Link to OrderLine using below API and json. AttributeSave API {{url}}/order/api/rules/availableAttribute/save Request Body { "AttributeLabel": "Line Extended1", "AvailableEntityId": "extended", "AttributeDataType": { "AttributeDataTypeId": "text" }, "AvailableAttributeId": "lineExtended1" } User systemadmin@system.com/password Step5 : Configure tags in OrderLine Tag configuration. Step6 : Create order with extended attribute say "PreOrder". SaveOrder API {{url}}/order/api/order/order/save Request Body { "OrderId": "SP10", "SellingChannel": "Web", "Priority": "1", "IsOnHold": false, "IsConfirmed": false, "IsCancelled": false, "CurrencyCode": "USD", "CustomerFirstName": "Sunil", "CustomerLastName": "Praharaj", "TaxOverrideValue": "3.53", "IsTaxOverridden": true, "DocType": { "DocTypeId": "CustomerOrder" }, "OrderType": { "OrderTypeId": "Ecom Order" }, "OrderLine": [ { "OrderLineId": "1", "IsOnHold": false, "ServiceLevelCode": "UPS_GROUND", "CarrierCode": "UPS", "ShippingMethodId": "TwoDay", "IsCancelled": false, "ItemId": "Laptop1", "UnitPrice": "10", "IsPriceOverridden": true, "Quantity": "5", "IsReturnable": true, "UOM": "EACHES", "FulfillmentGroupId": "5", "ShipToLocationId": null, "Extended": { "lineExtended1": "PreOrder" }, "DeliveryMethod": { "DeliveryMethodId": "ShipToAddress" }, "ShipToAddress": { "AddressTypeId": "Shipping", "IsAddressVerified": true, "Address": { "Address1": "2300 Windy Ridge PKWY SE", "Address2": "", "City": "Suwanee", "Country": "US", "Email": "OMartell@yahoo.com", "FirstName": "Sunil", "LastName": "P", "Phone": "423-306-1973", "PostalCode": "30039", "State": "GA" } } } ] } User systemadmin@system.com/password Step7 :  Verify the OrderLineTag Details where Tag should be populated. User Exit (s) Order:UserExit:TagOrder : This user exit can be implemented to customize the logic used to Tag Order/Order Lines after the application has applied the Tags automatically and has to be removed or modified as per enhanced logic. This user exit cannot be used for imported orders, that is, 'isImport' flag turned on during order import. TRIGGER POINT : Order Creation, Order Update Related Article(s) Order Orchestration ConfigurationCart and Preview ModeCreating and Updating OrderHoldsOrder Audit Shipping RestrictionDelivery TrackingPublishing Order Order Orchestration ProcessOrder ArchivingOrder CancellationMod Types