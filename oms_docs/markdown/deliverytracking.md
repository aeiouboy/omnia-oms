# Delivery Tracking

**Permalink:** deliverytracking
**Path:** Manhattan Active® Omni/Order Management/Process & Configuration Guides/Order Orchestration/Delivery Tracking
**Content Length:** 93,457 characters
**Scraped:** 2025-08-09T21:56:47.390416

---

Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Order Orchestration ››Delivery Tracking Delivery Tracking Previous I Next OverviewProcess FlowFor existing customers - the 'Order' component tracks the package statusFor new customers - the 'Shipment Tracking' component tracks the package statusOrder Processing: Ship eventInitiate Tracking RequestThrough Order ComponentThrough Shipment Tracking ComponentProcess Tracking Request (Carrier)Process Tracking Response (Carrier)Reinitiate Tracking Request (Carrier)ConfigurationsHow to Enable Delivery TrackingHow to Change the Delivery Tracking Schedule - Order ComponentHow to Change the Delivery Tracking Schedule - Shipment Tracking ComponentHow to Enable Package Auto-CloseHow to Configure Third-party Carrier IntegrationHow to Map Carrier Tracking CodeImplementation FlavorsHow to track delivery for carriers other than UPS, FedEx, USPSHow to track delivery for same day delivery ordersHow to map the carrier tracking code to custom status in parcelHow to enable Delivery Tracking for Retail ordersHow to implement a push mechanism to capture tracking activities using the 'ShipmentTracking' componentTroubleshootingWhy is the parcel track API not being called for my order Why is the tracking URL not redirected to the carrier's website How to test each of the delivery notifications without sample tracking numbers Why is the package status on the order stuck in open statusWhy is the order not moving to delivered statusWhy is OrderTrackingInfo not being created for a packageParcel Component User ExitsRelated Articles Overview Manhattan Active® Omni Order Management tracks delivery of packages through a pull mechanism from order to carrier through parcel component. Order tracking details are created based on the response from the third-party carriers. UPS, FedEx, and USPS are the carriers which support delivery tracking out of the box. Text and email notifications can be sent when the latest status of a package is out for delivery or delivered. Track Delivery can be used to enable the application to track the real-time delivery status of packages shipped for ship to address order lines from the third-party carrier providers, update the application with the real time status periodically and move quantities shipped in a package to delivered status automatically once the real time status of the package as per the third-party carrier provider is delivered. For more information on third-party carrier integration supported out of the base from order, refer to the Third Party Integrations guide. Process Flow For existing customers - the 'Order' component tracks the package status For new customers - the 'Shipment Tracking' component tracks the package status Order Processing: Ship event On ship event processing, an order tracking record is created (for every package) for tracking purposes. Order Tracking captures the following: Order Tracking Info captures the Tracking number, Carrier, Shipped date, Delivered date and the Package status. Package status is set to open when the ship event is processed. The order tracking details section captures the carrier response details like carrier status code, estimated delivery date, and so on. This record is created only if the delivery tracking feature is enabled. Refer to How to enable Delivery Tracking section for more details. Delivery tracking will happen only for the new orders and shipment created post enabling the delivery tracking feature. Initiate Tracking Request Through Order Component The order component tracks the package status periodically from the time of shipment by initiating a track request to third-party carriers. This request is not initiated real-time (post ship event) to the carriers, but track request is initiated 12 hrs from the time of the shipment (default). This can be modified based on the frequency needed. Refer to How to Change the Delivery Tracking Schedule section for more details. Sample Track Request from Order to ParcelPost: /parcel/api/parcel/track { "carrierCode": "FDXG", "externalAccount": false, "trackingNumbers": [ "231300687629630" ] } Through Shipment Tracking Component The shipment tracking component tracks the package status periodically from the time of shipment by initiating a track request to third-party carriers and updating order with the latest tracking status. This request is not initiated real-time (post ship event) to the carriers, but a track request is initiated based on the delay time configured in the tracking type configuration. This can be modified based on the frequency needed. Refer to How to Change the Delivery Tracking Schedule section for more details. Sample Track Request from Shipment Tracking to ParcelPost: /parcel/api/parcel/track { "carrierCode": "FDXG", "externalAccount": false, "trackingNumbers": [ "231300687629630" ] } Process Tracking Request (Carrier) The tracking request is converted based on the carrier and sent to a third-party carrier based on the Carrier Shipment configuration. Refer to How to configure third party carrier integration to process the tracking request. Typically, the carrier sends the following details as part of the tracking response Tracking Status Estimated Delivery Date Process Tracking Response (Carrier) Tracking response from the third-party carrier is further processed by the Parcel and Order components. This is done to reinitiate the tracking request (if the package is not yet delivered) based on the latest estimated delivery date or send necessary updates to the end customer (if the package is delivered or out for delivery) with the actual delivery date. Tracking Status: Third-party carrier tracking status can be internally mapped to the Retailer specific status using Parcel Status Mapping. The parcel tracking activity code is mapped to Parcel - Status Sub Type. Refer to How to change the carrier tracking status to retailers specific status for more details. On Tracking status (Other than Out for Delivery or Delivered or Delivery Delay or Delivery Attempt (Status Sub Type - Empty or anything else other than OutForDelivery or Delivered or DeliveryDelay or DeliveryAttempt): Order Tracking Detail - A new record is created in the Order Tracking detail section. The expected delivery date (if available) is updated in the tracking details. Order Tracking Info - No Updates. Package status remains open Reinitiate Tracking Request Customer communication - No customer communication support is available for tracking status other than Out for Delivery and Delivered status On Tracking status - Delivery Delay (Status Sub Type - DeliveryDelay): Order Tracking Detail - A new record is created in the Order Tracking detail section. The expected delivery date (if available) is updated in the tracking details. Upon receiving a tracking event with StatusSubType as "DeliveryDelay", customers will be notified. Additionally, if there is an update to the Estimated Delivery Date (EDD) with a future date, customers will receive notification via text/email, given the presence of the required configuration. Further details can be found below. Order Tracking Info - No Updates. Package status remains open Reinitiate Tracking Request Order Mod Type "DeliveryDelay" is triggered. Config required for Delivery Delay Notification1. Sync Order config using below API so that  row Delivery Delay is available in UI. POST :  /order/api/order/orderConfig/sync 2. Enable PublishEmail/Text in Mod Config Order Configuration -> Modification Rules -> Order -> Delivery Delay -> Enable PublishEmail/Text Customer communication: If a customer needs to be notified via text/email on out for delivery delay communication, then modification rules can be configured under Order Configuration. Read here for transactional emails and here for texts notifications for delivery delay notification. On Tracking status - Out for Delivery (Status Sub Type - OutForDelivery): Order Tracking Detail - A new record is created in the Order Tracking detail section. The expected delivery date (if available) is updated in the tracking details. Order Tracking Info - No Updates. Package status remains open Reinitiate Tracking Request Order Mod Type "OutForDelivery" is triggered. Config required for Out for delivery notifications1. Sync Order config using below API so that Out for delivery row is available in UI. POST :  /order/api/order/orderConfig/sync 2. Enable PublishEmail/Text in Mod Config Order Configuration -> Modification Rules -> Order -> Out for Delivery -> Enable PublishEmail/Text Customer communication: If a customer needs to be notified via text/email on out for delivery communication, then modification rules can be configured under Order Configuration. Read here for transactional emails and here for texts notifications for out for delivery notification. On Tracking status - Delivery Attempt (Status Sub Type - DeliveryAttempt): Order Tracking Detail - A new record is created in the Order Tracking detail section. The expected delivery date (if available) is updated in the tracking details. Order Tracking Info - No Updates. Package status remains open Reinitiate Tracking Request Order Mod Type "DeliveryAttempt" is triggered. Config required for Delivery Attempt Notification1. Sync Order config using below API so that  row Delivery Attempt is available in UI. POST :  /order/api/order/orderConfig/save 2. Enable PublishEmail/Text in Mod Config Order Configuration -> Modification Rules -> Order -> Delivery Attempt -> Enable PublishEmail/Text Customer communication: If a customer needs to be notified via text/email on out for Delivery Attempted communication, then modification rules can be configured under Order Configuration. Read here for transactional emails and here for texts notifications for Delivery Attempted notification. Note: Delivery Delay, Out For Delivery, Delivery Attempt is not a status update in Order Lifecycle. There is no change in Order Status on receiving this update. It is an update from a carrier which can be used to send notifications to customers that the shipment is Delayed or Out For Delivery or Delivery Attempted. On Tracking status - Delivered ((Status Sub Type - Delivered): Order Tracking Detail - A new record is created in the Order Tracking detail section Order Tracking Info - Package status is marked as closed and delivered date is updated in the Order Tracking info section. Quantity Detail updates - Order event with status update “7500” is triggered with the tracking number and carrier code. When the order event is processed, the quantity detail and the order line status is updated to delivered. Read here for more details on this order event. Customer communication: If a customer needs to be notified via text/email on delivery confirmation, then modification rules can be configured under Order Configuration. Read here for transactional emails and here for texts notifications for delivery confirmation notification. Reinitiate Tracking Request (Carrier) If the Order Tracking Details do not have an Estimated Delivery Date, then, Check if the track request date has exceeded 10 days from the shipment date. This can be modified based on the frequency required. Refer How to change the Delivery Tracking Schedule section for more details. If yes, then the package status is forcefully updated to closed and no further track request is sent to the Carrier. But the Order line remains in Fulfillment status. If no, then the package status remains open and a tracking request is initiated post 24 hours to the Carrier. This is not configurable. If the Order Tracking details has an Estimated Delivery Date, then, If the Estimated Delivery Date is the current date, then the track request is initiated every 1 hr (default). Refer How to change the Delivery Tracking Schedule section for more details. If the Estimated Delivery Date is not the current date, then the track request is delayed till the date of the Estimated Delivery date. This is done to avoid sending multiple requests to the carrier. Tracking request is re-initiated based on the above business rules. Configurations How to Enable Delivery Tracking Track Delivery configuration can be used to enable the application to track the real time delivery status of packages shipped for ship to address order lines from third-party carrier providers, update the application with the real time status periodically and move quantities shipped in a package to delivered status automatically once the real time status of the package as per the third-party carrier provider is delivered. Out of the box, Ship To Store lines are also tracked when the merge leg is shipped. Retailers can skip tracking of Ship To Store lines based on the configuration below. Order Configuration: Track Delivery should be enabled in the Order Configuration UI. Order Configuration: SkipShipToStoreTrack Delivery should be enabled for not tracking delivery for Ship To Store items. If this flag is enabled, the lines when shipped from the merge leg source are tracked. Sample APIPOST : /order/api/order/orderConfig/save Body : { "OrderConfigId": "EcommConfig", "TrackDelivery": true } Carrier Service Level: Track Delivery should be enabled for the Carrier-Service Level for which tracking is required. This indicates if the third-party carrier provider supports tracking real time status of packages shipped through a particular Service Level. If the configuration 'Track Delivery' on Carrier - Service Level is not configured to true (ticked), the application will not track the delivery of packages shipped through the carrier provider and service level in real time irrespective of the 'Track Delivery' configuration on the order configuration. Refer to Master Data Guide Carriers for Service Level configuration. Sample APIPOST : /parcel/api/parcel/serviceLevel/save Body : { "ServiceLevelCode": "FEDEX_1_DAY_FREIGHT", "Description": "FedEx 1Day Freight", "Mode": { "ModeId": "PCL" }, "TrackDelivery": true, "ServiceLevelMappingCode": "FEDEX_1_DAY_FREIGHT", "CarrierCode": "FDXE", "IsAirShippingAllowed": false, "Carrier": { "CarrierCode": "FDXE" } } Enable trackPackages at Carrier Level Sample APIPOST : /order/api/order/carrierTrackingDetail/save Body : { "CarrierCode": "UPS", "TrackingURL": "https://www.ups.com/track?loc=en_US&tracknum={0}&requester=MB", "Description": "UPS", "Provider": "UPS", "TrackPackages": true } Note: Enabling Delivery Tracking configurations mentioned above will affect only the new orders and shipments created for the new orders in the application after enabling the delivery tracking feature. Any orders or new shipments for partially shipped orders for order created prior to enabling the delivery tracking configuration will not be tracked for delivery by the application. How to Change the Delivery Tracking Schedule - Order Component Below properties need to be configured in KV Store. To modify the default settings, work with services to update your environment. Key Value Property Name Default Description Mandatory Component Path order.delivery.initial.submitTime 12 hrs This property defines the number of hours from the time of shipment, after which a tracking request is sent to the parcel. Example: order.delivery.initial.submitTime set to 24. In this case, the parcel track API is called only after 24 hours from the time of shipment. Yes Order com-manh-cp-order,om-side/ order.delivery.track.days 10 days This property defines the number of days from the day of shipment, after which tracking is not done. Similarly, this value is used to determine if a package should be automatically closed if that functionality is enabled. Example: order.delivery.track.days is set to 10. In this case, tracking will not be done once 10 days are over from the day of shipment. If applicable, the package is also automatically closed. Yes Order com-manh-cp-order,om-side/ order.delivery.track.hours 1 hr This property defines the number of hours in which a call should be made to Parcel when ETA is the current date. Example: order.delivery.track.hours is set to 1. In this case, a call to parcel will be made every hour until the package is delivered. Note: This property supports only whole numbers and not a decimal value. Yes Order com-manh-cp-order,om-side/ How to Change the Delivery Tracking Schedule - Shipment Tracking Component Below properties need to be configured in the tracking type config. To modify the default settings, work with services to update your environment. Key Value Property Name Default Description Mandatory. Component initialDelayTime 24 hrs Describes the initial delay for tracking the shipment in terms of seconds Example: initialDelayTime set to 86400. In this case, the parcel track API is called only after 24 hours from the time of shipment. Note: The value of frequency should be defined in seconds. Yes Shipment Tracking trackTillDays 10 days Describes the number of days the shipment needs to be tracked Example: trackTillDays is set to 10. In this case, tracking will not be done once 10 days are over from the day of shipment. If applicable, the package is also automatically closed. Yes Shipment Tracking frequency 1 hr Describes the track interval in terms of seconds for tracking the shipment when ETA is the current date. Example: frequency is set to 3600. In this case, a call to parcel will be made every hour until the package is delivered. Note: The value of frequency should be defined in seconds. Yes Shipment Tracking trackFrequencyForNullEDD 24 hrs Describes the time gap needed to maintain in seconds when we receive no estimated delivery date for the tracking number. Example: If the parcel response does not contain ETA, the frequency will default to 86400, which means that the parcel track API is called only after 24 hours. Note: The value of frequency should be defined in seconds. No Shipment Tracking SampleSaveTrackingTypeConfig { "ServiceLevelCode": "UPS_STANDARD", "TrackTillDays": 5, "EventName": { "TrackingCompletionEventId": "Shipmenttracking:Shipmenttracking:Event:DeliveredOrderEvent" }, "TrackingType": { "TrackingTypeId": "Delivery" }, "TrackTillEventStatus": { "TrackingEventStatusId": "Delivered" }, "TrackingTypeConfigId": "Delivery", "CarrierCode": "UPS", "Frequency": 300, "TrackFrequencyForNullEDD": 300, "InitialDelayTime": 300 } How to Enable Package Auto-Close Packages can be auto-closed once the value for order delivery track days has been exceeded. When enabled, packages without an estimated delivery date populated for X number of days after the shipment date are automatically closed. Where X is the value, which can be configured by the service team for "order.delivery.track.days". Order Configuration: Enable AutoClosed Package Status should be enabled in the Order Configuration UI. How to Configure Third-party Carrier Integration Configuration Details Credentials for Tracking APIs Use the Carrier Facility Accounts UI or the below API to upload carrier accounts to be integrated with each third-party. Each account should have a null facilityCode, as the facilityCode is used for SIF, but a single account with a null facilityCode must be configured for delivery tracking in order. The below sample json can be used for testing, but these credentials should not be used in production; contact your customer to get their UPS, FedEx, and USPS account information. POST /parcel/api/parcel/upgradedFacilityAccount/save{ "IsActive": false, "UpgradedFacilityAccountId": "2", "CarrierCode": "FDXE", "FacilityCode": "11224", "VersionId": "1", "PrimaryAccountNumber": "2312124214", "SecondaryAccountNumber": "123123", "UserKey": "User1314", "Password": "2313a@3#$", "HubId": "21424" } OR POST /parcel/api/parcel/facilityAccount/import{ "data": [ { "UserKey": "USERKEY", "PrimaryAccountNumber": "ACCTNUM", "CarrierCode": "FDXG", "SecondaryAccountNumber": "ACCTNUM2", "Password": "PASSWORD" } ] } Configure a carrier This can be done in the Carrier UI or using the API (/parcel/api/parcel/carrier/save). Configuring carrier status mapping Add entries in the Carrier Status Mapping UI or API (/parcel/api/parcel/statusMap/import). An entry should be configured for each of the mappings from the third-party carrier status to the internal statuses of either 'InTransit' or 'Delivered'. How to Map Carrier Tracking Code Every third-party carrier uses their own status codes to track packages. Few status codes seed data exists out of the box for FedEx, UPS, and USPS. If additional status codes must be mapped then status codes must be translated to equivalent status Sub Type  - “null” or “OutForDelivery” or “Delivered” or “user defined as per status code” understood by Active Omni. New status code can be added or existing status code can be modified using the below API POST /parcel/api/parcel/statusMap/import{ "data": [ { "Provider": "FedEx", "Code": "OD", "Description": "Out of Delivery", "Status": "InTransit", "StatusDescription" : "In Transit", "StatusSubType": "OutForDelivery", "StatusSubTypeDescription" : "Out for Delivery" }, { "Status": "Delivered", "Description": "Delivered", "Code": "DL", "Provider": "FedEx", "StatusDescription": "Delivered", "StatusSubType": "Delivered", "StatusSubTypeDescription" : "Delivered" }, { "Status": "InTransit", "Description": "At FedEx origin facility", "Code": "OF", "Provider": "FedEx", "StatusDescription": "In Transit" } ] } While adding new or modifying status codes, the status Sub Type field represents sub status of current Status field. For example, Status "InTransit" represents the package InTransit milestone in a broader perspective, the precise milestone can be captured in the field 'Status Sub Type', Status "Out for delivery", the broader Status represents package as InTransit but the 'Status Sub Type' can be OutForDelivery. Status "Delivery Delay", the broader Status represents package as InTransit but the 'Status Sub Type' can be DeliveryDelay. Status "Delivery Attempt", the broader Status represents package as InTransit but the 'Status Sub Type' can be Delivery Attempt. Seed data for Status Sub Type is provided for out of the box carriers for the below status codes and null for the remaining status codes. Provider Code Status Sub Type FedEx DY DeliveryDelay FedEx EA DeliveryDelay FedEx DD DeliveryDelay FedEx PD DeliveryDelay FedEx DE DeliveryDelay UPS 032 DeliveryDelay UPS 046 DeliveryDelay UPS 047 DeliveryDelay UPS 048 DeliveryDelay UPS 049 DeliveryDelay UPS 050 DeliveryDelay UPS 051 DeliveryDelay UPS 052 DeliveryDelay UPS 053 DeliveryDelay FedEx OD OutForDelivery USPS OF OutForDelivery UPS 021 OutForDelivery UPS X1 DeliveryAttempt UPS X2 DeliveryAttempt UPS X3 DeliveryAttempt UPS 022 DeliveryAttempt UPS 023 DeliveryAttempt UPS 024 DeliveryAttempt UPS 061 DeliveryAttempt UPS 062 DeliveryAttempt UPS 066 DeliveryAttempt USPS 02 DeliveryAttempt USPS 54 DeliveryAttempt USPS 55 DeliveryAttempt FedEx DL Delivered USPS 01 Delivered UPS D Delivered UPS 011 Delivered Agile DELIVERED Delivered Implementation Flavors How to track delivery for carriers other than UPS, FedEx, USPS If delivery tracking needs to be enabled for carriers other than UPS, FedEx, or USPS, follow the below steps: Build integration with the third party's tracking API using MACC components by working with services. Configure a carrier in the Carrier UI or API (/parcel/api/parcel/carrier/save). Configure carrier service level to “Track Delivery” in the Carrier UI or API (/parcel/api/parcel/carrier/ServiceLevel/save). Configure carrier to "Track Packages" using API (/order/api/order/carrierTrackingDetail/save) Add carrier facility accounts using the Carrier Facility Accounts UI or API referenced above. Provide valid credentials for connecting with the third party. Add entries in the Carrier Status Mapping UI or API (/parcel/api/parcel/statusMap/import). An entry should be configured for each of the mappings from the third-party carrier status code to the internal statusSubTypes of ‘null’ or ‘Delivered' or ‘OutForDelivery' or 'user defined as per status code’. How to track delivery for same day delivery orders Today, there is no explicit indicator on order / order line to indicate that it's a same day delivery. Projects are using a combination of the Shipping Method and Delivery Method "ShipToHome" to identify such orders. Same Day Delivery orders get fulfilled and delivered in less than a few hours (4 to 6 hrs at max). Out of the box, the delivery tracking period is 12 hrs from the time of shipment and is designed generically to support all carrier integration. Although this time period is configurable, it is recommended by the base to not configure anything less than 12 hrs because the Carrier may not have an update yet. Hence, a new custom option can be implemented to track same day delivery orders where specific orders can be filtered, and also configure a specific list of carrier code tracking. Step 1 Configure Extension HandlerCreate the extension handler in order that it will link to the existing service "deliveryStatusTrackRequest". { "ExtensionHandlerId": "DeliveryTrackingAgentHandler", "ExtensionhandlerRoute": [ { "ExtensionhandlerRouteId": "DeliveryTrackingAgentHandlerRouteId", "Source": "ON_EVENT", "Destination": "shipmentTracking", "DestinationParams": [ { "ParameterName": "isBaseQueue", "ParameterValue": "true" }, { "ParameterName": "supportedCarrierCodeList", "ParameterValue": "UPS" } ], "IsSync": "true" } ] } If there multiple carrier codes, tracking can be enabled for the list of carrier codes only, system will track only those configured in the parameter (supportedCarrierCodeList ) in DestinationParams. If the carrier code is not specified then system will track the package for all the carriers. Enable isBaseQueue as false, for posting the message to a custom queue where the messages for processing are prioritized higher than the messages from the base queue. The default value is false and the messages are posted to base queue. Step 2 Create Custom Queue if required Create extension point to message type {{url}}/order/api/ServiceDefinition/extPointToMessageType/save Method-Post { "ExtensionPointId": "Order:Order:Event:ShipmentTrackRequest", "MessageType": "sameDayDeliveryStatusTrackRequest" } The extension point id has to be same as provided above and message type can be defined as per the requirements. Create outbound - {{url}}/order/api/ServiceDefinition/outBoundMessageType/save Method-Post { "MessageType": "sameDayDeliveryStatusTrackRequest", "Transactional": true, "PersistMessageToMsgStore": false, "OutBoundQueues": { "QueueName": "queue.sameDayDeliveryStatusTrackRequest" }, "OutBoundDeliveryConfig": { "OutBoundDeliveryConfigId": "config1", "GroupingType": "CONSOLIDATION", "GroupingKeys": "$.CarrierCode", "GroupingInterval": "10 minute", "ConsolidationMaxSize": "10" } } OutBoundDeliveyConfig is optional. This config consolidates the messages based on order attribute grouping keys within a specified time interval. For example, all orders having carrier code UPS or FEDEX within the grouping interval of 10 mins will be posted to the queue in a single payload which will reduce the no. of times the consumer service will hit parcel and carrier components. Create inbound - the service id should remain as “deliveryStatusTrackRequest”. { "MessageType": "sameDayDeliveryStatusTrackRequest", "NoOfConsumer": 10, "MinNoOfConsumer": 1, "Idempotent": true, "ExternalIntegrationRequired": false, "MaxDesiredInstances": 6, "ScaleUpTimeWindow": 10, "ScaleDownTimeWindow": 20, "Description": "This queue is used to get updates on the fulfilled orders", "ServiceId": "deliveryStatusTrackRequest", "InBoundQueues": { "QueueName": "queue.sameDayDeliveryStatusTrackRequest" } } The message type provided should be same for the extension point, outbound and inbound message types. Also the queue name provided should be same for both outbound and inbound messages. Step 3 Create Response Template in Order (Mandatory)Request – {{url}}/order/api/fwcore/responseTemplate/save Type- Post { "BaseEntity": "Order", "TemplateJson": { "OrderId": null }, "TemplateId": "deliveryTrackingOrderTemplate" } Step 4 Create the Agent for base or custom queueOnce the extension handler is created in Step, continue creating an Agent irrespective of the base queue or custom queue configured. Request - {{url}}/order/api/batch/agent Method -Post { "name": "DeliveryTrackingAgent_Batch", "cronSchedule": "*/5 * * * *", "query": "order.minFulfillmentStatusId=\"7000\" ", "queryLimit": "5000", "entity": "Order", "handlerName": "DeliveryTrackingAgentHandler", "TemplateId": "deliveryTrackingOrderTemplate" } The query is as per the business use case to filter orders for the custom tracking. Note: HandlerName and Template Id should be the same as provided in Step 1(ExtensionHandlerId) and Step 3 (TemplateId) respectively. Verify if the agent is created successfully by calling get API - {{url}}/order/api/batch/jobSchedule/jobScheduleId/DeliveryTrackingAgent_Batch-AgentSchedule Step 5 Trigger the Agent manually (optional)Request - {{url}}/order/api/batch/jobSchedule/trigger Method - Post { "JobScheduleId": "DeliveryTrackingAgent_Batch-AgentSchedule" } Note: Same day delivery scheduler can’t be used for updating the tracking status of orders that are automatically closed since there was no response from the carrier for maximum number of days configured in the system for delivery tracking. How to map the carrier tracking code to custom status in parcel Each third-party carrier uses their own status codes to track packages. These status codes must be translated into a common status understood by Active Omni, which is what the carrier status map entity does. To add status codes, upload the json to the API: POST /parcel/api/parcel/statusMap/import Sample Body{ "data": [ { "Provider": "FedEx", "Code": "OD", "Description": "Out of Delivery", "Status": "InTransit", "StatusDescription" : "In Transit", "StatusSubType": "OutForDelivery", "StatusSubTypeDescription" : "Out for Delivery" } ] } How to enable Delivery Tracking for Retail orders Enable allowTrackingDetailForRetailOrder property in the Order Parameters page. Note that this property is used only if the Order Type is Retail Order. How to implement a push mechanism to capture tracking activities using the 'ShipmentTracking' component Retailers can implement a custom approach to track the real-time delivery status of packages shipped for "ShipToAddress" order lines from third-party carrier providers. This involves periodically tracking the package status outside of Manhattan Active® Omni and updating the system directly with the current delivery status by saving the 'TrackingInfo' with the delivery status of the package. For example, when a package's delivery status changes from 'In Transit' to 'Out for Delivery' at the carrier, the retailer can track the package delivery status and push the delivery status update to the system by saving 'TrackingInfo' with the delivery event status - 'Out for Delivery'. Steps to be followed for push mechanism, Enable the DeliveryTracking feature in the Order Configuration so that whenever a ship event is posted with a tracking number, 'ShipmentTackingInfo' will be updated at the ShipmentTracking component. To automatically stop delivery tracking by the system, disable the outbound - 'spt-spt-updateShipmentTracking-queue'. Save the TrackingTypeConfig for the respective Carrier and ServiceLevelCode for tracking type  'Delivery'. Route the carrier event to a custom service which invokes the tracking info save service. Save the 'TrackingInfo' with the delivery event status using ShipmentTracking.TrackingInfo Save API. Note: Whatever the status configured in 'Carrier Status Mapping' should match the 'TrackingEvent.EventStatus' in the ShipmentTracking.TrackingInfo Save API. Refer to the API and payload details below for more information. {{url}}/shipmenttracking/api/shipmenttracking/trackingInfo/save Payloads: ShipmenttrackingInfo Save - DeliveryDelay{ "Status": "Open", "ServiceLevelCode": "UPS_STANDARD", "TrackingNumber": "1Z12345E6605272234_1", "TrackingReferenceId": "CC10270", "EventStatus": null, "TrackingType": { "TrackingTypeId": "Delivery" }, "TrackingEvent": [ { "TrackingEventId": "Delivery Delayed", "EventStatus": "DeliveryDelay", "Date": "2025-02-03T17:05:00.000" } ], "TrackingTypeConfigId": "Delivery", "CarrierCode": "UPS" } ShipmenttrackingInfo Save - OutForDelivery { "Status": "Open", "ServiceLevelCode": "UPS_STANDARD", "TrackingNumber": "1Z12345E6605272234", "TrackingReferenceId": "CC10267", "TrackingType": { "TrackingTypeId": "Delivery" }, "TrackingEvent": [ { "TrackingEventId": "Out for delivery tracking event", "EventStatus": "OutForDelivery", "Date": "2025-03-03T17:05:00.000" } ], "TrackingTypeConfigId": "Delivery", "CarrierCode": "UPS" } ShipmenttrackingInfo Save - DeliveryAttempt { "Status": "Open", "ServiceLevelCode": "UPS_STANDARD", "TrackingNumber": "1Z12345E6605272234_6", "TrackingReferenceId": "CC10274", "EventStatus": null, "TrackingType": { "TrackingTypeId": "Delivery" }, "TrackingEvent": [ { "TrackingEventId": "Delivery Attempted10", "EventStatus": "DeliveryAttempt", "Date": "2025-04-03T17:05:00.000" } ], "TrackingTypeConfigId": "Delivery", "CarrierCode": "UPS" } ShipmenttrackingInfo Save - Delivered { "Status": "Closed", "ServiceLevelCode": "UPS_STANDARD", "TrackingNumber": "1Z12345E6605272234_7", "TrackingReferenceId": "CC10275", "EventStatus": null, "TrackingType": { "TrackingTypeId": "Delivery" }, "TrackingEvent": [ { "TrackingEventId": "Package Delivered", "EventStatus": "Delivered", "Date": "2025-05-03T17:05:00.000" } ], "TrackingTypeConfigId": "Delivery", "CarrierCode": "UPS" } Note: Ensure to update the date of the tracking event when saving the corresponding status. The Order's tracking details are generated based on the status and date of the tracking event. If the same dates are used repeatedly, the system will overwrite the existing tracking detail records. Troubleshooting Why is the parcel track API not being called for my order Verify the order.delivery.initial.submitTime by working with services. A call to parcel will be made after order.delivery.initial.submitTime is passed from the time of shipment. Why is the tracking URL not redirected to the carrier's website Check if the correct tracking URLs are updated in component.properties How to test each of the delivery notifications without sample tracking numbers Leverage the steps to update the track detail for a given order to verify order changes when there are no sample tracking numbers to validate each of the notifications for a package. Call the below API to update the order tracking info, tracking details on order. {{url}}/order/api/ServiceDefinition/invoke/processParcelResponse Below is the sample request - Test Delivery Tracking w/o Sample Tracking Number - Sample for Delivery Exception{ "OrderId": "CC10000", "severityType": "SUCCESS", "notifications": [ { "severity": "SUCCESS", "source": "trck", "code": "0", "message": "Request was successfully processed." } ], "provider": "FedEx", "transactionIdentifier": null, "journalDetails": null, "trackingDetails": [ { "notification": { "severity": "SUCCESS", "source": "trck", "code": "0", "message": "Request was successfully processed." }, "trackingNumber": "852426136339225", "latestEvent": { "address": { "streetLines": [], "city": "Forest Hills", "stateOrProvinceCode": "NY", "postalCode": null, "countryCode": "US", "residential": false, "isPOBox": false }, "code": "InTransit", "description": "Delivery exception", "statusSubType": "DeliveryDelay", "statusSubTypeDescription": "Delivery Delay is when a shipment encounters a delay or an exception in handling", "date": "2013-12-24T00:00:00", "status": "InTransit" }, "service": { "code": "FEDEX_GROUND", "description": "FedEx Ground" }, "estimatedDeliveryDate": null, "trackingActivities": [ { "address": { "streetLines": [], "city": "LONG ISLAND CITY", "stateOrProvinceCode": "NY", "postalCode": "11101", "countryCode": "US", "residential": false, "isPOBox": false }, "code": "DE", "description": "Delivery exception", "statusSubType": "DeliveryDelay", "statusSubTypeDescription": "Delivery Delay is when a shipment encounters a delay or an exception in handling", "date": "2013-12-23T19:29:46", "status": "InTransit" }, ] } ] } Every milestone of a delivery can be tested incrementally. For example, mock the request for DeliveryDelay status codes for the supported carrier and verify if the order component is updated and a notification is generated. As a next step, mock the request for OutForDelivery status codes for each carrier and verify if the order component is updated and a notification is generated. As a next step, mock the request for DeliveryAttempt status codes for each of the supported carriers and verify if the order component is updated and a notification is generated. As a next step, mock the request for Delivered status codes for each of the supported carriers and verify if the order component is updated and a notification is generated. Why is the package status on the order stuck in open status If the Order Tracking Detail  is empty and the package status remains in "Open" status, this indicates that the order has not consumed the parcel tracking response. Check the queue below to see if any messages are stuck. Queue: queue.deliveryStatusTrackUpdateRequest Why is the order not moving to delivered status Carrier response mapping should be mapped with Provider value (not with Carrier Code) Why is OrderTrackingInfo not being created for a package The provider on the carrierTrackingDetail should be the same as the provider on the carrier. Example: Refer to the following sample APIs: CarrierTrackingDetail {{url}}/order/api/order/carrierTrackingDetail { "TrackPackages": true, "Provider": "FedEx", "CarrierCode": "FDXG" } Carrier {{url}}/parcel/api/parcel/carrier { "Provider": "FedEx", "CarrierCode": "FDXG", } Parcel Component User Exits Type User Exit Function Input Output Carrier Account Parcel:Account:UserExit:Get Used for all communication to external parcel carriers. Carrier system uses this information to authenticate the shipper account. Document object having the Facility Code and Carrier Code Parcel account details Carrier Rate Parcel:Carrier:UserExit:Rate To get rates from a unsupported carrier in base Document object, the RateRequest object can be obtained as a Map using "rateRequest" as the key. The Output Document object needs to be created from the RateResponse object. Parcel Return Label Parcel:Carrier:UserExit:Return To get a return label from an unsupported carrier in base From the Input Document object, the ShipRequest object can be obtained as a Map using "shipRequest" as the key The Output Document object needs to be created from the ShipResponse object Shipment-Close Parcel:Carrier:UserExit:Close To close a shipment with an unsupported carrier in base From the Input Document object, the CloseRequest object can be obtained as a Map using "closeRequest" as the key The Output Document object needs to be created from the CloseResponse object Parcel Shipping Label Parcel:Carrier:UserExit:Ship To get a tracking number and label from an unsupported carrier in base com.manh.cp.fw.common.Context context, com.manh.cp.parcel.request.ShipRequest shipRequest com.manh.cp.fw.common.Document Tracking Parcel:Carrier:UserExit:Track To track a package with an unsupported carrier in base or To convert track request json document into a map using "trackRequest" as the key com.manh.cp.fw.common.Context context, com.manh.cp.parcel.request.TrackRequest trackRequest com.manh.cp.fw.common.Document Tracking-Cancel Parcel:Carrier:UserExit:Cancel To cancel a tracking number from a unsupported carrier in base From the Input Document object, the CancelRequest object can be obtained as a Map using "cancelRequest" as the key The Output Document object needs to be created from the CancelResponse object. Return Label- Pre Logic Parcel:Carrier:UserExit:PreReturn To manipulate the Return request (for base carrier/custom carrier too) by updating certain fields with data needed to be appeared on the return label com.manh.cp.fw.common.Context context, com.manh.cp.parcel.request.ShipRequest shipRequest com.manh.cp.parcel.request.ShipRequest shipRequest Shipment- Pre Logic Parcel:Carrier:UserExit:PreShip Populate / Replace the attributes in parcel ship request com.manh.cp.fw.common.Context , com.manh.cp.parcel.request.ShipRequest com.manh.cp.parcel.request.ShipRequest Pre Track User Exit Parcel:Carrier:UserExit:PreTrack Modify the track request before sending the call to the carrier Map (Track Request) (Refer Request Example and technical details section for more details) Track Request (Refer sample JSON) PostShipResponse Parcel:Carrier:UserExit:PostShipResponse This user exit would allow clients/project teams to map data from the carrier response to the fulfillment or package com.manh.cp.fw.common.Context context, com.manh.cp.parcel.response.ShipResponse shipResponse com.manh.cp.parcel.response.ShipResponse Related Articles Mod TypesCreating and Updating OrderPublishing Order Order CancellationHoldsOrder ArchivingOrder Orchestration ConfigurationCart and Preview ModeShipping RestrictionOrder Orchestration ProcessOrder Audit Order Tagging