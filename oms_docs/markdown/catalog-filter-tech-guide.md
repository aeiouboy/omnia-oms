# Catalog and Filter Technical and Troubleshooting Guide

**Permalink:** catalog-filter-tech-guide
**Path:** Manhattan Active® Omni/Store/Process & Configuration Guides/Point of Sale/POS Guides/Product Catalog/Catalog and Filter Technical and Troubleshooting Guide
**Content Length:** 31,672 characters
**Scraped:** 2025-08-09T22:02:15.723827

---

Home ››Manhattan Active® Omni››Store››Process & Configuration Guides››Point of Sale››POS Guides››Product Catalog ››Catalog and Filter Technical and Troubleshooting Guide Catalog and Filter Technical and Troubleshooting Guide Catalog and Filter Technical and Troubleshooting GuideConfiguring Facet Data via APIAvailability FilterAttribute FiltersCreate Facet TypeCreate FacetCreate Facet ConfigCategorySorting and Grouping ConfigurationsFacet Field Sorting Facet Value SortingExample: Arranging values of Brand facet in custom mannerTroubleshootingChecklist for Troubleshooting Facet Filter Issues in SearchV2 Configuring Facet Data via API Availability Filter When Catalog is enabled, AVAILABILITY filters are always available and need not be separately configured or defined. Attribute Filters Create Facet Type Facet types refer to the different ways facets can be structured or displayed based on the nature of the product attribute they represent. As part of V1 release, only checkbox (multiple selections) facet type is supported but the framework can support more in the future.  "checkbox" has been pre-seeded.   This entity is System Augmentable. API: /item/api/item/facetType/save Payload: { "FacetTypeId": "checkbox", "FacetTypeName": "CheckBox" } Create Facet Facets, also called as smart filters, are a search filter feature that helps customers find products quickly by narrowing down search results. Facets are product attributes that users can select to refine their search, such as: price range, brand, color, size etc. API: /item/api/item/facet/save Payload: { "FacetValuesSortTypeId": { "FacetValuesSortTypeId": "Alphabetical" }, "FacetId": "Brand", "FacetName": "Brand", "IsAscending": false, "FacetTypeId": { "FacetTypeId": "checkbox" } } Create Facet Config A FacetConfig is a collection of facets that can be associated with specific categories or an entire catalog. These configurations allow retailers to associate relevant facets to specific categories by creating a FacetConfig and mapping it to the desired category. A single FacetConfig can be mapped to multiple categories, enabling streamlined and consistent facet management across catalog. FacetConfig Examples: FacetCofigID Facets (FacetConfigDetail) Jeans Brand, Color, Size, Price and PantsFit WomenTops Brand, Color, Size, Price and Sleeve Style Shirts Brand, Color, Size, Price and Sleeve Length FacetConfig can also be mapped to a Catalog. For keyword searches,  the facets associated with the FacetConfig mapped to the Catalog will be included in the API response. API: /item/api/item/facetConfig/save Payload: Facet Config{ "FacetConfigId": "WomenTops", "FacetConfigName": "WomenTops", "FacetConfigDetail": [ { "Sequence": 1, "FacetId": { "FacetId": "Color" } }, { "Sequence": 2, "FacetId": { "FacetId": "Brand" } }, { "Sequence": 3, "FacetId": { "FacetId": "Size" } }, ], "FacetConfigDescription": null } Category Categories may be mapped to different FacetConfig records, enabling each category to have unique collection of Facets (smart filters). CategoryID FacetCofigId MensJeans Jeans WomensJeans Jeans Tops WomenTops MenShirts Shirts API: /item/api/item/category/save Payload: Facet Category Association{ "CategoryId": "Tops", "FacetConfigId": { "FacetConfigId": "WomenTops" }, "DisplayOrder": 2, "IsActive": true, "CatalogId": { "CatalogId": "Ecom" }, "DisplayName": "Tops", "ParentCategoryId": "Women" } Sorting and Grouping Configurations Facet Field Sorting Facet sorting is used to organize the facets in a specific order. For example, if a retailer wants the Color facet to appear before the Brand facet, the order can be customized. By default, facets are sorted alphabetically. To apply custom sorting, update the sequence in FacetConfigDetail.Sequence. Refer above for API and Payload (FacetConfig) Facet Value Sorting Facet value sorting determines the order of the values within a facet. For example, if a retailer wants to sort the Size facet based on functionality (XXS -> XS -> S -> M -> L), the default alphabetical sorting must be overridden. This can be achieved by updating the sequence in Item.ItemAttributes and configuring the SortAttribute in the Facet table. Example: Arranging values of Brand facet in custom manner Step 1 Item - introducing "brand sequence" as itemAttribute.  Ensure items using that Facet for filtering have this field populated in Item Master. API: /item/api/item/item/save Payload: Facet Item Brand sequence Item1: { "ItemId": "Tops-19691-Blue-S", "Brand": "Urban Thread", "ItemAttribute": [ { "Type": "BrandSequence", "Value": "1" } ] } Item2: { "ItemId": "Blazers-54500-Black-L", "Brand": "BoldStitch", "ItemAttribute": [ { "Type": "BrandSequence", "Value": "2" } ] } Item3 { "ItemId": "Diamond_Ring-99101-White-L", "Brand": "StreetSilk", "ItemAttribute": [ { "Type": "BrandSequence", "Value": "3" } ] } Step 2 Facet - Designate "brand sequence" as the sort attribute for the Brand facet API: /item/api/item/item/facet/save Payload: Facet Brand Sequence{ "SortAttribute": "ItemAttributes.BrandSequence, "FacetValuesSortTypeId": { "FacetValuesSortTypeId": "Alphabetical" }, "FacetId": "Brand", "FacetName": "Brand", "IsAscending": true, "FacetTypeId": { "FacetTypeId": "checkbox" } } Tips: For Color and Size facets, which are existing item attributes,  the existing sequence values colorSortSequence and sizeSortSequence can be utilized to populate the sequence. Set the ‘IsAscending’ to false to sort in descending order. By default values will be sorted in ascending order. To use a custom Item Attribute for sorting, ensure the following: - Set the SortAttribute to ItemAttributes.{Sequence_Item_Attribute}. - Use ItemAttribute names ending with "Sequence," such as BrandSequence or PantsFitSequence. Troubleshooting Checklist for Troubleshooting Facet Filter Issues in SearchV2 Item Attributes Ensure the field is correctly defined in the schema. (e.g., ItemAttributes.ColorGroup) Verify the Elasticsearch mapping includes the required dynamic_templates. If dynamic_templates is missing, trigger an item reset. Example configuration for dynamic_templates: "dynamic_templates": [ { "itemattributes": { "mapping": { "analyzer": "item_keyword", "fields": { "raw": { "type": "keyword" } }, "type": "text" }, "match_mapping_type": "string", "path_match": "ItemAttributes.*", "path_unmatch": "ItemAttributes.*Sequence" } }, { "itemattributes_sequence": { "mapping": { "type": "integer" }, "match_mapping_type": "string", "path_match": "ItemAttributes.*Sequence" } } ] 3. Keyword Search Facets Confirm that the catalog is correctly mapped to facetConfig and facetConfigDetails. 4. Category Facets Ensure the attributes match the corresponding Elasticsearch document fields. Verify that the facetConfig is properly configured. 5. Extended Attributes For results to appear in keyword search, ensure the attributes are explicitly defined in the searchConfig JSON file.