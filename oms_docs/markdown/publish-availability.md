# Publish Availability

**Permalink:** publish-availability
**Path:** Manhattan Active® Omni/Order Management/Process & Configuration Guides/Enterprise Inventory/Available to Commerce/Publish Availability
**Content Length:** 84,234 characters
**Scraped:** 2025-08-09T21:54:15.555221

---

Home ››Manhattan Active® Omni››Order Management››Process & Configuration Guides››Enterprise Inventory››Available to Commerce ››Publish Availability Publish Availability Previous | Next OverviewAvailability Notifications (Alert)Availability Sync - Full SyncAvailability Sync - Delta SyncAvailability Sync - Full vs. DeltaGet Availability ServicesAvailability Change EventKit Item Availability and PublishingGet Kit AvailabilityFuture Inventory Visibility and AlertsFuture Inventory VisibilityAlert Set UpConfigurationPublish Availability ConfigurationKit Availability ConfigurationAvailability Alerts ConfigurationFull Sync ConfigurationDelta Sync ConfigurationPublish Availability - SubstitutionImplementation FlavorsGenerating availability alert for a specific transaction typeRelated Articles Overview External systems (that is, e-commerce systems, replenishment systems, and host order entry programs) require the commerce availability picture from Order Management to determine whether inventory is available for promising and capturing an order. Availability can be published in the following ways: Real time availability alerts (notification) when the available status changes In scheduled batches - Full and Delta availability sync Real time Availability web service calls Every availability changes can be published via the Availability change event. In addition, an ATC user can obtain current availability via the ATC UI. Note: To illustrate the usage of the above publishing methods, you can consider ship-to-home view for e-commerce assuming that the e-commerce system updates its inventory cache on a night-job with the commerce availability sync through a batch job. During the day, OM can send availability notifications to the e-commerce system to notify of any critical inventory changes, such as when stock status changes for an item. If the stock level for an item is low (out of stock), the e-commerce system can make real-time web service calls to OM to ensure all promised orders are allocated and shipped. Because OMS implementations usually cover multiple time zone, all times in the ATC related configuration UIs and related processes are in UTC. This means that if you are expecting a sync to be scheduled at Midnight EST, it needs to be configured at 5am in EST and 4am in EDT (EST daylight saving time) Availability Notifications (Alert) Availability notifications are used to communicate stock status changes in real time. Within the commerce view, thresholds are defined for out of stock and limited stock levels. With subsequent availability updates (refer to the factors affecting availability for the availability calculation triggers), the available quantity is compared to the thresholds and a notification is generated if the threshold is crossed. Note that Availability notification is available only for Network View and not for Location view. Refer to Availability Alerts Configuration. Refer to the following sections to understand how Alerts works with an example Availability Notification - Examples If the out of stock threshold is 2 and the limited stock threshold is 4, then the availability notifications would behave as follows. Availability alert is always published with the status and quantity. Availability Change Send Notification? From 0 to 1 No notification From 1 to 0 No notification From 1 to 2 No notification From 2 to 1 No notification From 2 to 3 Notification generated From 3 to 2 Notification generated From 3 to 4 No notification From 4 to 3 No notification From 4 to 5 Notification generated From 5 to 4 Notification generated Additionally, if a new availability record is created, an availability notification can be generated to indicate the status for the new item. Availability Notification - Messages Availability Notification (alert) is applicable only for network view and consists of the availability message for the Item for which stock level is changed. Availability Alert consists of the following information Availability details Total quantity Availability status Substitution details Quantity by location type Network protection details View details It is also possible to publish alerts based on future availability changes. Refer to Future inventory visibility and alert section below for more information. Availability Sync - Full Sync The availability sync reinstates the commerce availability for the corresponding active commerce view configuration. The availability sync can be scheduled or manually triggered from the ATC UI. This is a batch process and contains the availability record details. Along with the configuration to Publish Quantity only/ Publish Status only/ Publish both (refer to Publish Availability - Configuration), availability sync can be configured to: Publish all availability records Publish only the availability record with non-zero units Do not configure Availability Sync Refer Full Sync Configuration for more details. As part of Full sync - Start Sync, Sync details (availability records) and End Sync messages are sent. Refer to the following sections to understand how Sync works and sample Sync message: Availability Sync - Process flow Availability Sync (Network view) - Messages Availability Sync Details Start Sync Indicates the start of the sync process. Start sync consists of the following information Transaction Number View details (name and config name) Page and count details Note: Number of message per page is controlled by the chunk size defined in the job schedule. Sync Details Consist of the actual availability messages. There can be more than one sync details message. Sync details consists of the following information Transaction Number Page and count details (current & total) Current Page, Current Count, Total Count, Total Pages, ExcludedInfiniteSupplyCount Example - "CurrentPage": 70, "CurrentCount": 2000, "TotalCount": 362991, "TotalPages": 182 In total there are 74 pages (CurrentPage). Current page count is 70 (CurrentPage). Total number of Items sent in the full sync is 362991 (TotalCount). Current number of Items sent in this page is 2000 (based on the chunk size) Example - "CurrentPage": 70, "CurrentCount": 0, "TotalCount": 362991, "TotalPages": 182, "ExcludedInfiniteSupplyCount": 2000, There is a possibility of current count to be zero or less than the Chunk size defined. This can happen if Sync is configured to exclude infinite availability items. In this example - all 2000 Items are excluded as they are configured as infinite Items. So current count is zero and Excluded Infinite Supply Count is 2000. Availability details Total quantity Availability status Substitution details Quantity by location type Network protection details ** Current page count will always start from 0 and Total page count is the number of total pages based on the chunk size defined in the scheduler. Example - If the total pages are three then the current page for first sync detail message will be 0, Second sync detail message will be 1, Third sync detail message will be 2. So for the last sync detail message - Current page count will be two where as the total page count will be three End Sync Indicates the end of the sync process. End sync consists of the following information Transaction Number View details (name and config name) Page and count details Customization of Availability Sync messages - Availability message for Network & Location view (Full sync & Delta Sync) is posted to Queue - PublishAvailabilitySyncMSGType. Messages can be read by the e-commerce system or intermediate system to customize the message before sending it to the e-commerce system. Availability Sync (Location View) - Messages Availability Sync Details Start Sync Indicates the start of the sync process. Start sync consists of the following information Transaction Number View details (name and config name) Page and count details - Indicates the number of Location IDs for which the sync messages are generated. If the number of locations are five then the page count will be 5. Below attributes under Start and End Sync will represent the number of locations processed for sync. "SyncCount": 5, "TotalPages": 5, "TotalCount": 5 List of Location IDs Note: Number of message per page is controlled by the chunk size defined in the job schedule. Sync Details Consist of the actual availability messages. There can be more than one sync details message for every Location ID. Sync details consists of the following information Transaction Number Page and Count details CurrentCount - Indicates the current count of the location. If there are 3 locations in the response, valid values will be 0,1 & 2 for respective location pages CurrentPage - Same as CurrentCount TotalCount - Indicates the total number of locations TotalPages - Same as TotalCount ItemCountForLocation - Indicates the total number of item records present for a location CurrentItemCount - Indicates the total number of item records present for a location on currentItemPage TotalItemPages - Indicates the total number of pages where item records are present for a given location Non Zero Sync - Only non zero availability records are sent out in the Availability sync. For any location, system will pull all the items based on batch size and if non zero sync is enabled, any Items with zero availability will be removed from the list so that the sync detail page can have item counts accordingly. If a location does not have non zero availability then empty page is not published by default. So, there can be a mismatch between the Total Item Pages and Current Count. For example, if there are 3 total pages of inventory records for location A (TotalItemPages), but page 1 contained all zeroes, the queue would only receive pages 0 and 2 (CurrentCount). Publishing empty page as part of sync can be controlled by Inventory Parameter - sendEmptyAvailabilityOBPage. If set to true then any pages with empty records will also be published out. Availability details Item Id Location Id Total quantity Availability status - Based on the available quantity, Availability status will be determined. Available quantity can be zero for several reason like Inventory errored out, Protection quantity, Outage, and so on. Currently, the reason for Out of stock is not included in the outbound message Substitution details Quantity by location type Network protection details ** Current page count will always start from 0 and Total page count is the number of total pages based on the chunk size defined in the scheduler. Example - If the total pages are three then the current page for first sync detail message will be 0, Second sync detail message will be 1, Third sync detail message will be 2. So, for the last sync detail message, the current page count will be two where as the total page count will be three End Sync Indicates the end of the sync process. End sync consists of the following information Transaction Number View details (name and config name) Page and count details Availability sync job will not generate sync for inactive views. If the schedule was created when the view was active but later became inactive then the job schedule will ignore the inactive views from generating availability sync. Currently, Full Sync from Network and Location view is published to the same outbound message type. Note: Commerce characteristics at the Item-Location level do not permanently remove items from view eligibility. They act more like temporary filters rather than permanent inclusion/exclusion mechanisms such as location or item scope. To control item visibility in the Availability Sync, modify the Items Rule in ATC to explicitly exclude undesired items, or use Sync without 0 inventory records. Availability Sync - Delta Sync A retailer may wish to receive availability changes from the time of last publish rather than an entire commerce availability for the corresponding active commerce view configuration. To avoid any inventory discrepancy or over/under promising, retailer may also wish to receive it frequently. Items that have undergone availability change during the last few hours or minutes (X hours or minutes) is referred to as frequently received items. In such cases, 'Delta Sync' can be enabled with a sync frequency of 'X' hours or minutes where X can be in hours such as 1, 2, 3 till 24 or 15, 30 minutes. Note: Delta Sync is available only for Location View and not for Network view. Note:  Please refer to the above Availability Sync (Location View) table for information related to Delta Sync message attributes 'Delta Sync' will publish availability of those items that have undergone availability changes because of events such as Supply update from host system and Order Allocation (Refer to factors affecting availability section for details on events). When the ‘view is active’, all events are staged in staging table until the next run. Hence, all the items which have undergone change from Run 1 start time till Run 2 start time will be published in a Run 2 irrespective of when Run 1 finished publishing. At the time of a scheduled run, real-time availability is calculated for all eligible item-location combination and published in Delta Sync queue. Messages will only be staged if View is active during changes and will be published at the time of 'Delta Sync' run. Item availability might change multiple times since last publish, but only single update with availability at the time of 'Delta Sync' run will be sent. Refer Delta Sync Configuration for more details. Availability for an item can be changed in multiple ways: Eligibility Changed: An Item or Location was earlier eligible, but post modification is not eligible or vice-versa. Availability will be zero and hence will be published as 'Out of Stock' Availability Changed: An Item or Location is eligible but post modification, the available quantity is changed. First future available ETA is updated in case the view includes future supply If Availability is zero, then the item is no longer eligible for supply updates or other events in the future, but it may still publish these items as 'Out Of Stock'. Refer to the following sections to understand how Delta sync works. Delta Sync - Process flow Delta Sync - Trigger Trigger Point Scenarios Supply Updates SupplyEvent for any TransactionType from Host System such as "Adjustment","Movement","POCreate", etc. Supply Allocation updates during Order Fulfillment such as "Allocation","Ship","Short", etc. or modification such as "Qty Update","Line Cancel", etc. Supply Allocation updates during standalone promising or reservation request Inbound Sync Item Updates If Item Attributes are part of View filter and updated value impact eligibility. For instance: Brand, Season etc. If Commerce Characteristics are part of View filter and updated value impact eligibility. For instance: PriceStatusId, SellThrough etc. Location Updates If Location Attributes are part of View filter and updated value impact eligibility. For instance: PickUpAtStore, LocSubTypeId, etc. Item Location Config Updates If Commerce Characteristics are part of View filter and updated value impact eligibility. For instance: PriceStatusId, SellThrough etc. Other Attributes which are part of View filter and updated value impact availability. For instance: Inventory Protection Qty Capacity Update If View is enabled for "Exclude inventory from facilities at full capacity" When capacity is exhausted for a location. 'CapacityFull' flag is set When capacity is updated for a location or utilized capacity is unblocked (Order Modification/Cancellation). 'CapacityFull' flag is Reset Outage Active/Expired If View is enabled for "Outage" - 'Network Issues' or 'Others' When Location or Item Location outage becomes active When Location or Item Location outage becomes expired Future Inventory Constraint If View is enabled for "Constrain Future Inventory based on Arrival Date" Future supply which gets included/excluded in the available inventory based on the expected arrival date of the supply. If the future supply arrival date is in eligible window as per configuration (Past By Date & Expected By Date) then that future supply will be included in available quantity. If the arrival date of the future supply is such as the quantity is considered in the view, the Next availability date will not be computed as item will not be out of stock. Others Resegmentation, Substitution, Reapportionment, Batch Reallocation may also impact availability. Availability Sync - Full vs. Delta First ever run of Delta Sync will act like Full Sync only if all inventory or order activity starts after View is activated. No Start Sync or End Sync messages, only Sync Detail messages for every eligible location & item combination will be sent in Delta Sync queue. 'Include Substitution', 'Publish Qty', 'Publish Status' future supply configuration will be common for both. Get Availability Services Get Availability services are a set of web-service calls that retrieve availability details about item(s), item/location combinations, a style, a style/color combination, or a style/size combination. Get Availability services are initiated by order capture systems (e-commerce, POS, Call Center UI) before an order is promised to a customer. This increases customer satisfaction levels as availability information is presented before the order is placed. See below use cases: E-Commerce site makes a real-time web service call to get the availability of a ‘Limited Stock’ item before a Ship To Address order is placed E-Commerce site makes a real-time web service call to get the availability of an item/location combination before a pick-up order is placed E-Commerce site makes a real-time web service call to get the availability of a style/size combination to paint color swatches for a product. Get Availability results are not sorted in any particular order. Refer to the following sections for more information on Get Availability services. Certain Get Availability services also support a request level parameter "source" which allows you to identify different selling channels like Web, POS, Call Center, and so on. This will allow tracking availability related metrics like request counts, response times, and so on by selling channel. Get Availability - Supported services Service API Details Get Availability Details /inventory/api/availability/availabilitydetail { "AvailabilityRules": [], "IncludeStoreExclusions": false, "Items": [ "DenimJeans","DenimShirt" ], "OrderAttributes": null, "Preview": false, "ViewName": "Ship To Home" } Gets the Availability details (Quantity and Status) for an Item against a network view. Typically used to check the availability for Ship to Address scenarios. Get Availability Status inventory/api/availability/availabilitystatus Gets the Availability status (no quantity) for an Item against a network view. Typically used to check the availability for Ship to address scenario. Note: Network View availability call (Get Availability Detail and Get Availability Status) will return zero quantity as available quantity if item is eligible or not eligible and quantity created is for zero units Example - If Item 2 is not eligible in the view then Availability is displayed as zero "data": [ { "ItemId": "I2", "Status": "OUT_OF_STOCK", "StatusCode": 0, "NextAvailabilityDate": null, "ViewName": "V2", "ViewId": "46e734a3-3fb7-46e3-b70e-437484bb2613", "TransactionDateTime": "2020-09-25T03:02:08.283", "TotalQuantity": 0.0, "TotalIncludingSubstituteItems": 0.0, "SubstituteItemsAvailable": false, "SubstitutionDetails": null, "Quantity": {}, "NetworkProtectionQuantity": {}, "IsInfiniteAvailability": null } Get Location Availability Details inventory/api/availability/location/availabilitydetail Gets the Availability details (Quantity and Status) for an Item and location against a location view. Typically used to check the availability for Pick up in store scenario. Get Location Availability Status inventory/api/availability/location/availabilitystatus Gets the Availability status (no quantity) for an Item and location against a location view. Typically used to check the availability for Pick up in store scenario. Note: Location View availability call (Get Location Availability Detail and Get Location Availability Status) will return zero quantity as available quantity if item/location is eligible and quantity created is for zero units, If not eligible it wont return zero quantity. Example - If Item 1 is eligible but quantity is zero then the response would be { "ItemId": "I1", "LocationId": "L1", "Status": "OUT_OF_STOCK", "StatusCode": 0, "Quantity": 0.0, "NextAvailabilityDate": null, "TransactionDateTime": "2020-09-25T03:04:31.147", "ViewName": "V1", "ViewId": "296a07fa-a1b5-4694-b56a-3adb52657e07", "TotalIncludingSubstituteItems": 0.0, "SubstituteItemsAvailable": false, "SubstitutionDetails": null, "IsInfiniteAvailability": false } Example - If Item 2 is not eligible then response would be empty "data": [], Get Product Availability inventory/api/availability/product/availability { "StyleDetail": { "Style": "BestPants", "Color": [ "blue" ], "Size": [] }, "ViewName": "Ship to Home" } Get network-level availability of a particular product, where a product can be defined as either a style, a style-color combination, or a style-size combination. It is recommended to use this API in combination with availability detail requests to ensure individual item availability is validated as well as overall style availability. The Get Product Availability response returns the following information: Availability of the style or style subset (true or false). 'True' indicates at least one unit is available according to the network-level ATC view mentioned in the request. Color, size, and availability of each item in the style or style subset (true or false). 'True' indicates at least one unit is available according to the network-level ATC view mentioned in the request. List of available colors and sizes in the style or style subset according to the network-level ATC view mentioned in the request. Up to 50 items per style or style subset and up to 100 locations per item are supported in this version of the request. See steps to configure. Availability response is not template based (to control the attributes sent out in the availability response). So, only customization option is to get the availability response and add/remove attributes to it. Get Availability - Sample Integration On passing just "Null" in the Location Availability, the validation message would be thrown - "Mandatory attribute location or regional availability rule missing in request". Availability Change Event The Publish Availability Change event is fired when the availability of an item changes in a specific network view. Only network view publish availability status changes. The Publish availability changes are published for all views. It is the responsibility of the middleware to filter the messages from the relevant views and manage the versioning of the messages based on the message time stamp. The event is still published even if the availability status remains the same. The availability statues are “In stock” (`StatusCode` = 2), “Limited stock” (`StatusCode` = 1) or “Out of Stock” (`StatusCode` = 0). Unless it is required to publish all the availability changes or keep track of all future inventory updates, it is advised to use the availability alerts as much as possible. Availability changes are not published out of the box and require additional configuration detailed below. Availability change event configuration An extension point is given out of the box: GET {{url}}/inventory/api/ServiceDefinition/extensionPoint?query="ExtensionPointId='PublishAvailabilityChange'" Create an outbound message type: POST {{url}}/inventory/api/ServiceDefinition/outBoundMessageType/save { "MessageType": "PublishAvailabilityChangeMSGType" } Create an extension point to message type: POST {{url}}/inventory/api/ServiceDefinition/extPointToMessageType/save { "ExtensionPoint": { "ExtensionPointId": "PublishAvailabilityChange" }, "ExtensionPointId": "PublishAvailabilityChange", "MessageType": "PublishAvailabilityChangeMSGType" } Once all this is configured, the availability changes are posted to the PublishAvailabilityChangeMSGType queue. Kit Item Availability and Publishing Get Kit Availability Kit Availability can determine the availability of a kit item present in the view Id (Location & Network) based on the availability of its component items. Get Kit Availability services can be initiated by order capture systems (e-commerce, POS, Call Center UI) before an order is promised to a customer. This increases customer satisfaction levels as availability information is presented before the order is placed. E-Commerce can make a real-time web service call to get the availability of a kit item in a specific view Id  before an order is placed. Suppose we have a kit item: a "Dining Set", and it is composed of one "table" and four "chairs". GET Kit availability call will pull all the item components (in this case table and chair) and will compute the Kit Availability based on the ratio 1:4. For a specific location, let's say we have the inventory below: Tables: 10 Qty Chairs: 30 Qty Dining Set (composed of 1 table and 4 chairs) availability : 7 Qty Refer to Kit Availability Configuration to configure kit item availability. Refer Kit Item Availability for more details on how the kit availability is computed for location & network views. Assumptions: Kit availability is calculated separately for each location and cannot be aggregated across locations. For instance, if component1 is available in DC1 and component2 is available in DC2, their availability cannot be combined with kit availability at the network level. To have infinite supply, the kit should be marked as infinite supply in the item location configuration. Marking all the components of the kit as infinite supply is not enough to mark the kit as having infinite supply. Note The sync and availability alerts for Kit items behave in the same way as in the non-Kit Item. Alerts are published when the kit Item availability crosses an alert threshold. Kit level alerts are independent of the component level alert. Future Inventory Visibility and Alerts Future Inventory Visibility If the view includes future inventory (on order and in transit), it is possible to publish details about the future inventory records. For both location and network views, the parameters `PublishFutureSupplyTimeWindow` and `PublishPastDueFutureSupplyTimeWindow` are used to specify what future inventory records are included in the get availability response, alert, and sync. If the ETA of the future supply details falls between "current date – PublishPastDueFutureSupplyTimeWindow" and "current date + PublishFutureSupplyTimeWindow", the future supply record is included in the get availability response. Visibility over future inventory includes: The first available future quantity and ETA - available quantity and ETA of the first future supply record are in view. If the first available future supply is a past due supply, the ETA is defined as the current date. If there are multiple past due supply, their quantities are combined in the first available future quantity. If the ETA of the first future quantity is updated, it is possible to configure an alert to be published to the external systems. It also counts as an availability update for the delta sync. The future quantity - available future quantity based on the view configuration. This includes the sum of all future supplies in the view. If a future supply ETA falls outside of the publishing window but is still in the view, its quantity is included in this sum. The breakdown of each future supply details with its available quantity, ETA, supply type, PO/ASN ID, and PO/ASN detail ID. For performance reasons and to ensure the payload size, only the first 20 records for a given item sorted by ETA are included in the breakdown. Note: The parameters `PublishFutureSupplyTimeWindow` and `PublishPastDueFutureSupplyTimeWindow` have no impact on whether a future supply record is included in the view or not. It only impacts what record details are published as part of the get availability response, alert, and syncs. To decide if a record is included or not in the view, refer to view configuration. Alert Set Up If the first available future ETA changes, it is possible to notify external systems of that change. If `PublishAlertOnFirstFutureDate` is set to true, an alert will be published when: The first available future supply record is fully allocated or if a deallocation on that previously fully allocated supply occurs. A new future supply is created before the current first available supply. The first available future supply ETA is updated. Configuration Refer to the Availability Status Configuration UI help for more details. Publish Availability Configuration The common setting affects the availability during publishing. Configuration Description Publish Availability Publish Quantity When selected, it publishes the total available quantity and availability quantity by location type. If Publish Status/Publish Quantity are enabled, Real-Time Update as well as availability sync will have information in the message. If Publish Quantity is disabled, quantity by location type will be empty & Total Quantity will be zero. In Availability Sync, if the quantity is 0, but availability status is marked as "In Stock", then view is configured to publish only availability status. Set "Publish Quantity" to true to publish the quantity as well. Availability Sync Publish Status When selected, it publishes the availability status (In stock or Limited stock or Out of stock). If not configured, then availability status will be blank Availability Sync Include Substitutions If selected, then any substitution item(s) and quantity are included as part of availability computation. For "Immediate" rule" - Substitution item quantity is published instead of the original item. For "On Back order" rule - Substitution item quantity is included along with the original item. Substitution rule with condition - Substitution Items are not included in the availability Refer to Publish Availability - Substitution section for more details. Availability notification Availability Sync Get Availability Exclude backorder units Enabling this parameter deducts the quantity of backordered units from the ATC view's published availability (i.e. alerts, get Availability responses, outbound sync). The Inventory Supply UI does not consider this parameter because supply records are not displayed at a network level. The backordered quantity is not specific to that particular ATC view. Rather, it is the total quantity of backordered units across all ATC views in that organization and its child organizations. By default, this parameter is disabled, and can only be enabled in Network Level ATC Views. Product Availability API services are not supported for any ATC views with this parameter turned on. Get Availability Availability notification Availability Sync When out of stock - Include Next availability date When the availability is out of stock, then the system publishes the next availability date on enabling this parameter. Availability notification Include Infinite Available Items in Sync When disabled, it doesn't include the infinite Items in the Availability Sync. Example - "CurrentPage": 70, "CurrentCount": 0, "TotalCount": 362991, "TotalPages": 182, "ExcludedInfiniteSupplyCount": 2000, There is a possibility of current count to be zero or less than the chunk size defined. This can happen if sync is configured to exclude infinite availability items. In this example, all 2000 items are excluded as if they are configured as infinite items. So, current count is zero and excluded infinite supply Availability Sync AvailabilityTemplate For Alerts and syncs (delta or full syncs), it is possible to declare the publish template to be used by the system. Once the template is fixed, only the fields present in the template will be published. If no template is selected, all the fields are published. It is currently not possible to add more fields to the availability alert or sync using a template. It can only be used to fix the list of existing fields that are published. This template only affects alerts and syncs (full and delta). It does not impact the response of the get availability API. Availability notification Availability Sync EnableProductAvailability Turn this parameter on in the Availability Status tab to enable Get Product Availability API, Get Product List Availability API, and Get Store Product List API. Note: Both 'Exclude backorder quantity' and 'Network Protection' should be disabled in the ATC View if implementing Get Product Availability requests. Get Product Availability Get Product List Availability Get Store Product List Availability DisplayMaxQuantity If this parameter is enabled from the Availability Status tab, the Get Availability API response, availability alerts, and outbound sync will contain the following additional information: maximum quantity at a single location and the location having the maximum quantity. This parameter is disabled by default. Kit Availability Configuration Refer to the configuration below to make sure the kit functionality is enabled. Configuration Description Establish a relationship between parent item and component item Refer to Master Data section Sync Profile For existing customers : Ensure "DefaultKitConfig" is present in "Kit Configuration." If not present, copy the seed data from the base profile to the current profile ID. Copying seed data from base to custom profilesStep1. Run below Post API to copy Org level Seed data. POST API: {{app_host}}/cfg/api/configDirector/seeddata/copy { "FromProfileId": "base", "ToProfileId": "<CustomOrgProfileId>", "SkipUpdate": true, "ProvisioningProfileId": "<OrgProvisioningProfileId>" } Step 2 : Copy CopyProfileJobId from the response body. Step 3 : Validate if the copy is successful by running the below GET API for CopyProfileJobId. GET API: {{app_host}}/cfg/api/configsync/copyProfileMaster/copyProfileMasterId/{{CopyProfileJobId}} Make sure to execute the following API so that any existing kit items in the system are prepared to display availability for all network and location views. POST - item/api/item/export/itemExportEvent { "ItemQuery": "ItemComponent.ComponentItemId != null", "EventId": "Item:Item:Event:RefreshInvItem", "EventReferenceId": "{any_reference_id_canbepassed}", "EventBatchSize": 20 } For new customers : The profile sync will automatically happen to copy the seed data from the base profile to the current profile. To confirm this, check that "DefaultKitConfig" is present in "Kit Configuration". Here is what the "DefaultKitConfig" looks like: Config Name : DefaultKitconfig isDefault : True On Hand Kit Supply Type : On Hand Available Future Kit Supply Type : In Transit Get Availability Once we have the "DefaultKitConfig" in "Kit Configuration", follow the steps below to enable Kit Availability. Navigate to "Available To Commerce" Navigate to Publish Availability Tab > Additional Settings Enable "Include Kit Availability in Sync" checkbox OR Navigate to "Available To Commerce (Classic)" Navigate to Availability Status Tab > Sync Enable "Include Kit Availability in Sync" checkbox Get Supply For the Kit supply, the default supply type would be : Supply Type for On Hand Kit : "On Hand Available" Supply Type for Future Kit : "In Transit" To configure a different or custom supply type, use the Kit Configuration UI. Once configured, follow the below steps to attach that configuration to the specific view. Navigate to "Available To Commerce (New)" Navigate to Rest Api Configs Tab > API Settings Select the desired config from the  "Kit Availability Config" drop-down. OR Navigate to "Available To Commerce" Navigate to Availability Status Tab > Availability Details Select the desired config from the "Kit Availability Config" drop-down. Refer to Kit Item Availability for more details. Availability Alerts Configuration In addition to the settings defined above, the following are the additional configurations required for Availability notification (alerts) Configuration Description Stock Levels Stock levels define the "Out of Stock", "Limited Stock", or "In Stock" status thresholds. Based on the comparison of current supply to the stock level, availability status is determined for an item accordingly. Example - Consider the threshold is set as Out of Stock - 5 and In Stock - 10 If the available quantity changes go beyond 10, then it is considered as "In Stock" If the available quantity goes below 5, then it is considered as "Out of Stock" If the available quantity is between 5 and 10, then it is considered as "Limited Stock". Real-time availability notifications It can be sent to external systems when the stock level changes by enabling the flag "Publish notification on stock status change". In addition, the next availability date or quantity information can be published when the stock level becomes out of stock. Refer to Future Constraint configuration under Protection and Capacity (ATC configuration) for Next Availability date computation. Note: Availability Notifications are supported only for Network Views. Notifications are not sent for Location Views. Note: There is no option to send an availability alert for any quantity changes within availability status "Out of stock" Alerts on future inventory update If future inventory is included in the view, it is possible to publish an alert if the first available ETA is updated by setting `PublishAlertOnFirstFutureDate` to true. Refer to Future inventory visibility and alert section below for more information. Full Sync Configuration A snapshot of availability information can be scheduled or immediately published to an external system. The availability sync can be configured to either publish a full sync, only non-zero records or no sync message at all. Note: Non Zero Sync - Only non zero availability records are sent out in the Availability sync. For any location, system will pull all the items based on batch size (Location Availability Sync - Inventory Config "SyncOutboundViewBatchSize") and if non zero sync is enabled, any Items with zero availability will be removed from the list. So, sync detail page can have item counts accordingly. If a location does not have non zero availability, then an empty page is not published by default. So, there can be a mismatch between the Total Item Pages and Current Count. For example, if there are 3 total pages of inventory records for location A (TotalItemPages), but page 1 contained all zeroes, then the queue would only receive pages 0 and 2 (CurrentCount). Publishing empty page as part of sync can be controlled by Inventory Parameter - sendEmptyAvailabilityOBPage. If this parameter is set to true then any pages with empty records will also be published. Availability Sync can be scheduled to run one or more times in a day. For Network View - Job Type is "networkAvailabilitySyncJobV2" For Location View - Job Type is "locationAvailabilitySyncJobV2" Above jobs can be manually triggered also. Availability sync format is configurable. Currently, supported formats are "Json" and "XML". By default, outbound would be generated in Json format. For XML format, "SyncOutboundViewFormat"="XML" & "IncludeSyncOutboundFormat"=true should be populated in Inventory Configuration. Sync Schedule gets deleted only when the View is deleted. If view configuration is deactivated, the corresponding job schedules will not be deleted, rather will exist in the system with Is Disabled = true. If the configuration is activated, the job schedule status changes to Is Disabled= false. Delta Sync Configuration Delta Sync (works only with location level view) is an Availability Sync with an ability to publish changes only. A snapshot of availability information since last Delta Sync run can be scheduled with a repeat interval of Sync Frequency to an external system. The availability sync can be configured to either run at repeat interval of hours or minutes. Sync Frequency value can be 1 to 24 or can be run every 15 or 30 minutes. Any other value such as 90 minutes or 1.5 hr is not supported. Runs will be scheduled at tab-intervals of Sync Frequency. In 24 hr window, for Sync Frequency of 2 hrs, 12 runs will have tab-intervals of 0200, 0400, 0600 till 2400 hrs. If a user saves the config at 0430 hrs or 0530 hrs, first run will always be at tab-interval of 0600 and next will be at 0800 hrs. Once Delta Sync is configured in a view, job schedule (deltaSyncJob) will be created as per the sync frequency Publish Availability - Substitution Publish Availability - SubstitutionWhen the “Include Substitutions” is enabled in the ATC view, the substitution details are included as part of the availability picture for the original item. Below attributes are included as part of Availability response Attributes Details TotalIncludingSubstituteItem Immediate Substitution -  Availability quantity of the substituted Item. Original Item quantity is not included as it is immediately substituted. SUM(Substitute Item Available Quantity).  Note ->  This does not include Original Item quantity On Back Order Substitution: Sum of the Original and all substituted Item(s) available quantity. SUM("Original Item Available Quantity" + "All Substitute Item Available Quantity". SubstituteItemsAvailable This is set to True if there are any Substitution Item(s) available as part of the Availability calls. Else set to False SubstitutionDetails Contains the Substitution Item and its availability details (Status and Quantity) Refer to sample Availability Outbounds for details - Alerts will only indicate the number of substitute items and total quantity. Hence the recommendation is to do a getAvailability call to fetch the details of substitute item(s). Availability Alerts will not be triggered for status changes to substitute items. It is triggered only for the original Item. Substitution Type Sample Response Immediate Substitution - One Substitute Item (Item A with Item B) Item A - 50 Units available Item B - 10 units available { "ItemId": "Item A", "Status": "AVAILABLE", "StatusCode": 2, "NextAvailabilityDate": null, "ViewName": "All Supplies View", "ViewId": "All_Supplies_View", "TransactionDateTime": "2018-09-28T22:11:18.934", "Quantity": { "DistributionCenters": 43, "Stores": 7 }, "NetworkProtectionQuantity": {}, "TotalQuantity": 50, "TotalIncludingSubstituteItems": 10, "SubstituteItemsAvailable": true, "SubstitutionDetails": { "TotalQuantityOfSubstituteItems": 10, "SubstituteItems": [ { "ItemId": "ItemB", "Status": "AVAILABLE", "StatusCode": 2, "NextAvailabilityDate": null, "Quantity": { "DistributionCenters": 6, "Stores": 4 }, "TotalQuantity": 10, "SubstitutionType": "Immediate" } ] } } On Backorder - Two Substitute Items in Sequence. Item A (Parent SKU): 50 Units available OnBackorder Sub Rule Sequence 1: Item B. 10 units available Sequence 2: Item C. 5 units available { "ItemId": "Item A", "Status": "AVAILABLE", "StatusCode": 2, "NextAvailabilityDate": null, "ViewName": "All Supplies View", "ViewId": "All_Supplies_View", "TransactionDateTime": "2018-09-28T22:11:18.934", "Quantity": { "DistributionCenters": 43, "Stores": 7 }, "NetworkProtectionQuantity": {}, "TotalQuantity": 50, "TotalIncludingSubstituteItems": 65, "SubstituteItemsAvailable": true, "SubstitutionDetails": { "TotalQuantityOfSubstituteItems": 15, "SubstituteItems": [ { "ItemId": "ItemB", "Status": "AVAILABLE", "StatusCode": 2, "NextAvailabilityDate": null, "Quantity": { "DistributionCenters": 6, "Stores": 4 }, "TotalQuantity": 10, "SubstitutionType": "OnBackorder" }, { "ItemId": "ItemC", "Status": "AVAILABLE", "StatusCode": 2, "NextAvailabilityDate": null, "Quantity": { "DistributionCenters": 4, "Stores": 1 }, "TotalQuantity": 5, "SubstitutionType": "OnBackorder" } ] } } Implementation Flavors Generating availability alert for a specific transaction type Example: Generating an alert for a specific transaction type such as receipt To generate an availability alert for a specific transaction type, perform the steps below: Enable the GenerateRelayEvent feature for a location in the locationAttributes. Add the locGenerateRelay configuration, specifying the transaction type for which the relay is required. Related Articles View Activation and RebuildsAvailability StatisticsHow is Availability Computed?REST APIs and User ExitsTroubleshootingOverview