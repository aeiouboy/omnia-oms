# Electronic Journal Configuration

**Permalink:** electronicjournal-configuration
**Path:** Manhattan Active® Omni/Store/Process & Configuration Guides/Point of Sale/POS Guides/BackOffice Transactions/Electronic Journal/Configuration
**Content Length:** 30,251 characters
**Scraped:** 2025-08-09T22:02:30.377281

---

Home ››Manhattan Active® Omni››Store››Process & Configuration Guides››Point of Sale››POS Guides››BackOffice Transactions››Electronic Journal ››Electronic Journal Configuration Electronic Journal Configuration Electronic Journal configurations include configuring the search parameters, mod types that need to be captured, mod type fields and so on. There is some higher-level configuration on posservice and order to enable EJ. Follow the below list of instructions for more details. GrantsConfigurations at the component levelSearch configurationsOrder mod type configurationEJ Search Fields Config - ListProfile PurposeUIs and Entities Grants Electronic Journal is controlled by the below UI resource, only user roles having the below grant will be able to view the electronic journal at main menu level on UI. UI resource id: "ui::posservice::menu::electronicjournal" Configurations at the component level There are some higher-level configurations at posservice and order component level which controls the publishing of EJ data to the queue. More details are specified below: posservice component: The flag " enableEJ " at "POS General configurations" > "common config" need to be turned ON to post the "order with payment" and "back office" mod types or actions to the queue. If this is OFF then no actions are posted to the queue, these transactions and the related data cannot be searched in an electronic journal. All the actions from here are posted to "queue.publishEJPosEvent" and "queue.publishEJBackofficeEvent" queue. order component: The flag "publishEJ" at order configurations used by the POS application i.e. mpos Config needs to be turned ON.  Once this is turned ON, "Publish EJ Template" drop-down will be enabled and a template needs to be selected. By default, a template should be selected or user can create their own template and use it from here. Note - If users have not created their own custom template, MinElectronicJournalTemplate is optimized for application performance. If "publishEJ" is OFF, then no order actions are posted to the queue. These transactions and the related data cannot be searched in an electronic journal. All the actions from here are posted to "queue.publishEJOrderEvent" queue. Search configurations The basic use case of an electronic journal is to find specific or list of transactions based out of a query. So, the main key element here for that query is the searchable/filterable fields. To provide more flexibility, electronic journal has the flexibility to configure the search fields. These configurations reside under posservice component and can be configured from config ui. The details can be found in the UIs and Entities section below. Electronic Journal search fields: This entity holds the list all searchable fields that will be displayed on an electronic journal search page. As part of seed data, we have provided some out of the box searchable fields under the pos::posEjConfigurable profile purpose under Retail profile Id. The user can hide some of the searchable fields using "isDisplayed" flag. These searchable fields can be grouped and sequenced within the group. Each searchable field requires an ordercondition or backoffice condition or both to be populated. These conditions are the main source for the query to work on the elastic component to fetch the required data. The attribute "displayFieldType" can be used to mention if this field needs to accept comma separated values or checkbox or datetime etc. Code snippet for "Register" as a searchable field: { "GroupCode": "01", "FieldId": "REGISTER_NUMBER", "FieldDisplaySequence": "20", "FieldDescription": "Register Number(s)", "DisplayFieldType": "CommaDelimited", "SearchType": "OrderBackoffice", "OrderCondition": "OrderCaptureDetail.RegisterId={UserInput}", "BackofficeCondition": "RegisterID={UserInput}", "IsDisplayed": true, "IsDefault": false, "FieldDisplaySeq": 20 } Please note that the "isDefault" field is currently not in use. Adding custom attributes to existing EJ mod type: If users have a need to add any custom attributes or new attributes to the existing mod type, then this can be done from the EJ mod type mapping config ui screen. For example, if user need to capture "variance comments" for store close backoffice operation then, user needs to do the following: Create a new record on this EJ mod type mapping containing all the required fields for mod type mapping. if includes below: EJ Mod type: This differ for each mod type, and for store close this should be "Backoffice::OperationType::STORE_CLOSE" FieldName: This is the important field which identify from were in db the data should be picked, and for store close this should be "BoTransactionDetail.Comments" where BoTransactionDetail is the entity and Comments is the attributes in that entity. Field Description: This attribute the to define what should be displayed on UI, there is no specified rule for this and its a free text. And for store close this should be "Variance comments". Display Sequence: This attribute the to define the sequence of this new field on UI, this should be next available sequence. For example: "60". Field Type: This determine the type of field. For "Variance comments" this can be text (And if its financial, then it should be Amount and various other types depending on the field) Below is the code snippet: { "EjModType": "Backoffice::OperationType::STORE_CLOSE", "FieldName": "BoTransactionDetail.Comments", "FieldDescription": "Variance comments", "DisplaySequence": "60", "FieldTypeId": "Text" } Electronic Journal search group: All the searchable fields are categorized into groups logically. The searchable fields and groups and integrated with "groupcode" attribute. These groups can be sequenced for display purpose on UI. If any configured group does not have searchable fields then that group will not be displayed on the UI. Each group has a "groupJoinCondition" condition used in the query when there are no searchable fields used within the group to join the fields. For example: If Register, store is used as searchable fields and the group join condition is "AND" then Query condition built will find all transaction in Store=XXXX AND Register=YYY. The condition across the groups is always an "AND" condition. Important: "Group by Order" group is recommended to be used as "GroupCode = 0" and "GroupDisplaySequence = 00", This is mainly for the better UI usability features,so that it is always displayed above. Code snippet for "Transaction" as a searchable group: { "GroupCode": "01", "GroupDescription": "Transaction Info", "GroupDisplaySequence": 1, "GroupJoinCondition": "AND" } Below is definition of how electronic journal computes logic for determining transaction attribute as search fields: Electronic Journal for transaction attribute search group Transaction Attribute Definition Regular Sales To fetch the transactions containing sale items, the EJ result does not include any transaction return lines. Returns To fetch transactions which include at least one return line, the EJ result might include sales items also. Exchanges To fetch the transactions containing sale items and return items, the EJ result will only include transactions having both sale and return items. Suspend To fetch the transactions which were suspended. Resume To fetch the transactions which were resumed. GC Balance Inquiry To fetch the transactions, which included gift card balance inquiries. No Sale To fetch the no-sale transactions, which included only opening the cash drawer with no till updates. Paid In To fetch the manager till pay in (paid in) transactions across all the tills. Paid Out To fetch the manager till pay out (paid out) transactions across all the tills. Till Loan To fetch the manager till loan transactions across all the tills. Till Pickup To fetch all the manager till pickup transactions for all the tills. Store Open To fetch all the store open transactions performed in backoffice. Store Close To fetch all the store close transactions performed in backoffice. Till Open To fetch all the till open transactions performed in backoffice. Till Reconcile To fetch all the till reconciliation transactions performed in backoffice. Bank Deposit To fetch all the bank deposit transaction performed in backoffice. Till Close To fetch all till close transactions performed in backoffice. Till Update To fetch all till update transaction performed in any cart operations. Exchange Tender To fetch the transactions which involved Tender exchanges. i.e Transaction Type = Exchange Tender Order mod type configuration The electronic journal data displayed in the transaction are all the set of mod types/actions performed by the user. The system allows to configure the different actions that can be captured in a transaction through these configurations. The details in these actions are set of modType fields, each of these details needs to be configured. By default, we have seeded the list of actions captured out of the box and the details of the fields being captured within these actions.Check the example below: Mod Types: Modtypes in this context can be defined as actions performed by user on any transaction. These modTypes need to be configured for it to be captured and displayed as part of EJ. If we want "Add Line" or in simple words "Adding items to cart" to be captured as a mod type or action in the journal for every order transaction, then retailer can configure below in "ejModTypes" entity. { "EjModType": "OrderLine::Add", "EjModTypeEntity": "OrderLine", "EjModTypeDescription": "Add Order Line" } ModType Mapping: All the modTypes need to be detailed further to display the fields that were updated or affected due to this mod type. The list of fields that needs to be displayed on UI can be configured from this entity "ejModTypeMapping". Below is the example of list of fields captured as part of "Add line" mod type. These fields can be sequenced within this mod type using the "Display Sequence". EJ_OrderLine_modType{ "EjModType": "OrderLine::Add", "FieldName": "OrderLine.OrderLineId", "FieldDescription": "Line Id", "DisplaySequence": 10, "FieldType": "Text" }, { "EjModType": "OrderLine::Add", "FieldName": "OrderLine.ItemId", "FieldDescription": "Item Id", "DisplaySequence": 20, "FieldType": "Text" }, { "EjModType": "OrderLine::Add", "FieldName": "OrderLine.Quantity", "FieldDescription": "Quantity", "DisplaySequence": 30, "FieldType": "Text" }, { "EjModType": "OrderLine::Add", "FieldName": "OrderLine.ExtendedPrice", "FieldDescription": "Extended Price", "DisplaySequence": 40, "FieldType": "Amount" }, { "EjModType": "OrderLine::Add", "FieldName": "OrderLine.DeliveryMethod", "FieldDescription": "Delivery Method", "DisplaySequence": 41, "FieldType": "Text" }, { "EjModType": "OrderLine::Add", "FieldName": "OrderLine.OrderLineTotal", "FieldDescription": "Line Total", "DisplaySequence": 50, "FieldType": "Amount" }, { "EjModType": "OrderLine::Add", "FieldName": "OrderLine.ItemShortDescription", "FieldDescription": "Description", "DisplaySequence": 60, "FieldType": "Text" }, { "EjModType": "OrderLine::Add", "FieldName": "OrderLine.TotalTaxes", "FieldDescription": "Tax", "DisplaySequence": 70, "FieldType": "Amount" }, { "EjModType": "OrderLine::Add", "FieldName": "OrderLine.TotalCharges", "FieldDescription": "Charge", "DisplaySequence": 80, "FieldType": "Amount" }, { "EjModType": "OrderLine::Add", "FieldName": "OrderLine.IsNonMerchandise", "FieldDescription": "Non-Merchandise", "DisplaySequence": 90, "FieldType": "Text" } EJ Search Fields Config - List This entity holds the list all searchable fields that will be displayed on an electronic journal search page. Path: Application Configuration > Manage POS Configuration > POS Configurations > EJ Search Fields Config Field Name Description Group Code Code of the group the search field will belong to Field Id Field Description description that will be displayed for the field ID on the UI Display Field Type CommaDelimited Alphanumeric DateTime Checkbox MoneyAmount Search Type Order Backoffice OrderBackoffice Order Condition This conditions is the main source for the query to work on the elastic component to fetch the required data if search type is Order or OrderBackoffice Backoffice Condition This conditions is the main source for the query to work on the elastic component to fetch the required data if search type is Backoffice or OrderBackoffice Is Displayed Enables Search Field to be displayed on the UI Is Default It determines if the search field should be defaulted to any value on UI. Field Display Sequence Display sequence of the search field within the group Profile Purpose The profile purposes of all the configuration entities are listed in below. The default profile would be base for these profile purposes. pos::posEjConfigurations pos::posGeneralConfigurations UIs and Entities The configuration UIs mentioned in this document are listed in the table below, along with information to navigate to the API documentation. UI Name Component Group Seed Data Seed data profile EJ Search Group Config posservice EjSearchGroup Service Yes Base EJ Search Field Config posservice EjSearchField Service Yes Base EJ Search Type Config posservice EjSearchType Service Yes System Augmentable EJ Display Field Type Config posservice EjDisplayFieldType Config Yes System Augmentable EJ Mod Types posservice EjModTypes Service Yes Base EJ Mod Type Mapping posservice EjModTypeMapping Service Yes Base POS General Config posservice posGeneralConfig Service Yes Base